<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Pinot-svn] r781 - in trunk/UI/GTK2: . src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pinot-svn/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:pinot-svn%40lists.berlios.de?Subject=Re%3A%20%5BPinot-svn%5D%20r781%20-%20in%20trunk/UI/GTK2%3A%20.%20src&In-Reply-To=%3C200703221246.l2MCk8AX001060%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000774.html">
   <LINK REL="Next"  HREF="000776.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Pinot-svn] r781 - in trunk/UI/GTK2: . src</H1>
    <B>fabricecolin at BerliOS</B> 
    <A HREF="mailto:pinot-svn%40lists.berlios.de?Subject=Re%3A%20%5BPinot-svn%5D%20r781%20-%20in%20trunk/UI/GTK2%3A%20.%20src&In-Reply-To=%3C200703221246.l2MCk8AX001060%40sheep.berlios.de%3E"
       TITLE="[Pinot-svn] r781 - in trunk/UI/GTK2: . src">fabricecolin at mail.berlios.de
       </A><BR>
    <I>Thu Mar 22 13:46:08 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000774.html">[Pinot-svn] r780 - in trunk: Search UI/GTK2/src Utils
</A></li>
        <LI>Next message: <A HREF="000776.html">[Pinot-svn] r782 - trunk/UI/GTK2/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#775">[ date ]</a>
              <a href="thread.html#775">[ thread ]</a>
              <a href="subject.html#775">[ subject ]</a>
              <a href="author.html#775">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: fabricecolin
Date: 2007-03-22 13:45:56 +0100 (Thu, 22 Mar 2007)
New Revision: 781

Modified:
   trunk/UI/GTK2/metase-gtk2.glade
   trunk/UI/GTK2/src/PinotSettings.cpp
   trunk/UI/GTK2/src/PinotSettings.h
   trunk/UI/GTK2/src/indexDialog.cc
   trunk/UI/GTK2/src/indexDialog.hh
   trunk/UI/GTK2/src/indexDialog_glade.cc
   trunk/UI/GTK2/src/indexDialog_glade.hh
   trunk/UI/GTK2/src/prefsDialog.cc
   trunk/UI/GTK2/src/prefsDialog.hh
   trunk/UI/GTK2/src/prefsDialog_glade.cc
   trunk/UI/GTK2/src/prefsDialog_glade.hh
Log:
Added Network tab to Preferences box for configuring the proxy.
Both indexDialog and prefsDialog use ComboBoxText.


Modified: trunk/UI/GTK2/metase-gtk2.glade
===================================================================
--- trunk/UI/GTK2/metase-gtk2.glade	2007-03-22 11:02:19 UTC (rev 780)
+++ trunk/UI/GTK2/metase-gtk2.glade	2007-03-22 12:45:56 UTC (rev 781)
@@ -1033,34 +1033,6 @@
 	      &lt;property name=&quot;column_spacing&quot;&gt;0&lt;/property&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkLabel&quot; id=&quot;robotsLabel&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;HTTP crawling:&lt;/property&gt;
-		  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-		  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;xpad&quot;&gt;4&lt;/property&gt;
-		  &lt;property name=&quot;ypad&quot;&gt;4&lt;/property&gt;
-		  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-		  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-		  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
-		  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
-		  &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-		  &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-
-	      &lt;child&gt;
 		&lt;widget class=&quot;GtkLabel&quot; id=&quot;apiKeyLabel&quot;&gt;
 		  &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
@@ -1114,30 +1086,6 @@
 	      &lt;/child&gt;
 
 	      &lt;child&gt;
-		&lt;widget class=&quot;GtkCheckButton&quot; id=&quot;ignoreRobotsCheckbutton&quot;&gt;
-		  &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Ignore robots.txt and Robots META tag&lt;/property&gt;
-		  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-		  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
-		  &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
-		  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
-		  &lt;property name=&quot;x_padding&quot;&gt;4&lt;/property&gt;
-		  &lt;property name=&quot;y_padding&quot;&gt;4&lt;/property&gt;
-		  &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-
-	      &lt;child&gt;
 		&lt;widget class=&quot;GtkLabel&quot; id=&quot;newResultsLabel&quot;&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;New results:&lt;/property&gt;
@@ -1235,6 +1183,59 @@
 		  &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
 		&lt;/packing&gt;
 	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkCheckButton&quot; id=&quot;ignoreRobotsCheckbutton&quot;&gt;
+		  &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Ignore robots.txt and Robots META tag&lt;/property&gt;
+		  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+		  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+		  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;x_padding&quot;&gt;4&lt;/property&gt;
+		  &lt;property name=&quot;y_padding&quot;&gt;4&lt;/property&gt;
+		  &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkLabel&quot; id=&quot;robotsLabel&quot;&gt;
+		  &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;HTTP crawling:&lt;/property&gt;
+		  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+		  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+		  &lt;property name=&quot;xpad&quot;&gt;4&lt;/property&gt;
+		  &lt;property name=&quot;ypad&quot;&gt;4&lt;/property&gt;
+		  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
+		  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
+		  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+		  &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
 	    &lt;/widget&gt;
 	    &lt;packing&gt;
 	      &lt;property name=&quot;tab_expand&quot;&gt;False&lt;/property&gt;
@@ -1266,6 +1267,268 @@
 	  &lt;/child&gt;
 
 	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkTable&quot; id=&quot;netTable&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;n_rows&quot;&gt;3&lt;/property&gt;
+	      &lt;property name=&quot;n_columns&quot;&gt;1&lt;/property&gt;
+	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;row_spacing&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;column_spacing&quot;&gt;0&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkRadioButton&quot; id=&quot;directConnectionRadiobutton&quot;&gt;
+		  &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Direct connection to the Internet&lt;/property&gt;
+		  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+		  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;active&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;x_padding&quot;&gt;4&lt;/property&gt;
+		  &lt;property name=&quot;y_padding&quot;&gt;4&lt;/property&gt;
+		  &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkRadioButton&quot; id=&quot;proxyRadiobutton&quot;&gt;
+		  &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Manual proxy configuration:&lt;/property&gt;
+		  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+		  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;group&quot;&gt;directConnectionRadiobutton&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
+		  &lt;property name=&quot;x_padding&quot;&gt;4&lt;/property&gt;
+		  &lt;property name=&quot;y_padding&quot;&gt;4&lt;/property&gt;
+		  &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkTable&quot; id=&quot;socksTable&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;n_rows&quot;&gt;2&lt;/property&gt;
+		  &lt;property name=&quot;n_columns&quot;&gt;4&lt;/property&gt;
+		  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;row_spacing&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;column_spacing&quot;&gt;0&lt;/property&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;proxyAddressLabel&quot;&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Address:&lt;/property&gt;
+		      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+		      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+		      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
+		      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
+		      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
+		    &lt;/widget&gt;
+		    &lt;packing&gt;
+		      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+		      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		      &lt;property name=&quot;x_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;y_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+		      &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
+		    &lt;/packing&gt;
+		  &lt;/child&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkEntry&quot; id=&quot;proxyAddressEntry&quot;&gt;
+		      &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		      &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
+		      &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
+		    &lt;/widget&gt;
+		    &lt;packing&gt;
+		      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+		      &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+		      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		      &lt;property name=&quot;x_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;y_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
+		    &lt;/packing&gt;
+		  &lt;/child&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;proxyPortLabel&quot;&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Port:&lt;/property&gt;
+		      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+		      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+		      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
+		      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
+		      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
+		    &lt;/widget&gt;
+		    &lt;packing&gt;
+		      &lt;property name=&quot;left_attach&quot;&gt;2&lt;/property&gt;
+		      &lt;property name=&quot;right_attach&quot;&gt;3&lt;/property&gt;
+		      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		      &lt;property name=&quot;x_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;y_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+		      &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
+		    &lt;/packing&gt;
+		  &lt;/child&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkSpinButton&quot; id=&quot;proxyPortSpinbutton&quot;&gt;
+		      &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;climb_rate&quot;&gt;1&lt;/property&gt;
+		      &lt;property name=&quot;digits&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;numeric&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;update_policy&quot;&gt;GTK_UPDATE_ALWAYS&lt;/property&gt;
+		      &lt;property name=&quot;snap_to_ticks&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;adjustment&quot;&gt;80 1 65535 1 10 10&lt;/property&gt;
+		    &lt;/widget&gt;
+		    &lt;packing&gt;
+		      &lt;property name=&quot;left_attach&quot;&gt;3&lt;/property&gt;
+		      &lt;property name=&quot;right_attach&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
+		      &lt;property name=&quot;x_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;y_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+		    &lt;/packing&gt;
+		  &lt;/child&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;proxyTypeLabel&quot;&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Type:&lt;/property&gt;
+		      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+		      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+		      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
+		      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
+		      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
+		    &lt;/widget&gt;
+		    &lt;packing&gt;
+		      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+		      &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+		      &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
+		      &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
+		      &lt;property name=&quot;x_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;y_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+		      &lt;property name=&quot;y_options&quot;&gt;fill&lt;/property&gt;
+		    &lt;/packing&gt;
+		  &lt;/child&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkComboBox&quot; id=&quot;proxyTypeCombobox&quot;&gt;
+		      &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;items&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+		      &lt;property name=&quot;add_tearoffs&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
+		    &lt;/widget&gt;
+		    &lt;packing&gt;
+		      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+		      &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+		      &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
+		      &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
+		      &lt;property name=&quot;x_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;y_padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+		    &lt;/packing&gt;
+		  &lt;/child&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
+		  &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
+		  &lt;property name=&quot;top_attach&quot;&gt;2&lt;/property&gt;
+		  &lt;property name=&quot;bottom_attach&quot;&gt;3&lt;/property&gt;
+		  &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;tab_expand&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;tab_fill&quot;&gt;True&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;netLabel&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Network&lt;/property&gt;
+	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
+	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
+	      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
+	      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
 	    &lt;widget class=&quot;GtkVBox&quot; id=&quot;labelsVbox&quot;&gt;
 	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
@@ -3303,7 +3566,7 @@
 	      &lt;property name=&quot;update_policy&quot;&gt;GTK_UPDATE_ALWAYS&lt;/property&gt;
 	      &lt;property name=&quot;snap_to_ticks&quot;&gt;False&lt;/property&gt;
 	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;adjustment&quot;&gt;1024 0 65535 1 10 10&lt;/property&gt;
+	      &lt;property name=&quot;adjustment&quot;&gt;1024 1 65535 1 10 10&lt;/property&gt;
 	    &lt;/widget&gt;
 	    &lt;packing&gt;
 	      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
@@ -3339,7 +3602,7 @@
 	  &lt;child&gt;
 	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;hostLabel&quot;&gt;
 	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Host name:&lt;/property&gt;
+	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Address:&lt;/property&gt;
 	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
 	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
 	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2007-03-22 11:02:19 UTC (rev 780)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2007-03-22 12:45:56 UTC (rev 781)
@@ -101,6 +101,9 @@
 	m_newResultsColourRed(65535),
 	m_newResultsColourGreen(0),
 	m_newResultsColourBlue(0),
+	m_proxyPort(8080),
+	m_proxyType(0),
+	m_proxyEnabled(false),
 	m_firstRun(false)
 {
 	// Find out if there is a .pinot directory
@@ -397,6 +400,10 @@
 				{
 					loadColour(pElem);
 				}
+				else if (nodeName == &quot;proxy&quot;)
+				{
+					loadProxy(pElem);
+				}
 				else if (nodeName == &quot;mailaccount&quot;)
 				{
 					loadMailAccounts(pElem);
@@ -839,6 +846,59 @@
 	return true;
 }
 
+bool PinotSettings::loadProxy(const Element *pElem)
+{
+	if (pElem == NULL)
+	{
+		return false;
+	}
+
+	Node::NodeList childNodes = pElem-&gt;get_children();
+	if (childNodes.empty() == true)
+	{
+		return false;
+	}
+
+	for (Node::NodeList::iterator iter = childNodes.begin(); iter != childNodes.end(); ++iter)
+	{
+		Node *pNode = (*iter);
+		Element *pElem = dynamic_cast&lt;Element*&gt;(pNode);
+		if (pElem == NULL)
+		{
+			continue;
+		}
+
+		string nodeName = pElem-&gt;get_name();
+		string nodeContent = getElementContent(pElem);
+
+		if (nodeName == &quot;address&quot;)
+		{
+			m_proxyAddress = nodeContent;
+		}
+		else if (nodeName == &quot;port&quot;)
+		{
+			m_proxyPort = (unsigned int)atoi(nodeContent.c_str());
+		}
+		else if (nodeName == &quot;type&quot;)
+		{
+			m_proxyType = (unsigned int)atoi(nodeContent.c_str());
+		}
+		else if (nodeName == &quot;enable&quot;)
+		{
+			if (nodeContent == &quot;YES&quot;)
+			{
+				m_proxyEnabled = true;
+			}
+			else
+			{
+				m_proxyEnabled = false;
+			}
+		}	
+	}
+
+	return true;
+}
+
 bool PinotSettings::loadMailAccounts(const Element *pElem)
 {
 	if (pElem == NULL)
@@ -1209,6 +1269,8 @@
 	}
 	// Ignore robots directives
 	addChildElement(pRootElem, &quot;robots&quot;, (m_ignoreRobotsDirectives ? &quot;IGNORE&quot; : &quot;OBEY&quot;));
+	// Enable terms suggestion
+	addChildElement(pRootElem, &quot;suggestterms&quot;, (m_suggestQueryTerms ? &quot;YES&quot; : &quot;NO&quot;));
 	// New results colour
 	pElem = pRootElem-&gt;add_child(&quot;newresults&quot;);
 	if (pElem == NULL)
@@ -1221,8 +1283,18 @@
 	addChildElement(pElem, &quot;green&quot;, numStr);
 	sprintf(numStr, &quot;%u&quot;, m_newResultsColourBlue);
 	addChildElement(pElem, &quot;blue&quot;, numStr);
-	// Enable terms suggestion
-	addChildElement(pRootElem, &quot;suggestterms&quot;, (m_suggestQueryTerms ? &quot;YES&quot; : &quot;NO&quot;));
+	// Proxy
+	pElem = pRootElem-&gt;add_child(&quot;proxy&quot;);
+	if (pElem == NULL)
+	{
+		return false;
+	}
+	addChildElement(pElem, &quot;address&quot;, m_proxyAddress);
+	sprintf(numStr, &quot;%u&quot;, m_proxyPort);
+	addChildElement(pElem, &quot;port&quot;, numStr);
+	sprintf(numStr, &quot;%u&quot;, m_proxyType);
+	addChildElement(pElem, &quot;type&quot;, numStr);
+	addChildElement(pElem, &quot;enable&quot;, (m_proxyEnabled ? &quot;YES&quot; : &quot;NO&quot;));
 	// Mail accounts
 	for (set&lt;TimestampedItem&gt;::iterator mailIter = m_mailAccounts.begin(); mailIter != m_mailAccounts.end(); ++mailIter)
 	{

Modified: trunk/UI/GTK2/src/PinotSettings.h
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.h	2007-03-22 11:02:19 UTC (rev 780)
+++ trunk/UI/GTK2/src/PinotSettings.h	2007-03-22 12:45:56 UTC (rev 781)
@@ -203,6 +203,10 @@
 		unsigned short m_newResultsColourRed;
 		unsigned short m_newResultsColourGreen;
 		unsigned short m_newResultsColourBlue;
+		Glib::ustring m_proxyAddress;
+		unsigned int m_proxyPort;
+		unsigned int m_proxyType;
+		bool m_proxyEnabled;
 		std::set&lt;TimestampedItem&gt; m_mailAccounts;
 		std::set&lt;IndexableLocation&gt; m_indexableLocations;
 		std::set&lt;Glib::ustring&gt; m_filePatternsBlackList;
@@ -229,6 +233,7 @@
 		bool loadQueries(const xmlpp::Element *pElem);
 		bool loadLabels(const xmlpp::Element *pElem);
 		bool loadColour(const xmlpp::Element *pElem);
+		bool loadProxy(const xmlpp::Element *pElem);
 		bool loadMailAccounts(const xmlpp::Element *pElem);
 		bool loadIndexableLocations(const xmlpp::Element *pElem);
 		bool loadFilePatterns(const xmlpp::Element *pElem);

Modified: trunk/UI/GTK2/src/indexDialog.cc
===================================================================
--- trunk/UI/GTK2/src/indexDialog.cc	2007-03-22 11:02:19 UTC (rev 780)
+++ trunk/UI/GTK2/src/indexDialog.cc	2007-03-22 12:45:56 UTC (rev 781)
@@ -34,11 +34,7 @@
 	m_editIndex(false),
 	m_badName(true)
 {
-	// Associate the columns model to the type combo
-	m_refTypeTree = ListStore::create(m_typeColumns);
-	typeCombobox-&gt;set_model(m_refTypeTree);
-	typeCombobox-&gt;pack_start(m_typeColumns.m_name);
-	// Populate
+	// Populate the type combo
 	populate_typeCombobox();
 
 	// By default, type is set to local
@@ -58,11 +54,7 @@
 {
 	unsigned int port = 1024;
 
-	// Associate the columns model to the type combo
-	m_refTypeTree = ListStore::create(m_typeColumns);
-	typeCombobox-&gt;set_model(m_refTypeTree);
-	typeCombobox-&gt;pack_start(m_typeColumns.m_name);
-	// Populate
+	// Populate the type combo
 	populate_typeCombobox();
 
 	// Name
@@ -129,16 +121,10 @@
 {
 	ustring servedBy(_(&quot;Served by&quot;));
 
-	TreeModel::iterator iter = m_refTypeTree-&gt;append();
-	TreeModel::Row row = *iter;
-	row[m_typeColumns.m_name] = _(&quot;Local&quot;);
-	iter = m_refTypeTree-&gt;append();
-	row = *iter;
-	row[m_typeColumns.m_name] = servedBy + &quot; xapian-tcpsrv&quot;;
+	typeCombobox-&gt;append_text(_(&quot;Local&quot;));
+	typeCombobox-&gt;append_text(servedBy + &quot; xapian-tcpsrv&quot;);
 #ifdef _SSH_TUNNEL
-	iter = m_refTypeTree-&gt;append();
-	row = *iter;
-	row[m_typeColumns.m_name] = servedBy + &quot; xapian-progsrv+ssh&quot;;
+	typeCombobox-&gt;append_text(servedBy + &quot; xapian-progsrv+ssh&quot;);
 #endif
 }
 

Modified: trunk/UI/GTK2/src/indexDialog.hh
===================================================================
--- trunk/UI/GTK2/src/indexDialog.hh	2007-03-22 11:02:19 UTC (rev 780)
+++ trunk/UI/GTK2/src/indexDialog.hh	2007-03-22 12:45:56 UTC (rev 781)
@@ -20,7 +20,6 @@
 #define _INDEXDIALOG_HH
 
 #include &lt;glibmm/ustring.h&gt;
-#include &lt;gtkmm/liststore.h&gt;
 
 #include &quot;ModelColumns.h&quot;
 #include &quot;indexDialog_glade.hh&quot;
@@ -41,8 +40,6 @@
 protected:
 	Glib::ustring m_name;
 	Glib::ustring m_location;
-	ComboModelColumns m_typeColumns;
-	Glib::RefPtr&lt;Gtk::ListStore&gt; m_refTypeTree;
 	bool m_editIndex;
 	bool m_badName;
 

Modified: trunk/UI/GTK2/src/indexDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/indexDialog_glade.cc	2007-03-22 11:02:19 UTC (rev 780)
+++ trunk/UI/GTK2/src/indexDialog_glade.cc	2007-03-22 12:45:56 UTC (rev 781)
@@ -1,9 +1,9 @@
-// generated 2006/12/29 9:49:18 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at thorgrim.dyndns.org.</A>(none)
+// generated 2007/3/22 1:27:17 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.10.4 and gtkmm 2.10.5
+// for gtk 2.10.8 and gtkmm 2.10.7
 //
 // Please modify the corresponding derived classes in ./src/indexDialog.cc
 
@@ -72,11 +72,11 @@
    Gtk::Label *portLabel = Gtk::manage(new class Gtk::Label(_(&quot;Port:&quot;)));
    nameEntry = Gtk::manage(new class Gtk::Entry());
    
-   Gtk::Adjustment *portSpinbutton_adj = Gtk::manage(new class Gtk::Adjustment(1024, 0, 65535, 1, 10, 10));
+   Gtk::Adjustment *portSpinbutton_adj = Gtk::manage(new class Gtk::Adjustment(1024, 1, 65535, 1, 10, 10));
    portSpinbutton = Gtk::manage(new class Gtk::SpinButton(*portSpinbutton_adj, 1, 0));
-   typeCombobox = Gtk::manage(new class Gtk::ComboBox());
+   typeCombobox = Gtk::manage(new class Gtk::ComboBoxText());
    
-   Gtk::Label *hostLabel = Gtk::manage(new class Gtk::Label(_(&quot;Host name:&quot;)));
+   Gtk::Label *hostLabel = Gtk::manage(new class Gtk::Label(_(&quot;Address:&quot;)));
    hostEntry = Gtk::manage(new class Gtk::Entry());
    
    Gtk::Table *indexTable = Gtk::manage(new class Gtk::Table(2, 2, false));
@@ -93,6 +93,10 @@
    nameLabel-&gt;set_line_wrap(false);
    nameLabel-&gt;set_use_markup(false);
    nameLabel-&gt;set_selectable(false);
+   nameLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   nameLabel-&gt;set_width_chars(-1);
+   nameLabel-&gt;set_angle(0);
+   nameLabel-&gt;set_single_line_mode(false);
    locationEntry-&gt;set_flags(Gtk::CAN_FOCUS);
    locationEntry-&gt;set_visibility(true);
    locationEntry-&gt;set_editable(true);
@@ -110,18 +114,30 @@
    typeLabel-&gt;set_line_wrap(false);
    typeLabel-&gt;set_use_markup(false);
    typeLabel-&gt;set_selectable(false);
+   typeLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   typeLabel-&gt;set_width_chars(-1);
+   typeLabel-&gt;set_angle(0);
+   typeLabel-&gt;set_single_line_mode(false);
    locationLabel-&gt;set_alignment(0,0.5);
    locationLabel-&gt;set_padding(4,4);
    locationLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
    locationLabel-&gt;set_line_wrap(false);
    locationLabel-&gt;set_use_markup(false);
    locationLabel-&gt;set_selectable(false);
+   locationLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   locationLabel-&gt;set_width_chars(-1);
+   locationLabel-&gt;set_angle(0);
+   locationLabel-&gt;set_single_line_mode(false);
    portLabel-&gt;set_alignment(0,0.5);
    portLabel-&gt;set_padding(4,4);
    portLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
    portLabel-&gt;set_line_wrap(false);
    portLabel-&gt;set_use_markup(false);
    portLabel-&gt;set_selectable(false);
+   portLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   portLabel-&gt;set_width_chars(-1);
+   portLabel-&gt;set_angle(0);
+   portLabel-&gt;set_single_line_mode(false);
    nameEntry-&gt;set_flags(Gtk::CAN_FOCUS);
    nameEntry-&gt;set_visibility(true);
    nameEntry-&gt;set_editable(true);
@@ -139,6 +155,10 @@
    hostLabel-&gt;set_line_wrap(false);
    hostLabel-&gt;set_use_markup(false);
    hostLabel-&gt;set_selectable(false);
+   hostLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   hostLabel-&gt;set_width_chars(-1);
+   hostLabel-&gt;set_angle(0);
+   hostLabel-&gt;set_single_line_mode(false);
    hostEntry-&gt;set_flags(Gtk::CAN_FOCUS);
    hostEntry-&gt;set_visibility(true);
    hostEntry-&gt;set_editable(true);

Modified: trunk/UI/GTK2/src/indexDialog_glade.hh
===================================================================
--- trunk/UI/GTK2/src/indexDialog_glade.hh	2007-03-22 11:02:19 UTC (rev 780)
+++ trunk/UI/GTK2/src/indexDialog_glade.hh	2007-03-22 12:45:56 UTC (rev 781)
@@ -35,7 +35,7 @@
 #include &lt;gtkmm/button.h&gt;
 #include &lt;gtkmm/entry.h&gt;
 #include &lt;gtkmm/spinbutton.h&gt;
-#include &lt;gtkmm/combobox.h&gt;
+#include &lt;gtkmm/comboboxtext.h&gt;
 
 class indexDialog_glade : public Gtk::Dialog
 {  
@@ -48,7 +48,7 @@
         class Gtk::Button * locationButton;
         class Gtk::Entry * nameEntry;
         class Gtk::SpinButton * portSpinbutton;
-        class Gtk::ComboBox * typeCombobox;
+        class Gtk::ComboBoxText * typeCombobox;
         class Gtk::Entry * hostEntry;
         
         indexDialog_glade();

Modified: trunk/UI/GTK2/src/prefsDialog.cc
===================================================================
--- trunk/UI/GTK2/src/prefsDialog.cc	2007-03-22 11:02:19 UTC (rev 780)
+++ trunk/UI/GTK2/src/prefsDialog.cc	2007-03-22 12:45:56 UTC (rev 781)
@@ -24,7 +24,6 @@
 #include &lt;gtkmm/menu.h&gt;
 #include &lt;gtkmm/messagedialog.h&gt;
 
-#include &quot;MIMEScanner.h&quot;
 #include &quot;SearchEngineFactory.h&quot;
 #include &quot;QueryHistory.h&quot;
 #include &quot;config.h&quot;
@@ -61,6 +60,17 @@
 	// Enable terms suggestion
 	enableCompletionCheckbutton-&gt;set_active(m_settings.m_suggestQueryTerms);
 
+	populate_proxyTypeCombobox();
+	proxyRadiobutton-&gt;set_active(m_settings.m_proxyEnabled);
+	proxyAddressEntry-&gt;set_text(m_settings.m_proxyAddress);
+	proxyPortSpinbutton-&gt;set_value((double)m_settings.m_proxyPort);
+	// FIXME: sync with settings
+	if (m_settings.m_proxyType &gt; 2)
+	{
+		m_settings.m_proxyType = 0;
+	}
+	proxyTypeCombobox-&gt;set_active(m_settings.m_proxyType);
+
 	// Associate the columns model to the labels tree
 	m_refLabelsTree = ListStore::create(m_labelsColumns);
 	labelsTreeview-&gt;set_model(m_refLabelsTree);
@@ -129,6 +139,13 @@
 	return m_startDaemon;
 }
 
+void prefsDialog::populate_proxyTypeCombobox()
+{
+	proxyTypeCombobox-&gt;append_text(&quot;HTTP&quot;);
+	proxyTypeCombobox-&gt;append_text(&quot;SOCKS v4&quot;);
+	proxyTypeCombobox-&gt;append_text(&quot;SOCKS v5&quot;);
+}
+
 void prefsDialog::populate_labelsTreeview()
 {
 	TreeModel::iterator iter;
@@ -401,6 +418,11 @@
 	m_settings.m_suggestQueryTerms = enableCompletionCheckbutton-&gt;get_active();
 	m_settings.m_googleAPIKey = apiKeyEntry-&gt;get_text();
 
+	m_settings.m_proxyEnabled = proxyRadiobutton-&gt;get_active();
+	m_settings.m_proxyAddress = proxyAddressEntry-&gt;get_text();
+	m_settings.m_proxyPort = (unsigned int)proxyPortSpinbutton-&gt;get_value();
+	m_settings.m_proxyType = proxyTypeCombobox-&gt;get_active_row_number();
+
 	// Validate the current lists
 	save_labelsTreeview();
 	bool startForDirectories = save_directoriesTreeview();
@@ -521,11 +543,8 @@
 
 	if (select_file_name(*this, _(&quot;Mbox File Location&quot;), fileName, true) == true)
 	{
-		string mimeType = MIMEScanner::scanFile(fileName);
-
 #ifdef DEBUG
-		cout &lt;&lt; &quot;prefsDialog::on_addAccountButton_clicked: &quot; &lt;&lt; fileName
-			&lt;&lt; &quot; has format &quot; &lt;&lt; mimeType &lt;&lt; endl;
+		cout &lt;&lt; &quot;prefsDialog::on_addAccountButton_clicked: &quot; &lt;&lt; fileName &lt;&lt; endl;
 #endif
 		// FIXME: unlike libmagic, shared-mime-info fails to identify most mbox files
 		// as being of type text/x-mail

Modified: trunk/UI/GTK2/src/prefsDialog.hh
===================================================================
--- trunk/UI/GTK2/src/prefsDialog.hh	2007-03-22 11:02:19 UTC (rev 780)
+++ trunk/UI/GTK2/src/prefsDialog.hh	2007-03-22 12:45:56 UTC (rev 781)
@@ -53,6 +53,7 @@
 	virtual void on_addPatternButton_clicked();
 	virtual void on_removePatternButton_clicked();
 
+	void populate_proxyTypeCombobox();
 	void populate_labelsTreeview();
 	void save_labelsTreeview();
 	void populate_directoriesTreeview();

Modified: trunk/UI/GTK2/src/prefsDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/prefsDialog_glade.cc	2007-03-22 11:02:19 UTC (rev 780)
+++ trunk/UI/GTK2/src/prefsDialog_glade.cc	2007-03-22 12:45:56 UTC (rev 781)
@@ -1,9 +1,9 @@
-// generated 2006/11/1 20:52:15 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
+// generated 2007/3/22 1:27:17 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.10.4 and gtkmm 2.10.2
+// for gtk 2.10.8 and gtkmm 2.10.7
 //
 // Please modify the corresponding derived classes in ./src/prefsDialog.cc
 
@@ -40,6 +40,8 @@
 #include &lt;gtkmm/buttonbox.h&gt;
 #include &lt;gtkmm/label.h&gt;
 #include &lt;gtkmm/table.h&gt;
+#include &lt;gtkmm/radiobutton.h&gt;
+#include &lt;gtkmm/adjustment.h&gt;
 #include &lt;gtkmm/scrolledwindow.h&gt;
 #include &lt;gtkmm/image.h&gt;
 #include &lt;gtkmm/box.h&gt;
@@ -61,19 +63,35 @@
    gmm_data = new GlademmData(get_accel_group());
    prefsCancelbutton = Gtk::manage(new class Gtk::Button(Gtk::StockID(&quot;gtk-cancel&quot;)));
    prefsOkbutton = Gtk::manage(new class Gtk::Button(Gtk::StockID(&quot;gtk-ok&quot;)));
-   
-   Gtk::Label *robotsLabel = Gtk::manage(new class Gtk::Label(_(&quot;HTTP crawling:&quot;)));
    apiKeyLabel = Gtk::manage(new class Gtk::Label(_(&quot;Google API key:&quot;)));
    apiKeyEntry = Gtk::manage(new class Gtk::Entry());
-   ignoreRobotsCheckbutton = Gtk::manage(new class Gtk::CheckButton(_(&quot;Ignore robots.txt and Robots META tag&quot;)));
    
    Gtk::Label *newResultsLabel = Gtk::manage(new class Gtk::Label(_(&quot;New results:&quot;)));
    Gtk::Label *queriesLabel = Gtk::manage(new class Gtk::Label(_(&quot;Queries:&quot;)));
    enableCompletionCheckbutton = Gtk::manage(new class Gtk::CheckButton(_(&quot;Enable search terms suggestion&quot;)));
    newResultsColorbutton = Gtk::manage(new class Gtk::ColorButton());
+   ignoreRobotsCheckbutton = Gtk::manage(new class Gtk::CheckButton(_(&quot;Ignore robots.txt and Robots META tag&quot;)));
+   robotsLabel = Gtk::manage(new class Gtk::Label(_(&quot;HTTP crawling:&quot;)));
    
    Gtk::Table *generalTable = Gtk::manage(new class Gtk::Table(2, 2, false));
    Gtk::Label *generalLabel = Gtk::manage(new class Gtk::Label(_(&quot;General&quot;)));
+   Gtk::RadioButton::Group _RadioBGroup_directConnectionRadiobutton;
+   directConnectionRadiobutton = Gtk::manage(new class Gtk::RadioButton(_RadioBGroup_directConnectionRadiobutton, _(&quot;Direct connection to the Internet&quot;)));
+   proxyRadiobutton = Gtk::manage(new class Gtk::RadioButton(_RadioBGroup_directConnectionRadiobutton, _(&quot;Manual proxy configuration:&quot;)));
+   
+   Gtk::Label *proxyAddressLabel = Gtk::manage(new class Gtk::Label(_(&quot;Address:&quot;)));
+   proxyAddressEntry = Gtk::manage(new class Gtk::Entry());
+   
+   Gtk::Label *proxyPortLabel = Gtk::manage(new class Gtk::Label(_(&quot;Port:&quot;)));
+   Gtk::Adjustment *proxyPortSpinbutton_adj = Gtk::manage(new class Gtk::Adjustment(80, 1, 65535, 1, 10, 10));
+   proxyPortSpinbutton = Gtk::manage(new class Gtk::SpinButton(*proxyPortSpinbutton_adj, 1, 0));
+   
+   Gtk::Label *proxyTypeLabel = Gtk::manage(new class Gtk::Label(_(&quot;Type:&quot;)));
+   proxyTypeCombobox = Gtk::manage(new class Gtk::ComboBoxText());
+   
+   Gtk::Table *socksTable = Gtk::manage(new class Gtk::Table(2, 2, false));
+   Gtk::Table *netTable = Gtk::manage(new class Gtk::Table(2, 2, false));
+   Gtk::Label *netLabel = Gtk::manage(new class Gtk::Label(_(&quot;Network&quot;)));
    Gtk::Label *indexLabelsLabel = Gtk::manage(new class Gtk::Label(_(&quot;Labels are used to classify indexed documents:&quot;)));
    labelsTreeview = Gtk::manage(new class Gtk::TreeView());
    
@@ -143,67 +161,163 @@
    prefsOkbutton-&gt;set_flags(Gtk::CAN_DEFAULT);
    prefsOkbutton-&gt;set_relief(Gtk::RELIEF_NORMAL);
    prefsDialog-&gt;get_action_area()-&gt;property_layout_style().set_value(Gtk::BUTTONBOX_END);
-   robotsLabel-&gt;set_alignment(0,0.5);
-   robotsLabel-&gt;set_padding(4,4);
-   robotsLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
-   robotsLabel-&gt;set_line_wrap(false);
-   robotsLabel-&gt;set_use_markup(false);
-   robotsLabel-&gt;set_selectable(false);
    apiKeyLabel-&gt;set_alignment(0,0.5);
    apiKeyLabel-&gt;set_padding(4,4);
    apiKeyLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
    apiKeyLabel-&gt;set_line_wrap(false);
    apiKeyLabel-&gt;set_use_markup(false);
    apiKeyLabel-&gt;set_selectable(false);
+   apiKeyLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   apiKeyLabel-&gt;set_width_chars(-1);
+   apiKeyLabel-&gt;set_angle(0);
+   apiKeyLabel-&gt;set_single_line_mode(false);
    apiKeyEntry-&gt;set_flags(Gtk::CAN_FOCUS);
    apiKeyEntry-&gt;set_visibility(true);
    apiKeyEntry-&gt;set_editable(true);
    apiKeyEntry-&gt;set_max_length(0);
    apiKeyEntry-&gt;set_has_frame(true);
    apiKeyEntry-&gt;set_activates_default(false);
-   ignoreRobotsCheckbutton-&gt;set_flags(Gtk::CAN_FOCUS);
-   ignoreRobotsCheckbutton-&gt;set_relief(Gtk::RELIEF_NORMAL);
-   ignoreRobotsCheckbutton-&gt;set_mode(true);
-   ignoreRobotsCheckbutton-&gt;set_active(false);
    newResultsLabel-&gt;set_alignment(0,0.5);
    newResultsLabel-&gt;set_padding(4,4);
    newResultsLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
    newResultsLabel-&gt;set_line_wrap(false);
    newResultsLabel-&gt;set_use_markup(false);
    newResultsLabel-&gt;set_selectable(false);
+   newResultsLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   newResultsLabel-&gt;set_width_chars(-1);
+   newResultsLabel-&gt;set_angle(0);
+   newResultsLabel-&gt;set_single_line_mode(false);
    queriesLabel-&gt;set_alignment(0,0.5);
    queriesLabel-&gt;set_padding(4,4);
    queriesLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
    queriesLabel-&gt;set_line_wrap(false);
    queriesLabel-&gt;set_use_markup(false);
    queriesLabel-&gt;set_selectable(false);
+   queriesLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   queriesLabel-&gt;set_width_chars(-1);
+   queriesLabel-&gt;set_angle(0);
+   queriesLabel-&gt;set_single_line_mode(false);
    enableCompletionCheckbutton-&gt;set_flags(Gtk::CAN_FOCUS);
    enableCompletionCheckbutton-&gt;set_relief(Gtk::RELIEF_NORMAL);
    enableCompletionCheckbutton-&gt;set_mode(true);
    enableCompletionCheckbutton-&gt;set_active(false);
    newResultsColorbutton-&gt;set_flags(Gtk::CAN_FOCUS);
+   ignoreRobotsCheckbutton-&gt;set_flags(Gtk::CAN_FOCUS);
+   ignoreRobotsCheckbutton-&gt;set_relief(Gtk::RELIEF_NORMAL);
+   ignoreRobotsCheckbutton-&gt;set_mode(true);
+   ignoreRobotsCheckbutton-&gt;set_active(false);
+   robotsLabel-&gt;set_alignment(0,0.5);
+   robotsLabel-&gt;set_padding(4,4);
+   robotsLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
+   robotsLabel-&gt;set_line_wrap(false);
+   robotsLabel-&gt;set_use_markup(false);
+   robotsLabel-&gt;set_selectable(false);
+   robotsLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   robotsLabel-&gt;set_width_chars(-1);
+   robotsLabel-&gt;set_angle(0);
+   robotsLabel-&gt;set_single_line_mode(false);
    generalTable-&gt;set_row_spacings(0);
    generalTable-&gt;set_col_spacings(0);
-   generalTable-&gt;attach(*robotsLabel, 0, 1, 0, 1, Gtk::FILL, Gtk::FILL, 0, 0);
    generalTable-&gt;attach(*apiKeyLabel, 0, 1, 3, 4, Gtk::FILL, Gtk::FILL, 0, 0);
    generalTable-&gt;attach(*apiKeyEntry, 1, 2, 3, 4, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
-   generalTable-&gt;attach(*ignoreRobotsCheckbutton, 1, 2, 0, 1, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
    generalTable-&gt;attach(*newResultsLabel, 0, 1, 1, 2, Gtk::FILL, Gtk::FILL, 0, 0);
    generalTable-&gt;attach(*queriesLabel, 0, 1, 2, 3, Gtk::FILL, Gtk::FILL, 0, 0);
    generalTable-&gt;attach(*enableCompletionCheckbutton, 1, 2, 2, 3, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
    generalTable-&gt;attach(*newResultsColorbutton, 1, 2, 1, 2, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
+   generalTable-&gt;attach(*ignoreRobotsCheckbutton, 1, 2, 0, 1, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
+   generalTable-&gt;attach(*robotsLabel, 0, 1, 0, 1, Gtk::FILL, Gtk::AttachOptions(), 0, 0);
    generalLabel-&gt;set_alignment(0.5,0.5);
    generalLabel-&gt;set_padding(0,0);
    generalLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
    generalLabel-&gt;set_line_wrap(false);
    generalLabel-&gt;set_use_markup(false);
    generalLabel-&gt;set_selectable(false);
+   generalLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   generalLabel-&gt;set_width_chars(-1);
+   generalLabel-&gt;set_angle(0);
+   generalLabel-&gt;set_single_line_mode(false);
+   directConnectionRadiobutton-&gt;set_flags(Gtk::CAN_FOCUS);
+   directConnectionRadiobutton-&gt;set_relief(Gtk::RELIEF_NORMAL);
+   directConnectionRadiobutton-&gt;set_mode(true);
+   directConnectionRadiobutton-&gt;set_active(true);
+   proxyRadiobutton-&gt;set_flags(Gtk::CAN_FOCUS);
+   proxyRadiobutton-&gt;set_relief(Gtk::RELIEF_NORMAL);
+   proxyRadiobutton-&gt;set_mode(true);
+   proxyRadiobutton-&gt;set_active(false);
+   proxyAddressLabel-&gt;set_alignment(0,0.5);
+   proxyAddressLabel-&gt;set_padding(0,0);
+   proxyAddressLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
+   proxyAddressLabel-&gt;set_line_wrap(false);
+   proxyAddressLabel-&gt;set_use_markup(false);
+   proxyAddressLabel-&gt;set_selectable(false);
+   proxyAddressLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   proxyAddressLabel-&gt;set_width_chars(-1);
+   proxyAddressLabel-&gt;set_angle(0);
+   proxyAddressLabel-&gt;set_single_line_mode(false);
+   proxyAddressEntry-&gt;set_flags(Gtk::CAN_FOCUS);
+   proxyAddressEntry-&gt;set_visibility(true);
+   proxyAddressEntry-&gt;set_editable(true);
+   proxyAddressEntry-&gt;set_max_length(0);
+   proxyAddressEntry-&gt;set_has_frame(true);
+   proxyAddressEntry-&gt;set_activates_default(false);
+   proxyPortLabel-&gt;set_alignment(0,0.5);
+   proxyPortLabel-&gt;set_padding(0,0);
+   proxyPortLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
+   proxyPortLabel-&gt;set_line_wrap(false);
+   proxyPortLabel-&gt;set_use_markup(false);
+   proxyPortLabel-&gt;set_selectable(false);
+   proxyPortLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   proxyPortLabel-&gt;set_width_chars(-1);
+   proxyPortLabel-&gt;set_angle(0);
+   proxyPortLabel-&gt;set_single_line_mode(false);
+   proxyPortSpinbutton-&gt;set_flags(Gtk::CAN_FOCUS);
+   proxyPortSpinbutton-&gt;set_update_policy(Gtk::UPDATE_ALWAYS);
+   proxyPortSpinbutton-&gt;set_numeric(false);
+   proxyPortSpinbutton-&gt;set_digits(0);
+   proxyPortSpinbutton-&gt;set_wrap(false);
+   proxyTypeLabel-&gt;set_alignment(0,0.5);
+   proxyTypeLabel-&gt;set_padding(0,0);
+   proxyTypeLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
+   proxyTypeLabel-&gt;set_line_wrap(false);
+   proxyTypeLabel-&gt;set_use_markup(false);
+   proxyTypeLabel-&gt;set_selectable(false);
+   proxyTypeLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   proxyTypeLabel-&gt;set_width_chars(-1);
+   proxyTypeLabel-&gt;set_angle(0);
+   proxyTypeLabel-&gt;set_single_line_mode(false);
+   socksTable-&gt;set_row_spacings(0);
+   socksTable-&gt;set_col_spacings(0);
+   socksTable-&gt;attach(*proxyAddressLabel, 0, 1, 0, 1, Gtk::FILL, Gtk::FILL, 4, 4);
+   socksTable-&gt;attach(*proxyAddressEntry, 1, 2, 0, 1, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
+   socksTable-&gt;attach(*proxyPortLabel, 2, 3, 0, 1, Gtk::FILL, Gtk::FILL, 4, 4);
+   socksTable-&gt;attach(*proxyPortSpinbutton, 3, 4, 0, 1, Gtk::EXPAND|Gtk::FILL, Gtk::AttachOptions(), 4, 4);
+   socksTable-&gt;attach(*proxyTypeLabel, 0, 1, 1, 2, Gtk::FILL, Gtk::FILL, 4, 4);
+   socksTable-&gt;attach(*proxyTypeCombobox, 1, 2, 1, 2, Gtk::EXPAND|Gtk::FILL, Gtk::AttachOptions(), 4, 4);
+   netTable-&gt;set_row_spacings(0);
+   netTable-&gt;set_col_spacings(0);
+   netTable-&gt;attach(*directConnectionRadiobutton, 0, 1, 0, 1, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
+   netTable-&gt;attach(*proxyRadiobutton, 0, 1, 1, 2, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
+   netTable-&gt;attach(*socksTable, 0, 1, 2, 3, Gtk::FILL, Gtk::EXPAND|Gtk::FILL, 0, 0);
+   netLabel-&gt;set_alignment(0.5,0.5);
+   netLabel-&gt;set_padding(0,0);
+   netLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
+   netLabel-&gt;set_line_wrap(false);
+   netLabel-&gt;set_use_markup(false);
+   netLabel-&gt;set_selectable(false);
+   netLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   netLabel-&gt;set_width_chars(-1);
+   netLabel-&gt;set_angle(0);
+   netLabel-&gt;set_single_line_mode(false);
    indexLabelsLabel-&gt;set_alignment(0,0.5);
    indexLabelsLabel-&gt;set_padding(4,4);
    indexLabelsLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
    indexLabelsLabel-&gt;set_line_wrap(true);
    indexLabelsLabel-&gt;set_use_markup(false);
    indexLabelsLabel-&gt;set_selectable(false);
+   indexLabelsLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   indexLabelsLabel-&gt;set_width_chars(-1);
+   indexLabelsLabel-&gt;set_angle(0);
+   indexLabelsLabel-&gt;set_single_line_mode(false);
    labelsTreeview-&gt;set_flags(Gtk::CAN_FOCUS);
    labelsTreeview-&gt;set_headers_visible(true);
    labelsTreeview-&gt;set_rules_hint(false);
@@ -223,6 +337,10 @@
    label35-&gt;set_line_wrap(false);
    label35-&gt;set_use_markup(false);
    label35-&gt;set_selectable(false);
+   label35-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   label35-&gt;set_width_chars(-1);
+   label35-&gt;set_angle(0);
+   label35-&gt;set_single_line_mode(false);
    hbox29-&gt;pack_start(*image235, Gtk::PACK_SHRINK, 0);
    hbox29-&gt;pack_start(*label35, Gtk::PACK_SHRINK, 0);
    alignment17-&gt;add(*hbox29);
@@ -239,6 +357,10 @@
    label36-&gt;set_line_wrap(false);
    label36-&gt;set_use_markup(false);
    label36-&gt;set_selectable(false);
+   label36-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   label36-&gt;set_width_chars(-1);
+   label36-&gt;set_angle(0);
+   label36-&gt;set_single_line_mode(false);
    hbox30-&gt;pack_start(*image236, Gtk::PACK_SHRINK, 0);
    hbox30-&gt;pack_start(*label36, Gtk::PACK_SHRINK, 0);
    alignment18-&gt;add(*hbox30);
@@ -259,12 +381,20 @@
    labelsLabel-&gt;set_line_wrap(false);
    labelsLabel-&gt;set_use_markup(false);
    labelsLabel-&gt;set_selectable(false);
+   labelsLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   labelsLabel-&gt;set_width_chars(-1);
+   labelsLabel-&gt;set_angle(0);
+   labelsLabel-&gt;set_single_line_mode(false);
    directoriesLabel-&gt;set_alignment(0,0.5);
    directoriesLabel-&gt;set_padding(4,4);
    directoriesLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
    directoriesLabel-&gt;set_line_wrap(true);
    directoriesLabel-&gt;set_use_markup(false);
    directoriesLabel-&gt;set_selectable(false);
+   directoriesLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   directoriesLabel-&gt;set_width_chars(-1);
+   directoriesLabel-&gt;set_angle(0);
+   directoriesLabel-&gt;set_single_line_mode(false);
    directoriesTreeview-&gt;set_flags(Gtk::CAN_FOCUS);
    directoriesTreeview-&gt;set_headers_visible(true);
    directoriesTreeview-&gt;set_rules_hint(false);
@@ -284,6 +414,10 @@
    label58-&gt;set_line_wrap(false);
    label58-&gt;set_use_markup(false);
    label58-&gt;set_selectable(false);
+   label58-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   label58-&gt;set_width_chars(-1);
+   label58-&gt;set_angle(0);
+   label58-&gt;set_single_line_mode(false);
    hbox54-&gt;pack_start(*image609, Gtk::PACK_SHRINK, 0);
    hbox54-&gt;pack_start(*label58, Gtk::PACK_SHRINK, 0);
    alignment35-&gt;add(*hbox54);
@@ -306,6 +440,10 @@
    mailAccountsLabel-&gt;set_line_wrap(true);
    mailAccountsLabel-&gt;set_use_markup(false);
    mailAccountsLabel-&gt;set_selectable(false);
+   mailAccountsLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   mailAccountsLabel-&gt;set_width_chars(-1);
+   mailAccountsLabel-&gt;set_angle(0);
+   mailAccountsLabel-&gt;set_single_line_mode(false);
    mailTreeview-&gt;set_flags(Gtk::CAN_FOCUS);
    mailTreeview-&gt;set_headers_visible(true);
    mailTreeview-&gt;set_rules_hint(false);
@@ -325,6 +463,10 @@
    label49-&gt;set_line_wrap(false);
    label49-&gt;set_use_markup(false);
    label49-&gt;set_selectable(false);
+   label49-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   label49-&gt;set_width_chars(-1);
+   label49-&gt;set_angle(0);
+   label49-&gt;set_single_line_mode(false);
    hbox42-&gt;pack_start(*image497, Gtk::PACK_SHRINK, 0);
    hbox42-&gt;pack_start(*label49, Gtk::PACK_SHRINK, 0);
    alignment28-&gt;add(*hbox42);
@@ -347,6 +489,10 @@
    patternsLabel-&gt;set_line_wrap(true);
    patternsLabel-&gt;set_use_markup(false);
    patternsLabel-&gt;set_selectable(false);
+   patternsLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   patternsLabel-&gt;set_width_chars(-1);
+   patternsLabel-&gt;set_angle(0);
+   patternsLabel-&gt;set_single_line_mode(false);
    patternsTreeview-&gt;set_flags(Gtk::CAN_FOCUS);
    patternsTreeview-&gt;set_headers_visible(true);
    patternsTreeview-&gt;set_rules_hint(false);
@@ -366,6 +512,10 @@
    label60-&gt;set_line_wrap(false);
    label60-&gt;set_use_markup(false);
    label60-&gt;set_selectable(false);
+   label60-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   label60-&gt;set_width_chars(-1);
+   label60-&gt;set_angle(0);
+   label60-&gt;set_single_line_mode(false);
    hbox56-&gt;pack_start(*image624, Gtk::PACK_SHRINK, 0);
    hbox56-&gt;pack_start(*label60, Gtk::PACK_SHRINK, 0);
    alignment36-&gt;add(*hbox56);
@@ -394,6 +544,10 @@
    indexingLabel-&gt;set_line_wrap(false);
    indexingLabel-&gt;set_use_markup(false);
    indexingLabel-&gt;set_selectable(false);
+   indexingLabel-&gt;set_ellipsize(Pango::ELLIPSIZE_NONE);
+   indexingLabel-&gt;set_width_chars(-1);
+   indexingLabel-&gt;set_angle(0);
+   indexingLabel-&gt;set_single_line_mode(false);
    prefsNotebook-&gt;set_flags(Gtk::CAN_FOCUS);
    prefsNotebook-&gt;set_show_tabs(true);
    prefsNotebook-&gt;set_show_border(true);
@@ -401,6 +555,8 @@
    prefsNotebook-&gt;set_scrollable(false);
    prefsNotebook-&gt;append_page(*generalTable, *generalLabel);
    prefsNotebook-&gt;pages().back().set_tab_label_packing(false, true, Gtk::PACK_START);
+   prefsNotebook-&gt;append_page(*netTable, *netLabel);
+   prefsNotebook-&gt;pages().back().set_tab_label_packing(false, true, Gtk::PACK_START);
    prefsNotebook-&gt;append_page(*labelsVbox, *labelsLabel);
    prefsNotebook-&gt;pages().back().set_tab_label_packing(false, true, Gtk::PACK_START);
    prefsNotebook-&gt;append_page(*indexingVbox, *indexingLabel);
@@ -418,16 +574,27 @@
    prefsDialog-&gt;add_action_widget(*prefsOkbutton, -5);
    prefsCancelbutton-&gt;show();
    prefsOkbutton-&gt;show();
-   robotsLabel-&gt;show();
    apiKeyLabel-&gt;show();
    apiKeyEntry-&gt;show();
-   ignoreRobotsCheckbutton-&gt;show();
    newResultsLabel-&gt;show();
    queriesLabel-&gt;show();
    enableCompletionCheckbutton-&gt;show();
    newResultsColorbutton-&gt;show();
+   ignoreRobotsCheckbutton-&gt;show();
+   robotsLabel-&gt;show();
    generalTable-&gt;show();
    generalLabel-&gt;show();
+   directConnectionRadiobutton-&gt;show();
+   proxyRadiobutton-&gt;show();
+   proxyAddressLabel-&gt;show();
+   proxyAddressEntry-&gt;show();
+   proxyPortLabel-&gt;show();
+   proxyPortSpinbutton-&gt;show();
+   proxyTypeLabel-&gt;show();
+   proxyTypeCombobox-&gt;show();
+   socksTable-&gt;show();
+   netTable-&gt;show();
+   netLabel-&gt;show();
    indexLabelsLabel-&gt;show();
    labelsTreeview-&gt;show();
    labelsScrolledwindow-&gt;show();

Modified: trunk/UI/GTK2/src/prefsDialog_glade.hh
===================================================================
--- trunk/UI/GTK2/src/prefsDialog_glade.hh	2007-03-22 11:02:19 UTC (rev 780)
+++ trunk/UI/GTK2/src/prefsDialog_glade.hh	2007-03-22 12:45:56 UTC (rev 781)
@@ -1,9 +1,9 @@
-// generated 2006/11/1 20:52:15 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
+// generated 2007/3/22 1:27:17 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.10.4 and gtkmm 2.10.2
+// for gtk 2.10.8 and gtkmm 2.10.7
 //
 // Please modify the corresponding derived classes in ./src/prefsDialog.hh and./src/prefsDialog.cc
 
@@ -37,6 +37,9 @@
 #include &lt;gtkmm/entry.h&gt;
 #include &lt;gtkmm/checkbutton.h&gt;
 #include &lt;gtkmm/colorbutton.h&gt;
+#include &lt;gtkmm/radiobutton.h&gt;
+#include &lt;gtkmm/spinbutton.h&gt;
+#include &lt;gtkmm/comboboxtext.h&gt;
 #include &lt;gtkmm/treeview.h&gt;
 #include &lt;gtkmm/notebook.h&gt;
 
@@ -51,9 +54,15 @@
         class Gtk::Button * prefsOkbutton;
         class Gtk::Label * apiKeyLabel;
         class Gtk::Entry * apiKeyEntry;
-        class Gtk::CheckButton * ignoreRobotsCheckbutton;
         class Gtk::CheckButton * enableCompletionCheckbutton;
         class Gtk::ColorButton * newResultsColorbutton;
+        class Gtk::CheckButton * ignoreRobotsCheckbutton;
+        class Gtk::Label * robotsLabel;
+        class Gtk::RadioButton * directConnectionRadiobutton;
+        class Gtk::RadioButton * proxyRadiobutton;
+        class Gtk::Entry * proxyAddressEntry;
+        class Gtk::SpinButton * proxyPortSpinbutton;
+        class Gtk::ComboBoxText * proxyTypeCombobox;
         class Gtk::TreeView * labelsTreeview;
         class Gtk::Button * addLabelButton;
         class Gtk::Button * removeLabelButton;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000774.html">[Pinot-svn] r780 - in trunk: Search UI/GTK2/src Utils
</A></li>
	<LI>Next message: <A HREF="000776.html">[Pinot-svn] r782 - trunk/UI/GTK2/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#775">[ date ]</a>
              <a href="thread.html#775">[ thread ]</a>
              <a href="subject.html#775">[ subject ]</a>
              <a href="author.html#775">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pinot-svn">More information about the Pinot-svn
mailing list</a><br>
</body></html>
