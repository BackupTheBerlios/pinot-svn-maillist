<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Pinot-svn] r511 - in trunk/UI/GTK2: . src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pinot-svn/2006-October/index.html" >
   <LINK REL="made" HREF="mailto:pinot-svn%40lists.berlios.de?Subject=Re%3A%20%5BPinot-svn%5D%20r511%20-%20in%20trunk/UI/GTK2%3A%20.%20src&In-Reply-To=%3C200610140522.k9E5MkfZ021846%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000502.html">
   <LINK REL="Next"  HREF="000505.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Pinot-svn] r511 - in trunk/UI/GTK2: . src</H1>
    <B>fabricecolin at BerliOS</B> 
    <A HREF="mailto:pinot-svn%40lists.berlios.de?Subject=Re%3A%20%5BPinot-svn%5D%20r511%20-%20in%20trunk/UI/GTK2%3A%20.%20src&In-Reply-To=%3C200610140522.k9E5MkfZ021846%40sheep.berlios.de%3E"
       TITLE="[Pinot-svn] r511 - in trunk/UI/GTK2: . src">fabricecolin at mail.berlios.de
       </A><BR>
    <I>Sat Oct 14 07:22:46 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000502.html">[Pinot-svn] r510 - in trunk: Collect Index Search UI/GTK2/src
</A></li>
        <LI>Next message: <A HREF="000505.html">[Pinot-svn] r512 - trunk/UI/GTK2/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#504">[ date ]</a>
              <a href="thread.html#504">[ thread ]</a>
              <a href="subject.html#504">[ subject ]</a>
              <a href="author.html#504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: fabricecolin
Date: 2006-10-14 07:22:45 +0200 (Sat, 14 Oct 2006)
New Revision: 511

Modified:
   trunk/UI/GTK2/metase-gtk2.glade
   trunk/UI/GTK2/src/PinotSettings.cpp
   trunk/UI/GTK2/src/PinotSettings.h
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/mainWindow.hh
   trunk/UI/GTK2/src/mainWindow_glade.cc
   trunk/UI/GTK2/src/mainWindow_glade.hh
Log:
Simplified the UI to make it less scary to people used to Beagle :-)
By default, My Web Pages is not shown and the queries and engines lists are
hidden. The latter is shown/hidden by using the toggle button on the left
of the query field.
This and the previous changes to the Preferences box were suggested by
Manuel Breitfeld &lt;manu_foren at gmx dot net&gt;.


Modified: trunk/UI/GTK2/metase-gtk2.glade
===================================================================
--- trunk/UI/GTK2/metase-gtk2.glade	2006-10-14 04:41:32 UTC (rev 510)
+++ trunk/UI/GTK2/metase-gtk2.glade	2006-10-14 05:22:45 UTC (rev 511)
@@ -437,7 +437,7 @@
 
 	  &lt;child&gt;
 	    &lt;widget class=&quot;GtkVBox&quot; id=&quot;leftVbox&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
 	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
 	      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
 
@@ -550,6 +550,36 @@
 		  &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
 
 		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkToggleButton&quot; id=&quot;enginesTogglebutton&quot;&gt;
+		      &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+		      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
+		      &lt;signal name=&quot;toggled&quot; handler=&quot;on_enginesTogglebutton_toggled&quot; last_modification_time=&quot;Sat, 14 Oct 2006 05:02:18 GMT&quot;/&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImage&quot; id=&quot;image616&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock&quot;&gt;gtk-justify-left&lt;/property&gt;
+			  &lt;property name=&quot;icon_size&quot;&gt;4&lt;/property&gt;
+			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+		    &lt;/widget&gt;
+		    &lt;packing&gt;
+		      &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
+		      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+		    &lt;/packing&gt;
+		  &lt;/child&gt;
+
+		  &lt;child&gt;
 		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;liveQueryLabel&quot;&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Query:&lt;/property&gt;
@@ -579,6 +609,7 @@
 		      &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;has_focus&quot;&gt;True&lt;/property&gt;
 		      &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
 		      &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
 		      &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
@@ -635,7 +666,7 @@
 		  &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
 		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;expanded&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;expanded&quot;&gt;False&lt;/property&gt;
 		  &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
 
 		  &lt;child&gt;

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2006-10-14 04:41:32 UTC (rev 510)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2006-10-14 05:22:45 UTC (rev 511)
@@ -90,7 +90,8 @@
 	m_width(0),
 	m_height(0),
 	m_panePos(-1),
-	m_expandQueries(true),
+	m_showEngines(false),
+	m_expandQueries(false),
 	m_ignoreRobotsDirectives(false),
 	m_suggestQueryTerms(true),
 	m_newResultsColourRed(65535),
@@ -441,6 +442,17 @@
 				m_expandQueries = false;
 			}
 		}
+		else if (nodeName == &quot;showengines&quot;)
+		{
+			if (nodeContent == &quot;YES&quot;)
+			{
+				m_showEngines = true;
+			}
+			else
+			{
+				m_showEngines = false;
+			}
+		}
 	}
 
 	return true;
@@ -1015,6 +1027,7 @@
 	sprintf(numStr, &quot;%d&quot;, m_panePos);
 	addChildElement(pElem, &quot;panepos&quot;, numStr);
 	addChildElement(pElem, &quot;expandqueries&quot;, (m_expandQueries ? &quot;YES&quot; : &quot;NO&quot;));
+	addChildElement(pElem, &quot;showengines&quot;, (m_showEngines ? &quot;YES&quot; : &quot;NO&quot;));
 	// User-defined indexes
 	for (map&lt;string, string&gt;::iterator indexIter = m_indexNames.begin(); indexIter != m_indexNames.end(); ++indexIter)
 	{

Modified: trunk/UI/GTK2/src/PinotSettings.h
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.h	2006-10-14 04:41:32 UTC (rev 510)
+++ trunk/UI/GTK2/src/PinotSettings.h	2006-10-14 05:22:45 UTC (rev 511)
@@ -188,6 +188,7 @@
 		int m_width;
 		int m_height;
 		int m_panePos;
+		bool m_showEngines;
 		bool m_expandQueries;
 		bool m_ignoreRobotsDirectives;
 		bool m_suggestQueryTerms;

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2006-10-14 04:41:32 UTC (rev 510)
+++ trunk/UI/GTK2/src/mainWindow.cc	2006-10-14 05:22:45 UTC (rev 511)
@@ -106,6 +106,11 @@
 		mainHpaned-&gt;set_position(m_settings.m_panePos);
 	}
 	queryExpander-&gt;set_expanded(m_settings.m_expandQueries);
+	enginesTogglebutton-&gt;set_active(m_settings.m_showEngines);
+	if (m_settings.m_showEngines == true)
+	{
+		leftVbox-&gt;show();
+	}
 
 	// Position the engine tree
 	m_pEnginesTree = manage(new EnginesTree(enginesVbox, m_settings));
@@ -173,6 +178,7 @@
 	removeIndexButton-&gt;set_sensitive(false);
 
 	// Set tooltips
+	m_tooltips.set_tip(*enginesTogglebutton, _(&quot;Show all search engines&quot;));
 	m_tooltips.set_tip(*addIndexButton, _(&quot;Add index&quot;));
 	m_tooltips.set_tip(*removeIndexButton, _(&quot;Remove index&quot;));
 
@@ -183,9 +189,6 @@
 	set_status(_(&quot;Ready&quot;));
 	m_pNotebook-&gt;show();
 	show();
-
-	// Browse the index
-	on_index_changed(_(&quot;My Web Pages&quot;));
 }
 
 //
@@ -2254,6 +2257,21 @@
 }
 
 //
+// Show or hide the engines list
+//
+void mainWindow::on_enginesTogglebutton_toggled()
+{
+	if (enginesTogglebutton-&gt;get_active() == true)
+	{
+		leftVbox-&gt;show();
+	}
+	else
+	{
+		leftVbox-&gt;hide();
+	}
+}
+
+//
 // Live query entry change
 //
 void mainWindow::on_liveQueryEntry_changed()
@@ -2511,6 +2529,7 @@
 	get_size(m_settings.m_width, m_settings.m_height);
 	m_settings.m_panePos = mainHpaned-&gt;get_position();
 	m_settings.m_expandQueries = queryExpander-&gt;get_expanded();
+	m_settings.m_showEngines = enginesTogglebutton-&gt;get_active();
 #ifdef DEBUG
 	cout &lt;&lt; &quot;mainWindow::on_mainWindow_delete_event: quitting&quot; &lt;&lt; endl;
 #endif

Modified: trunk/UI/GTK2/src/mainWindow.hh
===================================================================
--- trunk/UI/GTK2/src/mainWindow.hh	2006-10-14 04:41:32 UTC (rev 510)
+++ trunk/UI/GTK2/src/mainWindow.hh	2006-10-14 05:22:45 UTC (rev 511)
@@ -102,6 +102,8 @@
 	virtual void on_addIndexButton_clicked();
 	virtual void on_removeIndexButton_clicked();
 
+	virtual void on_enginesTogglebutton_toggled();
+
 	virtual void on_liveQueryEntry_changed();
 	virtual void on_liveQueryEntry_activate();
 	virtual void on_findButton_clicked();

Modified: trunk/UI/GTK2/src/mainWindow_glade.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow_glade.cc	2006-10-14 04:41:32 UTC (rev 510)
+++ trunk/UI/GTK2/src/mainWindow_glade.cc	2006-10-14 05:22:45 UTC (rev 511)
@@ -1,9 +1,9 @@
-// generated 2006/6/22 14:44:31 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at fabrix.asgent-tech.com.</A>(none)
+// generated 2006/10/14 13:10:37 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
-// glade-- /home/fabrice/Desktop/pinot-0.49/UI/GTK2/metase-gtk2.glade
-// for gtk 2.8.19 and gtkmm 2.8.3
+// glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
+// for gtk 2.8.20 and gtkmm 2.8.8
 //
 // Please modify the corresponding derived classes in ./src/mainWindow.cc
 
@@ -80,27 +80,26 @@
    hostnamegroup1 = NULL;
    Gtk::Menu *groupresults1_menu = Gtk::manage(new class Gtk::Menu());
    groupresults1 = NULL;
-   Gtk::Image *image608 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-clear&quot;), Gtk::IconSize(1)));
+   Gtk::Image *image610 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-clear&quot;), Gtk::IconSize(1)));
    clearresults1 = NULL;
-   Gtk::MenuItem *separator4 = NULL;
-   Gtk::Image *image609 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-find&quot;), Gtk::IconSize(1)));
-   morelikethis1 = NULL;
    Gtk::MenuItem *separator1 = NULL;
    viewresults1 = NULL;
    viewcache1 = NULL;
+   Gtk::Image *image611 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-find&quot;), Gtk::IconSize(1)));
+   morelikethis1 = NULL;
    indexresults1 = NULL;
    Gtk::Menu *resultsMenuitem_menu = Gtk::manage(new class Gtk::Menu());
    resultsMenuitem = NULL;
    list1 = NULL;
-   Gtk::Image *image610 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-open&quot;), Gtk::IconSize(1)));
+   Gtk::Image *image612 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-open&quot;), Gtk::IconSize(1)));
    import1 = NULL;
    Gtk::MenuItem *separator3 = NULL;
    viewfromindex1 = NULL;
-   Gtk::Image *image611 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-refresh&quot;), Gtk::IconSize(1)));
+   Gtk::Image *image613 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-refresh&quot;), Gtk::IconSize(1)));
    refreshindex1 = NULL;
-   Gtk::Image *image612 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-delete&quot;), Gtk::IconSize(1)));
+   Gtk::Image *image614 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-delete&quot;), Gtk::IconSize(1)));
    unindex1 = NULL;
-   Gtk::Image *image613 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-properties&quot;), Gtk::IconSize(1)));
+   Gtk::Image *image615 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-properties&quot;), Gtk::IconSize(1)));
    showfromindex1 = NULL;
    Gtk::Menu *indexMenuitem_menu = Gtk::manage(new class Gtk::Menu());
    indexMenuitem = NULL;
@@ -117,7 +116,11 @@
    removeIndexButton = Gtk::manage(new class Gtk::Button());
    
    Gtk::HBox *indexHbox = Gtk::manage(new class Gtk::HBox(true, 4));
-   Gtk::VBox *leftVbox = Gtk::manage(new class Gtk::VBox(false, 0));
+   leftVbox = Gtk::manage(new class Gtk::VBox(false, 0));
+   
+   Gtk::Image *image616 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-justify-left&quot;), Gtk::IconSize(4)));
+   enginesTogglebutton = Gtk::manage(new class Gtk::ToggleButton());
+   
    Gtk::Label *liveQueryLabel = Gtk::manage(new class Gtk::Label(_(&quot;Query:&quot;)));
    liveQueryEntry = Gtk::manage(new class Gtk::Entry());
    findButton = Gtk::manage(new class Gtk::Button(Gtk::StockID(&quot;gtk-find&quot;)));
@@ -186,16 +189,10 @@
    resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;Group By&quot;), *groupresults1_menu));
    groupresults1 = (Gtk::MenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
    
-   resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Clear List&quot;), *image608));
+   resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Clear List&quot;), *image610));
    clearresults1 = (Gtk::ImageMenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
    
    resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::SeparatorElem());
-   separator4 = (Gtk::MenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
-   
-   resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;More Like This&quot;), *image609));
-   morelikethis1 = (Gtk::ImageMenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
-   
-   resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::SeparatorElem());
    separator1 = (Gtk::MenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
    
    resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;Vie_w&quot;)));
@@ -204,13 +201,16 @@
    resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;View Cache&quot;)));
    viewcache1 = (Gtk::MenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
    
+   resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;More Like This&quot;), *image611));
+   morelikethis1 = (Gtk::ImageMenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
+   
    resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;_Index&quot;)));
    indexresults1 = (Gtk::MenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
    
    indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;List Contents Of&quot;)));
    list1 = (Gtk::MenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
-   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Import URL&quot;), *image610));
+   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Import URL&quot;), *image612));
    import1 = (Gtk::ImageMenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
    indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::SeparatorElem());
@@ -219,13 +219,13 @@
    indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;View&quot;)));
    viewfromindex1 = (Gtk::MenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
-   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Update&quot;), *image611));
+   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Update&quot;), *image613));
    refreshindex1 = (Gtk::ImageMenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
-   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Unindex&quot;), *image612));
+   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Unindex&quot;), *image614));
    unindex1 = (Gtk::ImageMenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
-   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Properties&quot;), *image613));
+   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Properties&quot;), *image615));
    showfromindex1 = (Gtk::ImageMenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
    helpMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;_About&quot;)));
@@ -247,11 +247,7 @@
    helpMenuitem = (Gtk::MenuItem *)&amp;mainMenubar-&gt;items().back();
    showextract1-&gt;set_active(true);
    searchenginegroup1-&gt;set_active(true);
-   hostnamegroup1-&gt;set_active(false);
-   image608-&gt;set_alignment(0.5,0.5);
-   image608-&gt;set_padding(0,0);
-   image609-&gt;set_alignment(0.5,0.5);
-   image609-&gt;set_padding(0,0);
+   hostnamegroup1-&gt;set_active(true);
    image610-&gt;set_alignment(0.5,0.5);
    image610-&gt;set_padding(0,0);
    image611-&gt;set_alignment(0.5,0.5);
@@ -260,6 +256,10 @@
    image612-&gt;set_padding(0,0);
    image613-&gt;set_alignment(0.5,0.5);
    image613-&gt;set_padding(0,0);
+   image614-&gt;set_alignment(0.5,0.5);
+   image614-&gt;set_padding(0,0);
+   image615-&gt;set_alignment(0.5,0.5);
+   image615-&gt;set_padding(0,0);
    image439-&gt;set_alignment(0.5,0.5);
    image439-&gt;set_padding(0,0);
    addIndexButton-&gt;set_flags(Gtk::CAN_FOCUS);
@@ -276,6 +276,12 @@
    indexHbox-&gt;pack_start(*removeIndexButton);
    leftVbox-&gt;pack_start(*enginesVbox);
    leftVbox-&gt;pack_start(*indexHbox, Gtk::PACK_SHRINK, 0);
+   image616-&gt;set_alignment(0.5,0.5);
+   image616-&gt;set_padding(0,0);
+   enginesTogglebutton-&gt;set_flags(Gtk::CAN_FOCUS);
+   enginesTogglebutton-&gt;set_relief(Gtk::RELIEF_NORMAL);
+   enginesTogglebutton-&gt;set_active(false);
+   enginesTogglebutton-&gt;add(*image616);
    liveQueryLabel-&gt;set_alignment(0.5,0.5);
    liveQueryLabel-&gt;set_padding(0,0);
    liveQueryLabel-&gt;set_justify(Gtk::JUSTIFY_LEFT);
@@ -283,6 +289,7 @@
    liveQueryLabel-&gt;set_use_markup(false);
    liveQueryLabel-&gt;set_selectable(false);
    liveQueryEntry-&gt;set_flags(Gtk::CAN_FOCUS);
+   liveQueryEntry-&gt;grab_focus();
    liveQueryEntry-&gt;set_visibility(true);
    liveQueryEntry-&gt;set_editable(true);
    liveQueryEntry-&gt;set_max_length(0);
@@ -292,6 +299,7 @@
    findButton-&gt;set_flags(Gtk::CAN_DEFAULT);
    findButton-&gt;set_relief(Gtk::RELIEF_NORMAL);
    findVbuttonbox-&gt;pack_start(*findButton);
+   liveQueryHbox-&gt;pack_start(*enginesTogglebutton, Gtk::PACK_SHRINK, 4);
    liveQueryHbox-&gt;pack_start(*liveQueryLabel, Gtk::PACK_SHRINK, 4);
    liveQueryHbox-&gt;pack_start(*liveQueryEntry, Gtk::PACK_EXPAND_WIDGET, 4);
    liveQueryHbox-&gt;pack_start(*findVbuttonbox, Gtk::PACK_SHRINK, 4);
@@ -353,7 +361,7 @@
    queryLabel-&gt;set_selectable(false);
    queryExpander-&gt;set_flags(Gtk::CAN_FOCUS);
 #if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;=3
-   queryExpander-&gt;set_expanded(true);
+   queryExpander-&gt;set_expanded(false);
    queryExpander-&gt;set_spacing(0);
 #endif //
    queryExpander-&gt;add(*queryHbox);
@@ -392,26 +400,25 @@
    searchenginegroup1-&gt;show();
    hostnamegroup1-&gt;show();
    groupresults1-&gt;show();
-   image608-&gt;show();
+   image610-&gt;show();
    clearresults1-&gt;show();
-   separator4-&gt;show();
-   image609-&gt;show();
-   morelikethis1-&gt;show();
    separator1-&gt;show();
    viewresults1-&gt;show();
    viewcache1-&gt;show();
+   image611-&gt;show();
+   morelikethis1-&gt;show();
    indexresults1-&gt;show();
    resultsMenuitem-&gt;show();
    list1-&gt;show();
-   image610-&gt;show();
+   image612-&gt;show();
    import1-&gt;show();
    separator3-&gt;show();
    viewfromindex1-&gt;show();
-   image611-&gt;show();
+   image613-&gt;show();
    refreshindex1-&gt;show();
-   image612-&gt;show();
+   image614-&gt;show();
    unindex1-&gt;show();
-   image613-&gt;show();
+   image615-&gt;show();
    showfromindex1-&gt;show();
    indexMenuitem-&gt;show();
    about1-&gt;show();
@@ -423,7 +430,8 @@
    image438-&gt;show();
    removeIndexButton-&gt;show();
    indexHbox-&gt;show();
-   leftVbox-&gt;show();
+   image616-&gt;show();
+   enginesTogglebutton-&gt;show();
    liveQueryLabel-&gt;show();
    liveQueryEntry-&gt;show();
    findButton-&gt;show();
@@ -458,8 +466,8 @@
    showextract1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_showextract_activate), false);
    searchenginegroup1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_groupresults_activate), false);
    clearresults1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_clearresults_activate), false);
+   viewresults1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_viewresults_activate), false);
    morelikethis1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_morelikethis_activate), false);
-   viewresults1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_viewresults_activate), false);
    indexresults1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_indexresults_activate), false);
    import1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_import_activate), false);
    viewfromindex1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_viewfromindex_activate), false);
@@ -469,6 +477,7 @@
    about1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_about_activate), false);
    addIndexButton-&gt;signal_clicked().connect(SigC::slot(*this, &amp;mainWindow_glade::on_addIndexButton_clicked), false);
    removeIndexButton-&gt;signal_clicked().connect(SigC::slot(*this, &amp;mainWindow_glade::on_removeIndexButton_clicked), false);
+   enginesTogglebutton-&gt;signal_toggled().connect(SigC::slot(*this, &amp;mainWindow_glade::on_enginesTogglebutton_toggled), false);
    liveQueryEntry-&gt;signal_changed().connect(SigC::slot(*this, &amp;mainWindow_glade::on_liveQueryEntry_changed), false);
    liveQueryEntry-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_liveQueryEntry_activate), false);
    findButton-&gt;signal_clicked().connect(SigC::slot(*this, &amp;mainWindow_glade::on_findButton_clicked), false);

Modified: trunk/UI/GTK2/src/mainWindow_glade.hh
===================================================================
--- trunk/UI/GTK2/src/mainWindow_glade.hh	2006-10-14 04:41:32 UTC (rev 510)
+++ trunk/UI/GTK2/src/mainWindow_glade.hh	2006-10-14 05:22:45 UTC (rev 511)
@@ -1,9 +1,9 @@
-// generated 2006/6/22 14:44:31 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at fabrix.asgent-tech.com.</A>(none)
+// generated 2006/10/14 13:07:15 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
-// glade-- /home/fabrice/Desktop/pinot-0.49/UI/GTK2/metase-gtk2.glade
-// for gtk 2.8.19 and gtkmm 2.8.3
+// glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
+// for gtk 2.8.20 and gtkmm 2.8.8
 //
 // Please modify the corresponding derived classes in ./src/mainWindow.hh and./src/mainWindow.cc
 
@@ -38,6 +38,7 @@
 #include &lt;gtkmm/radiomenuitem.h&gt;
 #include &lt;gtkmm/box.h&gt;
 #include &lt;gtkmm/button.h&gt;
+#include &lt;gtkmm/togglebutton.h&gt;
 #include &lt;gtkmm/entry.h&gt;
 #include &lt;gtkmm/treeview.h&gt;
 #include &lt;gtkmm/handlebox.h&gt;
@@ -70,9 +71,9 @@
         class Gtk::RadioMenuItem * hostnamegroup1;
         class Gtk::MenuItem * groupresults1;
         class Gtk::ImageMenuItem * clearresults1;
-        class Gtk::ImageMenuItem * morelikethis1;
         class Gtk::MenuItem * viewresults1;
         class Gtk::MenuItem * viewcache1;
+        class Gtk::ImageMenuItem * morelikethis1;
         class Gtk::MenuItem * indexresults1;
         class Gtk::MenuItem * resultsMenuitem;
         class Gtk::MenuItem * list1;
@@ -87,6 +88,8 @@
         class Gtk::VBox * enginesVbox;
         class Gtk::Button * addIndexButton;
         class Gtk::Button * removeIndexButton;
+        class Gtk::VBox * leftVbox;
+        class Gtk::ToggleButton * enginesTogglebutton;
         class Gtk::Entry * liveQueryEntry;
         class Gtk::Button * findButton;
         class Gtk::TreeView * queryTreeview;
@@ -117,8 +120,8 @@
         virtual void on_showextract_activate() = 0;
         virtual void on_groupresults_activate() = 0;
         virtual void on_clearresults_activate() = 0;
+        virtual void on_viewresults_activate() = 0;
         virtual void on_morelikethis_activate() = 0;
-        virtual void on_viewresults_activate() = 0;
         virtual void on_indexresults_activate() = 0;
         virtual void on_import_activate() = 0;
         virtual void on_viewfromindex_activate() = 0;
@@ -128,6 +131,7 @@
         virtual void on_about_activate() = 0;
         virtual void on_addIndexButton_clicked() = 0;
         virtual void on_removeIndexButton_clicked() = 0;
+        virtual void on_enginesTogglebutton_toggled() = 0;
         virtual void on_liveQueryEntry_changed() = 0;
         virtual void on_liveQueryEntry_activate() = 0;
         virtual void on_findButton_clicked() = 0;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000502.html">[Pinot-svn] r510 - in trunk: Collect Index Search UI/GTK2/src
</A></li>
	<LI>Next message: <A HREF="000505.html">[Pinot-svn] r512 - trunk/UI/GTK2/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#504">[ date ]</a>
              <a href="thread.html#504">[ thread ]</a>
              <a href="subject.html#504">[ subject ]</a>
              <a href="author.html#504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pinot-svn">More information about the Pinot-svn
mailing list</a><br>
</body></html>
