From fabricecolin at mail.berlios.de  Mon Jun  7 17:41:32 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 7 Jun 2010 17:41:32 +0200
Subject: [Pinot-svn] r1699 - trunk/IndexSearch/Xapian
Message-ID: <201006071541.o57FfWQe000837@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-07 17:40:23 +0200 (Mon, 07 Jun 2010)
New Revision: 1699

Modified:
   trunk/IndexSearch/Xapian/LanguageDetector.cpp
Log:
Check the handle before attempting to close it.


Modified: trunk/IndexSearch/Xapian/LanguageDetector.cpp
===================================================================
--- trunk/IndexSearch/Xapian/LanguageDetector.cpp	2010-03-30 13:05:52 UTC (rev 1698)
+++ trunk/IndexSearch/Xapian/LanguageDetector.cpp	2010-06-07 15:40:23 UTC (rev 1699)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2009 Fabrice Colin
+ *  Copyright 2005-2010 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -83,8 +83,11 @@
 LanguageDetector::~LanguageDetector()
 {
 #ifdef USE_TEXTCAT
-	// Close the descriptor
-	textcat_Done(m_pHandle);
+	if (m_pHandle != NULL)
+	{
+		// Close the descriptor
+		textcat_Done(m_pHandle);
+	}
 	pthread_mutex_destroy(&m_mutex);
 #endif
 }



From fabricecolin at mail.berlios.de  Sat Jun 12 06:06:45 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 12 Jun 2010 06:06:45 +0200
Subject: [Pinot-svn] r1700 - trunk
Message-ID: <201006120406.o5C46jcB015732@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-12 06:06:41 +0200 (Sat, 12 Jun 2010)
New Revision: 1700

Modified:
   trunk/README
Log:
Make it clear operators should be upper-case.
"hu", "ro" and "tr" were missing from the list of language codes.


Modified: trunk/README
===================================================================
--- trunk/README	2010-06-07 15:40:23 UTC (rev 1699)
+++ trunk/README	2010-06-12 04:06:41 UTC (rev 1700)
@@ -194,8 +194,10 @@
   expressed in a very natural way, using a combination of operators, filters
   and ranges. This query syntax is the syntax supported natively by Xapian's
   QueryParser and is documented at http://www.xapian.org/docs/queryparser.html
-  For instance, the query "type:text/html and lang:en and (tcp near ip)" will
-  look for HTML files in English that mention TCP/IP. 
+  For instance, the query "type:text/html AND lang:en AND (tcp NEAR ip)" will
+  look for HTML files in English that mention TCP/IP. Note that all operators
+  should be specified in capitals, eg "AND" not "and". The latter will be
+  treated as a regular term.
 
   Pinot supports these query filters :
       "site" for host name, eg "site:pinot.berlios.de"
@@ -211,8 +213,8 @@
       "label" for label, eg "label:Important"
 
   The directory filter is recursive, ie it applies to sub-directories.
-  Allowed language codes are "da", "nl", "en", "fi", "fr", "de", "it", "nn", "pt",
-  "ru", "es" and "sv".
+  Allowed language codes are "da", "nl", "en", "fi", "fr", "de", "hu", "it",
+  "nn", "pt", "ro", "ru", "es", "sv" and "tr".
 
   Stemming is available to stored queries for which a stemming language is
   defined. If such a query doesn't return any exact match, the query terms are



From fabricecolin at mail.berlios.de  Sat Jun 12 06:38:03 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 12 Jun 2010 06:38:03 +0200
Subject: [Pinot-svn] r1701 - in trunk: Core UI/GTK2/src
Message-ID: <201006120438.o5C4c3I7021733@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-12 06:37:51 +0200 (Sat, 12 Jun 2010)
New Revision: 1701

Modified:
   trunk/Core/pinot-dbus-daemon.cpp
   trunk/Core/pinot-index.cpp
   trunk/UI/GTK2/src/pinot.cc
Log:
Prefer Chert to Flint.


Modified: trunk/Core/pinot-dbus-daemon.cpp
===================================================================
--- trunk/Core/pinot-dbus-daemon.cpp	2010-06-12 04:06:41 UTC (rev 1700)
+++ trunk/Core/pinot-dbus-daemon.cpp	2010-06-12 04:37:51 UTC (rev 1701)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2009 Fabrice Colin
+ *  Copyright 2005-2010 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -432,8 +432,8 @@
 	Glib::set_application_name("Pinot Daemon");
 #endif
 
-	// This should make Xapian use Flint rather than Quartz
-	Glib::setenv("XAPIAN_PREFER_FLINT", "1");
+	// This should make Xapian use Chert rather than Flint
+	Glib::setenv("XAPIAN_PREFER_CHERT", "1");
 
 	// Make the locale follow the environment variables
 	setlocale(LC_ALL, "");

Modified: trunk/Core/pinot-index.cpp
===================================================================
--- trunk/Core/pinot-index.cpp	2010-06-12 04:06:41 UTC (rev 1700)
+++ trunk/Core/pinot-index.cpp	2010-06-12 04:37:51 UTC (rev 1701)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2009 Fabrice Colin
+ *  Copyright 2005-2010 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -271,8 +271,8 @@
 	g_refMainLoop = Glib::MainLoop::create();
 	Glib::set_application_name("Pinot Indexer");
 
-	// This should make Xapian use Flint rather than Quartz
-	Glib::setenv("XAPIAN_PREFER_FLINT", "1");
+	// This should make Xapian use Chert rather than Flint
+	Glib::setenv("XAPIAN_PREFER_CHERT", "1");
 
 	// This will create the necessary directories on the first run
 	PinotSettings &settings = PinotSettings::getInstance();

Modified: trunk/UI/GTK2/src/pinot.cc
===================================================================
--- trunk/UI/GTK2/src/pinot.cc	2010-06-12 04:06:41 UTC (rev 1700)
+++ trunk/UI/GTK2/src/pinot.cc	2010-06-12 04:37:51 UTC (rev 1701)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2009 Fabrice Colin
+ *  Copyright 2005-2010 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -223,8 +223,8 @@
 		Glib::set_application_name("Pinot Preferences");
 	}
 
-	// This should make Xapian use Flint rather than Quartz
-	Glib::setenv("XAPIAN_PREFER_FLINT", "1");
+	// This should make Xapian use Chert rather than Flint
+	Glib::setenv("XAPIAN_PREFER_CHERT", "1");
 	// This will be useful for indexes served by xapian-progsrv+ssh
 	Glib::setenv("SSH_ASKPASS", prefixDir + "/libexec/openssh/ssh-askpass");
 



From fabricecolin at mail.berlios.de  Tue Jun 15 18:12:19 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 15 Jun 2010 18:12:19 +0200
Subject: [Pinot-svn] r1702 - trunk/SQL
Message-ID: <201006151612.o5FGCJIM016510@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-15 18:12:17 +0200 (Tue, 15 Jun 2010)
New Revision: 1702

Modified:
   trunk/SQL/SQLiteBase.cpp
   trunk/SQL/SQLiteBase.h
Log:
Slightly better transaction support, error reporting.
Clear compiled statements on close().
Removed _USE_VSNPRINTF conditioned code.


Modified: trunk/SQL/SQLiteBase.cpp
===================================================================
--- trunk/SQL/SQLiteBase.cpp	2010-06-12 04:37:51 UTC (rev 1701)
+++ trunk/SQL/SQLiteBase.cpp	2010-06-15 16:12:17 UTC (rev 1702)
@@ -24,6 +24,8 @@
 #include <utility>
 #include <iostream>
 
+#include "config.h"
+#include "NLS.h"
 #include "SQLiteBase.h"
 
 using std::clog;
@@ -195,9 +197,6 @@
 		{
 			m_done = true;
 		}
-#ifdef DEBUG
-		clog << "SQLiteResults::nextRow: no more row" << endl;
-#endif
 
 		return NULL;
 	}
@@ -251,6 +250,7 @@
 	bool readOnly, bool onDemand) :
 	SQLDB(databaseName, readOnly),
 	m_onDemand(onDemand),
+	m_inTransaction(false),
 	m_pDatabase(NULL)
 {
 	if (m_onDemand == false)
@@ -283,6 +283,25 @@
 	return true;
 }
 
+void SQLiteBase::executeSimpleStatement(const string &sql, int &execError)
+{
+	char *errMsg = NULL;
+
+	execError = sqlite3_exec(m_pDatabase,
+		sql.c_str(), 
+		NULL, NULL, // No callback
+		&errMsg);
+	if (execError != SQLITE_OK)
+	{
+		if (errMsg != NULL)
+		{
+			clog << m_databaseName << ": " << errMsg << endl;
+
+			sqlite3_free(errMsg);
+		}
+	}
+}
+
 void SQLiteBase::open(void)
 {
 	int openFlags = SQLITE_OPEN_READWRITE|SQLITE_OPEN_CREATE;
@@ -293,15 +312,15 @@
 	}
 
 	// Open the new database
+	// FIXME: ensure it's in mode SQLITE_CONFIG_SERIALIZED
 	if (sqlite3_open_v2(m_databaseName.c_str(), &m_pDatabase,
 		openFlags, NULL) != SQLITE_OK)
 	{
 		// An handle is returned even when an error occurs !
 		if (m_pDatabase != NULL)
 		{
-			clog << sqlite3_errmsg(m_pDatabase) << endl;
+			clog << m_databaseName << ": " << sqlite3_errmsg(m_pDatabase) << endl;
 			close();
-			m_pDatabase = NULL;
 		}
 	}
 
@@ -322,8 +341,10 @@
 	{
 		for_each(m_statements.begin(), m_statements.end(),
 			DeleteStatementsFunc());
+		m_statements.clear();
 
 		sqlite3_close(m_pDatabase);
+		m_pDatabase = NULL;
 	}
 }
 
@@ -381,24 +402,95 @@
 
 bool SQLiteBase::beginTransaction(void)
 {
-	if (m_onDemand == true)
+	if ((m_pDatabase == NULL) ||
+		(m_onDemand == true) ||
+		(m_inTransaction == true))
 	{
 		// Not applicable
 		return true;
 	}
 
-	return executeSimpleStatement("BEGIN TRANSACTION;");
+	if (executeSimpleStatement("BEGIN TRANSACTION;") == true)
+	{
+		m_inTransaction = true;
+		return true;
+	}
+
+	clog << m_databaseName << ": " << _("failed to begin transaction") << endl;
+
+	return false;
 }
 
+bool SQLiteBase::rollbackTransaction(void)
+{
+	if ((m_pDatabase == NULL) ||
+		(m_onDemand == true) ||
+		(m_inTransaction == false))
+	{
+		// Not applicable
+		return true;
+	}
+
+	int execError = SQLITE_OK;
+
+	do
+	{
+		executeSimpleStatement("ROLLBACK TRANSACTION;", execError);
+		if (execError == SQLITE_OK)
+		{
+			m_inTransaction = false;
+			return true;
+		}
+		if (execError != SQLITE_BUSY)
+		{
+			return false;
+		}
+
+		// This failed because operations are pending
+		// Sleep roughly a sixth of a second, ie around 10 write operations
+		usleep(150000);
+	}
+	while (execError != SQLITE_OK);
+
+	clog << m_databaseName << ": " << _("failed to rollback transaction") << endl;
+
+	return false;
+}
+
 bool SQLiteBase::endTransaction(void)
 {
-	if (m_onDemand == true)
+	if ((m_pDatabase == NULL) ||
+		(m_onDemand == true) ||
+		(m_inTransaction == false))
 	{
 		// Not applicable
 		return true;
 	}
 
-	return executeSimpleStatement("END TRANSACTION;");
+	int execError = SQLITE_OK;
+
+	do
+	{
+		executeSimpleStatement("END TRANSACTION;", execError);
+		if (execError == SQLITE_OK)
+		{
+			m_inTransaction = false;
+			return true;
+		}
+		if (execError != SQLITE_BUSY)
+		{
+			return false;
+		}
+
+		// This failed because write operations are pending
+		// Sleep roughly a sixth of a second, ie around 10 write operations
+		usleep(150000);
+	}
+	while (execError != SQLITE_OK);
+
+	clog << m_databaseName << ": " << _("failed to end transaction") << endl;
+
+	return false;
 }
 
 bool SQLiteBase::executeSimpleStatement(const string &sql)
@@ -420,19 +512,12 @@
 		return false;
 	}
 
-	if (sqlite3_exec(m_pDatabase,
-		sql.c_str(), 
-		NULL, NULL, // No callback
-		&errMsg) != SQLITE_OK)
+	int execError = SQLITE_OK;
+
+	executeSimpleStatement(sql, execError);
+	if (execError == SQLITE_OK)
 	{
-		if (errMsg != NULL)
-		{
-			clog << m_databaseName << ": statement <" << sql << "> failed: " << errMsg << endl;
-
-			sqlite3_free(errMsg);
-		}
-
-		success = false;
+		success = true;
 	}
 	if (m_onDemand == true)
 	{
@@ -445,9 +530,6 @@
 SQLResults *SQLiteBase::executeStatement(const char *sqlFormat, ...)
 {
 	SQLiteResults *pResults = NULL;
-#ifdef _USE_VSNPRINTF
-	char stringBuff[2048];
-#endif
 	va_list ap;
 
 	if (sqlFormat == NULL)
@@ -465,46 +547,17 @@
 	}
 
 	va_start(ap, sqlFormat);
-#ifdef _USE_VSNPRINTF
-	int numChars = vsnprintf(stringBuff, 2048, sqlFormat, ap);
-	if (numChars <= 0)
-	{
-#ifdef DEBUG
-		clog << "SQLiteBase::executeStatement: couldn't format statement" << endl;
-#endif
-		if (m_onDemand == true)
-		{
-			close();
-		}
-		return NULL;
-	}
-	if (numChars >= 2048)
-	{
-		// Not enough space
-#ifdef DEBUG
-		clog << "SQLiteBase::executeStatement: not enough space (" << numChars << ")" << endl;
-#endif
-		if (m_onDemand == true)
-		{
-			close();
-		}
-		return NULL;
-	}
-	stringBuff[numChars] = '\0';
-#else
 	char *stringBuff = sqlite3_vmprintf(sqlFormat, ap);
 	if (stringBuff == NULL)
 	{
-#ifdef DEBUG
-		clog << "SQLiteBase::executeStatement: couldn't format statement" << endl;
-#endif
+		clog << m_databaseName << ": " << _("couldn't format SQL statement") << endl;
+
 		if (m_onDemand == true)
 		{
 			close();
 		}
 		return NULL;
 	}
-#endif
 
 	char **results;
 	char *errMsg;
@@ -518,7 +571,7 @@
 	{
 		if (errMsg != NULL)
 		{
-			clog << m_databaseName << ": statement <" << stringBuff << "> failed: " << errMsg << endl;
+			clog << m_databaseName << ": SQL statement <" << stringBuff << "> failed: " << errMsg << endl;
 
 			sqlite3_free(errMsg);
 		}
@@ -528,9 +581,8 @@
 		pResults = new SQLiteResults(results, (unsigned long)nRows, (unsigned int)nColumns);
 	}
 	va_end(ap);
-#ifndef _USE_VSNPRINTF
 	sqlite3_free(stringBuff);
-#endif
+
 	if (m_onDemand == true)
 	{
 		close();
@@ -553,7 +605,7 @@
 	if (statIter != m_statements.end())
 	{
 #ifdef DEBUG
-		clog << "SQLiteBase::prepareStatement: already compiled statement ID " << statementId << endl;
+		clog << "SQLiteBase::prepareStatement: already compiled SQL statement ID " << statementId << endl;
 #endif
 		return true;
 	}
@@ -568,14 +620,14 @@
 		if (pStatement != NULL)
 		{
 #ifdef DEBUG
-			clog << "SQLiteBase::prepareStatement: compiled statement ID " << statementId << endl;
+			clog << "SQLiteBase::prepareStatement: compiled SQL statement ID " << statementId << endl;
 #endif
 			m_statements.insert(pair<string, sqlite3_stmt*>(statementId, pStatement));
 			return true;
 		}
 	}
 
-	clog << m_databaseName << ": failed to compile statement <" << sqlFormat << ">" << endl;
+	clog << m_databaseName << ": failed to compile SQL statement " << statementId << endl;
 
 	return false;
 }
@@ -589,7 +641,7 @@
 	if (statIter == m_statements.end())
 	{
 #ifdef DEBUG
-		clog << "SQLiteBase::executePreparedStatement: invalid statement ID " << statementId << endl;
+		clog << "SQLiteBase::executePreparedStatement: invalid SQL statement ID " << statementId << endl;
 #endif
 		return NULL;
 	}
@@ -604,7 +656,7 @@
 		if (errorCode != SQLITE_OK)
 		{
 			clog << m_databaseName << ": failed to bind parameter " << paramIndex
-				<< " to statement ID " << statementId << ": error " << errorCode << endl;
+				<< " to SQL statement ID " << statementId << ": error " << errorCode << endl;
 			return NULL;
 		}
 	}

Modified: trunk/SQL/SQLiteBase.h
===================================================================
--- trunk/SQL/SQLiteBase.h	2010-06-12 04:37:51 UTC (rev 1701)
+++ trunk/SQL/SQLiteBase.h	2010-06-15 16:12:17 UTC (rev 1702)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2009 Fabrice Colin
+ *  Copyright 2005-2010 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -88,6 +88,8 @@
 
 		virtual bool beginTransaction(void);
 
+		virtual bool rollbackTransaction(void);
+
 		virtual bool endTransaction(void);
 
 		virtual bool executeSimpleStatement(const std::string &sql);
@@ -102,10 +104,14 @@
 
 	protected:
 		bool m_onDemand;
+		bool m_inTransaction;
 		sqlite3 *m_pDatabase;
 		std::map<std::string, sqlite3_stmt*> m_statements;
 
+		void executeSimpleStatement(const std::string &sql, int &execError);
+
 		void open(void);
+
 		void close(void);
 
 	private:



From fabricecolin at mail.berlios.de  Sat Jun 19 10:53:15 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jun 2010 10:53:15 +0200
Subject: [Pinot-svn] r1703 - trunk/UI/GTK2/src
Message-ID: <201006190853.o5J8rFIA007596@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-19 10:53:13 +0200 (Sat, 19 Jun 2010)
New Revision: 1703

Modified:
   trunk/UI/GTK2/src/mainWindow.cc
Log:
Extended about box copyright to 2010.
Launch preferences with pinot -p in case the pinot-prefs symlink doesn't exist.


Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2010-06-15 16:12:17 UTC (rev 1702)
+++ trunk/UI/GTK2/src/mainWindow.cc	2010-06-19 08:53:13 UTC (rev 1703)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2009 Fabrice Colin
+ *  Copyright 2005-2010 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -1934,7 +1934,7 @@
 
 void mainWindow::on_preferences_activate()
 {
-	MIMEAction prefsAction("pinot-prefs", "pinot-prefs");
+	MIMEAction prefsAction("pinot-prefs", "pinot -p");
 	vector<string> arguments;
 
 	// Save the settings first as any change in preferences will make the daemon reload the whole thing
@@ -2586,7 +2586,7 @@
 
 	aboutBox.set_comments(_("A metasearch tool for the Free Desktop") + string(".\n") +
 		_("Search the Web and your documents !"));
-	aboutBox.set_copyright("(C) 2005-2009 Fabrice Colin");
+	aboutBox.set_copyright("(C) 2005-2010 Fabrice Colin");
 	aboutBox.set_name("Pinot");
 	aboutBox.set_version(VERSION);
 	aboutBox.set_website("http://pinot.berlios.de/");



From fabricecolin at mail.berlios.de  Sat Jun 19 10:53:50 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jun 2010 10:53:50 +0200
Subject: [Pinot-svn] r1704 - trunk/SQL
Message-ID: <201006190853.o5J8roMc007663@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-19 10:53:48 +0200 (Sat, 19 Jun 2010)
New Revision: 1704

Modified:
   trunk/SQL/CrawlHistory.cpp
   trunk/SQL/CrawlHistory.h
Log:
Prepare a lot more statements.


Modified: trunk/SQL/CrawlHistory.cpp
===================================================================
--- trunk/SQL/CrawlHistory.cpp	2010-06-19 08:53:13 UTC (rev 1703)
+++ trunk/SQL/CrawlHistory.cpp	2010-06-19 08:53:48 UTC (rev 1704)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2009 Fabrice Colin
+ *  Copyright 2005-2010 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -37,14 +37,36 @@
 CrawlHistory::CrawlHistory(const string &database) :
 	SQLiteBase(database, false, false)
 {
+	prepareStatement("has-source",
+		"SELECT SourceID FROM CrawlSources WHERE Url=?;");
+	prepareStatement("get-sources",
+		"SELECT SourceID, Url FROM CrawlSources;");
+	prepareStatement("insert-item",
+		"INSERT INTO CrawlHistory VALUES(?, ?, ?, ?, ?);");
 	prepareStatement("has-item",
 		"SELECT Status, Date FROM CrawlHistory WHERE Url=?;");
+	prepareStatement("update-item",
+		"UPDATE CrawlHistory SET Status=?, Date=?, ErrorNum=? WHERE Url=?;");
+	prepareStatement("update-items-status1",
+		"UPDATE CrawlHistory SET Status=? WHERE Status=?;");
+	prepareStatement("update-items-status2",
+		"UPDATE CrawlHistory SET Status=? WHERE SourceId=? AND Status=?;");
 	prepareStatement("get-items",
 		"SELECT Url FROM CrawlHistory WHERE Status=?;");
 	prepareStatement("get-source-items1",
 		"SELECT Url FROM CrawlHistory WHERE SourceId=? AND Status=? AND Date>? LIMIT ? OFFSET ?;");
 	prepareStatement("get-source-items2",
 		"SELECT Url FROM CrawlHistory WHERE SourceId=? AND Status=? LIMIT ? OFFSET ?;");
+	prepareStatement("get-items-count",
+		"SELECT COUNT(*) FROM CrawlHistory WHERE Status=?;");
+	prepareStatement("delete-item",
+		"DELETE FROM CrawlHistory WHERE Url=?;");
+	prepareStatement("delete-items1",
+		"DELETE FROM CrawlHistory WHERE SourceID=?;");
+	prepareStatement("delete-items2",
+		"DELETE FROM CrawlHistory WHERE SourceID=? AND Status=?;");
+	prepareStatement("expire-items",
+		"DELETE FROM CrawlHistory WHERE Date<?;");
 }
 
 CrawlHistory::~CrawlHistory()
@@ -200,10 +222,12 @@
 /// Checks if the source exists.
 bool CrawlHistory::hasSource(const string &url, unsigned int &sourceId)
 {
+	vector<string> values;
 	bool success = false;
 
-	SQLResults *results = executeStatement("SELECT SourceID FROM CrawlSources \
-		WHERE Url='%q';", Url::escapeUrl(url).c_str());
+	values.push_back(Url::escapeUrl(url));
+
+	SQLResults *results = executePreparedStatement("has-source", values);
 	if (results != NULL)
 	{
 		SQLRow *row = results->nextRow();
@@ -224,9 +248,10 @@
 /// Returns sources.
 unsigned int CrawlHistory::getSources(map<unsigned int, string> &sources)
 {
+	vector<string> values;
 	unsigned int count = 0;
 
-	SQLResults *results = executeStatement("SELECT SourceID, Url FROM CrawlSources;");
+	SQLResults *results = executePreparedStatement("get-sources", values);
 	if (results != NULL)
 	{
 		while (results->hasMoreRows() == true)
@@ -269,12 +294,27 @@
 bool CrawlHistory::insertItem(const string &url, CrawlStatus status, unsigned int sourceId,
 	time_t date, int errNum)
 {
+	vector<string> values;
+	stringstream numStr;
 	bool success = false;
 
-	SQLResults *results = executeStatement("INSERT INTO CrawlHistory \
-		VALUES('%q', '%q', '%u', '%d', '%d');",
-		Url::escapeUrl(url).c_str(), statusToText(status).c_str(), sourceId,
-		(date == 0 ? time(NULL) : date), errNum);
+	if (date == 0)
+	{
+		date = time(NULL);
+	}
+
+	values.push_back(Url::escapeUrl(url));
+	values.push_back(statusToText(status));
+	numStr << sourceId;
+	values.push_back(numStr.str());
+	numStr.clear();
+	numStr << date;
+	values.push_back(numStr.str());
+	numStr.clear();
+	numStr << errNum;
+	values.push_back(numStr.str());
+
+	SQLResults *results = executePreparedStatement("insert-item", values);
 	if (results != NULL)
 	{
 		success = true;
@@ -314,12 +354,24 @@
 /// Updates an URL.
 bool CrawlHistory::updateItem(const string &url, CrawlStatus status, time_t date, int errNum)
 {
+	vector<string> values;
+	stringstream numStr;
 	bool success = false;
 
-	SQLResults *results = executeStatement("UPDATE CrawlHistory \
-		SET Status='%q', Date='%d', ErrorNum='%d' WHERE Url='%q';",
-		statusToText(status).c_str(), (date == 0 ? time(NULL) : date), errNum,
-		Url::escapeUrl(url).c_str());
+	if (date == 0)
+	{
+		date = time(NULL);
+	}
+
+	values.push_back(statusToText(status));
+	numStr << date;
+	values.push_back(numStr.str());
+	numStr.clear();
+	numStr << errNum;
+	values.push_back(numStr.str());
+	values.push_back(Url::escapeUrl(url));
+
+	SQLResults *results = executePreparedStatement("update-item", values);
 	if (results != NULL)
 	{
 		success = true;
@@ -342,16 +394,10 @@
 	for (map<string, CrawlItem>::const_iterator updateIter = items.begin();
 		updateIter != items.end(); ++updateIter)
 	{
-		SQLResults *results = executeStatement("UPDATE CrawlHistory \
-			SET Status='%q', Date='%d', ErrorNum='%d' WHERE Url='%q';",
-			statusToText(updateIter->second.m_itemStatus).c_str(),
-			(updateIter->second.m_itemDate == 0 ? time(NULL) : updateIter->second.m_itemDate),
-			updateIter->second.m_errNum,
-			Url::escapeUrl(updateIter->first).c_str());
-		if (results != NULL)
+		if (updateItem(updateIter->first, updateIter->second.m_itemStatus,
+			updateIter->second.m_itemDate, updateIter->second.m_errNum) == true)
 		{
 			success = true;
-			delete results;
 		}
 	}
 
@@ -367,9 +413,12 @@
 bool CrawlHistory::updateItemsStatus(CrawlStatus oldStatus, CrawlStatus newStatus,
 	unsigned int sourceId, bool allSources)
 {
+	vector<string> values;
 	SQLResults *results = NULL;
 	bool success = false;
 
+	values.push_back(statusToText(newStatus));
+
 	if (beginTransaction() == false)
 	{
 		return false;
@@ -377,16 +426,20 @@
 
 	if (allSources == false)
 	{
-		results = executeStatement("UPDATE CrawlHistory \
-			SET Status='%q' WHERE SourceId='%u' AND Status='%q';",
-			statusToText(newStatus).c_str(), sourceId, statusToText(oldStatus).c_str());
+		stringstream numStr;
+
+		numStr << sourceId;
+		values.push_back(numStr.str());
+		values.push_back(statusToText(oldStatus));
+
+		results = executePreparedStatement("update-items-status2", values);
 	}
 	else
 	{
+		values.push_back(statusToText(oldStatus));
+
 		// Ignore the source
-		results = executeStatement("UPDATE CrawlHistory \
-			SET Status='%q' WHERE Status='%q';",
-			statusToText(newStatus).c_str(), statusToText(oldStatus).c_str());
+		results = executePreparedStatement("update-items-status1", values);
 	}
 
 	if (results != NULL)
@@ -523,10 +576,12 @@
 /// Returns the number of URLs.
 unsigned int CrawlHistory::getItemsCount(CrawlStatus status)
 {
+	vector<string> values;
 	unsigned int count = 0;
 
-	SQLResults *results = executeStatement("SELECT COUNT(*) FROM CrawlHistory WHERE Status='%q';",
-		statusToText(status).c_str());
+	values.push_back(statusToText(status));
+
+	SQLResults *results = executePreparedStatement("get-items-count", values);
 	if (results != NULL)
 	{
 		SQLRow *row = results->nextRow();
@@ -546,10 +601,12 @@
 /// Deletes an URL.
 bool CrawlHistory::deleteItem(const string &url)
 {
+	vector<string> values;
 	bool success = false;
 
-	SQLResults *results = executeStatement("DELETE FROM CrawlHistory \
-		WHERE Url='%q';", Url::escapeUrl(url).c_str());
+	values.push_back(Url::escapeUrl(url));
+
+	SQLResults *results = executePreparedStatement("delete-item", values);
 	if (results != NULL)
 	{
 		success = true;
@@ -588,9 +645,14 @@
 /// Deletes URLs belonging to a source.
 bool CrawlHistory::deleteItems(unsigned int sourceId, CrawlStatus status)
 {
+	vector<string> values;
+	stringstream numStr;
 	SQLResults *results = NULL;
 	bool success = false;
 
+	numStr << sourceId;
+	values.push_back(numStr.str());
+
 	if (beginTransaction() == false)
 	{
 		return false;
@@ -598,14 +660,13 @@
 
 	if (status == UNKNOWN)
 	{
-		results = executeStatement("DELETE FROM CrawlHistory \
-			WHERE SourceID='%u';", sourceId);
+		results = executePreparedStatement("delete-items1", values);
 	}
 	else
 	{
-		results = executeStatement("DELETE FROM CrawlHistory \
-			WHERE SourceID='%u' AND Status='%q';",
-			sourceId, statusToText(status).c_str());
+		values.push_back(statusToText(status));
+
+		results = executePreparedStatement("delete-items2", values);
 	}
 
 	if (results != NULL)
@@ -625,15 +686,19 @@
 /// Expires items older than the given date.
 bool CrawlHistory::expireItems(time_t expiryDate)
 {
+	vector<string> values;
+	stringstream numStr;
 	bool success = false;
 
+	numStr << expiryDate;
+	values.push_back(numStr.str());
+
 	if (beginTransaction() == false)
 	{
 		return false;
 	}
 
-	SQLResults *results = executeStatement("DELETE FROM CrawlHistory \
-		WHERE Date<'%d';", expiryDate);
+	SQLResults *results = executePreparedStatement("expire-items", values);
 	if (results != NULL)
 	{
 		success = true;

Modified: trunk/SQL/CrawlHistory.h
===================================================================
--- trunk/SQL/CrawlHistory.h	2010-06-19 08:53:13 UTC (rev 1703)
+++ trunk/SQL/CrawlHistory.h	2010-06-19 08:53:48 UTC (rev 1704)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2009 Fabrice Colin
+ *  Copyright 2005-2010 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by



From fabricecolin at mail.berlios.de  Sat Jun 19 11:00:02 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jun 2010 11:00:02 +0200
Subject: [Pinot-svn] r1705 - trunk
Message-ID: <201006190900.o5J9023v008066@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-19 10:59:58 +0200 (Sat, 19 Jun 2010)
New Revision: 1705

Modified:
   trunk/README
   trunk/configure.in
Log:
Added call to g_type_init() in the test program for GIO sniffing.
Set gmime dependency to "gmime-2.6 >= 2.5".
Link with -ldl.


Modified: trunk/README
===================================================================
--- trunk/README	2010-06-19 08:53:48 UTC (rev 1704)
+++ trunk/README	2010-06-19 08:59:58 UTC (rev 1705)
@@ -557,7 +557,7 @@
 libtextcat						2.2
 http://software.wise-guys.nl/libtextcat/
 
-gmime (3)						2.4.0
+gmime (3)						2.5.0
 http://spruce.sourceforge.net/gmime
 
 boost (4)						1.32.0

Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2010-06-19 08:53:48 UTC (rev 1704)
+++ trunk/configure.in	2010-06-19 08:59:58 UTC (rev 1705)
@@ -374,6 +374,9 @@
   {
     char *content_type;
     char *mime_type;
+
+    g_type_init();
+
     content_type = g_content_type_guess (NULL, data, data_size, NULL);  
     mime_type = g_content_type_get_mime_type (content_type);
     return !!strcmp (mime_type, "image/png");
@@ -390,7 +393,7 @@
 
 dnl Other libraries
 MISC_CFLAGS="$PTHREAD_CFLAGS $VISIB_CFLAGS -D_FILE_OFFSET_BITS=64"
-MISC_LIBS="$PTHREAD_LIBS"
+MISC_LIBS="$PTHREAD_LIBS -ldl"
 AC_SUBST(MISC_CFLAGS)
 AC_SUBST(MISC_LIBS)
 AC_CHECK_HEADERS([sys/vfs.h sys/statfs.h sys/mount.h sys/statvfs.h attr/xattr.h dlfcn.h regex.h fnmatch.h pwd.h ext/malloc_allocator.h])
@@ -412,7 +415,7 @@
 HTTP_LIBS="$NEON_LIBS $CURL_LIBS $SSL_LIBS"
 AC_SUBST(HTTP_CFLAGS)
 AC_SUBST(HTTP_LIBS)
-PKG_CHECK_MODULES(GMIME, gmime-2.4 >= 2.0 )
+PKG_CHECK_MODULES(GMIME, gmime-2.6 >= 2.5 )
 AC_SUBST(GMIME_CFLAGS)
 AC_SUBST(GMIME_LIBS)
 PKG_CHECK_MODULES(XML, libxml++-2.6 >= 2.12 )



From fabricecolin at mail.berlios.de  Sat Jun 19 11:18:49 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jun 2010 11:18:49 +0200
Subject: [Pinot-svn] r1706 - trunk/po
Message-ID: <201006190918.o5J9InLI008923@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-19 11:18:46 +0200 (Sat, 19 Jun 2010)
New Revision: 1706

Modified:
   trunk/po/POTFILES.in
Log:
Added SQLiteBase.cpp to the list.


Modified: trunk/po/POTFILES.in
===================================================================
--- trunk/po/POTFILES.in	2010-06-19 08:59:58 UTC (rev 1705)
+++ trunk/po/POTFILES.in	2010-06-19 09:18:46 UTC (rev 1706)
@@ -1,4 +1,5 @@
 # List of source files containing translatable strings.
+SQL/SQLiteBase.cpp
 Core/DaemonState.cpp
 Core/OnDiskHandler.cpp
 Core/pinot-dbus-daemon.cpp



From fabricecolin at mail.berlios.de  Sat Jun 19 11:30:08 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jun 2010 11:30:08 +0200
Subject: [Pinot-svn] r1707 - trunk/Core
Message-ID: <201006190930.o5J9U8ZO009530@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-19 11:30:07 +0200 (Sat, 19 Jun 2010)
New Revision: 1707

Modified:
   trunk/Core/WorkerThreads.cpp
Log:
Check symlinks against the blacklist.


Modified: trunk/Core/WorkerThreads.cpp
===================================================================
--- trunk/Core/WorkerThreads.cpp	2010-06-19 09:18:46 UTC (rev 1706)
+++ trunk/Core/WorkerThreads.cpp	2010-06-19 09:30:07 UTC (rev 1707)
@@ -2147,7 +2147,9 @@
 		string entryNameReferree;
 		bool isInIndexableLocation = false;
 
-		if (m_followSymLinks == false)
+		// If symlinks are followed, check if this symlink is blacklisted
+		if ((m_followSymLinks == false) ||
+			(PinotSettings::getInstance().isBlackListed(entryName) == false))
 		{
 #ifdef DEBUG
 			cout << "DirectoryScannerThread::scanEntry: skipped symlink " << entryName << endl;



From fabricecolin at mail.berlios.de  Sat Jun 19 11:31:03 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jun 2010 11:31:03 +0200
Subject: [Pinot-svn] r1708 - trunk/po
Message-ID: <201006190931.o5J9V3H4009585@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-19 11:31:00 +0200 (Sat, 19 Jun 2010)
New Revision: 1708

Modified:
   trunk/po/fr.po
   trunk/po/he.po
   trunk/po/pt_BR.po
   trunk/po/zh_CN.po
Log:
Updates from verdy_p, Yaron, andbelo and Eleanor Chen respectively. 


Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2010-06-19 09:30:07 UTC (rev 1707)
+++ trunk/po/fr.po	2010-06-19 09:31:00 UTC (rev 1708)
@@ -7,78 +7,78 @@
 msgstr ""
 "Project-Id-Version: pinot 0.95\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-12-06 17:50+0800\n"
+"POT-Creation-Date: 2009-09-19 14:25+0800\n"
 "PO-Revision-Date: 2010-02-28 12:55+0000\n"
 "Last-Translator: verdy_p <Unknown>\n"
 "Language-Team: fr <fabricecolin at users.berlios.de>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=utf-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2010-03-13 11:04+0000\n"
+"X-Launchpad-Export-Date: 2010-06-19 09:20+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:530 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "Inconnu"
 
-#: Core/pinot-dbus-daemon.cpp:531 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "Danois"
 
-#: Core/pinot-dbus-daemon.cpp:532 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "Hollandais"
 
-#: Core/pinot-dbus-daemon.cpp:533 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "Anglais"
 
-#: Core/pinot-dbus-daemon.cpp:534 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "Finlandais"
 
-#: Core/pinot-dbus-daemon.cpp:535 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "Francais"
 
-#: Core/pinot-dbus-daemon.cpp:536 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "Allemand"
 
-#: Core/pinot-dbus-daemon.cpp:537 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "Hongrois"
 
-#: Core/pinot-dbus-daemon.cpp:538 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "Italien"
 
-#: Core/pinot-dbus-daemon.cpp:539 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "Norvegien"
 
-#: Core/pinot-dbus-daemon.cpp:540 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "Portugais"
 
-#: Core/pinot-dbus-daemon.cpp:541 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "Roumain"
 
-#: Core/pinot-dbus-daemon.cpp:542 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "Russe"
 
-#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "Espagnol"
 
-#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "Su?dois"
 
-#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "Turc"
 
@@ -86,21 +86,21 @@
 #. Apply this label
 #. Is this an internal index ?
 #: Core/PinotSettings.cpp:436 Core/PinotSettings.cpp:1712
-#: Core/WorkerThreads.cpp:1036 UI/GTK2/src/mainWindow.cc:873
-#: UI/GTK2/src/mainWindow.cc:1139 UI/GTK2/src/mainWindow.cc:1402
-#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:1565
-#: UI/GTK2/src/mainWindow.cc:1669 UI/GTK2/src/mainWindow.cc:1703
-#: UI/GTK2/src/mainWindow.cc:1728 UI/GTK2/src/mainWindow.cc:2437
+#: Core/WorkerThreads.cpp:1042 UI/GTK2/src/mainWindow.cc:859
+#: UI/GTK2/src/mainWindow.cc:1125 UI/GTK2/src/mainWindow.cc:1388
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:1655 UI/GTK2/src/mainWindow.cc:1689
+#: UI/GTK2/src/mainWindow.cc:1714 UI/GTK2/src/mainWindow.cc:2423
 #: UI/GTK2/src/statisticsDialog.cc:157
 msgid "My Web Pages"
 msgstr "Mes Pages Web"
 
 #. Spawn new threads
 #: Core/PinotSettings.cpp:437 Core/PinotSettings.cpp:1713
-#: Core/WorkerThreads.cpp:1046 UI/GTK2/src/mainWindow.cc:1134
-#: UI/GTK2/src/mainWindow.cc:1392 UI/GTK2/src/mainWindow.cc:1406
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:1576
-#: UI/GTK2/src/mainWindow.cc:2441 UI/GTK2/src/statisticsDialog.cc:163
+#: Core/WorkerThreads.cpp:1052 UI/GTK2/src/mainWindow.cc:1120
+#: UI/GTK2/src/mainWindow.cc:1378 UI/GTK2/src/mainWindow.cc:1392
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:1562
+#: UI/GTK2/src/mainWindow.cc:2427 UI/GTK2/src/statisticsDialog.cc:163
 msgid "My Documents"
 msgstr "Mes Documents"
 
@@ -149,88 +149,88 @@
 msgid "Unclassified"
 msgstr "Sans classification"
 
-#: Core/WorkerThreads.cpp:96
+#: Core/WorkerThreads.cpp:98
 msgid "Index error"
 msgstr "Erreur sur l'index"
 
-#: Core/WorkerThreads.cpp:98
+#: Core/WorkerThreads.cpp:100
 msgid "Couldn't index document"
 msgstr "N'a pas pu indexer le document"
 
-#: Core/WorkerThreads.cpp:100
+#: Core/WorkerThreads.cpp:102
 msgid "Couldn't update document"
 msgstr "N'a pas pu mettre a jour le document"
 
-#: Core/WorkerThreads.cpp:102
+#: Core/WorkerThreads.cpp:104
 msgid "Couldn't unindex document(s)"
 msgstr "N'a pas pu desindexer le(s) document(s)"
 
-#: Core/WorkerThreads.cpp:104
+#: Core/WorkerThreads.cpp:106
 msgid "Couldn't run query on search engine"
 msgstr "N'a pas pu lancer la recherche sur le moteur"
 
-#: Core/WorkerThreads.cpp:106
+#: Core/WorkerThreads.cpp:108
 msgid "Couldn't get history for search engine"
 msgstr "N'a pas pu obtenir l'historique de la recherche"
 
-#: Core/WorkerThreads.cpp:108
+#: Core/WorkerThreads.cpp:110
 msgid "Couldn't retrieve document"
 msgstr "N'a pas pu telecharger le document"
 
-#: Core/WorkerThreads.cpp:110
+#: Core/WorkerThreads.cpp:112
 msgid "File monitor error"
 msgstr "Erreur du moniteur de fichiers"
 
-#: Core/WorkerThreads.cpp:112
+#: Core/WorkerThreads.cpp:114
 msgid "Couldn't open directory"
 msgstr "N'a pas pu ouvrir le repertoire"
 
-#: Core/WorkerThreads.cpp:114
+#: Core/WorkerThreads.cpp:116
 msgid "Index doesn't exist"
 msgstr "L'index n'existe pas"
 
-#: Core/WorkerThreads.cpp:116
+#: Core/WorkerThreads.cpp:118
 msgid "Couldn't create search engine"
 msgstr "N'a pas pu creer le moteur"
 
-#: Core/WorkerThreads.cpp:118
+#: Core/WorkerThreads.cpp:120
 msgid "Cannot index document type"
 msgstr "Impossible d'indexer ce type de documents"
 
-#: Core/WorkerThreads.cpp:120
+#: Core/WorkerThreads.cpp:122
 msgid "No downloader for this protocol"
 msgstr "Pas de brouteur pour ce protocole"
 
-#: Core/WorkerThreads.cpp:122
+#: Core/WorkerThreads.cpp:124
 msgid "Robots META tag forbids indexing"
 msgstr "Le META tag Robots interdit d'indexer"
 
-#: Core/WorkerThreads.cpp:124
+#: Core/WorkerThreads.cpp:126
 msgid "No monitoring handler"
 msgstr "Pas de moniteur de fichiers disponible"
 
-#: Core/WorkerThreads.cpp:129 UI/GTK2/src/statisticsDialog.cc:245
+#: Core/WorkerThreads.cpp:131 UI/GTK2/src/statisticsDialog.cc:245
 #: UI/GTK2/src/statisticsDialog.cc:263
 msgid "Unknown error"
 msgstr "Erreur inconnue"
 
-#: Core/WorkerThreads.cpp:439
+#: Core/WorkerThreads.cpp:440
 msgid "Indexing was stopped"
 msgstr "Indexation est arretee"
 
-#: Core/WorkerThreads.cpp:452
+#: Core/WorkerThreads.cpp:453
 msgid "Can't index mail here"
 msgstr "Ne peut pas indexer le courrier ici"
 
-#: Core/WorkerThreads.cpp:473 Core/WorkerThreads.cpp:764
+#: Core/WorkerThreads.cpp:474 Core/WorkerThreads.cpp:770
 msgid "is already being indexed"
 msgstr "est deja indexe"
 
-#: Core/WorkerThreads.cpp:483
+#: Core/WorkerThreads.cpp:484
 msgid "is blacklisted"
 msgstr "est exclus"
 
-#: Core/WorkerThreads.cpp:999
+#: Core/WorkerThreads.cpp:1005
 msgid "No title"
 msgstr "Pas de titre"
 
@@ -330,253 +330,254 @@
 msgid "Helper application"
 msgstr "Application"
 
-#: UI/GTK2/src/mainWindow.cc:200
+#: UI/GTK2/src/mainWindow.cc:189
 msgid "Query Name"
 msgstr "Nom de la Recherche"
 
-#: UI/GTK2/src/mainWindow.cc:205
+#: UI/GTK2/src/mainWindow.cc:194
 msgid "Last Run"
 msgstr "Derniere Utilisation"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:199
 msgid "Summary"
 msgstr "Sommaire"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:242
 msgid "Show all search engines"
 msgstr "Montrer tous les moteurs"
 
-#: UI/GTK2/src/mainWindow.cc:254 UI/GTK2/src/mainWindow.cc:263
-msgid "Find documents that match the query"
-msgstr "Trouver les documents qui correspondent"
-
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:243
 msgid "Find documents that match the query string"
 msgstr "Trouver les documents qui correspondent"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:244
 msgid "Add an index"
 msgstr "Ajouter un index"
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:245
 msgid "Remove an index"
 msgstr "Enlever un index"
 
-#: UI/GTK2/src/mainWindow.cc:260
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Add a query"
 msgstr "Ajouter une recherche"
 
-#: UI/GTK2/src/mainWindow.cc:261
+#: UI/GTK2/src/mainWindow.cc:247
 msgid "Remove a query"
 msgstr "Effacer une recherche"
 
-#: UI/GTK2/src/mainWindow.cc:262
+#: UI/GTK2/src/mainWindow.cc:248
 msgid "Show the query's previous results"
 msgstr "Montrer les resultats precedents"
 
+#: UI/GTK2/src/mainWindow.cc:249
+msgid "Find documents that match the query"
+msgstr "Trouver les documents qui correspondent"
+
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:282
+#: UI/GTK2/src/mainWindow.cc:268
 msgid "Ready"
 msgstr "Pret"
 
-#: UI/GTK2/src/mainWindow.cc:294
+#: UI/GTK2/src/mainWindow.cc:280
 msgid "Updating all documents in My Web Pages is recommended"
-msgstr "Il est recommende de mettre a jour tous les documents de Mes Pages Web"
+msgstr ""
+"Il est recommende de mettre a jour tous les documents de Mes Pages Web"
 
-#: UI/GTK2/src/mainWindow.cc:302
+#: UI/GTK2/src/mainWindow.cc:288
 msgid "Don't warn me again"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:310 UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow.cc:296 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "Mettre a Jour"
 
-#: UI/GTK2/src/mainWindow.cc:371
+#: UI/GTK2/src/mainWindow.cc:357
 msgid "N/A"
 msgstr "Inconnue"
 
-#: UI/GTK2/src/mainWindow.cc:389
+#: UI/GTK2/src/mainWindow.cc:375
 msgid "Undefined"
 msgstr "Indefini"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:628 UI/GTK2/src/mainWindow.cc:2833
+#: UI/GTK2/src/mainWindow.cc:614 UI/GTK2/src/mainWindow.cc:2795
 msgid "Live query"
 msgstr "Recherche"
 
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:901
+#: UI/GTK2/src/mainWindow.cc:887
 msgid "Document location is"
 msgstr "Le chemin du document is"
 
-#: UI/GTK2/src/mainWindow.cc:1120
+#: UI/GTK2/src/mainWindow.cc:1106
 msgid "Couldn't search in results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1130
+#: UI/GTK2/src/mainWindow.cc:1116
 msgid "In Results"
 msgstr "Dans Les Resultats"
 
-#: UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:1289
 msgid "Showing"
 msgstr "Montrant"
 
-#: UI/GTK2/src/mainWindow.cc:1311
+#: UI/GTK2/src/mainWindow.cc:1297
 msgid "of"
 msgstr "documents,"
 
-#: UI/GTK2/src/mainWindow.cc:1353
+#: UI/GTK2/src/mainWindow.cc:1339
 msgid "Query"
 msgstr "La recherche"
 
-#: UI/GTK2/src/mainWindow.cc:1357 UI/GTK2/src/mainWindow.cc:3378
+#: UI/GTK2/src/mainWindow.cc:1343 UI/GTK2/src/mainWindow.cc:3340
 msgid "on"
 msgstr "sur"
 
-#: UI/GTK2/src/mainWindow.cc:1361
+#: UI/GTK2/src/mainWindow.cc:1347
 msgid "ended"
 msgstr "est terminee"
 
-#: UI/GTK2/src/mainWindow.cc:1516
+#: UI/GTK2/src/mainWindow.cc:1502
 msgid "More Like"
 msgstr "Similaire a"
 
-#: UI/GTK2/src/mainWindow.cc:1583
+#: UI/GTK2/src/mainWindow.cc:1569
 msgid "Updated label(s)"
 msgstr "Mis a jour l(es) etiquette(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1679 UI/GTK2/src/mainWindow.cc:1769
+#: UI/GTK2/src/mainWindow.cc:1665 UI/GTK2/src/mainWindow.cc:1755
 msgid "Updated document"
 msgstr "Mis a jour le document"
 
-#: UI/GTK2/src/mainWindow.cc:1692
+#: UI/GTK2/src/mainWindow.cc:1678
 msgid "Indexed"
 msgstr "Indexe"
 
-#: UI/GTK2/src/mainWindow.cc:1729
+#: UI/GTK2/src/mainWindow.cc:1715
 msgid "Unindexed document(s)"
 msgstr "Desindexe le(s) document(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1824
+#: UI/GTK2/src/mainWindow.cc:1810
 msgid "Couldn't rename index, name"
 msgstr "N'a pas pu renommer l'index, le nom"
 
-#: UI/GTK2/src/mainWindow.cc:1828 UI/GTK2/src/mainWindow.cc:2637
-#: UI/GTK2/src/mainWindow.cc:3184
+#: UI/GTK2/src/mainWindow.cc:1814 UI/GTK2/src/mainWindow.cc:2623
+#: UI/GTK2/src/mainWindow.cc:3146
 msgid "is already in use"
 msgstr "est deja utilise"
 
-#: UI/GTK2/src/mainWindow.cc:1840
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Couldn't rename index"
 msgstr "N'a pas pu renommer l'index"
 
-#: UI/GTK2/src/mainWindow.cc:1855
+#: UI/GTK2/src/mainWindow.cc:1841
 msgid "Edited index"
 msgstr "Edite l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2165
+#: UI/GTK2/src/mainWindow.cc:2151
 msgid "Export"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2210
+#: UI/GTK2/src/mainWindow.cc:2196
 msgid "Couldn't find similar documents"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2453
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index"
 msgstr "L'index"
 
-#: UI/GTK2/src/mainWindow.cc:2457
+#: UI/GTK2/src/mainWindow.cc:2443
 msgid "doesn't exist"
 msgstr "n'existe pas"
 
-#: UI/GTK2/src/mainWindow.cc:2524
+#: UI/GTK2/src/mainWindow.cc:2510
 msgid "Remove this document from the index ?"
 msgstr "Enlever ce document de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2543
+#: UI/GTK2/src/mainWindow.cc:2529
 msgid "Remove these documents from the index ?"
 msgstr "Enlever ces documents de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2548 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2534 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Desindexer"
 
-#: UI/GTK2/src/mainWindow.cc:2587
+#: UI/GTK2/src/mainWindow.cc:2573
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Un outil de recherche pour le Bureau Libre"
 
-#: UI/GTK2/src/mainWindow.cc:2588
+#: UI/GTK2/src/mainWindow.cc:2574
 msgid "Search the Web and your documents !"
 msgstr "Cherche le Web et vos documents"
 
-#: UI/GTK2/src/mainWindow.cc:2633
+#: UI/GTK2/src/mainWindow.cc:2619
 msgid "Index name"
 msgstr "Nom de l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2647
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Couldn't add index"
 msgstr "N'a pas pu ajouter l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2663
+#: UI/GTK2/src/mainWindow.cc:2649
 msgid "Added new index"
 msgstr "Ajoute un nouvel index"
 
-#: UI/GTK2/src/mainWindow.cc:2698
+#: UI/GTK2/src/mainWindow.cc:2684
 msgid "Couldn't remove index"
 msgstr "N'a pas pu enlever l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2922
+#: UI/GTK2/src/mainWindow.cc:2884
 msgid "No history for"
 msgstr "Pas d'historique pour"
 
-#: UI/GTK2/src/mainWindow.cc:2994 UI/GTK2/src/prefsWindow.cc:960
+#: UI/GTK2/src/mainWindow.cc:2956 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Au moins une tache n'est pas terminee. Quitter maintenant ?"
 
-#: UI/GTK2/src/mainWindow.cc:2996 UI/GTK2/src/prefsWindow.cc:962
+#: UI/GTK2/src/mainWindow.cc:2958 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Quitter"
 
-#: UI/GTK2/src/mainWindow.cc:3180
+#: UI/GTK2/src/mainWindow.cc:3142
 msgid "Query name"
 msgstr "Nom de la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Couldn't update query"
 msgstr "N'a pas pu mettre a jour la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3218
+#: UI/GTK2/src/mainWindow.cc:3180
 msgid "Edited query"
 msgstr "Edite la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3225
+#: UI/GTK2/src/mainWindow.cc:3187
 msgid "Couldn't add query"
 msgstr "N'a pas pu ajouter la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3233
+#: UI/GTK2/src/mainWindow.cc:3195
 msgid "Added new query"
 msgstr "Ajoute une nouvelle recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3229
 msgid "Query is not set"
 msgstr "Recherche indefinie"
 
-#: UI/GTK2/src/mainWindow.cc:3278
+#: UI/GTK2/src/mainWindow.cc:3240
 msgid "No search engine selected"
 msgstr "Pas de moteur selectionne"
 
-#: UI/GTK2/src/mainWindow.cc:3365
+#: UI/GTK2/src/mainWindow.cc:3327
 msgid "Please set the Google API key first"
 msgstr "Configurez la clef de l'API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3374
+#: UI/GTK2/src/mainWindow.cc:3336
 msgid "Running query"
 msgstr "Recherche en cours"
 
-#: UI/GTK2/src/mainWindow.cc:3581
+#: UI/GTK2/src/mainWindow.cc:3543
 msgid "No default application defined for type"
 msgstr "Pas d'application definie pour le type"
 
@@ -718,7 +719,8 @@
 msgstr "Nouvelle Etiquette"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr "Ces repertoires seront indexes automatiquement:"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90

Modified: trunk/po/he.po
===================================================================
--- trunk/po/he.po	2010-06-19 09:30:07 UTC (rev 1707)
+++ trunk/po/he.po	2010-06-19 09:31:00 UTC (rev 1708)
@@ -7,14 +7,14 @@
 msgstr ""
 "Project-Id-Version: pinot 0.95\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-11-09 22:24+0800\n"
-"PO-Revision-Date: 2009-09-29 14:15+0000\n"
-"Last-Translator: Ddorda <d.dorda at gmail.com>\n"
+"POT-Creation-Date: 2009-09-19 14:25+0800\n"
+"PO-Revision-Date: 2010-05-22 12:35+0000\n"
+"Last-Translator: Yaron <sh.yaron at gmail.com>\n"
 "Language-Team: Hebrew <he at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2009-11-02 14:44+0000\n"
+"X-Launchpad-Export-Date: 2010-06-19 09:20+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
 #. Localize language names
@@ -86,21 +86,21 @@
 #. Apply this label
 #. Is this an internal index ?
 #: Core/PinotSettings.cpp:436 Core/PinotSettings.cpp:1712
-#: Core/WorkerThreads.cpp:1036 UI/GTK2/src/mainWindow.cc:873
-#: UI/GTK2/src/mainWindow.cc:1139 UI/GTK2/src/mainWindow.cc:1402
-#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:1565
-#: UI/GTK2/src/mainWindow.cc:1669 UI/GTK2/src/mainWindow.cc:1703
-#: UI/GTK2/src/mainWindow.cc:1728 UI/GTK2/src/mainWindow.cc:2437
+#: Core/WorkerThreads.cpp:1042 UI/GTK2/src/mainWindow.cc:859
+#: UI/GTK2/src/mainWindow.cc:1125 UI/GTK2/src/mainWindow.cc:1388
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:1655 UI/GTK2/src/mainWindow.cc:1689
+#: UI/GTK2/src/mainWindow.cc:1714 UI/GTK2/src/mainWindow.cc:2423
 #: UI/GTK2/src/statisticsDialog.cc:157
 msgid "My Web Pages"
 msgstr "????? ???????? ???"
 
 #. Spawn new threads
 #: Core/PinotSettings.cpp:437 Core/PinotSettings.cpp:1713
-#: Core/WorkerThreads.cpp:1046 UI/GTK2/src/mainWindow.cc:1134
-#: UI/GTK2/src/mainWindow.cc:1392 UI/GTK2/src/mainWindow.cc:1406
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:1576
-#: UI/GTK2/src/mainWindow.cc:2441 UI/GTK2/src/statisticsDialog.cc:163
+#: Core/WorkerThreads.cpp:1052 UI/GTK2/src/mainWindow.cc:1120
+#: UI/GTK2/src/mainWindow.cc:1378 UI/GTK2/src/mainWindow.cc:1392
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:1562
+#: UI/GTK2/src/mainWindow.cc:2427 UI/GTK2/src/statisticsDialog.cc:163
 msgid "My Documents"
 msgstr "??????? ???"
 
@@ -149,88 +149,88 @@
 msgid "Unclassified"
 msgstr "?? ?????"
 
-#: Core/WorkerThreads.cpp:96
+#: Core/WorkerThreads.cpp:98
 msgid "Index error"
 msgstr "????? ??????"
 
-#: Core/WorkerThreads.cpp:98
+#: Core/WorkerThreads.cpp:100
 msgid "Couldn't index document"
 msgstr "?? ???? ????? ?? ????? ???????"
 
-#: Core/WorkerThreads.cpp:100
+#: Core/WorkerThreads.cpp:102
 msgid "Couldn't update document"
 msgstr "?? ???? ????? ?? ?????"
 
-#: Core/WorkerThreads.cpp:102
+#: Core/WorkerThreads.cpp:104
 msgid "Couldn't unindex document(s)"
 msgstr "?? ???? ????? ?? ?????/?? ????????"
 
-#: Core/WorkerThreads.cpp:104
+#: Core/WorkerThreads.cpp:106
 msgid "Couldn't run query on search engine"
 msgstr "?? ???? ????? ?? ??????? ?? ???? ??????"
 
-#: Core/WorkerThreads.cpp:106
+#: Core/WorkerThreads.cpp:108
 msgid "Couldn't get history for search engine"
 msgstr "?? ???? ????? ?? ????????? ???? ??????"
 
-#: Core/WorkerThreads.cpp:108
+#: Core/WorkerThreads.cpp:110
 msgid "Couldn't retrieve document"
 msgstr "?? ???? ????? ?? ?????"
 
-#: Core/WorkerThreads.cpp:110
+#: Core/WorkerThreads.cpp:112
 msgid "File monitor error"
 msgstr "????? ??? ?????? ????"
 
-#: Core/WorkerThreads.cpp:112
+#: Core/WorkerThreads.cpp:114
 msgid "Couldn't open directory"
 msgstr "?? ???? ????? ?? ???????"
 
-#: Core/WorkerThreads.cpp:114
+#: Core/WorkerThreads.cpp:116
 msgid "Index doesn't exist"
 msgstr "??????? ?? ????"
 
-#: Core/WorkerThreads.cpp:116
+#: Core/WorkerThreads.cpp:118
 msgid "Couldn't create search engine"
 msgstr "?? ???? ????? ?? ???? ??????"
 
-#: Core/WorkerThreads.cpp:118
+#: Core/WorkerThreads.cpp:120
 msgid "Cannot index document type"
 msgstr "?? ???? ????? ??????? ??? ?????? ??"
 
-#: Core/WorkerThreads.cpp:120
+#: Core/WorkerThreads.cpp:122
 msgid "No downloader for this protocol"
 msgstr "??? ??? ????? ????????? ??"
 
-#: Core/WorkerThreads.cpp:122
+#: Core/WorkerThreads.cpp:124
 msgid "Robots META tag forbids indexing"
 msgstr "????? ??META ?? ???????? ?????? ?? ????? ???????"
 
-#: Core/WorkerThreads.cpp:124
+#: Core/WorkerThreads.cpp:126
 msgid "No monitoring handler"
 msgstr "??? ??? ?????"
 
-#: Core/WorkerThreads.cpp:129 UI/GTK2/src/statisticsDialog.cc:245
+#: Core/WorkerThreads.cpp:131 UI/GTK2/src/statisticsDialog.cc:245
 #: UI/GTK2/src/statisticsDialog.cc:263
 msgid "Unknown error"
 msgstr "????? ?? ?????"
 
-#: Core/WorkerThreads.cpp:439
+#: Core/WorkerThreads.cpp:440
 msgid "Indexing was stopped"
 msgstr "?????? ??????? ?????"
 
-#: Core/WorkerThreads.cpp:452
+#: Core/WorkerThreads.cpp:453
 msgid "Can't index mail here"
 msgstr "?? ???? ????? ?? ?????? ????\"? ??????? ????"
 
-#: Core/WorkerThreads.cpp:473 Core/WorkerThreads.cpp:764
+#: Core/WorkerThreads.cpp:474 Core/WorkerThreads.cpp:770
 msgid "is already being indexed"
 msgstr "??? ???? ???????"
 
-#: Core/WorkerThreads.cpp:483
+#: Core/WorkerThreads.cpp:484
 msgid "is blacklisted"
 msgstr "?????? ??????"
 
-#: Core/WorkerThreads.cpp:999
+#: Core/WorkerThreads.cpp:1005
 msgid "No title"
 msgstr "??? ?????"
 
@@ -330,253 +330,253 @@
 msgid "Helper application"
 msgstr "????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:200
+#: UI/GTK2/src/mainWindow.cc:189
 msgid "Query Name"
 msgstr "?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:205
+#: UI/GTK2/src/mainWindow.cc:194
 msgid "Last Run"
 msgstr "?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:199
 msgid "Summary"
 msgstr "?????"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:242
 msgid "Show all search engines"
 msgstr "??? ?? ?? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:254 UI/GTK2/src/mainWindow.cc:263
-msgid "Find documents that match the query"
-msgstr "??? ?????? ??????? ?? ???????"
-
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:243
 msgid "Find documents that match the query string"
 msgstr "??? ?????? ??????? ?? ?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:244
 msgid "Add an index"
 msgstr "???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:245
 msgid "Remove an index"
 msgstr "??? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:260
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Add a query"
 msgstr "???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:261
+#: UI/GTK2/src/mainWindow.cc:247
 msgid "Remove a query"
 msgstr "??? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:262
+#: UI/GTK2/src/mainWindow.cc:248
 msgid "Show the query's previous results"
 msgstr "??? ?? ?????? ??????? ??????"
 
+#: UI/GTK2/src/mainWindow.cc:249
+msgid "Find documents that match the query"
+msgstr "??? ?????? ??????? ?? ???????"
+
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:282
+#: UI/GTK2/src/mainWindow.cc:268
 msgid "Ready"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:294
+#: UI/GTK2/src/mainWindow.cc:280
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "????? ?? ??????? ?????? ???????? ??? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:302
+#: UI/GTK2/src/mainWindow.cc:288
 msgid "Don't warn me again"
 msgstr "?? ????? ???? ???"
 
-#: UI/GTK2/src/mainWindow.cc:310 UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow.cc:296 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:371
+#: UI/GTK2/src/mainWindow.cc:357
 msgid "N/A"
 msgstr "?? ????"
 
-#: UI/GTK2/src/mainWindow.cc:389
+#: UI/GTK2/src/mainWindow.cc:375
 msgid "Undefined"
 msgstr "?? ?????"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:628 UI/GTK2/src/mainWindow.cc:2833
+#: UI/GTK2/src/mainWindow.cc:614 UI/GTK2/src/mainWindow.cc:2795
 msgid "Live query"
 msgstr "?????? ???"
 
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:901
+#: UI/GTK2/src/mainWindow.cc:887
 msgid "Document location is"
 msgstr "????? ????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:1120
+#: UI/GTK2/src/mainWindow.cc:1106
 msgid "Couldn't search in results"
 msgstr "?? ???? ???? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1130
+#: UI/GTK2/src/mainWindow.cc:1116
 msgid "In Results"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:1289
 msgid "Showing"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1311
+#: UI/GTK2/src/mainWindow.cc:1297
 msgid "of"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1353
+#: UI/GTK2/src/mainWindow.cc:1339
 msgid "Query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1357 UI/GTK2/src/mainWindow.cc:3378
+#: UI/GTK2/src/mainWindow.cc:1343 UI/GTK2/src/mainWindow.cc:3340
 msgid "on"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1361
+#: UI/GTK2/src/mainWindow.cc:1347
 msgid "ended"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1516
+#: UI/GTK2/src/mainWindow.cc:1502
 msgid "More Like"
 msgstr "??? ???"
 
-#: UI/GTK2/src/mainWindow.cc:1583
+#: UI/GTK2/src/mainWindow.cc:1569
 msgid "Updated label(s)"
 msgstr "?????/?? ???????/??"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1679 UI/GTK2/src/mainWindow.cc:1769
+#: UI/GTK2/src/mainWindow.cc:1665 UI/GTK2/src/mainWindow.cc:1755
 msgid "Updated document"
 msgstr "???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1692
+#: UI/GTK2/src/mainWindow.cc:1678
 msgid "Indexed"
 msgstr "???? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1729
+#: UI/GTK2/src/mainWindow.cc:1715
 msgid "Unindexed document(s)"
 msgstr "????/?? ?????/? ????/?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1824
+#: UI/GTK2/src/mainWindow.cc:1810
 msgid "Couldn't rename index, name"
 msgstr "?? ???? ????? ?? ??????, ??"
 
-#: UI/GTK2/src/mainWindow.cc:1828 UI/GTK2/src/mainWindow.cc:2637
-#: UI/GTK2/src/mainWindow.cc:3184
+#: UI/GTK2/src/mainWindow.cc:1814 UI/GTK2/src/mainWindow.cc:2623
+#: UI/GTK2/src/mainWindow.cc:3146
 msgid "is already in use"
 msgstr "??? ???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1840
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Couldn't rename index"
 msgstr "?? ???? ????? ?? ?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1855
+#: UI/GTK2/src/mainWindow.cc:1841
 msgid "Edited index"
 msgstr "??????? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2165
+#: UI/GTK2/src/mainWindow.cc:2151
 msgid "Export"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2210
+#: UI/GTK2/src/mainWindow.cc:2196
 msgid "Couldn't find similar documents"
 msgstr "?? ???? ????? ?????? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:2453
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2457
+#: UI/GTK2/src/mainWindow.cc:2443
 msgid "doesn't exist"
 msgstr "?? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2524
+#: UI/GTK2/src/mainWindow.cc:2510
 msgid "Remove this document from the index ?"
 msgstr "??? ????? ???? ?? ???????? ?"
 
-#: UI/GTK2/src/mainWindow.cc:2543
+#: UI/GTK2/src/mainWindow.cc:2529
 msgid "Remove these documents from the index ?"
 msgstr "??? ????? ?????? ??? ?????????"
 
-#: UI/GTK2/src/mainWindow.cc:2548 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2534 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "???? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:2587
+#: UI/GTK2/src/mainWindow.cc:2573
 msgid "A metasearch tool for the Free Desktop"
 msgstr "??? ????????? ?????? ?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2588
+#: UI/GTK2/src/mainWindow.cc:2574
 msgid "Search the Web and your documents !"
 msgstr "????? ???????? ???????? ??? !"
 
-#: UI/GTK2/src/mainWindow.cc:2633
+#: UI/GTK2/src/mainWindow.cc:2619
 msgid "Index name"
 msgstr "?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2647
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Couldn't add index"
 msgstr "?? ???? ?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2663
+#: UI/GTK2/src/mainWindow.cc:2649
 msgid "Added new index"
 msgstr "???? ?????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:2698
+#: UI/GTK2/src/mainWindow.cc:2684
 msgid "Couldn't remove index"
 msgstr "?? ???? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2922
+#: UI/GTK2/src/mainWindow.cc:2884
 msgid "No history for"
 msgstr "??? ???????? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2994 UI/GTK2/src/prefsWindow.cc:960
+#: UI/GTK2/src/mainWindow.cc:2956 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "????? ????? ??? ?? ?????? ?????. ???? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2996 UI/GTK2/src/prefsWindow.cc:962
+#: UI/GTK2/src/mainWindow.cc:2958 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3180
+#: UI/GTK2/src/mainWindow.cc:3142
 msgid "Query name"
 msgstr "?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Couldn't update query"
 msgstr "?? ???? ????? ?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3218
+#: UI/GTK2/src/mainWindow.cc:3180
 msgid "Edited query"
 msgstr "??????? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:3225
+#: UI/GTK2/src/mainWindow.cc:3187
 msgid "Couldn't add query"
 msgstr "?? ???? ?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3233
+#: UI/GTK2/src/mainWindow.cc:3195
 msgid "Added new query"
 msgstr "????? ?????? ????"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3229
 msgid "Query is not set"
 msgstr "??????? ?? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3278
+#: UI/GTK2/src/mainWindow.cc:3240
 msgid "No search engine selected"
 msgstr "?? ???? ???? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:3365
+#: UI/GTK2/src/mainWindow.cc:3327
 msgid "Please set the Google API key first"
 msgstr "??? ???? ?? ???? ??API ?? ???? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:3374
+#: UI/GTK2/src/mainWindow.cc:3336
 msgid "Running query"
 msgstr "??????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:3581
+#: UI/GTK2/src/mainWindow.cc:3543
 msgid "No default application defined for type"
 msgstr "?? ????? ????? ?????? ???? ????"
 
@@ -610,7 +610,7 @@
 
 #: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
-msgstr ""
+msgstr "????? ??? ???"
 
 #: UI/GTK2/src/mainWindow_glade.cc:222
 msgid "Search Engine"
@@ -718,7 +718,8 @@
 msgstr "????? ????"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr "?????? ??? ??????? ??????? ????? ???? ???? ?????? ???? ??? ???????:"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
@@ -854,7 +855,7 @@
 
 #: UI/GTK2/src/queryDialog.cc:116
 msgid "In URL"
-msgstr ""
+msgstr "??????"
 
 #: UI/GTK2/src/queryDialog.cc:117
 msgid "Path"
@@ -920,7 +921,7 @@
 
 #: UI/GTK2/src/queryDialog_glade.cc:93
 msgid "Stemming:"
-msgstr ""
+msgstr "????? ??????:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:94
 msgid "Only index new results"
@@ -975,7 +976,7 @@
 #. FIXME: check whether it's actually running !
 #: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
-msgstr ""
+msgstr "?? ??? ???? ?????"
 
 #: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2010-06-19 09:30:07 UTC (rev 1707)
+++ trunk/po/pt_BR.po	2010-06-19 09:31:00 UTC (rev 1708)
@@ -6,78 +6,78 @@
 msgstr ""
 "Project-Id-Version: pinot 0.95\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-12-06 17:50+0800\n"
+"POT-Creation-Date: 2009-09-19 14:25+0800\n"
 "PO-Revision-Date: 2010-03-20 16:46+0000\n"
 "Last-Translator: andbelo <Unknown>\n"
 "Language-Team: Portuguese (Brazil) <pt_BR at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2010-03-21 13:08+0000\n"
+"X-Launchpad-Export-Date: 2010-06-19 09:20+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:530 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "Desconhecido"
 
-#: Core/pinot-dbus-daemon.cpp:531 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "Danish"
 
-#: Core/pinot-dbus-daemon.cpp:532 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "Dutch"
 
-#: Core/pinot-dbus-daemon.cpp:533 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "English"
 
-#: Core/pinot-dbus-daemon.cpp:534 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "Terminar"
 
-#: Core/pinot-dbus-daemon.cpp:535 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "French"
 
-#: Core/pinot-dbus-daemon.cpp:536 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "German"
 
-#: Core/pinot-dbus-daemon.cpp:537 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: Core/pinot-dbus-daemon.cpp:538 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "Italiano"
 
-#: Core/pinot-dbus-daemon.cpp:539 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "Noruegu?s"
 
-#: Core/pinot-dbus-daemon.cpp:540 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: Core/pinot-dbus-daemon.cpp:541 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "Romeno"
 
-#: Core/pinot-dbus-daemon.cpp:542 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "Russian"
 
-#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "Spanish"
 
-#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "Swedish"
 
-#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "Turco"
 
@@ -85,21 +85,21 @@
 #. Apply this label
 #. Is this an internal index ?
 #: Core/PinotSettings.cpp:436 Core/PinotSettings.cpp:1712
-#: Core/WorkerThreads.cpp:1036 UI/GTK2/src/mainWindow.cc:873
-#: UI/GTK2/src/mainWindow.cc:1139 UI/GTK2/src/mainWindow.cc:1402
-#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:1565
-#: UI/GTK2/src/mainWindow.cc:1669 UI/GTK2/src/mainWindow.cc:1703
-#: UI/GTK2/src/mainWindow.cc:1728 UI/GTK2/src/mainWindow.cc:2437
+#: Core/WorkerThreads.cpp:1042 UI/GTK2/src/mainWindow.cc:859
+#: UI/GTK2/src/mainWindow.cc:1125 UI/GTK2/src/mainWindow.cc:1388
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:1655 UI/GTK2/src/mainWindow.cc:1689
+#: UI/GTK2/src/mainWindow.cc:1714 UI/GTK2/src/mainWindow.cc:2423
 #: UI/GTK2/src/statisticsDialog.cc:157
 msgid "My Web Pages"
 msgstr "Minhas P?ginas Web"
 
 #. Spawn new threads
 #: Core/PinotSettings.cpp:437 Core/PinotSettings.cpp:1713
-#: Core/WorkerThreads.cpp:1046 UI/GTK2/src/mainWindow.cc:1134
-#: UI/GTK2/src/mainWindow.cc:1392 UI/GTK2/src/mainWindow.cc:1406
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:1576
-#: UI/GTK2/src/mainWindow.cc:2441 UI/GTK2/src/statisticsDialog.cc:163
+#: Core/WorkerThreads.cpp:1052 UI/GTK2/src/mainWindow.cc:1120
+#: UI/GTK2/src/mainWindow.cc:1378 UI/GTK2/src/mainWindow.cc:1392
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:1562
+#: UI/GTK2/src/mainWindow.cc:2427 UI/GTK2/src/statisticsDialog.cc:163
 msgid "My Documents"
 msgstr "Meus Documentos"
 
@@ -148,88 +148,88 @@
 msgid "Unclassified"
 msgstr "N?o classificado"
 
-#: Core/WorkerThreads.cpp:96
+#: Core/WorkerThreads.cpp:98
 msgid "Index error"
 msgstr "Erro no ?ndice"
 
-#: Core/WorkerThreads.cpp:98
+#: Core/WorkerThreads.cpp:100
 msgid "Couldn't index document"
 msgstr "N?o foi poss?vel indexar documento"
 
-#: Core/WorkerThreads.cpp:100
+#: Core/WorkerThreads.cpp:102
 msgid "Couldn't update document"
 msgstr "N?o foi poss?vel atualizar documento"
 
-#: Core/WorkerThreads.cpp:102
+#: Core/WorkerThreads.cpp:104
 msgid "Couldn't unindex document(s)"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: Core/WorkerThreads.cpp:104
+#: Core/WorkerThreads.cpp:106
 msgid "Couldn't run query on search engine"
 msgstr "N?o foi poss?vel executar consulta no mecanismo de pesquisa"
 
-#: Core/WorkerThreads.cpp:106
+#: Core/WorkerThreads.cpp:108
 msgid "Couldn't get history for search engine"
 msgstr "N?o foi poss?vel pegar hist?rico para mecanismo de pesquisa"
 
-#: Core/WorkerThreads.cpp:108
+#: Core/WorkerThreads.cpp:110
 msgid "Couldn't retrieve document"
 msgstr "N?o foi poss?vel obter documento"
 
-#: Core/WorkerThreads.cpp:110
+#: Core/WorkerThreads.cpp:112
 msgid "File monitor error"
 msgstr "Monitor de erros de arquivo"
 
-#: Core/WorkerThreads.cpp:112
+#: Core/WorkerThreads.cpp:114
 msgid "Couldn't open directory"
 msgstr "N?o foi poss?vel abrir diret?rio"
 
-#: Core/WorkerThreads.cpp:114
+#: Core/WorkerThreads.cpp:116
 msgid "Index doesn't exist"
 msgstr "?ndice n?o existe"
 
-#: Core/WorkerThreads.cpp:116
+#: Core/WorkerThreads.cpp:118
 msgid "Couldn't create search engine"
 msgstr "N?o foi poss?vel criar mecanismo de pesquisa"
 
-#: Core/WorkerThreads.cpp:118
+#: Core/WorkerThreads.cpp:120
 msgid "Cannot index document type"
 msgstr "Imposs?vel indexar tipo de arquivo"
 
-#: Core/WorkerThreads.cpp:120
+#: Core/WorkerThreads.cpp:122
 msgid "No downloader for this protocol"
 msgstr "N?o h? programa para baixar este protocolo"
 
-#: Core/WorkerThreads.cpp:122
+#: Core/WorkerThreads.cpp:124
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META tag n?o s?o permitidos no ?ndice"
 
-#: Core/WorkerThreads.cpp:124
+#: Core/WorkerThreads.cpp:126
 msgid "No monitoring handler"
 msgstr "Nenhum manipulador de monitoramento"
 
-#: Core/WorkerThreads.cpp:129 UI/GTK2/src/statisticsDialog.cc:245
+#: Core/WorkerThreads.cpp:131 UI/GTK2/src/statisticsDialog.cc:245
 #: UI/GTK2/src/statisticsDialog.cc:263
 msgid "Unknown error"
 msgstr "Erro desconhecido"
 
-#: Core/WorkerThreads.cpp:439
+#: Core/WorkerThreads.cpp:440
 msgid "Indexing was stopped"
 msgstr "?ndice foi parado"
 
-#: Core/WorkerThreads.cpp:452
+#: Core/WorkerThreads.cpp:453
 msgid "Can't index mail here"
 msgstr "N?o foi poss?vel indexar mail aqui"
 
-#: Core/WorkerThreads.cpp:473 Core/WorkerThreads.cpp:764
+#: Core/WorkerThreads.cpp:474 Core/WorkerThreads.cpp:770
 msgid "is already being indexed"
 msgstr "j? est? sendo indexado"
 
-#: Core/WorkerThreads.cpp:483
+#: Core/WorkerThreads.cpp:484
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: Core/WorkerThreads.cpp:999
+#: Core/WorkerThreads.cpp:1005
 msgid "No title"
 msgstr "Sem t?tulo"
 
@@ -329,253 +329,253 @@
 msgid "Helper application"
 msgstr "Aplica??o de ajuda"
 
-#: UI/GTK2/src/mainWindow.cc:200
+#: UI/GTK2/src/mainWindow.cc:189
 msgid "Query Name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:205
+#: UI/GTK2/src/mainWindow.cc:194
 msgid "Last Run"
 msgstr "?ltimo executado"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:199
 msgid "Summary"
 msgstr "Resumo"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:242
 msgid "Show all search engines"
 msgstr "Mostrar todos mecanimos de pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:254 UI/GTK2/src/mainWindow.cc:263
-msgid "Find documents that match the query"
-msgstr "Achar documentos que combinam com a consulta"
-
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:243
 msgid "Find documents that match the query string"
 msgstr "Achar documentos que combinam com a string consultada"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:244
 msgid "Add an index"
 msgstr "Adicionar ao ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:245
 msgid "Remove an index"
 msgstr "Remover o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:260
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Add a query"
 msgstr "Adicionar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:261
+#: UI/GTK2/src/mainWindow.cc:247
 msgid "Remove a query"
 msgstr "Remover a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:262
+#: UI/GTK2/src/mainWindow.cc:248
 msgid "Show the query's previous results"
 msgstr "Mostrar resultados pr?vios da consulta"
 
+#: UI/GTK2/src/mainWindow.cc:249
+msgid "Find documents that match the query"
+msgstr "Achar documentos que combinam com a consulta"
+
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:282
+#: UI/GTK2/src/mainWindow.cc:268
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:294
+#: UI/GTK2/src/mainWindow.cc:280
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "Atualizando todos os documentos eem Minha p?gina ? recomendado"
 
-#: UI/GTK2/src/mainWindow.cc:302
+#: UI/GTK2/src/mainWindow.cc:288
 msgid "Don't warn me again"
 msgstr "N?o me avise novamente"
 
-#: UI/GTK2/src/mainWindow.cc:310 UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow.cc:296 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "Atualizar"
 
-#: UI/GTK2/src/mainWindow.cc:371
+#: UI/GTK2/src/mainWindow.cc:357
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:389
+#: UI/GTK2/src/mainWindow.cc:375
 msgid "Undefined"
 msgstr "N?o definido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:628 UI/GTK2/src/mainWindow.cc:2833
+#: UI/GTK2/src/mainWindow.cc:614 UI/GTK2/src/mainWindow.cc:2795
 msgid "Live query"
 msgstr "Query ativa"
 
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:901
+#: UI/GTK2/src/mainWindow.cc:887
 msgid "Document location is"
 msgstr "Localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:1120
+#: UI/GTK2/src/mainWindow.cc:1106
 msgid "Couldn't search in results"
 msgstr "N?o foi poss?vel pesquisar nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1130
+#: UI/GTK2/src/mainWindow.cc:1116
 msgid "In Results"
 msgstr "Nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:1289
 msgid "Showing"
 msgstr "Exibindo"
 
-#: UI/GTK2/src/mainWindow.cc:1311
+#: UI/GTK2/src/mainWindow.cc:1297
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1353
+#: UI/GTK2/src/mainWindow.cc:1339
 msgid "Query"
 msgstr "Consulta"
 
-#: UI/GTK2/src/mainWindow.cc:1357 UI/GTK2/src/mainWindow.cc:3378
+#: UI/GTK2/src/mainWindow.cc:1343 UI/GTK2/src/mainWindow.cc:3340
 msgid "on"
 msgstr "no"
 
-#: UI/GTK2/src/mainWindow.cc:1361
+#: UI/GTK2/src/mainWindow.cc:1347
 msgid "ended"
 msgstr "finalizada"
 
-#: UI/GTK2/src/mainWindow.cc:1516
+#: UI/GTK2/src/mainWindow.cc:1502
 msgid "More Like"
 msgstr "Mais pr?xima"
 
-#: UI/GTK2/src/mainWindow.cc:1583
+#: UI/GTK2/src/mainWindow.cc:1569
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1679 UI/GTK2/src/mainWindow.cc:1769
+#: UI/GTK2/src/mainWindow.cc:1665 UI/GTK2/src/mainWindow.cc:1755
 msgid "Updated document"
 msgstr "Documento atualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1692
+#: UI/GTK2/src/mainWindow.cc:1678
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1729
+#: UI/GTK2/src/mainWindow.cc:1715
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexidado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1824
+#: UI/GTK2/src/mainWindow.cc:1810
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1828 UI/GTK2/src/mainWindow.cc:2637
-#: UI/GTK2/src/mainWindow.cc:3184
+#: UI/GTK2/src/mainWindow.cc:1814 UI/GTK2/src/mainWindow.cc:2623
+#: UI/GTK2/src/mainWindow.cc:3146
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1840
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1855
+#: UI/GTK2/src/mainWindow.cc:1841
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2165
+#: UI/GTK2/src/mainWindow.cc:2151
 msgid "Export"
 msgstr "Exportar"
 
-#: UI/GTK2/src/mainWindow.cc:2210
+#: UI/GTK2/src/mainWindow.cc:2196
 msgid "Couldn't find similar documents"
 msgstr "N?o foi poss?vel achar documentos similares"
 
-#: UI/GTK2/src/mainWindow.cc:2453
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2457
+#: UI/GTK2/src/mainWindow.cc:2443
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2524
+#: UI/GTK2/src/mainWindow.cc:2510
 msgid "Remove this document from the index ?"
 msgstr "Remover documento do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2543
+#: UI/GTK2/src/mainWindow.cc:2529
 msgid "Remove these documents from the index ?"
 msgstr "Remover documentos do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2548 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2534 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2587
+#: UI/GTK2/src/mainWindow.cc:2573
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca gr?tis para Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2588
+#: UI/GTK2/src/mainWindow.cc:2574
 msgid "Search the Web and your documents !"
 msgstr "Procurar a Rede e seus documentos!"
 
-#: UI/GTK2/src/mainWindow.cc:2633
+#: UI/GTK2/src/mainWindow.cc:2619
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2647
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2663
+#: UI/GTK2/src/mainWindow.cc:2649
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2698
+#: UI/GTK2/src/mainWindow.cc:2684
 msgid "Couldn't remove index"
 msgstr "N?o foi poss?vel remover ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2922
+#: UI/GTK2/src/mainWindow.cc:2884
 msgid "No history for"
 msgstr "Nenhum hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2994 UI/GTK2/src/prefsWindow.cc:960
+#: UI/GTK2/src/mainWindow.cc:2956 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa n?o terminou ainda. Sair assim mesmo?"
 
-#: UI/GTK2/src/mainWindow.cc:2996 UI/GTK2/src/prefsWindow.cc:962
+#: UI/GTK2/src/mainWindow.cc:2958 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Sair"
 
-#: UI/GTK2/src/mainWindow.cc:3180
+#: UI/GTK2/src/mainWindow.cc:3142
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel atualizar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3218
+#: UI/GTK2/src/mainWindow.cc:3180
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3225
+#: UI/GTK2/src/mainWindow.cc:3187
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3233
+#: UI/GTK2/src/mainWindow.cc:3195
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3229
 msgid "Query is not set"
 msgstr "Consulta n?o foi atualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3278
+#: UI/GTK2/src/mainWindow.cc:3240
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa selecionado"
 
-#: UI/GTK2/src/mainWindow.cc:3365
+#: UI/GTK2/src/mainWindow.cc:3327
 msgid "Please set the Google API key first"
 msgstr "Primeiro informe a tecla para Google API"
 
-#: UI/GTK2/src/mainWindow.cc:3374
+#: UI/GTK2/src/mainWindow.cc:3336
 msgid "Running query"
 msgstr "Executando consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3581
+#: UI/GTK2/src/mainWindow.cc:3543
 msgid "No default application defined for type"
 msgstr "Aplica??o associada ao tipo n?o definida"
 
@@ -717,7 +717,8 @@
 msgstr "Novo t?tulo"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Estes diret?rios ter?o ?ndices e ter?o suas mudan?as opcionalmente "
 "monitoradas:"

Modified: trunk/po/zh_CN.po
===================================================================
--- trunk/po/zh_CN.po	2010-06-19 09:30:07 UTC (rev 1707)
+++ trunk/po/zh_CN.po	2010-06-19 09:31:00 UTC (rev 1708)
@@ -6,14 +6,14 @@
 msgstr ""
 "Project-Id-Version: pinot 0.95\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-11-09 22:24+0800\n"
-"PO-Revision-Date: 2008-11-01 03:08+0000\n"
-"Last-Translator: rainofchaos <rainofchaos at gmail.com>\n"
-"Language-Team: LANGUAGE <LL at li.org>\n"
+"POT-Creation-Date: 2009-09-19 14:25+0800\n"
+"PO-Revision-Date: 2010-06-04 13:19+0000\n"
+"Last-Translator: Eleanor Chen <chenyueg at gmail.com>\n"
+"Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-11-15 08:36+0000\n"
+"X-Launchpad-Export-Date: 2010-06-19 09:20+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
 #. Localize language names
@@ -85,21 +85,21 @@
 #. Apply this label
 #. Is this an internal index ?
 #: Core/PinotSettings.cpp:436 Core/PinotSettings.cpp:1712
-#: Core/WorkerThreads.cpp:1036 UI/GTK2/src/mainWindow.cc:873
-#: UI/GTK2/src/mainWindow.cc:1139 UI/GTK2/src/mainWindow.cc:1402
-#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:1565
-#: UI/GTK2/src/mainWindow.cc:1669 UI/GTK2/src/mainWindow.cc:1703
-#: UI/GTK2/src/mainWindow.cc:1728 UI/GTK2/src/mainWindow.cc:2437
+#: Core/WorkerThreads.cpp:1042 UI/GTK2/src/mainWindow.cc:859
+#: UI/GTK2/src/mainWindow.cc:1125 UI/GTK2/src/mainWindow.cc:1388
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:1655 UI/GTK2/src/mainWindow.cc:1689
+#: UI/GTK2/src/mainWindow.cc:1714 UI/GTK2/src/mainWindow.cc:2423
 #: UI/GTK2/src/statisticsDialog.cc:157
 msgid "My Web Pages"
 msgstr "????"
 
 #. Spawn new threads
 #: Core/PinotSettings.cpp:437 Core/PinotSettings.cpp:1713
-#: Core/WorkerThreads.cpp:1046 UI/GTK2/src/mainWindow.cc:1134
-#: UI/GTK2/src/mainWindow.cc:1392 UI/GTK2/src/mainWindow.cc:1406
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:1576
-#: UI/GTK2/src/mainWindow.cc:2441 UI/GTK2/src/statisticsDialog.cc:163
+#: Core/WorkerThreads.cpp:1052 UI/GTK2/src/mainWindow.cc:1120
+#: UI/GTK2/src/mainWindow.cc:1378 UI/GTK2/src/mainWindow.cc:1392
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:1562
+#: UI/GTK2/src/mainWindow.cc:2427 UI/GTK2/src/statisticsDialog.cc:163
 msgid "My Documents"
 msgstr "????"
 
@@ -148,88 +148,88 @@
 msgid "Unclassified"
 msgstr "????"
 
-#: Core/WorkerThreads.cpp:96
+#: Core/WorkerThreads.cpp:98
 msgid "Index error"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:98
+#: Core/WorkerThreads.cpp:100
 msgid "Couldn't index document"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:100
+#: Core/WorkerThreads.cpp:102
 msgid "Couldn't update document"
 msgstr "??????"
 
-#: Core/WorkerThreads.cpp:102
+#: Core/WorkerThreads.cpp:104
 msgid "Couldn't unindex document(s)"
 msgstr "?????????"
 
-#: Core/WorkerThreads.cpp:104
+#: Core/WorkerThreads.cpp:106
 msgid "Couldn't run query on search engine"
 msgstr "??????????"
 
-#: Core/WorkerThreads.cpp:106
+#: Core/WorkerThreads.cpp:108
 msgid "Couldn't get history for search engine"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:108
+#: Core/WorkerThreads.cpp:110
 msgid "Couldn't retrieve document"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:110
+#: Core/WorkerThreads.cpp:112
 msgid "File monitor error"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:112
+#: Core/WorkerThreads.cpp:114
 msgid "Couldn't open directory"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:114
+#: Core/WorkerThreads.cpp:116
 msgid "Index doesn't exist"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:116
+#: Core/WorkerThreads.cpp:118
 msgid "Couldn't create search engine"
 msgstr "????????"
 
-#: Core/WorkerThreads.cpp:118
+#: Core/WorkerThreads.cpp:120
 msgid "Cannot index document type"
 msgstr "????????"
 
-#: Core/WorkerThreads.cpp:120
+#: Core/WorkerThreads.cpp:122
 msgid "No downloader for this protocol"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:122
+#: Core/WorkerThreads.cpp:124
 msgid "Robots META tag forbids indexing"
 msgstr "Robots?meta???????"
 
-#: Core/WorkerThreads.cpp:124
+#: Core/WorkerThreads.cpp:126
 msgid "No monitoring handler"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:129 UI/GTK2/src/statisticsDialog.cc:245
+#: Core/WorkerThreads.cpp:131 UI/GTK2/src/statisticsDialog.cc:245
 #: UI/GTK2/src/statisticsDialog.cc:263
 msgid "Unknown error"
-msgstr "???????"
+msgstr "????"
 
-#: Core/WorkerThreads.cpp:439
+#: Core/WorkerThreads.cpp:440
 msgid "Indexing was stopped"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:452
+#: Core/WorkerThreads.cpp:453
 msgid "Can't index mail here"
 msgstr "??????"
 
-#: Core/WorkerThreads.cpp:473 Core/WorkerThreads.cpp:764
+#: Core/WorkerThreads.cpp:474 Core/WorkerThreads.cpp:770
 msgid "is already being indexed"
 msgstr "??????"
 
-#: Core/WorkerThreads.cpp:483
+#: Core/WorkerThreads.cpp:484
 msgid "is blacklisted"
 msgstr "?????"
 
-#: Core/WorkerThreads.cpp:999
+#: Core/WorkerThreads.cpp:1005
 msgid "No title"
 msgstr "???"
 
@@ -327,255 +327,253 @@
 msgid "Helper application"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:200
+#: UI/GTK2/src/mainWindow.cc:189
 msgid "Query Name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:205
+#: UI/GTK2/src/mainWindow.cc:194
 msgid "Last Run"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:199
 msgid "Summary"
 msgstr "??"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:242
 msgid "Show all search engines"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:254 UI/GTK2/src/mainWindow.cc:263
-msgid "Find documents that match the query"
-msgstr ""
-
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:243
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:244
 msgid "Add an index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:245
 msgid "Remove an index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:260
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Add a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:261
+#: UI/GTK2/src/mainWindow.cc:247
 msgid "Remove a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:262
+#: UI/GTK2/src/mainWindow.cc:248
 msgid "Show the query's previous results"
 msgstr ""
 
+#: UI/GTK2/src/mainWindow.cc:249
+msgid "Find documents that match the query"
+msgstr ""
+
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:282
+#: UI/GTK2/src/mainWindow.cc:268
 msgid "Ready"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:294
+#: UI/GTK2/src/mainWindow.cc:280
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "???????????????"
 
-#: UI/GTK2/src/mainWindow.cc:302
+#: UI/GTK2/src/mainWindow.cc:288
 msgid "Don't warn me again"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:310 UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow.cc:296 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:371
+#: UI/GTK2/src/mainWindow.cc:357
 msgid "N/A"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:389
+#: UI/GTK2/src/mainWindow.cc:375
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:628 UI/GTK2/src/mainWindow.cc:2833
+#: UI/GTK2/src/mainWindow.cc:614 UI/GTK2/src/mainWindow.cc:2795
 msgid "Live query"
 msgstr ""
 
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:901
+#: UI/GTK2/src/mainWindow.cc:887
 msgid "Document location is"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1120
-#, fuzzy
+#: UI/GTK2/src/mainWindow.cc:1106
 msgid "Couldn't search in results"
-msgstr "????????"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1130
+#: UI/GTK2/src/mainWindow.cc:1116
 msgid "In Results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:1289
 msgid "Showing"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1311
+#: UI/GTK2/src/mainWindow.cc:1297
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1353
+#: UI/GTK2/src/mainWindow.cc:1339
 msgid "Query"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1357 UI/GTK2/src/mainWindow.cc:3378
+#: UI/GTK2/src/mainWindow.cc:1343 UI/GTK2/src/mainWindow.cc:3340
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1361
+#: UI/GTK2/src/mainWindow.cc:1347
 msgid "ended"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1516
+#: UI/GTK2/src/mainWindow.cc:1502
 msgid "More Like"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1583
+#: UI/GTK2/src/mainWindow.cc:1569
 msgid "Updated label(s)"
 msgstr "?????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1679 UI/GTK2/src/mainWindow.cc:1769
+#: UI/GTK2/src/mainWindow.cc:1665 UI/GTK2/src/mainWindow.cc:1755
 msgid "Updated document"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1692
+#: UI/GTK2/src/mainWindow.cc:1678
 msgid "Indexed"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1729
+#: UI/GTK2/src/mainWindow.cc:1715
 msgid "Unindexed document(s)"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1824
+#: UI/GTK2/src/mainWindow.cc:1810
 msgid "Couldn't rename index, name"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1828 UI/GTK2/src/mainWindow.cc:2637
-#: UI/GTK2/src/mainWindow.cc:3184
+#: UI/GTK2/src/mainWindow.cc:1814 UI/GTK2/src/mainWindow.cc:2623
+#: UI/GTK2/src/mainWindow.cc:3146
 msgid "is already in use"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1840
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Couldn't rename index"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1855
+#: UI/GTK2/src/mainWindow.cc:1841
 msgid "Edited index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2165
+#: UI/GTK2/src/mainWindow.cc:2151
 msgid "Export"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2210
-#, fuzzy
+#: UI/GTK2/src/mainWindow.cc:2196
 msgid "Couldn't find similar documents"
-msgstr "?????????"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2453
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:2457
+#: UI/GTK2/src/mainWindow.cc:2443
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2524
+#: UI/GTK2/src/mainWindow.cc:2510
 msgid "Remove this document from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2543
+#: UI/GTK2/src/mainWindow.cc:2529
 msgid "Remove these documents from the index ?"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2548 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2534 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2587
+#: UI/GTK2/src/mainWindow.cc:2573
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Free Desktop ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2588
+#: UI/GTK2/src/mainWindow.cc:2574
 msgid "Search the Web and your documents !"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2633
+#: UI/GTK2/src/mainWindow.cc:2619
 msgid "Index name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2647
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Couldn't add index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2663
+#: UI/GTK2/src/mainWindow.cc:2649
 msgid "Added new index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2698
+#: UI/GTK2/src/mainWindow.cc:2684
 msgid "Couldn't remove index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2922
+#: UI/GTK2/src/mainWindow.cc:2884
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2994 UI/GTK2/src/prefsWindow.cc:960
+#: UI/GTK2/src/mainWindow.cc:2956 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2996 UI/GTK2/src/prefsWindow.cc:962
+#: UI/GTK2/src/mainWindow.cc:2958 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3180
+#: UI/GTK2/src/mainWindow.cc:3142
 msgid "Query name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Couldn't update query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3218
+#: UI/GTK2/src/mainWindow.cc:3180
 msgid "Edited query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3225
+#: UI/GTK2/src/mainWindow.cc:3187
 msgid "Couldn't add query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3233
+#: UI/GTK2/src/mainWindow.cc:3195
 msgid "Added new query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3229
 msgid "Query is not set"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3278
+#: UI/GTK2/src/mainWindow.cc:3240
 msgid "No search engine selected"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3365
+#: UI/GTK2/src/mainWindow.cc:3327
 msgid "Please set the Google API key first"
 msgstr "????Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3374
+#: UI/GTK2/src/mainWindow.cc:3336
 msgid "Running query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3581
+#: UI/GTK2/src/mainWindow.cc:3543
 msgid "No default application defined for type"
 msgstr "????????????"
 
@@ -592,18 +590,16 @@
 msgstr "?????"
 
 #: UI/GTK2/src/mainWindow_glade.cc:165
-#, fuzzy
 msgid "Open Cache"
-msgstr "????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:168
 msgid "Open Parent"
 msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:174
-#, fuzzy
 msgid "_Add To Index"
-msgstr "??????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
@@ -626,14 +622,12 @@
 msgstr "????"
 
 #: UI/GTK2/src/mainWindow_glade.cc:231
-#, fuzzy
 msgid "Group Results By"
-msgstr "???"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:234
-#, fuzzy
 msgid "Show Extracts"
-msgstr "????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:243
 msgid "Export List"
@@ -645,9 +639,8 @@
 msgstr "??"
 
 #: UI/GTK2/src/mainWindow_glade.cc:255
-#, fuzzy
 msgid "_File"
-msgstr "??"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
@@ -722,7 +715,8 @@
 msgstr "????"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr "??????????????????????????"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
@@ -795,9 +789,8 @@
 msgstr ""
 
 #: UI/GTK2/src/prefsWindow_glade.cc:523
-#, fuzzy
 msgid "Pinot Preferences"
-msgstr "???"
+msgstr ""
 
 #: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
@@ -858,9 +851,8 @@
 msgstr "??"
 
 #: UI/GTK2/src/queryDialog.cc:116
-#, fuzzy
 msgid "In URL"
-msgstr "??"
+msgstr ""
 
 #: UI/GTK2/src/queryDialog.cc:117
 msgid "Path"
@@ -942,9 +934,8 @@
 msgstr "??"
 
 #: UI/GTK2/src/ResultsTree.cc:1555
-#, fuzzy
 msgid "No results"
-msgstr "??"
+msgstr ""
 
 #: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
@@ -1011,7 +1002,3 @@
 #: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "??"
-
-#, fuzzy
-#~ msgid "File container"
-#~ msgstr "????"



From fabricecolin at mail.berlios.de  Sun Jun 20 10:11:14 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 20 Jun 2010 10:11:14 +0200
Subject: [Pinot-svn] r1709 - trunk/SQL
Message-ID: <201006200811.o5K8BEtf018192@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-20 10:11:12 +0200 (Sun, 20 Jun 2010)
New Revision: 1709

Modified:
   trunk/SQL/SQLiteBase.cpp
Log:
Fixed executeSimpleStatement().


Modified: trunk/SQL/SQLiteBase.cpp
===================================================================
--- trunk/SQL/SQLiteBase.cpp	2010-06-19 09:31:00 UTC (rev 1708)
+++ trunk/SQL/SQLiteBase.cpp	2010-06-20 08:11:12 UTC (rev 1709)
@@ -496,7 +496,7 @@
 bool SQLiteBase::executeSimpleStatement(const string &sql)
 {
 	char *errMsg = NULL;
-	bool success = true;
+	bool success = false;
 
 	if (sql.empty() == true)
 	{



From fabricecolin at mail.berlios.de  Sun Jun 20 10:14:00 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 20 Jun 2010 10:14:00 +0200
Subject: [Pinot-svn] r1710 - trunk/Core
Message-ID: <201006200814.o5K8E0cD018283@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-20 10:13:58 +0200 (Sun, 20 Jun 2010)
New Revision: 1710

Modified:
   trunk/Core/pinot-dbus-daemon.cpp
Log:
Support for upower.


Modified: trunk/Core/pinot-dbus-daemon.cpp
===================================================================
--- trunk/Core/pinot-dbus-daemon.cpp	2010-06-20 08:11:12 UTC (rev 1709)
+++ trunk/Core/pinot-dbus-daemon.cpp	2010-06-20 08:13:58 UTC (rev 1710)
@@ -162,7 +162,7 @@
 			const char *pParameter = parameter.c_str();
 
 			// Battery status is provided by the OnBattery property
-			// This only works for org.freedesktop.DeviceKit.Power
+			// This only works for org.freedesktop.(UPower|DeviceKit.Power)
 			callStatus = dbus_g_proxy_call(pBusProxy, method.c_str(), &pError,
 				G_TYPE_STRING, pParameter,
 				G_TYPE_INVALID,
@@ -249,6 +249,19 @@
 			"org.freedesktop.DeviceKit.Power",
 			onBattery);
 	}
+	else if (dbus_message_is_signal(pMessage, "org.freedesktop.UPower", "Changed") == TRUE)
+	{
+#ifdef DEBUG
+		cout << "filterHandler: received Changed" << endl;
+#endif
+		// Properties changed, check again
+		batteryChange = getBatteryState("org.freedesktop.UPower", true,
+			"/org/freedesktop/UPower",
+			"org.freedesktop.DBus.Properties",
+			"GetAll",
+			"org.freedesktop.UPower",
+			onBattery);
+	}
 	// The first two signals are specified by the freedesktop.org Power Management spec v0.1 and v0.2
 	else if ((dbus_message_is_signal(pMessage, "org.freedesktop.PowerManagement", "BatteryStateChanged") == TRUE) ||
 		(dbus_message_is_signal(pMessage, "org.freedesktop.PowerManagement", "OnBatteryChanged") == TRUE) ||
@@ -696,6 +709,8 @@
 		{
 			// See power management signals
 			dbus_bus_add_match(pSystemConnection,
+				"type='signal',interface='org.freedesktop.UPower'", &error);
+			dbus_bus_add_match(pSystemConnection,
 				"type='signal',interface='org.freedesktop.DeviceKit.Power'", &error);
 			dbus_bus_add_match(pSessionConnection,
 				"type='signal',interface='org.freedesktop.PowerManagement'", &error);
@@ -807,7 +822,13 @@
 #ifdef HAVE_DBUS
 			// Try and get the battery state
 			gboolean result = FALSE;
-			if ((getBatteryState("org.freedesktop.DeviceKit.Power", true,
+			if ((getBatteryState("org.freedesktop.UPower", true,
+	                        "/org/freedesktop/UPower",
+				"org.freedesktop.DBus.Properties",
+	                        "GetAll",
+	                        "org.freedesktop.UPower",
+                        	result) == true) ||
+				(getBatteryState("org.freedesktop.DeviceKit.Power", true,
 	                        "/org/freedesktop/DeviceKit/Power",
 				"org.freedesktop.DBus.Properties",
 	                        "GetAll",



From fabricecolin at mail.berlios.de  Thu Jun 24 09:46:12 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Thu, 24 Jun 2010 09:46:12 +0200
Subject: [Pinot-svn] r1711 - in trunk: . Core IndexSearch UI/GTK2/src
Message-ID: <201006240746.o5O7kCpR024499@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-24 09:46:06 +0200 (Thu, 24 Jun 2010)
New Revision: 1711

Modified:
   trunk/Core/pinot-dbus-daemon.1
   trunk/Core/pinot-index.1
   trunk/Core/pinot-search.1
   trunk/IndexSearch/pinot-label.1
   trunk/UI/GTK2/src/pinot.1
   trunk/configure.in
Log:
Bumped version number to 0.96.


Modified: trunk/Core/pinot-dbus-daemon.1
===================================================================
--- trunk/Core/pinot-dbus-daemon.1	2010-06-20 08:13:58 UTC (rev 1710)
+++ trunk/Core/pinot-dbus-daemon.1	2010-06-24 07:46:06 UTC (rev 1711)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-DBUS-DAEMON "1" "April 2009" "pinot-dbus-daemon - pinot 0.93" "User Commands"
+.TH PINOT-DBUS-DAEMON "1" "June 2010" "pinot-dbus-daemon - pinot 0.96" "User Commands"
 .SH NAME
 pinot-dbus-daemon \- D-Bus search and index daemon
 .SH SYNOPSIS

Modified: trunk/Core/pinot-index.1
===================================================================
--- trunk/Core/pinot-index.1	2010-06-20 08:13:58 UTC (rev 1710)
+++ trunk/Core/pinot-index.1	2010-06-24 07:46:06 UTC (rev 1711)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-INDEX "1" "April 2009" "pinot-index - pinot 0.93" "User Commands"
+.TH PINOT-INDEX "1" "June 2010" "pinot-index - pinot 0.96" "User Commands"
 .SH NAME
 pinot-index \- Index documents from the command-line
 .SH SYNOPSIS

Modified: trunk/Core/pinot-search.1
===================================================================
--- trunk/Core/pinot-search.1	2010-06-20 08:13:58 UTC (rev 1710)
+++ trunk/Core/pinot-search.1	2010-06-24 07:46:06 UTC (rev 1711)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-SEARCH "1" "April 2009" "pinot-search - pinot 0.93" "User Commands"
+.TH PINOT-SEARCH "1" "June 2010" "pinot-search - pinot 0.96" "User Commands"
 .SH NAME
 pinot-search \- Query search engines from the command-line
 .SH SYNOPSIS

Modified: trunk/IndexSearch/pinot-label.1
===================================================================
--- trunk/IndexSearch/pinot-label.1	2010-06-20 08:13:58 UTC (rev 1710)
+++ trunk/IndexSearch/pinot-label.1	2010-06-24 07:46:06 UTC (rev 1711)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-LABEL "1" "April 2009" "pinot-label - pinot 0.93" "User Commands"
+.TH PINOT-LABEL "1" "June 2010" "pinot-label - pinot 0.96" "User Commands"
 .SH NAME
 pinot-label \- Label files from the command-line
 .SH SYNOPSIS

Modified: trunk/UI/GTK2/src/pinot.1
===================================================================
--- trunk/UI/GTK2/src/pinot.1	2010-06-20 08:13:58 UTC (rev 1710)
+++ trunk/UI/GTK2/src/pinot.1	2010-06-24 07:46:06 UTC (rev 1711)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT "1" "April 2009" "pinot - pinot 0.93" "User Commands"
+.TH PINOT "1" "June 2010" "pinot - pinot 0.96" "User Commands"
 .SH NAME
 pinot \- A metasearch tool for the Free Desktop
 .SH SYNOPSIS

Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2010-06-20 08:13:58 UTC (rev 1710)
+++ trunk/configure.in	2010-06-24 07:46:06 UTC (rev 1711)
@@ -2,7 +2,7 @@
 # using glademm V2.6.0
 
 AC_PREREQ(2.50)
-AC_INIT(pinot, 0.95,[fabricecolin at users.berlios.de])
+AC_INIT(pinot, 0.96,[fabricecolin at users.berlios.de])
 AM_INIT_AUTOMAKE
 AC_CONFIG_HEADERS(config.h)
 



From fabricecolin at mail.berlios.de  Thu Jun 24 11:08:11 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Thu, 24 Jun 2010 11:08:11 +0200
Subject: [Pinot-svn] r1712 - in trunk: . po
Message-ID: <201006240908.o5O98Bh7029428@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-24 11:08:05 +0200 (Thu, 24 Jun 2010)
New Revision: 1712

Modified:
   trunk/AUTHORS
   trunk/po/de.po
   trunk/po/es.po
   trunk/po/fr.po
   trunk/po/he.po
   trunk/po/it.po
   trunk/po/ja.po
   trunk/po/nl.po
   trunk/po/pt.po
   trunk/po/pt_BR.po
   trunk/po/ru.po
   trunk/po/sv.po
   trunk/po/zh_CN.po
   trunk/po/zh_TW.po
Log:
Current translations.


Modified: trunk/AUTHORS
===================================================================
--- trunk/AUTHORS	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/AUTHORS	2010-06-24 09:08:05 UTC (rev 1712)
@@ -52,6 +52,7 @@
 	Chinese (Simplified) - Ashlee Ma <ashlee8310 at hotmail dot com>
 		& rainofchaos <rainofchaos at gmail dot com>
 		& Aron Xu <???>
+		& Eleanor Chen <chenyueg at gmail dot com>
 	Chinese (Traditional) - ??? Yung-Chung Lin <henearkrxern at gmail dot com>
 	Dutch - Tikkel <???>
 		& JW <jw00000 at gmail dot com>

Modified: trunk/po/de.po
===================================================================
--- trunk/po/de.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/de.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -4,80 +4,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-11-09 22:24+0800\n"
-"PO-Revision-Date: 2009-09-24 18:23+0000\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
+"PO-Revision-Date: 2010-06-20 08:45+0000\n"
 "Last-Translator: marco.jahn <Unknown>\n"
 "Language-Team: German <de at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2009-11-02 14:44+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "Unbekannt"
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "D?nisch"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "Niederl?nisch"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "Englisch"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "Finnisch"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "Franz?sisch"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "Deutsch"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "Ungarisch"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "Italienisch"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "Norwegisch"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "Portugiesisch"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "Rum?nisch"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "Russisch"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "Spanisch"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "Schwedisch"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "T?rkisch"
 
@@ -704,7 +720,8 @@
 
 #: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
-msgstr "Dateien mit folgenden Dateiendungen von der Indizierungs ausschliessen"
+msgstr ""
+"Dateien mit folgenden Dateiendungen von der Indizierungs ausschliessen"
 
 #: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
@@ -719,7 +736,8 @@
 msgstr "Neue Kategorie"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Diese Verzeichnisse werden indiziert und optional auf ?nderungen ?berwacht:"
 

Modified: trunk/po/es.po
===================================================================
--- trunk/po/es.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/es.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -5,80 +5,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-11-09 22:24+0800\n"
-"PO-Revision-Date: 2009-11-02 22:22+0000\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
+"PO-Revision-Date: 2010-06-20 08:46+0000\n"
 "Last-Translator: DiegoJ <diegojromerolopez at gmail.com>\n"
 "Language-Team: es <fabricecolin at users.berlios.de>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=utf-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2009-11-09 21:48+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "Desconocido"
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "Dan?s"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "Holand?s"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "Ingl?s"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "Finland?s"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "Franc?s"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "Alem?n"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "Italiano"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "Noruego"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "Rumano"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "Ruso"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "Espa?ol"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "Sueco"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "Turco"
 
@@ -718,7 +734,8 @@
 msgstr "Nueva etiqueta"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr "Estas carpetas van a estar indexar autom?ticamente"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90

Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/fr.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -5,80 +5,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-09-19 14:25+0800\n"
-"PO-Revision-Date: 2010-02-28 12:55+0000\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
+"PO-Revision-Date: 2010-06-20 08:46+0000\n"
 "Last-Translator: verdy_p <Unknown>\n"
 "Language-Team: fr <fabricecolin at users.berlios.de>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=utf-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2010-06-19 09:20+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "Inconnu"
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "Danois"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "Hollandais"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "Anglais"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "Finlandais"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "Francais"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "Allemand"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "Hongrois"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "Italien"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "Norvegien"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "Portugais"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "Roumain"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "Russe"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "Espagnol"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "Su?dois"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "Turc"
 
@@ -86,21 +102,21 @@
 #. Apply this label
 #. Is this an internal index ?
 #: Core/PinotSettings.cpp:436 Core/PinotSettings.cpp:1712
-#: Core/WorkerThreads.cpp:1042 UI/GTK2/src/mainWindow.cc:859
-#: UI/GTK2/src/mainWindow.cc:1125 UI/GTK2/src/mainWindow.cc:1388
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1655 UI/GTK2/src/mainWindow.cc:1689
-#: UI/GTK2/src/mainWindow.cc:1714 UI/GTK2/src/mainWindow.cc:2423
+#: Core/WorkerThreads.cpp:1036 UI/GTK2/src/mainWindow.cc:873
+#: UI/GTK2/src/mainWindow.cc:1139 UI/GTK2/src/mainWindow.cc:1402
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:1565
+#: UI/GTK2/src/mainWindow.cc:1669 UI/GTK2/src/mainWindow.cc:1703
+#: UI/GTK2/src/mainWindow.cc:1728 UI/GTK2/src/mainWindow.cc:2437
 #: UI/GTK2/src/statisticsDialog.cc:157
 msgid "My Web Pages"
 msgstr "Mes Pages Web"
 
 #. Spawn new threads
 #: Core/PinotSettings.cpp:437 Core/PinotSettings.cpp:1713
-#: Core/WorkerThreads.cpp:1052 UI/GTK2/src/mainWindow.cc:1120
-#: UI/GTK2/src/mainWindow.cc:1378 UI/GTK2/src/mainWindow.cc:1392
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:1562
-#: UI/GTK2/src/mainWindow.cc:2427 UI/GTK2/src/statisticsDialog.cc:163
+#: Core/WorkerThreads.cpp:1046 UI/GTK2/src/mainWindow.cc:1134
+#: UI/GTK2/src/mainWindow.cc:1392 UI/GTK2/src/mainWindow.cc:1406
+#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:1576
+#: UI/GTK2/src/mainWindow.cc:2441 UI/GTK2/src/statisticsDialog.cc:163
 msgid "My Documents"
 msgstr "Mes Documents"
 
@@ -149,88 +165,88 @@
 msgid "Unclassified"
 msgstr "Sans classification"
 
-#: Core/WorkerThreads.cpp:98
+#: Core/WorkerThreads.cpp:96
 msgid "Index error"
 msgstr "Erreur sur l'index"
 
-#: Core/WorkerThreads.cpp:100
+#: Core/WorkerThreads.cpp:98
 msgid "Couldn't index document"
 msgstr "N'a pas pu indexer le document"
 
-#: Core/WorkerThreads.cpp:102
+#: Core/WorkerThreads.cpp:100
 msgid "Couldn't update document"
 msgstr "N'a pas pu mettre a jour le document"
 
-#: Core/WorkerThreads.cpp:104
+#: Core/WorkerThreads.cpp:102
 msgid "Couldn't unindex document(s)"
 msgstr "N'a pas pu desindexer le(s) document(s)"
 
-#: Core/WorkerThreads.cpp:106
+#: Core/WorkerThreads.cpp:104
 msgid "Couldn't run query on search engine"
 msgstr "N'a pas pu lancer la recherche sur le moteur"
 
-#: Core/WorkerThreads.cpp:108
+#: Core/WorkerThreads.cpp:106
 msgid "Couldn't get history for search engine"
 msgstr "N'a pas pu obtenir l'historique de la recherche"
 
-#: Core/WorkerThreads.cpp:110
+#: Core/WorkerThreads.cpp:108
 msgid "Couldn't retrieve document"
 msgstr "N'a pas pu telecharger le document"
 
-#: Core/WorkerThreads.cpp:112
+#: Core/WorkerThreads.cpp:110
 msgid "File monitor error"
 msgstr "Erreur du moniteur de fichiers"
 
-#: Core/WorkerThreads.cpp:114
+#: Core/WorkerThreads.cpp:112
 msgid "Couldn't open directory"
 msgstr "N'a pas pu ouvrir le repertoire"
 
-#: Core/WorkerThreads.cpp:116
+#: Core/WorkerThreads.cpp:114
 msgid "Index doesn't exist"
 msgstr "L'index n'existe pas"
 
-#: Core/WorkerThreads.cpp:118
+#: Core/WorkerThreads.cpp:116
 msgid "Couldn't create search engine"
 msgstr "N'a pas pu creer le moteur"
 
-#: Core/WorkerThreads.cpp:120
+#: Core/WorkerThreads.cpp:118
 msgid "Cannot index document type"
 msgstr "Impossible d'indexer ce type de documents"
 
-#: Core/WorkerThreads.cpp:122
+#: Core/WorkerThreads.cpp:120
 msgid "No downloader for this protocol"
 msgstr "Pas de brouteur pour ce protocole"
 
-#: Core/WorkerThreads.cpp:124
+#: Core/WorkerThreads.cpp:122
 msgid "Robots META tag forbids indexing"
 msgstr "Le META tag Robots interdit d'indexer"
 
-#: Core/WorkerThreads.cpp:126
+#: Core/WorkerThreads.cpp:124
 msgid "No monitoring handler"
 msgstr "Pas de moniteur de fichiers disponible"
 
-#: Core/WorkerThreads.cpp:131 UI/GTK2/src/statisticsDialog.cc:245
+#: Core/WorkerThreads.cpp:129 UI/GTK2/src/statisticsDialog.cc:245
 #: UI/GTK2/src/statisticsDialog.cc:263
 msgid "Unknown error"
 msgstr "Erreur inconnue"
 
-#: Core/WorkerThreads.cpp:440
+#: Core/WorkerThreads.cpp:439
 msgid "Indexing was stopped"
 msgstr "Indexation est arretee"
 
-#: Core/WorkerThreads.cpp:453
+#: Core/WorkerThreads.cpp:452
 msgid "Can't index mail here"
 msgstr "Ne peut pas indexer le courrier ici"
 
-#: Core/WorkerThreads.cpp:474 Core/WorkerThreads.cpp:770
+#: Core/WorkerThreads.cpp:473 Core/WorkerThreads.cpp:764
 msgid "is already being indexed"
 msgstr "est deja indexe"
 
-#: Core/WorkerThreads.cpp:484
+#: Core/WorkerThreads.cpp:483
 msgid "is blacklisted"
 msgstr "est exclus"
 
-#: Core/WorkerThreads.cpp:1005
+#: Core/WorkerThreads.cpp:999
 msgid "No title"
 msgstr "Pas de titre"
 
@@ -330,254 +346,254 @@
 msgid "Helper application"
 msgstr "Application"
 
-#: UI/GTK2/src/mainWindow.cc:189
+#: UI/GTK2/src/mainWindow.cc:200
 msgid "Query Name"
 msgstr "Nom de la Recherche"
 
-#: UI/GTK2/src/mainWindow.cc:194
+#: UI/GTK2/src/mainWindow.cc:205
 msgid "Last Run"
 msgstr "Derniere Utilisation"
 
-#: UI/GTK2/src/mainWindow.cc:199
+#: UI/GTK2/src/mainWindow.cc:210
 msgid "Summary"
 msgstr "Sommaire"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:242
+#: UI/GTK2/src/mainWindow.cc:252
 msgid "Show all search engines"
 msgstr "Montrer tous les moteurs"
 
-#: UI/GTK2/src/mainWindow.cc:243
+#: UI/GTK2/src/mainWindow.cc:254 UI/GTK2/src/mainWindow.cc:263
+msgid "Find documents that match the query"
+msgstr "Trouver les documents qui correspondent"
+
+#: UI/GTK2/src/mainWindow.cc:256
 msgid "Find documents that match the query string"
 msgstr "Trouver les documents qui correspondent"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Add an index"
 msgstr "Ajouter un index"
 
-#: UI/GTK2/src/mainWindow.cc:245
+#: UI/GTK2/src/mainWindow.cc:259
 msgid "Remove an index"
 msgstr "Enlever un index"
 
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:260
 msgid "Add a query"
 msgstr "Ajouter une recherche"
 
-#: UI/GTK2/src/mainWindow.cc:247
+#: UI/GTK2/src/mainWindow.cc:261
 msgid "Remove a query"
 msgstr "Effacer une recherche"
 
-#: UI/GTK2/src/mainWindow.cc:248
+#: UI/GTK2/src/mainWindow.cc:262
 msgid "Show the query's previous results"
 msgstr "Montrer les resultats precedents"
 
-#: UI/GTK2/src/mainWindow.cc:249
-msgid "Find documents that match the query"
-msgstr "Trouver les documents qui correspondent"
-
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:268
+#: UI/GTK2/src/mainWindow.cc:282
 msgid "Ready"
 msgstr "Pret"
 
-#: UI/GTK2/src/mainWindow.cc:280
+#: UI/GTK2/src/mainWindow.cc:294
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr ""
 "Il est recommende de mettre a jour tous les documents de Mes Pages Web"
 
-#: UI/GTK2/src/mainWindow.cc:288
+#: UI/GTK2/src/mainWindow.cc:302
 msgid "Don't warn me again"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:296 UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow.cc:310 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "Mettre a Jour"
 
-#: UI/GTK2/src/mainWindow.cc:357
+#: UI/GTK2/src/mainWindow.cc:371
 msgid "N/A"
 msgstr "Inconnue"
 
-#: UI/GTK2/src/mainWindow.cc:375
+#: UI/GTK2/src/mainWindow.cc:389
 msgid "Undefined"
 msgstr "Indefini"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:614 UI/GTK2/src/mainWindow.cc:2795
+#: UI/GTK2/src/mainWindow.cc:628 UI/GTK2/src/mainWindow.cc:2833
 msgid "Live query"
 msgstr "Recherche"
 
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:887
+#: UI/GTK2/src/mainWindow.cc:901
 msgid "Document location is"
 msgstr "Le chemin du document is"
 
-#: UI/GTK2/src/mainWindow.cc:1106
+#: UI/GTK2/src/mainWindow.cc:1120
 msgid "Couldn't search in results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1116
+#: UI/GTK2/src/mainWindow.cc:1130
 msgid "In Results"
 msgstr "Dans Les Resultats"
 
-#: UI/GTK2/src/mainWindow.cc:1289
+#: UI/GTK2/src/mainWindow.cc:1303
 msgid "Showing"
 msgstr "Montrant"
 
-#: UI/GTK2/src/mainWindow.cc:1297
+#: UI/GTK2/src/mainWindow.cc:1311
 msgid "of"
 msgstr "documents,"
 
-#: UI/GTK2/src/mainWindow.cc:1339
+#: UI/GTK2/src/mainWindow.cc:1353
 msgid "Query"
 msgstr "La recherche"
 
-#: UI/GTK2/src/mainWindow.cc:1343 UI/GTK2/src/mainWindow.cc:3340
+#: UI/GTK2/src/mainWindow.cc:1357 UI/GTK2/src/mainWindow.cc:3378
 msgid "on"
 msgstr "sur"
 
-#: UI/GTK2/src/mainWindow.cc:1347
+#: UI/GTK2/src/mainWindow.cc:1361
 msgid "ended"
 msgstr "est terminee"
 
-#: UI/GTK2/src/mainWindow.cc:1502
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "More Like"
 msgstr "Similaire a"
 
-#: UI/GTK2/src/mainWindow.cc:1569
+#: UI/GTK2/src/mainWindow.cc:1583
 msgid "Updated label(s)"
 msgstr "Mis a jour l(es) etiquette(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1665 UI/GTK2/src/mainWindow.cc:1755
+#: UI/GTK2/src/mainWindow.cc:1679 UI/GTK2/src/mainWindow.cc:1769
 msgid "Updated document"
 msgstr "Mis a jour le document"
 
-#: UI/GTK2/src/mainWindow.cc:1678
+#: UI/GTK2/src/mainWindow.cc:1692
 msgid "Indexed"
 msgstr "Indexe"
 
-#: UI/GTK2/src/mainWindow.cc:1715
+#: UI/GTK2/src/mainWindow.cc:1729
 msgid "Unindexed document(s)"
 msgstr "Desindexe le(s) document(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1810
+#: UI/GTK2/src/mainWindow.cc:1824
 msgid "Couldn't rename index, name"
 msgstr "N'a pas pu renommer l'index, le nom"
 
-#: UI/GTK2/src/mainWindow.cc:1814 UI/GTK2/src/mainWindow.cc:2623
-#: UI/GTK2/src/mainWindow.cc:3146
+#: UI/GTK2/src/mainWindow.cc:1828 UI/GTK2/src/mainWindow.cc:2637
+#: UI/GTK2/src/mainWindow.cc:3184
 msgid "is already in use"
 msgstr "est deja utilise"
 
-#: UI/GTK2/src/mainWindow.cc:1826
+#: UI/GTK2/src/mainWindow.cc:1840
 msgid "Couldn't rename index"
 msgstr "N'a pas pu renommer l'index"
 
-#: UI/GTK2/src/mainWindow.cc:1841
+#: UI/GTK2/src/mainWindow.cc:1855
 msgid "Edited index"
 msgstr "Edite l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2151
+#: UI/GTK2/src/mainWindow.cc:2165
 msgid "Export"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2196
+#: UI/GTK2/src/mainWindow.cc:2210
 msgid "Couldn't find similar documents"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2439
+#: UI/GTK2/src/mainWindow.cc:2453
 msgid "Index"
 msgstr "L'index"
 
-#: UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:2457
 msgid "doesn't exist"
 msgstr "n'existe pas"
 
-#: UI/GTK2/src/mainWindow.cc:2510
+#: UI/GTK2/src/mainWindow.cc:2524
 msgid "Remove this document from the index ?"
 msgstr "Enlever ce document de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2529
+#: UI/GTK2/src/mainWindow.cc:2543
 msgid "Remove these documents from the index ?"
 msgstr "Enlever ces documents de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2534 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2548 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Desindexer"
 
-#: UI/GTK2/src/mainWindow.cc:2573
+#: UI/GTK2/src/mainWindow.cc:2587
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Un outil de recherche pour le Bureau Libre"
 
-#: UI/GTK2/src/mainWindow.cc:2574
+#: UI/GTK2/src/mainWindow.cc:2588
 msgid "Search the Web and your documents !"
 msgstr "Cherche le Web et vos documents"
 
-#: UI/GTK2/src/mainWindow.cc:2619
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Index name"
 msgstr "Nom de l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2633
+#: UI/GTK2/src/mainWindow.cc:2647
 msgid "Couldn't add index"
 msgstr "N'a pas pu ajouter l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2649
+#: UI/GTK2/src/mainWindow.cc:2663
 msgid "Added new index"
 msgstr "Ajoute un nouvel index"
 
-#: UI/GTK2/src/mainWindow.cc:2684
+#: UI/GTK2/src/mainWindow.cc:2698
 msgid "Couldn't remove index"
 msgstr "N'a pas pu enlever l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2922
 msgid "No history for"
 msgstr "Pas d'historique pour"
 
-#: UI/GTK2/src/mainWindow.cc:2956 UI/GTK2/src/prefsWindow.cc:960
+#: UI/GTK2/src/mainWindow.cc:2994 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Au moins une tache n'est pas terminee. Quitter maintenant ?"
 
-#: UI/GTK2/src/mainWindow.cc:2958 UI/GTK2/src/prefsWindow.cc:962
+#: UI/GTK2/src/mainWindow.cc:2996 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Quitter"
 
-#: UI/GTK2/src/mainWindow.cc:3142
+#: UI/GTK2/src/mainWindow.cc:3180
 msgid "Query name"
 msgstr "Nom de la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Couldn't update query"
 msgstr "N'a pas pu mettre a jour la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3180
+#: UI/GTK2/src/mainWindow.cc:3218
 msgid "Edited query"
 msgstr "Edite la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3187
+#: UI/GTK2/src/mainWindow.cc:3225
 msgid "Couldn't add query"
 msgstr "N'a pas pu ajouter la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3195
+#: UI/GTK2/src/mainWindow.cc:3233
 msgid "Added new query"
 msgstr "Ajoute une nouvelle recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3229
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "Query is not set"
 msgstr "Recherche indefinie"
 
-#: UI/GTK2/src/mainWindow.cc:3240
+#: UI/GTK2/src/mainWindow.cc:3278
 msgid "No search engine selected"
 msgstr "Pas de moteur selectionne"
 
-#: UI/GTK2/src/mainWindow.cc:3327
+#: UI/GTK2/src/mainWindow.cc:3365
 msgid "Please set the Google API key first"
 msgstr "Configurez la clef de l'API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3336
+#: UI/GTK2/src/mainWindow.cc:3374
 msgid "Running query"
 msgstr "Recherche en cours"
 
-#: UI/GTK2/src/mainWindow.cc:3543
+#: UI/GTK2/src/mainWindow.cc:3581
 msgid "No default application defined for type"
 msgstr "Pas d'application definie pour le type"
 

Modified: trunk/po/he.po
===================================================================
--- trunk/po/he.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/he.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -5,80 +5,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-09-19 14:25+0800\n"
-"PO-Revision-Date: 2010-05-22 12:35+0000\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
+"PO-Revision-Date: 2010-06-20 08:46+0000\n"
 "Last-Translator: Yaron <sh.yaron at gmail.com>\n"
 "Language-Team: Hebrew <he at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2010-06-19 09:20+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "?? ????"
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "???????"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "??????"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "?????"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "??????"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "??????"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "???????"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "???????"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "???????"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "?????????"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "??????"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "?????"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "??????"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "?????"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "??????"
 
@@ -86,21 +102,21 @@
 #. Apply this label
 #. Is this an internal index ?
 #: Core/PinotSettings.cpp:436 Core/PinotSettings.cpp:1712
-#: Core/WorkerThreads.cpp:1042 UI/GTK2/src/mainWindow.cc:859
-#: UI/GTK2/src/mainWindow.cc:1125 UI/GTK2/src/mainWindow.cc:1388
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1655 UI/GTK2/src/mainWindow.cc:1689
-#: UI/GTK2/src/mainWindow.cc:1714 UI/GTK2/src/mainWindow.cc:2423
+#: Core/WorkerThreads.cpp:1036 UI/GTK2/src/mainWindow.cc:873
+#: UI/GTK2/src/mainWindow.cc:1139 UI/GTK2/src/mainWindow.cc:1402
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:1565
+#: UI/GTK2/src/mainWindow.cc:1669 UI/GTK2/src/mainWindow.cc:1703
+#: UI/GTK2/src/mainWindow.cc:1728 UI/GTK2/src/mainWindow.cc:2437
 #: UI/GTK2/src/statisticsDialog.cc:157
 msgid "My Web Pages"
 msgstr "????? ???????? ???"
 
 #. Spawn new threads
 #: Core/PinotSettings.cpp:437 Core/PinotSettings.cpp:1713
-#: Core/WorkerThreads.cpp:1052 UI/GTK2/src/mainWindow.cc:1120
-#: UI/GTK2/src/mainWindow.cc:1378 UI/GTK2/src/mainWindow.cc:1392
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:1562
-#: UI/GTK2/src/mainWindow.cc:2427 UI/GTK2/src/statisticsDialog.cc:163
+#: Core/WorkerThreads.cpp:1046 UI/GTK2/src/mainWindow.cc:1134
+#: UI/GTK2/src/mainWindow.cc:1392 UI/GTK2/src/mainWindow.cc:1406
+#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:1576
+#: UI/GTK2/src/mainWindow.cc:2441 UI/GTK2/src/statisticsDialog.cc:163
 msgid "My Documents"
 msgstr "??????? ???"
 
@@ -149,88 +165,88 @@
 msgid "Unclassified"
 msgstr "?? ?????"
 
-#: Core/WorkerThreads.cpp:98
+#: Core/WorkerThreads.cpp:96
 msgid "Index error"
 msgstr "????? ??????"
 
-#: Core/WorkerThreads.cpp:100
+#: Core/WorkerThreads.cpp:98
 msgid "Couldn't index document"
 msgstr "?? ???? ????? ?? ????? ???????"
 
-#: Core/WorkerThreads.cpp:102
+#: Core/WorkerThreads.cpp:100
 msgid "Couldn't update document"
 msgstr "?? ???? ????? ?? ?????"
 
-#: Core/WorkerThreads.cpp:104
+#: Core/WorkerThreads.cpp:102
 msgid "Couldn't unindex document(s)"
 msgstr "?? ???? ????? ?? ?????/?? ????????"
 
-#: Core/WorkerThreads.cpp:106
+#: Core/WorkerThreads.cpp:104
 msgid "Couldn't run query on search engine"
 msgstr "?? ???? ????? ?? ??????? ?? ???? ??????"
 
-#: Core/WorkerThreads.cpp:108
+#: Core/WorkerThreads.cpp:106
 msgid "Couldn't get history for search engine"
 msgstr "?? ???? ????? ?? ????????? ???? ??????"
 
-#: Core/WorkerThreads.cpp:110
+#: Core/WorkerThreads.cpp:108
 msgid "Couldn't retrieve document"
 msgstr "?? ???? ????? ?? ?????"
 
-#: Core/WorkerThreads.cpp:112
+#: Core/WorkerThreads.cpp:110
 msgid "File monitor error"
 msgstr "????? ??? ?????? ????"
 
-#: Core/WorkerThreads.cpp:114
+#: Core/WorkerThreads.cpp:112
 msgid "Couldn't open directory"
 msgstr "?? ???? ????? ?? ???????"
 
-#: Core/WorkerThreads.cpp:116
+#: Core/WorkerThreads.cpp:114
 msgid "Index doesn't exist"
 msgstr "??????? ?? ????"
 
-#: Core/WorkerThreads.cpp:118
+#: Core/WorkerThreads.cpp:116
 msgid "Couldn't create search engine"
 msgstr "?? ???? ????? ?? ???? ??????"
 
-#: Core/WorkerThreads.cpp:120
+#: Core/WorkerThreads.cpp:118
 msgid "Cannot index document type"
 msgstr "?? ???? ????? ??????? ??? ?????? ??"
 
-#: Core/WorkerThreads.cpp:122
+#: Core/WorkerThreads.cpp:120
 msgid "No downloader for this protocol"
 msgstr "??? ??? ????? ????????? ??"
 
-#: Core/WorkerThreads.cpp:124
+#: Core/WorkerThreads.cpp:122
 msgid "Robots META tag forbids indexing"
 msgstr "????? ??META ?? ???????? ?????? ?? ????? ???????"
 
-#: Core/WorkerThreads.cpp:126
+#: Core/WorkerThreads.cpp:124
 msgid "No monitoring handler"
 msgstr "??? ??? ?????"
 
-#: Core/WorkerThreads.cpp:131 UI/GTK2/src/statisticsDialog.cc:245
+#: Core/WorkerThreads.cpp:129 UI/GTK2/src/statisticsDialog.cc:245
 #: UI/GTK2/src/statisticsDialog.cc:263
 msgid "Unknown error"
 msgstr "????? ?? ?????"
 
-#: Core/WorkerThreads.cpp:440
+#: Core/WorkerThreads.cpp:439
 msgid "Indexing was stopped"
 msgstr "?????? ??????? ?????"
 
-#: Core/WorkerThreads.cpp:453
+#: Core/WorkerThreads.cpp:452
 msgid "Can't index mail here"
 msgstr "?? ???? ????? ?? ?????? ????\"? ??????? ????"
 
-#: Core/WorkerThreads.cpp:474 Core/WorkerThreads.cpp:770
+#: Core/WorkerThreads.cpp:473 Core/WorkerThreads.cpp:764
 msgid "is already being indexed"
 msgstr "??? ???? ???????"
 
-#: Core/WorkerThreads.cpp:484
+#: Core/WorkerThreads.cpp:483
 msgid "is blacklisted"
 msgstr "?????? ??????"
 
-#: Core/WorkerThreads.cpp:1005
+#: Core/WorkerThreads.cpp:999
 msgid "No title"
 msgstr "??? ?????"
 
@@ -330,253 +346,253 @@
 msgid "Helper application"
 msgstr "????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:189
+#: UI/GTK2/src/mainWindow.cc:200
 msgid "Query Name"
 msgstr "?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:194
+#: UI/GTK2/src/mainWindow.cc:205
 msgid "Last Run"
 msgstr "?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:199
+#: UI/GTK2/src/mainWindow.cc:210
 msgid "Summary"
 msgstr "?????"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:242
+#: UI/GTK2/src/mainWindow.cc:252
 msgid "Show all search engines"
 msgstr "??? ?? ?? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:243
+#: UI/GTK2/src/mainWindow.cc:254 UI/GTK2/src/mainWindow.cc:263
+msgid "Find documents that match the query"
+msgstr "??? ?????? ??????? ?? ???????"
+
+#: UI/GTK2/src/mainWindow.cc:256
 msgid "Find documents that match the query string"
 msgstr "??? ?????? ??????? ?? ?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Add an index"
 msgstr "???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:245
+#: UI/GTK2/src/mainWindow.cc:259
 msgid "Remove an index"
 msgstr "??? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:260
 msgid "Add a query"
 msgstr "???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:247
+#: UI/GTK2/src/mainWindow.cc:261
 msgid "Remove a query"
 msgstr "??? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:248
+#: UI/GTK2/src/mainWindow.cc:262
 msgid "Show the query's previous results"
 msgstr "??? ?? ?????? ??????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:249
-msgid "Find documents that match the query"
-msgstr "??? ?????? ??????? ?? ???????"
-
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:268
+#: UI/GTK2/src/mainWindow.cc:282
 msgid "Ready"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:280
+#: UI/GTK2/src/mainWindow.cc:294
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "????? ?? ??????? ?????? ???????? ??? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:288
+#: UI/GTK2/src/mainWindow.cc:302
 msgid "Don't warn me again"
 msgstr "?? ????? ???? ???"
 
-#: UI/GTK2/src/mainWindow.cc:296 UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow.cc:310 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:357
+#: UI/GTK2/src/mainWindow.cc:371
 msgid "N/A"
 msgstr "?? ????"
 
-#: UI/GTK2/src/mainWindow.cc:375
+#: UI/GTK2/src/mainWindow.cc:389
 msgid "Undefined"
 msgstr "?? ?????"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:614 UI/GTK2/src/mainWindow.cc:2795
+#: UI/GTK2/src/mainWindow.cc:628 UI/GTK2/src/mainWindow.cc:2833
 msgid "Live query"
 msgstr "?????? ???"
 
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:887
+#: UI/GTK2/src/mainWindow.cc:901
 msgid "Document location is"
 msgstr "????? ????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:1106
+#: UI/GTK2/src/mainWindow.cc:1120
 msgid "Couldn't search in results"
 msgstr "?? ???? ???? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1116
+#: UI/GTK2/src/mainWindow.cc:1130
 msgid "In Results"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:1289
+#: UI/GTK2/src/mainWindow.cc:1303
 msgid "Showing"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1297
+#: UI/GTK2/src/mainWindow.cc:1311
 msgid "of"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1339
+#: UI/GTK2/src/mainWindow.cc:1353
 msgid "Query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1343 UI/GTK2/src/mainWindow.cc:3340
+#: UI/GTK2/src/mainWindow.cc:1357 UI/GTK2/src/mainWindow.cc:3378
 msgid "on"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1347
+#: UI/GTK2/src/mainWindow.cc:1361
 msgid "ended"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1502
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "More Like"
 msgstr "??? ???"
 
-#: UI/GTK2/src/mainWindow.cc:1569
+#: UI/GTK2/src/mainWindow.cc:1583
 msgid "Updated label(s)"
 msgstr "?????/?? ???????/??"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1665 UI/GTK2/src/mainWindow.cc:1755
+#: UI/GTK2/src/mainWindow.cc:1679 UI/GTK2/src/mainWindow.cc:1769
 msgid "Updated document"
 msgstr "???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1678
+#: UI/GTK2/src/mainWindow.cc:1692
 msgid "Indexed"
 msgstr "???? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1715
+#: UI/GTK2/src/mainWindow.cc:1729
 msgid "Unindexed document(s)"
 msgstr "????/?? ?????/? ????/?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1810
+#: UI/GTK2/src/mainWindow.cc:1824
 msgid "Couldn't rename index, name"
 msgstr "?? ???? ????? ?? ??????, ??"
 
-#: UI/GTK2/src/mainWindow.cc:1814 UI/GTK2/src/mainWindow.cc:2623
-#: UI/GTK2/src/mainWindow.cc:3146
+#: UI/GTK2/src/mainWindow.cc:1828 UI/GTK2/src/mainWindow.cc:2637
+#: UI/GTK2/src/mainWindow.cc:3184
 msgid "is already in use"
 msgstr "??? ???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1826
+#: UI/GTK2/src/mainWindow.cc:1840
 msgid "Couldn't rename index"
 msgstr "?? ???? ????? ?? ?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1841
+#: UI/GTK2/src/mainWindow.cc:1855
 msgid "Edited index"
 msgstr "??????? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2151
+#: UI/GTK2/src/mainWindow.cc:2165
 msgid "Export"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2196
+#: UI/GTK2/src/mainWindow.cc:2210
 msgid "Couldn't find similar documents"
 msgstr "?? ???? ????? ?????? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:2439
+#: UI/GTK2/src/mainWindow.cc:2453
 msgid "Index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:2457
 msgid "doesn't exist"
 msgstr "?? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2510
+#: UI/GTK2/src/mainWindow.cc:2524
 msgid "Remove this document from the index ?"
 msgstr "??? ????? ???? ?? ???????? ?"
 
-#: UI/GTK2/src/mainWindow.cc:2529
+#: UI/GTK2/src/mainWindow.cc:2543
 msgid "Remove these documents from the index ?"
 msgstr "??? ????? ?????? ??? ?????????"
 
-#: UI/GTK2/src/mainWindow.cc:2534 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2548 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "???? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:2573
+#: UI/GTK2/src/mainWindow.cc:2587
 msgid "A metasearch tool for the Free Desktop"
 msgstr "??? ????????? ?????? ?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2574
+#: UI/GTK2/src/mainWindow.cc:2588
 msgid "Search the Web and your documents !"
 msgstr "????? ???????? ???????? ??? !"
 
-#: UI/GTK2/src/mainWindow.cc:2619
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Index name"
 msgstr "?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2633
+#: UI/GTK2/src/mainWindow.cc:2647
 msgid "Couldn't add index"
 msgstr "?? ???? ?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2649
+#: UI/GTK2/src/mainWindow.cc:2663
 msgid "Added new index"
 msgstr "???? ?????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:2684
+#: UI/GTK2/src/mainWindow.cc:2698
 msgid "Couldn't remove index"
 msgstr "?? ???? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2922
 msgid "No history for"
 msgstr "??? ???????? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2956 UI/GTK2/src/prefsWindow.cc:960
+#: UI/GTK2/src/mainWindow.cc:2994 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "????? ????? ??? ?? ?????? ?????. ???? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2958 UI/GTK2/src/prefsWindow.cc:962
+#: UI/GTK2/src/mainWindow.cc:2996 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3142
+#: UI/GTK2/src/mainWindow.cc:3180
 msgid "Query name"
 msgstr "?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Couldn't update query"
 msgstr "?? ???? ????? ?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3180
+#: UI/GTK2/src/mainWindow.cc:3218
 msgid "Edited query"
 msgstr "??????? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:3187
+#: UI/GTK2/src/mainWindow.cc:3225
 msgid "Couldn't add query"
 msgstr "?? ???? ?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3195
+#: UI/GTK2/src/mainWindow.cc:3233
 msgid "Added new query"
 msgstr "????? ?????? ????"
 
-#: UI/GTK2/src/mainWindow.cc:3229
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "Query is not set"
 msgstr "??????? ?? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3240
+#: UI/GTK2/src/mainWindow.cc:3278
 msgid "No search engine selected"
 msgstr "?? ???? ???? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:3327
+#: UI/GTK2/src/mainWindow.cc:3365
 msgid "Please set the Google API key first"
 msgstr "??? ???? ?? ???? ??API ?? ???? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:3336
+#: UI/GTK2/src/mainWindow.cc:3374
 msgid "Running query"
 msgstr "??????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:3543
+#: UI/GTK2/src/mainWindow.cc:3581
 msgid "No default application defined for type"
 msgstr "?? ????? ????? ?????? ???? ????"
 

Modified: trunk/po/it.po
===================================================================
--- trunk/po/it.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/it.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -4,80 +4,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-11-09 22:24+0800\n"
-"PO-Revision-Date: 2009-01-10 18:59+0000\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
+"PO-Revision-Date: 2010-06-20 08:46+0000\n"
 "Last-Translator: MarcoBazzani <alfred.einstein at gmail.com>\n"
 "Language-Team: Italian <it at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2009-01-11 07:48+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "Sconosciuto"
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "Danese"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "Olandese"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "Inglese"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "Finlandese"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "Francese"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "Tedesco"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "Ungherese"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "Italiano"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "Norvegese"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "Portoghese"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "Romeno"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "Russo"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "Spagnolo"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "Svedese"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "Turco"
 
@@ -719,7 +735,8 @@
 msgstr "Nuova descrizione"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Queste directory devono essere indicizzate e opzionalmente monitorate per "
 "cambiamenti:"
@@ -856,9 +873,8 @@
 msgstr "Directory"
 
 #: UI/GTK2/src/queryDialog.cc:116
-#, fuzzy
 msgid "In URL"
-msgstr "Indirizzo:"
+msgstr ""
 
 #: UI/GTK2/src/queryDialog.cc:117
 msgid "Path"
@@ -1008,7 +1024,3 @@
 #: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "Errori"
-
-#, fuzzy
-#~ msgid "File container"
-#~ msgstr "Nome file"

Modified: trunk/po/ja.po
===================================================================
--- trunk/po/ja.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/ja.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -5,80 +5,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-11-09 22:24+0800\n"
-"PO-Revision-Date: 2009-01-13 00:43+0000\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
+"PO-Revision-Date: 2010-06-20 08:47+0000\n"
 "Last-Translator: Takeo Mizuki <Unknown>\n"
 "Language-Team: Japanese <ja at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2009-01-13 14:12+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "??"
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "??????"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "?????"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "??"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "?????"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "??????"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "?????"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "??????"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "??????"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "??????"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "?????"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "???????"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "????"
 
@@ -534,8 +550,7 @@
 
 #: UI/GTK2/src/mainWindow.cc:2994 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
-msgstr ""
-"?????????????????????????????????????"
+msgstr "?????????????????????????????????????"
 
 #: UI/GTK2/src/mainWindow.cc:2996 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
@@ -719,9 +734,9 @@
 msgstr "?????"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr ""
-"????????????????????????????????????"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
+msgstr "????????????????????????????????????"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
 #: UI/GTK2/src/prefsWindow_glade.cc:106
@@ -855,9 +870,8 @@
 msgstr "??????"
 
 #: UI/GTK2/src/queryDialog.cc:116
-#, fuzzy
 msgid "In URL"
-msgstr "URL"
+msgstr ""
 
 #: UI/GTK2/src/queryDialog.cc:117
 msgid "Path"
@@ -1007,7 +1021,3 @@
 #: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "???"
-
-#, fuzzy
-#~ msgid "File container"
-#~ msgstr "?????"

Modified: trunk/po/nl.po
===================================================================
--- trunk/po/nl.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/nl.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -4,80 +4,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-11-09 22:24+0800\n"
-"PO-Revision-Date: 2009-10-20 18:58+0000\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
+"PO-Revision-Date: 2010-06-20 08:47+0000\n"
 "Last-Translator: JW <jw00000 at gmail.com>\n"
 "Language-Team: Dutch <nl at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2009-10-25 04:08+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "Niet bekend"
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "Deens"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "Nederlands"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "Engels"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "Fins"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "Frans"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "Duits"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "Hongaars"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "Italiaans"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "Noors"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "Portugees"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "Roemeens"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "Russisch"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "Spaans"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "Zweeds"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "Turks"
 
@@ -718,7 +734,8 @@
 msgstr "Nieuwe naam"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Deze directories zullen geindexeerd worden en optioneel bijgewerkt worden "
 "bij veranderingen:"

Modified: trunk/po/pt.po
===================================================================
--- trunk/po/pt.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/pt.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -4,80 +4,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-11-09 22:24+0800\n"
-"PO-Revision-Date: 2009-11-04 18:36+0000\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
+"PO-Revision-Date: 2010-06-20 08:47+0000\n"
 "Last-Translator: Bernardo Lopes <Unknown>\n"
 "Language-Team: Portuguese <pt at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2009-11-09 21:48+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "Desconhecido"
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "Dinamarqu?s"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "Holand?s"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "Ingl?s"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "Finl?ndes"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "Franc?s"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "Alem?o"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "Italiano"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "Noruegu?s"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "Romeno"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "Russo"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "Espanhol"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "Sueco"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "Turco"
 
@@ -381,7 +397,8 @@
 
 #: UI/GTK2/src/mainWindow.cc:294
 msgid "Updating all documents in My Web Pages is recommended"
-msgstr "A actualizar todos os documentos nas Minhas P?ginas Web ? recomendado"
+msgstr ""
+"A actualizar todos os documentos nas Minhas P?ginas Web ? recomendado"
 
 #: UI/GTK2/src/mainWindow.cc:302
 msgid "Don't warn me again"
@@ -717,7 +734,8 @@
 msgstr "Novo t?tulo"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Direct?rios que ser?o indexados e opcionalmente ser?o monitorizadas as "
 "altera??es:"

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/pt_BR.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -4,80 +4,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-09-19 14:25+0800\n"
-"PO-Revision-Date: 2010-03-20 16:46+0000\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
+"PO-Revision-Date: 2010-06-20 08:47+0000\n"
 "Last-Translator: andbelo <Unknown>\n"
 "Language-Team: Portuguese (Brazil) <pt_BR at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2010-06-19 09:20+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "Desconhecido"
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "Danish"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "Dutch"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "English"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "Terminar"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "French"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "German"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "Italiano"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "Noruegu?s"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "Romeno"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "Russian"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "Spanish"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "Swedish"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "Turco"
 
@@ -85,21 +101,21 @@
 #. Apply this label
 #. Is this an internal index ?
 #: Core/PinotSettings.cpp:436 Core/PinotSettings.cpp:1712
-#: Core/WorkerThreads.cpp:1042 UI/GTK2/src/mainWindow.cc:859
-#: UI/GTK2/src/mainWindow.cc:1125 UI/GTK2/src/mainWindow.cc:1388
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1655 UI/GTK2/src/mainWindow.cc:1689
-#: UI/GTK2/src/mainWindow.cc:1714 UI/GTK2/src/mainWindow.cc:2423
+#: Core/WorkerThreads.cpp:1036 UI/GTK2/src/mainWindow.cc:873
+#: UI/GTK2/src/mainWindow.cc:1139 UI/GTK2/src/mainWindow.cc:1402
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:1565
+#: UI/GTK2/src/mainWindow.cc:1669 UI/GTK2/src/mainWindow.cc:1703
+#: UI/GTK2/src/mainWindow.cc:1728 UI/GTK2/src/mainWindow.cc:2437
 #: UI/GTK2/src/statisticsDialog.cc:157
 msgid "My Web Pages"
 msgstr "Minhas P?ginas Web"
 
 #. Spawn new threads
 #: Core/PinotSettings.cpp:437 Core/PinotSettings.cpp:1713
-#: Core/WorkerThreads.cpp:1052 UI/GTK2/src/mainWindow.cc:1120
-#: UI/GTK2/src/mainWindow.cc:1378 UI/GTK2/src/mainWindow.cc:1392
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:1562
-#: UI/GTK2/src/mainWindow.cc:2427 UI/GTK2/src/statisticsDialog.cc:163
+#: Core/WorkerThreads.cpp:1046 UI/GTK2/src/mainWindow.cc:1134
+#: UI/GTK2/src/mainWindow.cc:1392 UI/GTK2/src/mainWindow.cc:1406
+#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:1576
+#: UI/GTK2/src/mainWindow.cc:2441 UI/GTK2/src/statisticsDialog.cc:163
 msgid "My Documents"
 msgstr "Meus Documentos"
 
@@ -148,88 +164,88 @@
 msgid "Unclassified"
 msgstr "N?o classificado"
 
-#: Core/WorkerThreads.cpp:98
+#: Core/WorkerThreads.cpp:96
 msgid "Index error"
 msgstr "Erro no ?ndice"
 
-#: Core/WorkerThreads.cpp:100
+#: Core/WorkerThreads.cpp:98
 msgid "Couldn't index document"
 msgstr "N?o foi poss?vel indexar documento"
 
-#: Core/WorkerThreads.cpp:102
+#: Core/WorkerThreads.cpp:100
 msgid "Couldn't update document"
 msgstr "N?o foi poss?vel atualizar documento"
 
-#: Core/WorkerThreads.cpp:104
+#: Core/WorkerThreads.cpp:102
 msgid "Couldn't unindex document(s)"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: Core/WorkerThreads.cpp:106
+#: Core/WorkerThreads.cpp:104
 msgid "Couldn't run query on search engine"
 msgstr "N?o foi poss?vel executar consulta no mecanismo de pesquisa"
 
-#: Core/WorkerThreads.cpp:108
+#: Core/WorkerThreads.cpp:106
 msgid "Couldn't get history for search engine"
 msgstr "N?o foi poss?vel pegar hist?rico para mecanismo de pesquisa"
 
-#: Core/WorkerThreads.cpp:110
+#: Core/WorkerThreads.cpp:108
 msgid "Couldn't retrieve document"
 msgstr "N?o foi poss?vel obter documento"
 
-#: Core/WorkerThreads.cpp:112
+#: Core/WorkerThreads.cpp:110
 msgid "File monitor error"
 msgstr "Monitor de erros de arquivo"
 
-#: Core/WorkerThreads.cpp:114
+#: Core/WorkerThreads.cpp:112
 msgid "Couldn't open directory"
 msgstr "N?o foi poss?vel abrir diret?rio"
 
-#: Core/WorkerThreads.cpp:116
+#: Core/WorkerThreads.cpp:114
 msgid "Index doesn't exist"
 msgstr "?ndice n?o existe"
 
-#: Core/WorkerThreads.cpp:118
+#: Core/WorkerThreads.cpp:116
 msgid "Couldn't create search engine"
 msgstr "N?o foi poss?vel criar mecanismo de pesquisa"
 
-#: Core/WorkerThreads.cpp:120
+#: Core/WorkerThreads.cpp:118
 msgid "Cannot index document type"
 msgstr "Imposs?vel indexar tipo de arquivo"
 
-#: Core/WorkerThreads.cpp:122
+#: Core/WorkerThreads.cpp:120
 msgid "No downloader for this protocol"
 msgstr "N?o h? programa para baixar este protocolo"
 
-#: Core/WorkerThreads.cpp:124
+#: Core/WorkerThreads.cpp:122
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META tag n?o s?o permitidos no ?ndice"
 
-#: Core/WorkerThreads.cpp:126
+#: Core/WorkerThreads.cpp:124
 msgid "No monitoring handler"
 msgstr "Nenhum manipulador de monitoramento"
 
-#: Core/WorkerThreads.cpp:131 UI/GTK2/src/statisticsDialog.cc:245
+#: Core/WorkerThreads.cpp:129 UI/GTK2/src/statisticsDialog.cc:245
 #: UI/GTK2/src/statisticsDialog.cc:263
 msgid "Unknown error"
 msgstr "Erro desconhecido"
 
-#: Core/WorkerThreads.cpp:440
+#: Core/WorkerThreads.cpp:439
 msgid "Indexing was stopped"
 msgstr "?ndice foi parado"
 
-#: Core/WorkerThreads.cpp:453
+#: Core/WorkerThreads.cpp:452
 msgid "Can't index mail here"
 msgstr "N?o foi poss?vel indexar mail aqui"
 
-#: Core/WorkerThreads.cpp:474 Core/WorkerThreads.cpp:770
+#: Core/WorkerThreads.cpp:473 Core/WorkerThreads.cpp:764
 msgid "is already being indexed"
 msgstr "j? est? sendo indexado"
 
-#: Core/WorkerThreads.cpp:484
+#: Core/WorkerThreads.cpp:483
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: Core/WorkerThreads.cpp:1005
+#: Core/WorkerThreads.cpp:999
 msgid "No title"
 msgstr "Sem t?tulo"
 
@@ -329,253 +345,253 @@
 msgid "Helper application"
 msgstr "Aplica??o de ajuda"
 
-#: UI/GTK2/src/mainWindow.cc:189
+#: UI/GTK2/src/mainWindow.cc:200
 msgid "Query Name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:194
+#: UI/GTK2/src/mainWindow.cc:205
 msgid "Last Run"
 msgstr "?ltimo executado"
 
-#: UI/GTK2/src/mainWindow.cc:199
+#: UI/GTK2/src/mainWindow.cc:210
 msgid "Summary"
 msgstr "Resumo"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:242
+#: UI/GTK2/src/mainWindow.cc:252
 msgid "Show all search engines"
 msgstr "Mostrar todos mecanimos de pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:243
+#: UI/GTK2/src/mainWindow.cc:254 UI/GTK2/src/mainWindow.cc:263
+msgid "Find documents that match the query"
+msgstr "Achar documentos que combinam com a consulta"
+
+#: UI/GTK2/src/mainWindow.cc:256
 msgid "Find documents that match the query string"
 msgstr "Achar documentos que combinam com a string consultada"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Add an index"
 msgstr "Adicionar ao ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:245
+#: UI/GTK2/src/mainWindow.cc:259
 msgid "Remove an index"
 msgstr "Remover o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:260
 msgid "Add a query"
 msgstr "Adicionar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:247
+#: UI/GTK2/src/mainWindow.cc:261
 msgid "Remove a query"
 msgstr "Remover a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:248
+#: UI/GTK2/src/mainWindow.cc:262
 msgid "Show the query's previous results"
 msgstr "Mostrar resultados pr?vios da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:249
-msgid "Find documents that match the query"
-msgstr "Achar documentos que combinam com a consulta"
-
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:268
+#: UI/GTK2/src/mainWindow.cc:282
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:280
+#: UI/GTK2/src/mainWindow.cc:294
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "Atualizando todos os documentos eem Minha p?gina ? recomendado"
 
-#: UI/GTK2/src/mainWindow.cc:288
+#: UI/GTK2/src/mainWindow.cc:302
 msgid "Don't warn me again"
 msgstr "N?o me avise novamente"
 
-#: UI/GTK2/src/mainWindow.cc:296 UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow.cc:310 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "Atualizar"
 
-#: UI/GTK2/src/mainWindow.cc:357
+#: UI/GTK2/src/mainWindow.cc:371
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:375
+#: UI/GTK2/src/mainWindow.cc:389
 msgid "Undefined"
 msgstr "N?o definido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:614 UI/GTK2/src/mainWindow.cc:2795
+#: UI/GTK2/src/mainWindow.cc:628 UI/GTK2/src/mainWindow.cc:2833
 msgid "Live query"
 msgstr "Query ativa"
 
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:887
+#: UI/GTK2/src/mainWindow.cc:901
 msgid "Document location is"
 msgstr "Localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:1106
+#: UI/GTK2/src/mainWindow.cc:1120
 msgid "Couldn't search in results"
 msgstr "N?o foi poss?vel pesquisar nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1116
+#: UI/GTK2/src/mainWindow.cc:1130
 msgid "In Results"
 msgstr "Nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1289
+#: UI/GTK2/src/mainWindow.cc:1303
 msgid "Showing"
 msgstr "Exibindo"
 
-#: UI/GTK2/src/mainWindow.cc:1297
+#: UI/GTK2/src/mainWindow.cc:1311
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1339
+#: UI/GTK2/src/mainWindow.cc:1353
 msgid "Query"
 msgstr "Consulta"
 
-#: UI/GTK2/src/mainWindow.cc:1343 UI/GTK2/src/mainWindow.cc:3340
+#: UI/GTK2/src/mainWindow.cc:1357 UI/GTK2/src/mainWindow.cc:3378
 msgid "on"
 msgstr "no"
 
-#: UI/GTK2/src/mainWindow.cc:1347
+#: UI/GTK2/src/mainWindow.cc:1361
 msgid "ended"
 msgstr "finalizada"
 
-#: UI/GTK2/src/mainWindow.cc:1502
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "More Like"
 msgstr "Mais pr?xima"
 
-#: UI/GTK2/src/mainWindow.cc:1569
+#: UI/GTK2/src/mainWindow.cc:1583
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1665 UI/GTK2/src/mainWindow.cc:1755
+#: UI/GTK2/src/mainWindow.cc:1679 UI/GTK2/src/mainWindow.cc:1769
 msgid "Updated document"
 msgstr "Documento atualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1678
+#: UI/GTK2/src/mainWindow.cc:1692
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1715
+#: UI/GTK2/src/mainWindow.cc:1729
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexidado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1810
+#: UI/GTK2/src/mainWindow.cc:1824
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1814 UI/GTK2/src/mainWindow.cc:2623
-#: UI/GTK2/src/mainWindow.cc:3146
+#: UI/GTK2/src/mainWindow.cc:1828 UI/GTK2/src/mainWindow.cc:2637
+#: UI/GTK2/src/mainWindow.cc:3184
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1826
+#: UI/GTK2/src/mainWindow.cc:1840
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1841
+#: UI/GTK2/src/mainWindow.cc:1855
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2151
+#: UI/GTK2/src/mainWindow.cc:2165
 msgid "Export"
 msgstr "Exportar"
 
-#: UI/GTK2/src/mainWindow.cc:2196
+#: UI/GTK2/src/mainWindow.cc:2210
 msgid "Couldn't find similar documents"
 msgstr "N?o foi poss?vel achar documentos similares"
 
-#: UI/GTK2/src/mainWindow.cc:2439
+#: UI/GTK2/src/mainWindow.cc:2453
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:2457
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2510
+#: UI/GTK2/src/mainWindow.cc:2524
 msgid "Remove this document from the index ?"
 msgstr "Remover documento do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2529
+#: UI/GTK2/src/mainWindow.cc:2543
 msgid "Remove these documents from the index ?"
 msgstr "Remover documentos do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2534 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2548 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2573
+#: UI/GTK2/src/mainWindow.cc:2587
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca gr?tis para Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2574
+#: UI/GTK2/src/mainWindow.cc:2588
 msgid "Search the Web and your documents !"
 msgstr "Procurar a Rede e seus documentos!"
 
-#: UI/GTK2/src/mainWindow.cc:2619
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2633
+#: UI/GTK2/src/mainWindow.cc:2647
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2649
+#: UI/GTK2/src/mainWindow.cc:2663
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2684
+#: UI/GTK2/src/mainWindow.cc:2698
 msgid "Couldn't remove index"
 msgstr "N?o foi poss?vel remover ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2922
 msgid "No history for"
 msgstr "Nenhum hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2956 UI/GTK2/src/prefsWindow.cc:960
+#: UI/GTK2/src/mainWindow.cc:2994 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa n?o terminou ainda. Sair assim mesmo?"
 
-#: UI/GTK2/src/mainWindow.cc:2958 UI/GTK2/src/prefsWindow.cc:962
+#: UI/GTK2/src/mainWindow.cc:2996 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Sair"
 
-#: UI/GTK2/src/mainWindow.cc:3142
+#: UI/GTK2/src/mainWindow.cc:3180
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel atualizar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3180
+#: UI/GTK2/src/mainWindow.cc:3218
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3187
+#: UI/GTK2/src/mainWindow.cc:3225
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3195
+#: UI/GTK2/src/mainWindow.cc:3233
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3229
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "Query is not set"
 msgstr "Consulta n?o foi atualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3240
+#: UI/GTK2/src/mainWindow.cc:3278
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa selecionado"
 
-#: UI/GTK2/src/mainWindow.cc:3327
+#: UI/GTK2/src/mainWindow.cc:3365
 msgid "Please set the Google API key first"
 msgstr "Primeiro informe a tecla para Google API"
 
-#: UI/GTK2/src/mainWindow.cc:3336
+#: UI/GTK2/src/mainWindow.cc:3374
 msgid "Running query"
 msgstr "Executando consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3543
+#: UI/GTK2/src/mainWindow.cc:3581
 msgid "No default application defined for type"
 msgstr "Aplica??o associada ao tipo n?o definida"
 

Modified: trunk/po/ru.po
===================================================================
--- trunk/po/ru.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/ru.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -4,80 +4,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-11-09 22:24+0800\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
 "PO-Revision-Date: 2008-08-23 16:14+0000\n"
 "Last-Translator: Sergey Vostrikov <s.vostrikov at gmail.com>\n"
 "Language-Team: Russian <ru at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-11-15 08:36+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "???????????"
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "???????"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "???????????"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "??????????"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "???????"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "???????????"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "????????"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr ""
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "???????????"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "??????????"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "?????????????"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr ""
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "???????"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "?????????"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "????????"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr ""
 
@@ -408,9 +424,8 @@
 msgstr "???????????? ?????????"
 
 #: UI/GTK2/src/mainWindow.cc:1120
-#, fuzzy
 msgid "Couldn't search in results"
-msgstr "?? ??????? ??????? ????????? ???????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow.cc:1130
 msgid "In Results"
@@ -475,14 +490,12 @@
 msgstr "?????????????? ???????"
 
 #: UI/GTK2/src/mainWindow.cc:2165
-#, fuzzy
 msgid "Export"
-msgstr "??????????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow.cc:2210
-#, fuzzy
 msgid "Couldn't find similar documents"
-msgstr "?????????? ??????????????? ????????(?)"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow.cc:2453
 msgid "Index"
@@ -593,18 +606,16 @@
 msgstr "??????????? ???????"
 
 #: UI/GTK2/src/mainWindow_glade.cc:165
-#, fuzzy
 msgid "Open Cache"
-msgstr "???????? ????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:168
 msgid "Open Parent"
 msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:174
-#, fuzzy
 msgid "_Add To Index"
-msgstr "???????? ????? ??????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
@@ -627,14 +638,12 @@
 msgstr "?????? ???????????"
 
 #: UI/GTK2/src/mainWindow_glade.cc:231
-#, fuzzy
 msgid "Group Results By"
-msgstr "???????????? ??"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:234
-#, fuzzy
 msgid "Show Extracts"
-msgstr "???????? ????????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:243
 msgid "Export List"
@@ -646,9 +655,8 @@
 msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:255
-#, fuzzy
 msgid "_File"
-msgstr "????????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
@@ -723,7 +731,8 @@
 msgstr "????? ?????"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "??? ???????? ????? ??????????????? ? ????????????? ??? ???????? ?????????:"
 
@@ -797,9 +806,8 @@
 msgstr ""
 
 #: UI/GTK2/src/prefsWindow_glade.cc:523
-#, fuzzy
 msgid "Pinot Preferences"
-msgstr "?????????"
+msgstr ""
 
 #: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
@@ -860,9 +868,8 @@
 msgstr "???????? ??????????"
 
 #: UI/GTK2/src/queryDialog.cc:116
-#, fuzzy
 msgid "In URL"
-msgstr "URL"
+msgstr ""
 
 #: UI/GTK2/src/queryDialog.cc:117
 msgid "Path"
@@ -944,9 +951,8 @@
 msgstr "????"
 
 #: UI/GTK2/src/ResultsTree.cc:1555
-#, fuzzy
 msgid "No results"
-msgstr "????? ??????????:"
+msgstr ""
 
 #: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
@@ -1013,7 +1019,3 @@
 #: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr ""
-
-#, fuzzy
-#~ msgid "File container"
-#~ msgstr "????"

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/sv.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -5,80 +5,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-11-09 22:24+0800\n"
-"PO-Revision-Date: 2009-01-10 19:04+0000\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
+"PO-Revision-Date: 2010-06-20 08:47+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2009-01-11 04:36+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr "Ok?nd"
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "Danska"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "Nederl?ndska"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "Engelska"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "Finska"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "Franska"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "Tyska"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "Ungerska"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "Italienska"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "Norska"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "Portugisiska"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "Rum?nska"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "Ryska"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "Spanska"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "Svenska"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "Turkiska"
 
@@ -718,7 +734,8 @@
 msgstr "Ny etikett"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Dessa kataloger kommer att bli indexerade och ?vervakade f?r ?ndringar "
 "(valfritt):"
@@ -855,9 +872,8 @@
 msgstr "Katalog"
 
 #: UI/GTK2/src/queryDialog.cc:116
-#, fuzzy
 msgid "In URL"
-msgstr "Url"
+msgstr ""
 
 #: UI/GTK2/src/queryDialog.cc:117
 msgid "Path"
@@ -1007,7 +1023,3 @@
 #: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "Fel"
-
-#, fuzzy
-#~ msgid "File container"
-#~ msgstr "Filnamn"

Modified: trunk/po/zh_CN.po
===================================================================
--- trunk/po/zh_CN.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/zh_CN.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -4,80 +4,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-09-19 14:25+0800\n"
-"PO-Revision-Date: 2010-06-04 13:19+0000\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
+"PO-Revision-Date: 2010-06-20 08:47+0000\n"
 "Last-Translator: Eleanor Chen <chenyueg at gmail.com>\n"
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2010-06-19 09:20+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr ""
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "???"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "???"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "??"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "???"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "??"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "??"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "???"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "?????"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "??"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "???"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "????"
 
@@ -85,21 +101,21 @@
 #. Apply this label
 #. Is this an internal index ?
 #: Core/PinotSettings.cpp:436 Core/PinotSettings.cpp:1712
-#: Core/WorkerThreads.cpp:1042 UI/GTK2/src/mainWindow.cc:859
-#: UI/GTK2/src/mainWindow.cc:1125 UI/GTK2/src/mainWindow.cc:1388
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1655 UI/GTK2/src/mainWindow.cc:1689
-#: UI/GTK2/src/mainWindow.cc:1714 UI/GTK2/src/mainWindow.cc:2423
+#: Core/WorkerThreads.cpp:1036 UI/GTK2/src/mainWindow.cc:873
+#: UI/GTK2/src/mainWindow.cc:1139 UI/GTK2/src/mainWindow.cc:1402
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:1565
+#: UI/GTK2/src/mainWindow.cc:1669 UI/GTK2/src/mainWindow.cc:1703
+#: UI/GTK2/src/mainWindow.cc:1728 UI/GTK2/src/mainWindow.cc:2437
 #: UI/GTK2/src/statisticsDialog.cc:157
 msgid "My Web Pages"
 msgstr "????"
 
 #. Spawn new threads
 #: Core/PinotSettings.cpp:437 Core/PinotSettings.cpp:1713
-#: Core/WorkerThreads.cpp:1052 UI/GTK2/src/mainWindow.cc:1120
-#: UI/GTK2/src/mainWindow.cc:1378 UI/GTK2/src/mainWindow.cc:1392
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:1562
-#: UI/GTK2/src/mainWindow.cc:2427 UI/GTK2/src/statisticsDialog.cc:163
+#: Core/WorkerThreads.cpp:1046 UI/GTK2/src/mainWindow.cc:1134
+#: UI/GTK2/src/mainWindow.cc:1392 UI/GTK2/src/mainWindow.cc:1406
+#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:1576
+#: UI/GTK2/src/mainWindow.cc:2441 UI/GTK2/src/statisticsDialog.cc:163
 msgid "My Documents"
 msgstr "????"
 
@@ -148,88 +164,88 @@
 msgid "Unclassified"
 msgstr "????"
 
-#: Core/WorkerThreads.cpp:98
+#: Core/WorkerThreads.cpp:96
 msgid "Index error"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:100
+#: Core/WorkerThreads.cpp:98
 msgid "Couldn't index document"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:102
+#: Core/WorkerThreads.cpp:100
 msgid "Couldn't update document"
 msgstr "??????"
 
-#: Core/WorkerThreads.cpp:104
+#: Core/WorkerThreads.cpp:102
 msgid "Couldn't unindex document(s)"
 msgstr "?????????"
 
-#: Core/WorkerThreads.cpp:106
+#: Core/WorkerThreads.cpp:104
 msgid "Couldn't run query on search engine"
 msgstr "??????????"
 
-#: Core/WorkerThreads.cpp:108
+#: Core/WorkerThreads.cpp:106
 msgid "Couldn't get history for search engine"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:110
+#: Core/WorkerThreads.cpp:108
 msgid "Couldn't retrieve document"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:112
+#: Core/WorkerThreads.cpp:110
 msgid "File monitor error"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:114
+#: Core/WorkerThreads.cpp:112
 msgid "Couldn't open directory"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:116
+#: Core/WorkerThreads.cpp:114
 msgid "Index doesn't exist"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:118
+#: Core/WorkerThreads.cpp:116
 msgid "Couldn't create search engine"
 msgstr "????????"
 
-#: Core/WorkerThreads.cpp:120
+#: Core/WorkerThreads.cpp:118
 msgid "Cannot index document type"
 msgstr "????????"
 
-#: Core/WorkerThreads.cpp:122
+#: Core/WorkerThreads.cpp:120
 msgid "No downloader for this protocol"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:124
+#: Core/WorkerThreads.cpp:122
 msgid "Robots META tag forbids indexing"
 msgstr "Robots?meta???????"
 
-#: Core/WorkerThreads.cpp:126
+#: Core/WorkerThreads.cpp:124
 msgid "No monitoring handler"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:131 UI/GTK2/src/statisticsDialog.cc:245
+#: Core/WorkerThreads.cpp:129 UI/GTK2/src/statisticsDialog.cc:245
 #: UI/GTK2/src/statisticsDialog.cc:263
 msgid "Unknown error"
 msgstr "????"
 
-#: Core/WorkerThreads.cpp:440
+#: Core/WorkerThreads.cpp:439
 msgid "Indexing was stopped"
 msgstr ""
 
-#: Core/WorkerThreads.cpp:453
+#: Core/WorkerThreads.cpp:452
 msgid "Can't index mail here"
 msgstr "??????"
 
-#: Core/WorkerThreads.cpp:474 Core/WorkerThreads.cpp:770
+#: Core/WorkerThreads.cpp:473 Core/WorkerThreads.cpp:764
 msgid "is already being indexed"
 msgstr "??????"
 
-#: Core/WorkerThreads.cpp:484
+#: Core/WorkerThreads.cpp:483
 msgid "is blacklisted"
 msgstr "?????"
 
-#: Core/WorkerThreads.cpp:1005
+#: Core/WorkerThreads.cpp:999
 msgid "No title"
 msgstr "???"
 
@@ -327,253 +343,253 @@
 msgid "Helper application"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:189
+#: UI/GTK2/src/mainWindow.cc:200
 msgid "Query Name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:194
+#: UI/GTK2/src/mainWindow.cc:205
 msgid "Last Run"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:199
+#: UI/GTK2/src/mainWindow.cc:210
 msgid "Summary"
 msgstr "??"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:242
+#: UI/GTK2/src/mainWindow.cc:252
 msgid "Show all search engines"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:243
+#: UI/GTK2/src/mainWindow.cc:254 UI/GTK2/src/mainWindow.cc:263
+msgid "Find documents that match the query"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:256
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Add an index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:245
+#: UI/GTK2/src/mainWindow.cc:259
 msgid "Remove an index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:260
 msgid "Add a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:247
+#: UI/GTK2/src/mainWindow.cc:261
 msgid "Remove a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:248
+#: UI/GTK2/src/mainWindow.cc:262
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:249
-msgid "Find documents that match the query"
-msgstr ""
-
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:268
+#: UI/GTK2/src/mainWindow.cc:282
 msgid "Ready"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:280
+#: UI/GTK2/src/mainWindow.cc:294
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "???????????????"
 
-#: UI/GTK2/src/mainWindow.cc:288
+#: UI/GTK2/src/mainWindow.cc:302
 msgid "Don't warn me again"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:296 UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow.cc:310 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:357
+#: UI/GTK2/src/mainWindow.cc:371
 msgid "N/A"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:375
+#: UI/GTK2/src/mainWindow.cc:389
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:614 UI/GTK2/src/mainWindow.cc:2795
+#: UI/GTK2/src/mainWindow.cc:628 UI/GTK2/src/mainWindow.cc:2833
 msgid "Live query"
 msgstr ""
 
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:887
+#: UI/GTK2/src/mainWindow.cc:901
 msgid "Document location is"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1106
+#: UI/GTK2/src/mainWindow.cc:1120
 msgid "Couldn't search in results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1116
+#: UI/GTK2/src/mainWindow.cc:1130
 msgid "In Results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1289
+#: UI/GTK2/src/mainWindow.cc:1303
 msgid "Showing"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1297
+#: UI/GTK2/src/mainWindow.cc:1311
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1339
+#: UI/GTK2/src/mainWindow.cc:1353
 msgid "Query"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1343 UI/GTK2/src/mainWindow.cc:3340
+#: UI/GTK2/src/mainWindow.cc:1357 UI/GTK2/src/mainWindow.cc:3378
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1347
+#: UI/GTK2/src/mainWindow.cc:1361
 msgid "ended"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1502
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "More Like"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1569
+#: UI/GTK2/src/mainWindow.cc:1583
 msgid "Updated label(s)"
 msgstr "?????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1665 UI/GTK2/src/mainWindow.cc:1755
+#: UI/GTK2/src/mainWindow.cc:1679 UI/GTK2/src/mainWindow.cc:1769
 msgid "Updated document"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1678
+#: UI/GTK2/src/mainWindow.cc:1692
 msgid "Indexed"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1715
+#: UI/GTK2/src/mainWindow.cc:1729
 msgid "Unindexed document(s)"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1810
+#: UI/GTK2/src/mainWindow.cc:1824
 msgid "Couldn't rename index, name"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1814 UI/GTK2/src/mainWindow.cc:2623
-#: UI/GTK2/src/mainWindow.cc:3146
+#: UI/GTK2/src/mainWindow.cc:1828 UI/GTK2/src/mainWindow.cc:2637
+#: UI/GTK2/src/mainWindow.cc:3184
 msgid "is already in use"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1826
+#: UI/GTK2/src/mainWindow.cc:1840
 msgid "Couldn't rename index"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1841
+#: UI/GTK2/src/mainWindow.cc:1855
 msgid "Edited index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2151
+#: UI/GTK2/src/mainWindow.cc:2165
 msgid "Export"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2196
+#: UI/GTK2/src/mainWindow.cc:2210
 msgid "Couldn't find similar documents"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2439
+#: UI/GTK2/src/mainWindow.cc:2453
 msgid "Index"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:2457
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2510
+#: UI/GTK2/src/mainWindow.cc:2524
 msgid "Remove this document from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2529
+#: UI/GTK2/src/mainWindow.cc:2543
 msgid "Remove these documents from the index ?"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2534 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2548 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2573
+#: UI/GTK2/src/mainWindow.cc:2587
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Free Desktop ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2574
+#: UI/GTK2/src/mainWindow.cc:2588
 msgid "Search the Web and your documents !"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2619
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Index name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2633
+#: UI/GTK2/src/mainWindow.cc:2647
 msgid "Couldn't add index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2649
+#: UI/GTK2/src/mainWindow.cc:2663
 msgid "Added new index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2684
+#: UI/GTK2/src/mainWindow.cc:2698
 msgid "Couldn't remove index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2922
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2956 UI/GTK2/src/prefsWindow.cc:960
+#: UI/GTK2/src/mainWindow.cc:2994 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2958 UI/GTK2/src/prefsWindow.cc:962
+#: UI/GTK2/src/mainWindow.cc:2996 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3142
+#: UI/GTK2/src/mainWindow.cc:3180
 msgid "Query name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Couldn't update query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3180
+#: UI/GTK2/src/mainWindow.cc:3218
 msgid "Edited query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3187
+#: UI/GTK2/src/mainWindow.cc:3225
 msgid "Couldn't add query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3195
+#: UI/GTK2/src/mainWindow.cc:3233
 msgid "Added new query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3229
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "Query is not set"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3240
+#: UI/GTK2/src/mainWindow.cc:3278
 msgid "No search engine selected"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3327
+#: UI/GTK2/src/mainWindow.cc:3365
 msgid "Please set the Google API key first"
 msgstr "????Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3336
+#: UI/GTK2/src/mainWindow.cc:3374
 msgid "Running query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3543
+#: UI/GTK2/src/mainWindow.cc:3581
 msgid "No default application defined for type"
 msgstr "????????????"
 

Modified: trunk/po/zh_TW.po
===================================================================
--- trunk/po/zh_TW.po	2010-06-24 07:46:06 UTC (rev 1711)
+++ trunk/po/zh_TW.po	2010-06-24 09:08:05 UTC (rev 1712)
@@ -5,80 +5,96 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.95\n"
+"Project-Id-Version: pinot 0.96\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-11-09 22:24+0800\n"
+"POT-Creation-Date: 2010-06-20 16:10+0800\n"
 "PO-Revision-Date: 2008-08-23 16:15+0000\n"
 "Last-Translator: Yung-chung Lin <henearkrxern at gmail.com>\n"
 "Language-Team: Traditional Chinese <zh_TW at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-11-15 08:36+0000\n"
+"X-Launchpad-Export-Date: 2010-06-24 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
+#: SQL/SQLiteBase.cpp:419
+msgid "failed to begin transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:455
+msgid "failed to rollback transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:491
+msgid "failed to end transaction"
+msgstr ""
+
+#: SQL/SQLiteBase.cpp:553
+msgid "couldn't format SQL statement"
+msgstr ""
+
 #. Localize language names
-#: Core/pinot-dbus-daemon.cpp:468 UI/GTK2/src/pinot.cc:309
+#: Core/pinot-dbus-daemon.cpp:543 UI/GTK2/src/pinot.cc:309
 msgid "Unknown"
 msgstr ""
 
-#: Core/pinot-dbus-daemon.cpp:469 UI/GTK2/src/pinot.cc:310
+#: Core/pinot-dbus-daemon.cpp:544 UI/GTK2/src/pinot.cc:310
 msgid "Danish"
 msgstr "???"
 
-#: Core/pinot-dbus-daemon.cpp:470 UI/GTK2/src/pinot.cc:311
+#: Core/pinot-dbus-daemon.cpp:545 UI/GTK2/src/pinot.cc:311
 msgid "Dutch"
 msgstr "???"
 
-#: Core/pinot-dbus-daemon.cpp:471 UI/GTK2/src/pinot.cc:312
+#: Core/pinot-dbus-daemon.cpp:546 UI/GTK2/src/pinot.cc:312
 msgid "English"
 msgstr "??"
 
-#: Core/pinot-dbus-daemon.cpp:472 UI/GTK2/src/pinot.cc:313
+#: Core/pinot-dbus-daemon.cpp:547 UI/GTK2/src/pinot.cc:313
 msgid "Finnish"
 msgstr "???"
 
-#: Core/pinot-dbus-daemon.cpp:473 UI/GTK2/src/pinot.cc:314
+#: Core/pinot-dbus-daemon.cpp:548 UI/GTK2/src/pinot.cc:314
 msgid "French"
 msgstr "??"
 
-#: Core/pinot-dbus-daemon.cpp:474 UI/GTK2/src/pinot.cc:315
+#: Core/pinot-dbus-daemon.cpp:549 UI/GTK2/src/pinot.cc:315
 msgid "German"
 msgstr "??"
 
-#: Core/pinot-dbus-daemon.cpp:475 UI/GTK2/src/pinot.cc:316
+#: Core/pinot-dbus-daemon.cpp:550 UI/GTK2/src/pinot.cc:316
 msgid "Hungarian"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:476 UI/GTK2/src/pinot.cc:317
+#: Core/pinot-dbus-daemon.cpp:551 UI/GTK2/src/pinot.cc:317
 msgid "Italian"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:477 UI/GTK2/src/pinot.cc:318
+#: Core/pinot-dbus-daemon.cpp:552 UI/GTK2/src/pinot.cc:318
 msgid "Norwegian"
 msgstr "???"
 
-#: Core/pinot-dbus-daemon.cpp:478 UI/GTK2/src/pinot.cc:319
+#: Core/pinot-dbus-daemon.cpp:553 UI/GTK2/src/pinot.cc:319
 msgid "Portuguese"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:479 UI/GTK2/src/pinot.cc:320
+#: Core/pinot-dbus-daemon.cpp:554 UI/GTK2/src/pinot.cc:320
 msgid "Romanian"
 msgstr "?????"
 
-#: Core/pinot-dbus-daemon.cpp:480 UI/GTK2/src/pinot.cc:321
+#: Core/pinot-dbus-daemon.cpp:555 UI/GTK2/src/pinot.cc:321
 msgid "Russian"
 msgstr "??"
 
-#: Core/pinot-dbus-daemon.cpp:481 UI/GTK2/src/pinot.cc:322
+#: Core/pinot-dbus-daemon.cpp:556 UI/GTK2/src/pinot.cc:322
 msgid "Spanish"
 msgstr "????"
 
-#: Core/pinot-dbus-daemon.cpp:482 UI/GTK2/src/pinot.cc:323
+#: Core/pinot-dbus-daemon.cpp:557 UI/GTK2/src/pinot.cc:323
 msgid "Swedish"
 msgstr "???"
 
-#: Core/pinot-dbus-daemon.cpp:483 UI/GTK2/src/pinot.cc:324
+#: Core/pinot-dbus-daemon.cpp:558 UI/GTK2/src/pinot.cc:324
 msgid "Turkish"
 msgstr "????"
 
@@ -409,9 +425,8 @@
 msgstr "?????"
 
 #: UI/GTK2/src/mainWindow.cc:1120
-#, fuzzy
 msgid "Couldn't search in results"
-msgstr "????????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow.cc:1130
 msgid "In Results"
@@ -480,9 +495,8 @@
 msgstr ""
 
 #: UI/GTK2/src/mainWindow.cc:2210
-#, fuzzy
 msgid "Couldn't find similar documents"
-msgstr "?????????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow.cc:2453
 msgid "Index"
@@ -593,18 +607,16 @@
 msgstr "?????"
 
 #: UI/GTK2/src/mainWindow_glade.cc:165
-#, fuzzy
 msgid "Open Cache"
-msgstr "????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:168
 msgid "Open Parent"
 msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:174
-#, fuzzy
 msgid "_Add To Index"
-msgstr "??????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
@@ -627,14 +639,12 @@
 msgstr "????"
 
 #: UI/GTK2/src/mainWindow_glade.cc:231
-#, fuzzy
 msgid "Group Results By"
-msgstr "???"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:234
-#, fuzzy
 msgid "Show Extracts"
-msgstr "????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:243
 msgid "Export List"
@@ -646,9 +656,8 @@
 msgstr "??"
 
 #: UI/GTK2/src/mainWindow_glade.cc:255
-#, fuzzy
 msgid "_File"
-msgstr "??"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
@@ -723,7 +732,8 @@
 msgstr "????"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr "??????????????????????????"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
@@ -796,9 +806,8 @@
 msgstr ""
 
 #: UI/GTK2/src/prefsWindow_glade.cc:523
-#, fuzzy
 msgid "Pinot Preferences"
-msgstr "????"
+msgstr ""
 
 #: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
@@ -859,9 +868,8 @@
 msgstr "??"
 
 #: UI/GTK2/src/queryDialog.cc:116
-#, fuzzy
 msgid "In URL"
-msgstr "??"
+msgstr ""
 
 #: UI/GTK2/src/queryDialog.cc:117
 msgid "Path"
@@ -943,9 +951,8 @@
 msgstr "??"
 
 #: UI/GTK2/src/ResultsTree.cc:1555
-#, fuzzy
 msgid "No results"
-msgstr "??"
+msgstr ""
 
 #: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
@@ -1012,7 +1019,3 @@
 #: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "??"
-
-#, fuzzy
-#~ msgid "File container"
-#~ msgstr "????"



From fabricecolin at mail.berlios.de  Sun Jun 27 14:01:10 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 27 Jun 2010 14:01:10 +0200
Subject: [Pinot-svn] r1714 - trunk/SQL
Message-ID: <201006271201.o5RC1Acf018018@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-27 14:01:01 +0200 (Sun, 27 Jun 2010)
New Revision: 1714

Modified:
   trunk/SQL/ActionQueue.cpp
   trunk/SQL/ActionQueue.h
Log:
Prepare more statements.
New method ActionQueue::deleteItems().


Modified: trunk/SQL/ActionQueue.cpp
===================================================================
--- trunk/SQL/ActionQueue.cpp	2010-06-27 11:11:56 UTC (rev 1713)
+++ trunk/SQL/ActionQueue.cpp	2010-06-27 12:01:01 UTC (rev 1714)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2009 Fabrice Colin
+ *  Copyright 2005-2010 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -23,6 +23,7 @@
 #include <unistd.h>
 #include <set>
 #include <iostream>
+#include <sstream>
 
 #include "Url.h"
 #include "StringManip.h"
@@ -32,6 +33,7 @@
 using std::string;
 using std::set;
 using std::vector;
+using std::stringstream;
 using std::clog;
 using std::endl;
 
@@ -41,9 +43,17 @@
 {
 	prepareStatement("select-url",
 		"SELECT Url FROM ActionQueue WHERE QueueId=? AND Url=?;");
+	prepareStatement("push-item-insert",
+		"INSERT INTO ActionQueue VALUES(?, ?, ?, ?, ?);");
+	prepareStatement("push-item-update",
+		"UPDATE ActionQueue SET Type=?, Date=?, Info=? WHERE QueueId=? AND Url=?;");
+	prepareStatement("pop-item",
+		"DELETE FROM ActionQueue WHERE QueueId=? AND Url=?;");
 	prepareStatement("select-oldest-url",
 		"SELECT Type, Info FROM ActionQueue "
 		"WHERE QueueId=? ORDER BY Date DESC LIMIT 1;");
+	prepareStatement("expire-items",
+		"DELETE FROM ActionQueue WHERE QueueId=? AND Date<?;");
 }
 
 ActionQueue::~ActionQueue()
@@ -118,6 +128,7 @@
 	vector<string> values;
 	string url(docInfo.getLocation());
 	string info(docInfo.serialize());
+	stringstream numStr;
 	bool update = false, success = false;
 
 	// Is there already an item for this URL ?
@@ -141,20 +152,26 @@
 		delete results;
 	}
 
+	numStr << time(NULL);
+
 	if (update == false)
 	{
-		results = executeStatement("INSERT INTO ActionQueue \
-			VALUES('%q', '%q', '%q', '%d', '%q');",
-			m_queueId.c_str(), Url::escapeUrl(url).c_str(),
-			typeToText(type).c_str(), time(NULL), info.c_str());
+		values.push_back(typeToText(type));
+		values.push_back(numStr.str());
+		values.push_back(info);
+
+		results = executePreparedStatement("push-item-insert", values);
 	}
 	else
 	{
-		results = executeStatement("UPDATE ActionQueue \
-			SET Type='%q', Date='%d', Info='%q' WHERE \
-			QueueId='%q' AND Url='%q';",
-			typeToText(type).c_str(), time(NULL), info.c_str(),
-			m_queueId.c_str(), Url::escapeUrl(url).c_str());
+		values.clear();
+		values.push_back(typeToText(type));
+		values.push_back(numStr.str());
+		values.push_back(info);
+		values.push_back(m_queueId);
+		values.push_back(Url::escapeUrl(url));
+
+		results = executePreparedStatement("push-item-update", values);
 	}
 	if (results != NULL)
 	{
@@ -173,6 +190,7 @@
 /// Pops and deletes the oldest item.
 bool ActionQueue::popItem(ActionType &type, DocumentInfo &docInfo)
 {
+	vector<string> values;
 	string url;
 	bool success = false;
 
@@ -186,10 +204,11 @@
 		<< ": " << type << " on " << url << endl;
 #endif
 
+	values.push_back(m_queueId);
+	values.push_back(Url::escapeUrl(url));
+
 	// Delete from ActionQueue
-	SQLResults *results = executeStatement("DELETE FROM ActionQueue \
-		WHERE QueueId='%q' AND Url='%q';",
-		m_queueId.c_str(), Url::escapeUrl(url).c_str());
+	SQLResults *results = executePreparedStatement("pop-item", values);
 	if (results != NULL)
 	{
 		success = true;
@@ -250,9 +269,37 @@
 	return count;
 }
 
+/// Deletes all items under a given URL.
+bool ActionQueue::deleteItems(const string &url)
+{
+	bool success = false;
+
+	if (beginTransaction() == false)
+	{
+		return false;
+	}
+
+	SQLResults *results = executeStatement("DELETE FROM ActionQueue \
+		WHERE Url LIKE '%q%%';", Url::escapeUrl(url).c_str());
+	if (results != NULL)
+	{
+		success = true;
+		delete results;
+	}
+
+	if (endTransaction() == false)
+	{
+		return false;
+	}
+
+	return success;
+}
+
 /// Expires items older than the given date.
 bool ActionQueue::expireItems(time_t expiryDate)
 {
+	vector<string> values;
+	stringstream numStr;
 	bool success = false;
 
 	if (beginTransaction() == false)
@@ -260,9 +307,11 @@
 		return false;
 	}
 
-	SQLResults *results = executeStatement("DELETE FROM ActionQueue \
-		WHERE QueueId='%q' AND Date<'%d';",
-		m_queueId.c_str(), expiryDate);
+	values.push_back(m_queueId);
+	numStr << expiryDate;
+	values.push_back(numStr.str());
+
+	SQLResults *results = executePreparedStatement("expire-items", values);
 	if (results != NULL)
 	{
 		success = true;

Modified: trunk/SQL/ActionQueue.h
===================================================================
--- trunk/SQL/ActionQueue.h	2010-06-27 11:11:56 UTC (rev 1713)
+++ trunk/SQL/ActionQueue.h	2010-06-27 12:01:01 UTC (rev 1714)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2009 Fabrice Colin
+ *  Copyright 2005-2010 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -46,6 +46,9 @@
 		/// Returns the number of items of a particular type.
 		unsigned int getItemsCount(ActionType type);
 
+		/// Deletes all items under a given URL.
+		bool deleteItems(const std::string &url);
+
 		/// Expires items older than the given date.
 		bool expireItems(time_t expiryDate);
 



From fabricecolin at mail.berlios.de  Sun Jun 27 22:47:28 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 27 Jun 2010 22:47:28 +0200
Subject: [Pinot-svn] r1715 - trunk
Message-ID: <201006272047.o5RKlSu0026976@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-27 22:47:21 +0200 (Sun, 27 Jun 2010)
New Revision: 1715

Modified:
   trunk/README
   trunk/configure.in
Log:
Be smart, check for gmime 2.4 first then 2.5.
This partially undoes SVN r1705.


Modified: trunk/README
===================================================================
--- trunk/README	2010-06-27 12:01:01 UTC (rev 1714)
+++ trunk/README	2010-06-27 20:47:21 UTC (rev 1715)
@@ -557,7 +557,7 @@
 libtextcat						2.2
 http://software.wise-guys.nl/libtextcat/
 
-gmime (3)						2.5.0
+gmime (3)						2.4.0
 http://spruce.sourceforge.net/gmime
 
 boost (4)						1.32.0

Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2010-06-27 12:01:01 UTC (rev 1714)
+++ trunk/configure.in	2010-06-27 20:47:21 UTC (rev 1715)
@@ -415,7 +415,8 @@
 HTTP_LIBS="$NEON_LIBS $CURL_LIBS $SSL_LIBS"
 AC_SUBST(HTTP_CFLAGS)
 AC_SUBST(HTTP_LIBS)
-PKG_CHECK_MODULES(GMIME, gmime-2.6 >= 2.5 )
+PKG_CHECK_MODULES(GMIME, gmime-2.4 >= 2.0,
+    [],[PKG_CHECK_MODULES(GMIME, gmime-2.6 >= 2.5 )] )
 AC_SUBST(GMIME_CFLAGS)
 AC_SUBST(GMIME_LIBS)
 PKG_CHECK_MODULES(XML, libxml++-2.6 >= 2.12 )



From fabricecolin at mail.berlios.de  Tue Jun 29 16:06:52 2010
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 29 Jun 2010 16:06:52 +0200
Subject: [Pinot-svn] r1716 - trunk/UI/GTK2/src
Message-ID: <20100629140652.97FA64808BA@sheep.berlios.de>

Author: fabricecolin
Date: 2010-06-29 16:06:52 +0200 (Tue, 29 Jun 2010)
New Revision: 1716

Modified:
   trunk/UI/GTK2/src/importDialog.cc
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/pinot.cc
Log:
Minor fixes.


Modified: trunk/UI/GTK2/src/importDialog.cc
===================================================================
--- trunk/UI/GTK2/src/importDialog.cc	2010-06-27 20:47:21 UTC (rev 1715)
+++ trunk/UI/GTK2/src/importDialog.cc	2010-06-29 14:06:52 UTC (rev 1716)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2009 Fabrice Colin
+ *  Copyright 2005-2010 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -176,7 +176,7 @@
 	// attempt to offer suggestions
 	if ((m_locationLength > locationLength) ||
 		(fileName.empty() == true) ||
-		(m_refLocationCompletion->get_minimum_key_length() > fileName.length()))
+		(m_refLocationCompletion->get_minimum_key_length() > (int)fileName.length()))
 	{
 		m_locationLength = locationLength;
 		return;

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2010-06-27 20:47:21 UTC (rev 1715)
+++ trunk/UI/GTK2/src/mainWindow.cc	2010-06-29 14:06:52 UTC (rev 1716)
@@ -2772,7 +2772,7 @@
 	// if it's a filter or a range, don't offer suggestions
 	if ((m_state.m_liveQueryLength > liveQueryLength) ||
 		(term.empty() == true) ||
-		(m_refLiveQueryCompletion->get_minimum_key_length() > term.length()) ||
+		(m_refLiveQueryCompletion->get_minimum_key_length() > (int)term.length()) ||
 		(term.find(':') != string::npos) ||
 		(term.find("..") != string::npos))
 	{

Modified: trunk/UI/GTK2/src/pinot.cc
===================================================================
--- trunk/UI/GTK2/src/pinot.cc	2010-06-27 20:47:21 UTC (rev 1715)
+++ trunk/UI/GTK2/src/pinot.cc	2010-06-29 14:06:52 UTC (rev 1716)
@@ -113,7 +113,6 @@
 	else if (dbus_message_is_signal(pMessage, PINOT_DBUS_SERVICE_NAME, "IndexFlushed") == TRUE)
 	{
 		DBusError error;
-		gboolean onBattery = FALSE;
 		unsigned int docsCount = 0;
 
 #ifdef DEBUG



