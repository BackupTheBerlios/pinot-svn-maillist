From fabricecolin at mail.berlios.de  Mon Mar  3 12:45:07 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 3 Mar 2008 12:45:07 +0100
Subject: [Pinot-svn] r1200 - trunk
Message-ID: <200803031145.m23Bj7IQ014589@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-03 12:45:01 +0100 (Mon, 03 Mar 2008)
New Revision: 1200

Modified:
   trunk/README
Log:
Examples of what blacklisting does.


Modified: trunk/README
===================================================================
--- trunk/README	2008-02-28 11:03:41 UTC (rev 1199)
+++ trunk/README	2008-03-03 11:45:01 UTC (rev 1200)
@@ -273,8 +273,12 @@
   glob(3) patterns. These patterns are configured in the Indexing tab of the
   Preferences box, and can be used as a blacklist or a whitelist (as of 0.75).
 
-  Patterns also to files and directories. For instance "*/Desktop*" will skip
-  "~/Desktop" and not crawl nor monitor this directory's contents.
+  Patterns apply to files and directories. For instance, blacklisting
+  "*/Desktop*" will skip "~/Desktop" and not crawl nor monitor this directory's
+  contents. Similarly, a blacklist entry for "*.avi" means that Pinot will not
+  attempt indexing the content of AVI files, and will ignore all monitor events
+  related to these files.
+
   If you have never run Pinot before, the list will be pre-configured to skip
   common picture and video types such as JPG, GIF, ZIP and MPG.
 



From fabricecolin at mail.berlios.de  Tue Mar  4 12:55:13 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Tue, 4 Mar 2008 12:55:13 +0100
Subject: [Pinot-svn] r1201 - trunk/IndexSearch/Xapian
Message-ID: <200803041155.m24BtDhl018923@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-04 12:55:08 +0100 (Tue, 04 Mar 2008)
New Revision: 1201

Modified:
   trunk/IndexSearch/Xapian/XapianIndex.cpp
Log:
Prior to asking for a write lock, always request for a read/write database.
In practice, no harm is done since the database is open read/write at startup.


Modified: trunk/IndexSearch/Xapian/XapianIndex.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianIndex.cpp	2008-03-03 11:45:01 UTC (rev 1200)
+++ trunk/IndexSearch/Xapian/XapianIndex.cpp	2008-03-04 11:55:08 UTC (rev 1201)
@@ -892,7 +892,7 @@
 	bool setVer = false;
 
 #if ENABLE_XAPIAN_DB_METADATA>0
-	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
+	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
 		cerr << "Bad index " << m_databaseName << endl;
@@ -1129,7 +1129,7 @@
 #if ENABLE_XAPIAN_DB_METADATA>0
 	string labelString;
 
-	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
+	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
 		cerr << "Bad index " << m_databaseName << endl;



From fabricecolin at mail.berlios.de  Sat Mar  8 10:18:15 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 8 Mar 2008 10:18:15 +0100
Subject: [Pinot-svn] r1202 - trunk/UI/GTK2/src
Message-ID: <200803080918.m289IF2P012619@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-08 10:18:12 +0100 (Sat, 08 Mar 2008)
New Revision: 1202

Modified:
   trunk/UI/GTK2/src/DaemonState.cpp
   trunk/UI/GTK2/src/OnDiskHandler.cpp
   trunk/UI/GTK2/src/ServerThreads.cpp
   trunk/UI/GTK2/src/WorkerThreads.cpp
   trunk/UI/GTK2/src/WorkerThreads.h
Log:
Be careful when applying source labels.
IndexingThread redefined m_docInfo needlessly.


Modified: trunk/UI/GTK2/src/DaemonState.cpp
===================================================================
--- trunk/UI/GTK2/src/DaemonState.cpp	2008-03-04 11:55:08 UTC (rev 1201)
+++ trunk/UI/GTK2/src/DaemonState.cpp	2008-03-08 09:18:12 UTC (rev 1202)
@@ -521,9 +521,18 @@
 		DocumentInfo docCopy(docInfo);
 		set<string> labels;
 
-		// Insert a label that identifies the source
-		labels.insert(sourceLabel);
-		docCopy.setLabels(labels);
+		if (sourceLabel.empty() == false)
+		{
+			// Insert a label that identifies the source
+			labels.insert(sourceLabel);
+			docCopy.setLabels(labels);
+#ifdef DEBUG
+			cout << "DaemonState::on_message_filefound: source label for " << docCopy.getLocation() << " is " << sourceLabel << endl;
+#endif
+		}
+#ifdef DEBUG
+		else cout << "DaemonState::on_message_filefound: no source label for " << docCopy.getLocation() << endl;
+#endif
 
 		queue_index(docCopy);
 	}

Modified: trunk/UI/GTK2/src/OnDiskHandler.cpp
===================================================================
--- trunk/UI/GTK2/src/OnDiskHandler.cpp	2008-03-04 11:55:08 UTC (rev 1201)
+++ trunk/UI/GTK2/src/OnDiskHandler.cpp	2008-03-08 09:18:12 UTC (rev 1202)
@@ -187,7 +187,6 @@
 {
 	string location(string("file://") + fileName);
 	Url urlObj(location);
-	char labelStr[64];
 
 	if (fileName.empty() == true)
 	{
@@ -200,6 +199,8 @@
 		return false;
 	}
 
+	DocumentInfo docInfo("", location, MIMEScanner::scanUrl(urlObj), "");
+
 	// What source does it belong to ?
 	for(map<unsigned int, string>::const_iterator sourceIter = m_fileSources.begin();
 		sourceIter != m_fileSources.end(); ++sourceIter)
@@ -214,17 +215,23 @@
 
 		if (sourceIter->second.substr(0, location.length()) == location)
 		{
+			char labelStr[64];
 
 			// That's the one
 			snprintf(labelStr, 64, "X-SOURCE%u", sourceIter->first);
-			break;
+#ifdef DEBUG
+			cout << "OnDiskHandler::indexFile: source label for " << location << " is " << labelStr << endl;
+#endif
+			m_signalFileFound(docInfo, labelStr, isDirectory);
+			return true;
 		}
 	}
+#ifdef DEBUG
+	cout << "OnDiskHandler::indexFile: no source label for " << location << endl;
+#endif
 
-	DocumentInfo docInfo("", location, MIMEScanner::scanUrl(urlObj), "");
+	m_signalFileFound(docInfo, "", isDirectory);
 
-	m_signalFileFound(docInfo, labelStr, isDirectory);
-
 	return true;
 }
 

Modified: trunk/UI/GTK2/src/ServerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.cpp	2008-03-04 11:55:08 UTC (rev 1201)
+++ trunk/UI/GTK2/src/ServerThreads.cpp	2008-03-08 09:18:12 UTC (rev 1202)
@@ -222,6 +222,9 @@
 
 	// This identifies the source
 	snprintf(labelStr, 64, "X-SOURCE%u", m_sourceId);
+#ifdef DEBUG
+	cout << "DirectoryScannerThread::foundFile: source label for " << docInfo.getLocation() << " is " << labelStr << endl;
+#endif
 	m_signalFileFound(docInfo, labelStr, false);
 }
 

Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2008-03-04 11:55:08 UTC (rev 1201)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2008-03-08 09:18:12 UTC (rev 1202)
@@ -1415,7 +1415,6 @@
 IndexingThread::IndexingThread(const DocumentInfo &docInfo, const string &indexLocation,
 	bool allowAllMIMETypes) :
 	DownloadingThread(docInfo),
-	m_docInfo(docInfo),
 	m_docId(0),
 	m_indexLocation(indexLocation),
 	m_allowAllMIMETypes(allowAllMIMETypes),
@@ -1635,11 +1634,14 @@
 			}
 			else
 			{
-				const set<string> &labels = m_docInfo.getLabels();
 				unsigned int docId = 0;
+#ifdef DEBUG
+				cout << "IndexingThread::doWork: " << m_docInfo.getLabels().size()
+					<< " labels for URL " << m_pDoc->getLocation() << endl;
+#endif
 
 				// Index the document
-				success = wrapFilter.indexDocument(*m_pDoc, labels, docId);
+				success = wrapFilter.indexDocument(*m_pDoc, m_docInfo.getLabels(), docId);
 				if (success == true)
 				{
 					m_docId = docId;

Modified: trunk/UI/GTK2/src/WorkerThreads.h
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.h	2008-03-04 11:55:08 UTC (rev 1201)
+++ trunk/UI/GTK2/src/WorkerThreads.h	2008-03-08 09:18:12 UTC (rev 1202)
@@ -397,7 +397,6 @@
 		bool isNewDocument(void) const;
 
 	protected:
-		DocumentInfo m_docInfo;
 		unsigned int m_docId;
 		std::string m_indexLocation;
 		bool m_allowAllMIMETypes;



From fabricecolin at mail.berlios.de  Sat Mar 15 14:06:28 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 15 Mar 2008 14:06:28 +0100
Subject: [Pinot-svn] r1203 - trunk/IndexSearch
Message-ID: <200803151306.m2FD6SQC013203@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-15 14:06:27 +0100 (Sat, 15 Mar 2008)
New Revision: 1203

Modified:
   trunk/IndexSearch/pinot-index.cpp
Log:
Close stuff at exit.


Modified: trunk/IndexSearch/pinot-index.cpp
===================================================================
--- trunk/IndexSearch/pinot-index.cpp	2008-03-08 09:18:12 UTC (rev 1202)
+++ trunk/IndexSearch/pinot-index.cpp	2008-03-15 13:06:27 UTC (rev 1203)
@@ -84,6 +84,16 @@
 		<< "Report bugs to " << PACKAGE_BUGREPORT << endl;
 }
 
+static void closeAll(void)
+{
+	// Close everything
+	ModuleFactory::unloadModules();
+	Dijon::FilterFactory::unloadFilters();
+	Dijon::HtmlFilter::shutdown();
+	DownloaderInterface::shutdown();
+	MIMEScanner::shutdown();
+}
+
 int main(int argc, char **argv)
 {
 	string type, option;
@@ -203,6 +213,8 @@
 	Languages::setIntlName (14, "Swedish");
 	Languages::setIntlName (15, "Turkish");
 
+	atexit(closeAll);
+
 	// Make sure the index is open in the correct mode
 	bool wasObsoleteFormat = false;
 	if (ModuleFactory::openOrCreateIndex(backendType, databaseName, wasObsoleteFormat, (indexDocument ? false : true)) == false)
@@ -345,12 +357,6 @@
 	}
 	delete pIndex;
 
-	ModuleFactory::unloadModules();
-	Dijon::FilterFactory::unloadFilters();
-	Dijon::HtmlFilter::shutdown();
-	DownloaderInterface::shutdown();
-	MIMEScanner::shutdown();
-
 	// Did whatever operation we carried out succeed ?
 	if (success == true)
 	{



From fabricecolin at mail.berlios.de  Sat Mar 15 14:09:09 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 15 Mar 2008 14:09:09 +0100
Subject: [Pinot-svn] r1204 - in trunk: IndexSearch UI/GTK2/src
Message-ID: <200803151309.m2FD99ow013346@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-15 14:09:09 +0100 (Sat, 15 Mar 2008)
New Revision: 1204

Modified:
   trunk/IndexSearch/ResultsExporter.cpp
   trunk/UI/GTK2/src/PinotSettings.cpp
Log:
Prefer snprintf() to sprintf().


Modified: trunk/IndexSearch/ResultsExporter.cpp
===================================================================
--- trunk/IndexSearch/ResultsExporter.cpp	2008-03-15 13:06:27 UTC (rev 1203)
+++ trunk/IndexSearch/ResultsExporter.cpp	2008-03-15 13:09:09 UTC (rev 1204)
@@ -226,7 +226,7 @@
 		description += engineName;
 	}
 	addChildElement(m_pChannelElem, "description", description);
-	sprintf(numStr, "%d", maxResultsCount);
+	snprintf(numStr, 64, "%d", maxResultsCount);
 	addChildElement(m_pChannelElem, "opensearch:totalResults", numStr);
 	addChildElement(m_pChannelElem, "opensearch:itemsPerPage", numStr);
 	if (m_queryDetails.empty() == false)

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2008-03-15 13:06:27 UTC (rev 1203)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2008-03-15 13:09:09 UTC (rev 1204)
@@ -1328,15 +1328,15 @@
 		{
 			return false;
 		}
-		sprintf(numStr, "%d", m_xPos);
+		snprintf(numStr, 64, "%d", m_xPos);
 		addChildElement(pElem, "xpos", numStr);
-		sprintf(numStr, "%d", m_yPos);
+		snprintf(numStr, 64, "%d", m_yPos);
 		addChildElement(pElem, "ypos", numStr);
-		sprintf(numStr, "%d", m_width);
+		snprintf(numStr, 64, "%d", m_width);
 		addChildElement(pElem, "width", numStr);
-		sprintf(numStr, "%d", m_height);
+		snprintf(numStr, 64, "%d", m_height);
 		addChildElement(pElem, "height", numStr);
-		sprintf(numStr, "%d", m_panePos);
+		snprintf(numStr, 64, "%d", m_panePos);
 		addChildElement(pElem, "panepos", numStr);
 		addChildElement(pElem, "expandqueries", (m_expandQueries ? "YES" : "NO"));
 		addChildElement(pElem, "showengines", (m_showEngines ? "YES" : "NO"));
@@ -1387,7 +1387,7 @@
 			addChildElement(pElem, "sortorder", (queryIter->second.getSortOrder() == QueryProperties::DATE ? "DATE" : "RELEVANCE"));
 			addChildElement(pElem, "text", queryIter->second.getFreeQuery());
 			addChildElement(pElem, "stemlanguage", Languages::toEnglish(queryIter->second.getStemmingLanguage()));
-			sprintf(numStr, "%u", queryIter->second.getMaximumResultsCount());
+			snprintf(numStr, 64, "%u", queryIter->second.getMaximumResultsCount());
 			addChildElement(pElem, "maxresults", numStr);
 			addChildElement(pElem, "index", (queryIter->second.getIndexResults() ? "ALL" : "NONE"));
 			addChildElement(pElem, "label", queryIter->second.getLabelName());
@@ -1413,11 +1413,11 @@
 		{
 			return false;
 		}
-		sprintf(numStr, "%u", m_newResultsColourRed);
+		snprintf(numStr, 64, "%u", m_newResultsColourRed);
 		addChildElement(pElem, "red", numStr);
-		sprintf(numStr, "%u", m_newResultsColourGreen);
+		snprintf(numStr, 64, "%u", m_newResultsColourGreen);
 		addChildElement(pElem, "green", numStr);
-		sprintf(numStr, "%u", m_newResultsColourBlue);
+		snprintf(numStr, 64, "%u", m_newResultsColourBlue);
 		addChildElement(pElem, "blue", numStr);
 		// Proxy
 		pElem = pRootElem->add_child("proxy");
@@ -1426,7 +1426,7 @@
 			return false;
 		}
 		addChildElement(pElem, "address", m_proxyAddress);
-		sprintf(numStr, "%u", m_proxyPort);
+		snprintf(numStr, 64, "%u", m_proxyPort);
 		addChildElement(pElem, "port", numStr);
 		addChildElement(pElem, "type", m_proxyType);
 		addChildElement(pElem, "enable", (m_proxyEnabled ? "YES" : "NO"));



From fabricecolin at mail.berlios.de  Sat Mar 15 14:12:47 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 15 Mar 2008 14:12:47 +0100
Subject: [Pinot-svn] r1205 - trunk/IndexSearch/Xapian
Message-ID: <200803151312.m2FDCkjc013711@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-15 14:12:46 +0100 (Sat, 15 Mar 2008)
New Revision: 1205

Modified:
   trunk/IndexSearch/Xapian/XapianIndex.cpp
   trunk/IndexSearch/Xapian/XapianIndex.h
Log:
Use the new CJKVTokenizer::TokensHandler class to tokenize CJKV. The spelling
database is populated.


Modified: trunk/IndexSearch/Xapian/XapianIndex.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianIndex.cpp	2008-03-15 13:09:09 UTC (rev 1204)
+++ trunk/IndexSearch/Xapian/XapianIndex.cpp	2008-03-15 13:12:46 UTC (rev 1205)
@@ -88,6 +88,110 @@
 	return version;
 }
 
+class TokensIndexer : public Dijon::CJKVTokenizer::TokensHandler
+{
+	public:
+		TokensIndexer(Xapian::Stem *pStemmer, Xapian::Document &doc,
+			const Xapian::WritableDatabase &db,
+			const string &prefix, unsigned int nGramSize,
+			bool &doSpelling, Xapian::termcount &termPos) :
+			Dijon::CJKVTokenizer::TokensHandler(),
+			m_pStemmer(pStemmer),
+			m_doc(doc),
+			m_db(db),
+			m_prefix(prefix),
+			m_nGramSize(nGramSize),
+			m_nGramCount(0),
+			m_doSpelling(doSpelling),
+			m_termPos(termPos)
+		{
+		}
+
+		virtual ~TokensIndexer()
+		{
+		}
+
+		virtual bool handle_token(const string &tok, bool is_cjkv)
+		{
+			bool addSpelling = false;
+
+			if (tok.empty() == true)
+			{
+				return false;
+			}
+
+			// Lower case the term and trim spaces
+			string term(StringManip::toLowerCase(tok));
+			StringManip::trimSpaces(term);
+
+			if (term.empty() == true)
+			{
+				return true;
+			}
+
+			m_doc.add_posting(m_prefix + XapianDatabase::limitTermLength(term), m_termPos);
+#ifdef DEBUG
+			cout << "TokensIndexer::handle_token: added posting " << term << endl;
+#endif
+
+			// Is this CJKV ?
+			if (is_cjkv == false)
+			{
+				// Don't stem if the term starts with a digit
+				if ((m_pStemmer != NULL) &&
+					(isdigit((int)term[0]) == 0))
+				{
+					string stemmedTerm((*m_pStemmer)(term));
+
+					m_doc.add_term("Z" + XapianDatabase::limitTermLength(stemmedTerm));
+				}
+
+				addSpelling = m_doSpelling;
+				++m_termPos;
+				m_nGramCount = 0;
+			}
+			else
+			{
+				if (m_nGramCount % m_nGramSize == 0)
+				{
+					++m_termPos;
+				}
+				else if ((m_nGramCount + 1) % m_nGramSize == 0)
+				{
+					addSpelling = m_doSpelling;
+				}
+				++m_nGramCount;
+			}
+
+			if (addSpelling == true)
+			{
+				try
+				{
+					m_db.add_spelling(XapianDatabase::limitTermLength(term));
+				}
+				catch (const Xapian::UnimplementedError &error)
+				{
+					cerr << "Couldn't index with spelling correction: " << error.get_type() << ": " << error.get_msg() << endl;
+
+					m_doSpelling = false;
+				}
+			}
+
+			return true;
+		}
+
+	protected:
+		Xapian::Stem *m_pStemmer;
+		Xapian::Document &m_doc;
+		const Xapian::WritableDatabase &m_db;
+		string m_prefix;
+		unsigned int m_nGramSize;
+		unsigned int m_nGramCount;
+		bool &m_doSpelling;
+		Xapian::termcount &m_termPos;
+
+};
+
 XapianIndex::XapianIndex(const string &indexName) :
 	IndexInterface(),
 	m_databaseName(indexName),
@@ -212,7 +316,8 @@
 		if (tokenizer.has_cjkv(text) == true)
 		{
 			// Use overload
-			addPostingsToDocument(tokenizer, pStemmer, text, doc, prefix, termPos);
+			addPostingsToDocument(tokenizer, pStemmer, text, doc, db,
+				prefix, doSpelling, termPos);
 			isCJKV = true;
 		}
 	}
@@ -265,59 +370,15 @@
 }
 
 void XapianIndex::addPostingsToDocument(Dijon::CJKVTokenizer &tokenizer, Xapian::Stem *pStemmer,
-	const string &text, Xapian::Document &doc, const string &prefix, Xapian::termcount &termPos) const
+	const string &text, Xapian::Document &doc, const Xapian::WritableDatabase &db,
+	const string &prefix, bool &doSpelling, Xapian::termcount &termPos) const
 {
-	vector<string> tokens;
-	string stemPrefix("Z");
-	unsigned int nGramSize = tokenizer.get_ngram_size();
-	unsigned int nGramCount = 0;
+	TokensIndexer handler(pStemmer, doc, db, prefix, tokenizer.get_ngram_size(),
+		doSpelling, termPos);
 
-	tokenizer.tokenize(text, tokens);
-
 	// Get the terms
-	for (vector<string>::const_iterator tokenIter = tokens.begin();
-		tokenIter != tokens.end(); ++tokenIter)
-	{
-		if (tokenIter->empty() == true)
-		{
-			continue;
-		}
+	tokenizer.tokenize(text, handler);
 
-		// Lower case the term and trim spaces
-		string term(StringManip::toLowerCase(*tokenIter));
-		StringManip::trimSpaces(term);
-
-		if (term.empty() == true)
-		{
-			continue;
-		}
-
-		doc.add_posting(prefix + XapianDatabase::limitTermLength(term), termPos);
-
-		// Is this CJKV ?
-		if (tokenizer.has_cjkv(term) == false)
-		{
-			// Don't stem if the term starts with a digit
-			if ((pStemmer != NULL) &&
-				(isdigit((int)term[0]) == 0))
-			{
-				string stemmedTerm((*pStemmer)(term));
-
-				doc.add_term(stemPrefix + XapianDatabase::limitTermLength(stemmedTerm));
-			}
-
-			++termPos;
-			nGramCount = 0;
-		}
-		else
-		{
-			if (nGramCount % nGramSize == 0)
-			{
-				++termPos;
-			}
-			++nGramCount;
-		}
-	}
 #ifdef DEBUG
 	cout << "XapianIndex::addPostingsToDocument: CJKV terms to position " << termPos << endl;
 #endif
@@ -333,12 +394,9 @@
 	{
 		return;
 	}
-#ifdef DEBUG
-	cout << "XapianIndex::addLabelsToDocument: " << labels.size() << " labels" << endl;
-#endif
 
 	for (set<string>::const_iterator labelIter = labels.begin(); labelIter != labels.end();
-			++labelIter)
+		++labelIter)
 	{
 		string labelName(*labelIter);
 
@@ -1759,9 +1817,6 @@
 	docInfo.setTimestamp(document.getTimestamp());
 	docInfo.setSize(document.getSize());
 	docInfo.setLocation(Url::canonicalizeUrl(docInfo.getLocation()));
-#ifdef DEBUG
-	cout << "XapianIndex::indexDocument: URL " << docInfo.getLocation() << endl;
-#endif
 
 	unsigned int dataLength = 0;
 	const char *pData = document.getData(dataLength);
@@ -1789,6 +1844,9 @@
 				addPostingsToDocument(itor, doc, *pIndex, "",
 					false, m_doSpelling, termPos);
 			}
+#ifdef DEBUG
+			cout << "XapianIndex::indexDocument: " << labels.size() << " labels for URL " << docInfo.getLocation() << endl;
+#endif
 
 			// Add labels
 			addLabelsToDocument(doc, labels, false);

Modified: trunk/IndexSearch/Xapian/XapianIndex.h
===================================================================
--- trunk/IndexSearch/Xapian/XapianIndex.h	2008-03-15 13:09:09 UTC (rev 1204)
+++ trunk/IndexSearch/Xapian/XapianIndex.h	2008-03-15 13:12:46 UTC (rev 1205)
@@ -163,8 +163,9 @@
 			bool noStemming, bool &doSpelling,  Xapian::termcount &termPos) const;
 
 		void addPostingsToDocument(Dijon::CJKVTokenizer &tokenizer, Xapian::Stem *pStemmer,
-			const std::string &text, Xapian::Document &doc, const std::string &prefix,
-			Xapian::termcount &termPos) const;
+			const std::string &text, Xapian::Document &doc,
+			const Xapian::WritableDatabase &db, const std::string &prefix,
+			bool &doSpelling, Xapian::termcount &termPos) const;
 
 		static void addLabelsToDocument(Xapian::Document &doc,
 			const std::set<std::string> &labels, bool skipInternals);



From fabricecolin at mail.berlios.de  Sat Mar 15 14:14:23 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 15 Mar 2008 14:14:23 +0100
Subject: [Pinot-svn] r1206 - in trunk: . Monitor
Message-ID: <200803151314.m2FDENtR013837@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-15 14:14:22 +0100 (Sat, 15 Mar 2008)
New Revision: 1206

Modified:
   trunk/AUTHORS
   trunk/Monitor/linux-inotify-syscalls.h
Log:
A patch by Michael Biebl for m68k, mips, mipsel and hppa.


Modified: trunk/AUTHORS
===================================================================
--- trunk/AUTHORS	2008-03-15 13:12:46 UTC (rev 1205)
+++ trunk/AUTHORS	2008-03-15 13:14:22 UTC (rev 1206)
@@ -22,6 +22,7 @@
 	Claudio Bustos Navarrete <clbustos at surnet dot cl>
 	??? Yung-chung Lin <henearkrxern at gmail dot com>
 	David Paleino <d dot paleino at gmail dot com>
+	Michael Biebl <biebl at debian dot org>
 
 The file Monitor/linux-inotify-syscalls.h is originally from libinotify
 (Copyright ? 2005 Ryan Lortie <desrt at desrt dot ca>).

Modified: trunk/Monitor/linux-inotify-syscalls.h
===================================================================
--- trunk/Monitor/linux-inotify-syscalls.h	2008-03-15 13:12:46 UTC (rev 1205)
+++ trunk/Monitor/linux-inotify-syscalls.h	2008-03-15 13:14:22 UTC (rev 1206)
@@ -65,6 +65,32 @@
 # define __NR_inotify_init  318
 # define __NR_inotify_add_watch 319
 # define __NR_inotify_rm_watch  320
+#elif defined (__mc68000__)
+# define __NR_inotify_init     284
+# define __NR_inotify_add_watch        285
+# define __NR_inotify_rm_watch 286
+#elif defined (__hppa__)
+# define __NR_inotify_init      269
+# define __NR_inotify_add_watch 270
+# define __NR_inotify_rm_watch  271
+#elif defined (__mips__)
+# include <sgidefs.h>
+# if _MIPS_SIM == _MIPS_SIM_ABI32
+#  define __NR_Linux             4000
+#  define __NR_inotify_init      (__NR_Linux + 284)
+#  define __NR_inotify_add_watch (__NR_Linux + 285)
+#  define __NR_inotify_rm_watch  (__NR_Linux + 286)
+# elif _MIPS_SIM == _MIPS_SIM_ABI64
+#  define __NR_Linux             5000
+#  define __NR_inotify_init      (__NR_Linux + 243)
+#  define __NR_inotify_add_watch (__NR_Linux + 244)
+#  define __NR_inotify_rm_watch  (__NR_Linux + 245)
+# elif _MIPS_SIM == _MIPS_SIM_NABI32
+#  define __NR_Linux             6000
+#  define __NR_inotify_init      (__NR_Linux + 247)
+#  define __NR_inotify_add_watch (__NR_Linux + 248)
+#  define __NR_inotify_rm_watch  (__NR_Linux + 249)
+# endif
 #else
 # error "Unsupported architecture"
 #endif



From fabricecolin at mail.berlios.de  Sat Mar 15 14:15:03 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 15 Mar 2008 14:15:03 +0100
Subject: [Pinot-svn] r1207 - trunk/Tokenize
Message-ID: <200803151315.m2FDF37q014021@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-15 14:15:02 +0100 (Sat, 15 Mar 2008)
New Revision: 1207

Modified:
   trunk/Tokenize/FilterUtils.cpp
Log:
Cosmetic changes.


Modified: trunk/Tokenize/FilterUtils.cpp
===================================================================
--- trunk/Tokenize/FilterUtils.cpp	2008-03-15 13:14:22 UTC (rev 1206)
+++ trunk/Tokenize/FilterUtils.cpp	2008-03-15 13:15:02 UTC (rev 1207)
@@ -313,7 +313,11 @@
 	}
 	if (ipath.empty() == false)
 	{
-		doc.setLocation(doc.getLocation() + "?" + ipath);
+		string location(doc.getLocation());
+
+		location += "?";
+		location += ipath;
+		doc.setLocation(location);
 	}
 
 	TextConverter converter(20);
@@ -334,7 +338,7 @@
 		}
 		doc.setData(utf8Data.c_str(), utf8Data.length());
 #ifdef DEBUG
-		cout << "FilterUtils::populateDocument: set " << utf8Data.length()
+		cout << "FilterUtils::populateDocument: set " << utf8Data.length() << "/" << contentIter->second.size()
 			<< " characters of data" << endl;
 #endif
 	}



From fabricecolin at mail.berlios.de  Sat Mar 15 14:16:04 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 15 Mar 2008 14:16:04 +0100
Subject: [Pinot-svn] r1208 - trunk/UI/GTK2/src
Message-ID: <200803151316.m2FDG44r014088@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-15 14:16:04 +0100 (Sat, 15 Mar 2008)
New Revision: 1208

Modified:
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/mainWindow.hh
Log:
Const'ified parameter to view_documents().


Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2008-03-15 13:15:02 UTC (rev 1207)
+++ trunk/UI/GTK2/src/mainWindow.cc	2008-03-15 13:16:04 UTC (rev 1208)
@@ -3322,13 +3322,13 @@
 //
 // View documents
 //
-void mainWindow::view_documents(vector<DocumentInfo> &documentsList)
+void mainWindow::view_documents(const vector<DocumentInfo> &documentsList)
 {
 	ViewHistory viewHistory(m_settings.getHistoryDatabaseName());
 	RefPtr<RecentManager> recentManager = RecentManager::get_default();
 	multimap<string, string> locationsByType;
 
-	for (vector<DocumentInfo>::iterator docIter = documentsList.begin();
+	for (vector<DocumentInfo>::const_iterator docIter = documentsList.begin();
 		docIter != documentsList.end(); ++docIter)
 	{
 		string url(docIter->getLocation());
@@ -3483,7 +3483,7 @@
 
 			// ...as well as in the recently used files list
 			RecentManager::Data itemData;
-			for (vector<DocumentInfo>::iterator docIter = documentsList.begin();
+			for (vector<DocumentInfo>::const_iterator docIter = documentsList.begin();
 				docIter != documentsList.end(); ++docIter)
 			{
 				if (docIter->getLocation() == url)

Modified: trunk/UI/GTK2/src/mainWindow.hh
===================================================================
--- trunk/UI/GTK2/src/mainWindow.hh	2008-03-15 13:15:02 UTC (rev 1207)
+++ trunk/UI/GTK2/src/mainWindow.hh	2008-03-15 13:16:04 UTC (rev 1208)
@@ -138,7 +138,7 @@
 	void run_search(const QueryProperties &queryProps);
 	void browse_index(const Glib::ustring &indexName, const Glib::ustring &labelName,
 		unsigned int startDoc, bool changePage = true);
-	void view_documents(std::vector<DocumentInfo> &documentsList);
+	void view_documents(const std::vector<DocumentInfo> &documentsList);
 	bool append_document(IndexPage *pIndexPage, const Glib::ustring &indexName,
 		const DocumentInfo &docInfo);
 	bool start_thread(WorkerThread *pNewThread, bool inBackground = false);



From fabricecolin at mail.berlios.de  Mon Mar 17 02:58:44 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 17 Mar 2008 02:58:44 +0100
Subject: [Pinot-svn] r1209 - trunk/IndexSearch/Xapian
Message-ID: <200803170158.m2H1wiqF022080@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-17 02:58:43 +0100 (Mon, 17 Mar 2008)
New Revision: 1209

Modified:
   trunk/IndexSearch/Xapian/XapianDatabase.cpp
   trunk/IndexSearch/Xapian/XapianEngine.cpp
Log:
Missing header, minor mod.


Modified: trunk/IndexSearch/Xapian/XapianDatabase.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianDatabase.cpp	2008-03-15 13:16:04 UTC (rev 1208)
+++ trunk/IndexSearch/Xapian/XapianDatabase.cpp	2008-03-17 01:58:43 UTC (rev 1209)
@@ -24,6 +24,7 @@
 #include <strings.h>
 #include <regex.h>
 #include <stdio.h>
+#include <sstream>
 #include <iostream>
 #include <cstring>
 
@@ -36,6 +37,7 @@
 using std::cerr;
 using std::endl;
 using std::string;
+using std::stringstream;
 
 // This puts a limit to terms length.
 const unsigned int XapianDatabase::m_maxTermLength = 230;
@@ -536,7 +538,6 @@
 	string title(pDoc->getTitle());
 	string timestamp(pDoc->getTimestamp());
 	time_t timeT = TimeConverter::fromTimestamp(timestamp);
-	char tmpStr[64];
 
 	// Set the document data omindex-style
 	record += pDoc->getLocation();
@@ -561,15 +562,17 @@
 	record += pDoc->getType();
 	// Append a timestamp, in a format compatible with Omega
 	record += "\nmodtime=";
-	snprintf(tmpStr, 64, "%ld", timeT);
-	record += tmpStr;
+	stringstream timeStream;
+	timeStream << timeT;
+	record += timeStream.str();
 	// ...and the language
 	record += "\nlanguage=";
 	record += pDoc->getLanguage();
 	// ...and the file size
 	record += "\nsize=";
-	snprintf(tmpStr, 64, "%ld", pDoc->getSize());
-	record += tmpStr;
+	stringstream sizeStream;
+	sizeStream << pDoc->getSize();
+	record += sizeStream.str();
 #ifdef DEBUG
 	cout << "XapianDatabase::propsToRecord: document data is " << record << endl;
 #endif
@@ -615,13 +618,14 @@
 /// Returns the URL for the given document in the given index.
 string XapianDatabase::buildUrl(const string &database, unsigned int docId)
 {
+	stringstream docIdStream;
+
 	// Make up a pseudo URL
-	char docIdStr[64];
-	sprintf(docIdStr, "%u", docId);
+	docIdStream << docId;
 	string url = "xapian://localhost/";
 	url += database;
 	url += "/";
-	url += docIdStr;
+	url += docIdStream.str();
 
 	return url;
 }

Modified: trunk/IndexSearch/Xapian/XapianEngine.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianEngine.cpp	2008-03-15 13:16:04 UTC (rev 1208)
+++ trunk/IndexSearch/Xapian/XapianEngine.cpp	2008-03-17 01:58:43 UTC (rev 1209)
@@ -21,6 +21,7 @@
 #include <unistd.h>
 #include <time.h>
 #include <string>
+#include <cstring>
 #include <vector>
 #include <iostream>
 #include <algorithm>



From fabricecolin at mail.berlios.de  Thu Mar 20 12:06:31 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 20 Mar 2008 12:06:31 +0100
Subject: [Pinot-svn] r1210 - in trunk/IndexSearch: . Xapian
Message-ID: <200803201106.m2KB6V9t019922@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-20 12:06:31 +0100 (Thu, 20 Mar 2008)
New Revision: 1210

Modified:
   trunk/IndexSearch/DBusIndex.cpp
   trunk/IndexSearch/DBusIndex.h
   trunk/IndexSearch/IndexInterface.h
   trunk/IndexSearch/Xapian/XapianIndex.cpp
   trunk/IndexSearch/Xapian/XapianIndex.h
   trunk/IndexSearch/pinot-index.cpp
Log:
Replaced get|setVersion() with get|setMetadata().
In showinfo mode, pinot-index shows the index version string.


Modified: trunk/IndexSearch/DBusIndex.cpp
===================================================================
--- trunk/IndexSearch/DBusIndex.cpp	2008-03-17 01:58:43 UTC (rev 1209)
+++ trunk/IndexSearch/DBusIndex.cpp	2008-03-20 11:06:31 UTC (rev 1210)
@@ -344,21 +344,21 @@
 	return m_pROIndex->isGood();
 }
 
-/// Gets the version number.
-string DBusIndex::getVersion(void) const
+/// Gets metadata.
+string DBusIndex::getMetadata(const string &name) const
 {
 	if (m_pROIndex == NULL)
 	{
 		return "";
 	}
 
-	return m_pROIndex->getVersion();
+	return m_pROIndex->getMetadata(name);
 }
 
-/// Sets the version number.
-bool DBusIndex::setVersion(const string &version) const
+/// Sets metadata.
+bool DBusIndex::setMetadata(const string &name, const string &value) const
 {
-	cerr << "DBusIndex::setVersion: not allowed" << endl;
+	cerr << "DBusIndex::setMetadata: not allowed" << endl;
 	return false;
 }
 

Modified: trunk/IndexSearch/DBusIndex.h
===================================================================
--- trunk/IndexSearch/DBusIndex.h	2008-03-17 01:58:43 UTC (rev 1209)
+++ trunk/IndexSearch/DBusIndex.h	2008-03-20 11:06:31 UTC (rev 1210)
@@ -59,11 +59,11 @@
 		/// Returns false if the index couldn't be opened.
 		virtual bool isGood(void) const;
 
-		/// Gets the version number.
-		virtual std::string getVersion(void) const;
+		/// Gets metadata.
+		virtual std::string getMetadata(const std::string &name) const;
 
-		/// Sets the version number.
-		virtual bool setVersion(const std::string &version) const;
+		/// Sets metadata.
+		virtual bool setMetadata(const std::string &name, const std::string &value) const;
 
 		/// Gets the index location.
 		virtual std::string getLocation(void) const;

Modified: trunk/IndexSearch/IndexInterface.h
===================================================================
--- trunk/IndexSearch/IndexInterface.h	2008-03-17 01:58:43 UTC (rev 1209)
+++ trunk/IndexSearch/IndexInterface.h	2008-03-20 11:06:31 UTC (rev 1210)
@@ -37,11 +37,11 @@
 		/// Returns false if the index couldn't be opened.
 		virtual bool isGood(void) const = 0;
 
-		/// Gets the version number.
-		virtual std::string getVersion(void) const = 0;
+		/// Gets metadata.
+		virtual std::string getMetadata(const std::string &name) const = 0;
 
-		/// Sets the version number.
-		virtual bool setVersion(const std::string &version) const = 0;
+		/// Sets metadata.
+		virtual bool setMetadata(const std::string &name, const std::string &value) const = 0;
 
 		/// Gets the index location.
 		virtual std::string getLocation(void) const = 0;

Modified: trunk/IndexSearch/Xapian/XapianIndex.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianIndex.cpp	2008-03-17 01:58:43 UTC (rev 1209)
+++ trunk/IndexSearch/Xapian/XapianIndex.cpp	2008-03-20 11:06:31 UTC (rev 1210)
@@ -130,9 +130,6 @@
 			}
 
 			m_doc.add_posting(m_prefix + XapianDatabase::limitTermLength(term), m_termPos);
-#ifdef DEBUG
-			cout << "TokensIndexer::handle_token: added posting " << term << endl;
-#endif
 
 			// Is this CJKV ?
 			if (is_cjkv == false)
@@ -896,12 +893,12 @@
 	return m_goodIndex;
 }
 
-/// Gets the version number.
-string XapianIndex::getVersion(void) const
+/// Gets metadata.
+string XapianIndex::getMetadata(const string &name) const
 {
-	string version("0.00");
-
 #if ENABLE_XAPIAN_DB_METADATA>0
+	string metadataValue;
+
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
@@ -916,40 +913,31 @@
 		{
 			// If this index type doesn't support metadata, no exception will be thrown
 			// We will just get an empty string
-			version = pIndex->get_metadata("version");
-			if (version.empty() == true)
-			{
-				// Is there a pre-0.80 version file ?
-				version = getVersionFromFile(m_databaseName);
-				if (version.empty() == true)
-				{
-					version = "0.00";
-				}
-			}
+			metadataValue = pIndex->get_metadata(name);
 		}
 	}
 	catch (const Xapian::Error &error)
 	{
-		cerr << "Couldn't get database version: " << error.get_type() << ": " << error.get_msg() << endl;
+		cerr << "Couldn't get metadata: " << error.get_type() << ": " << error.get_msg() << endl;
 	}
 	catch (...)
 	{
-		cerr << "Couldn't get database version, unknown exception occured" << endl;
+		cerr << "Couldn't get metadata, unknown exception occured" << endl;
 	}
 	pDatabase->unlock();
+
+	return metadataValue;
 #else
-	version = getVersionFromFile(m_databaseName);
+	return "";
 #endif
-
-	return version;
 }
 
-/// Sets the version number.
-bool XapianIndex::setVersion(const string &version) const
+/// Sets metadata.
+bool XapianIndex::setMetadata(const string &name, const string &value) const
 {
-	bool setVer = false;
-
 #if ENABLE_XAPIAN_DB_METADATA>0
+	bool setMetadata = false;
+
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
@@ -962,44 +950,28 @@
 		Xapian::WritableDatabase *pIndex = pDatabase->writeLock();
 		if (pIndex != NULL)
 		{
-			pIndex->set_metadata("version", version);
-			setVer = true;
+			pIndex->set_metadata(name, value);
+			setMetadata = true;
 		}
 	}
 	catch (const Xapian::UnimplementedError &error)
 	{
-		cerr << "Couldn't set database version, no support for metadata: " << error.get_type() << ": " << error.get_msg() << endl;
-		// Revert to a version file
-		setVer = setVersionFile(m_databaseName, version);
+		cerr << "Couldn't set metadata: " << error.get_type() << ": " << error.get_msg() << endl;
 	}
 	catch (const Xapian::Error &error)
 	{
-		cerr << "Couldn't set database version: " << error.get_type() << ": " << error.get_msg() << endl;
+		cerr << "Couldn't set metadata: " << error.get_type() << ": " << error.get_msg() << endl;
 	}
 	catch (...)
 	{
-		cerr << "Couldn't set database version, unknown exception occured" << endl;
+		cerr << "Couldn't set metadata, unknown exception occured" << endl;
 	}
 	pDatabase->unlock();
+
+	return setMetadata;
 #else
-	setVer = setVersionFile(m_databaseName, version);
+	return false;
 #endif
-
-	// While we are at it, create a CACHEDIR.TAG file
-	// See the spec at http://www.brynosaurus.com/cachedir/
-	string cacheDirFileName(m_databaseName + "/CACHEDIR.TAG");
-	ofstream cacheDirFile;
-	cacheDirFile.open(cacheDirFileName.c_str(), ios::trunc);
-	if (cacheDirFile.good() == true)
-	{
-		cacheDirFile << "Signature: 8a477f597d28d172789f06886806bc55" << endl;
-		cacheDirFile << "# This file is a cache directory tag created by Pinot." << endl;
-		cacheDirFile << "# For information about cache directory tags, see:" << endl;
-		cacheDirFile << "# http://www.brynosaurus.com/cachedir/" << endl;
-	}
-	cacheDirFile.close();
-
-	return setVer;
 }
 
 /// Gets the index location.

Modified: trunk/IndexSearch/Xapian/XapianIndex.h
===================================================================
--- trunk/IndexSearch/Xapian/XapianIndex.h	2008-03-17 01:58:43 UTC (rev 1209)
+++ trunk/IndexSearch/Xapian/XapianIndex.h	2008-03-20 11:06:31 UTC (rev 1210)
@@ -50,11 +50,11 @@
 		/// Returns false if the index couldn't be opened.
 		virtual bool isGood(void) const;
 
-		/// Gets the version number.
-		virtual std::string getVersion(void) const;
+		/// Gets metadata.
+		virtual std::string getMetadata(const std::string &name) const;
 
-		/// Sets the version number.
-		virtual bool setVersion(const std::string &version) const;
+		/// Sets metadata.
+		virtual bool setMetadata(const std::string &name, const std::string &value) const;
 
 		/// Gets the index location.
 		virtual std::string getLocation(void) const;

Modified: trunk/IndexSearch/pinot-index.cpp
===================================================================
--- trunk/IndexSearch/pinot-index.cpp	2008-03-17 01:58:43 UTC (rev 1209)
+++ trunk/IndexSearch/pinot-index.cpp	2008-03-20 11:06:31 UTC (rev 1210)
@@ -327,6 +327,8 @@
 			DocumentInfo docInfo;
 			set<string> labels;
 
+			cout << "Index version       : " << pIndex->getMetadata("version") << endl;
+
 			if (pIndex->getDocumentInfo(docId, docInfo) == true)
 			{
 				cout << "Location : '" << docInfo.getLocation() << "'" << endl;



From fabricecolin at mail.berlios.de  Fri Mar 21 17:18:52 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Fri, 21 Mar 2008 17:18:52 +0100
Subject: [Pinot-svn] r1211 - trunk/UI/GTK2/src
Message-ID: <200803211618.m2LGIqx2012411@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-21 17:18:50 +0100 (Fri, 21 Mar 2008)
New Revision: 1211

Modified:
   trunk/UI/GTK2/src/DaemonState.cpp
   trunk/UI/GTK2/src/DaemonState.h
   trunk/UI/GTK2/src/OnDiskHandler.cpp
   trunk/UI/GTK2/src/OnDiskHandler.h
   trunk/UI/GTK2/src/ServerThreads.cpp
   trunk/UI/GTK2/src/ServerThreads.h
   trunk/UI/GTK2/src/WorkerThreads.cpp
   trunk/UI/GTK2/src/WorkerThreads.h
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/pinot-dbus-daemon.cc
   trunk/UI/GTK2/src/pinot.cc
   trunk/UI/GTK2/src/statisticsDialog.cc
Log:
Pass parameters to the file_found signal by value, not reference.
DaemonState and mainWindow don't delete the monitor and handler objects when
destroyed because the Monitor thread might still be running.
Added flags for when the daemon receives Stop or Disconnected. This is saved
as database metadata, and shown by the Status window.
Some other minor mods.


Modified: trunk/UI/GTK2/src/DaemonState.cpp
===================================================================
--- trunk/UI/GTK2/src/DaemonState.cpp	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/DaemonState.cpp	2008-03-21 16:18:50 UTC (rev 1211)
@@ -126,7 +126,7 @@
 };
 
 DaemonState::DaemonState() :
-	ThreadsManager(PinotSettings::getInstance().m_daemonIndexLocation, 20),
+	ThreadsManager(PinotSettings::getInstance().m_daemonIndexLocation, 10),
 	m_fullScan(false),
 	m_reload(false),
 	m_pDiskMonitor(MonitorFactory::getMonitor()),
@@ -146,12 +146,8 @@
 
 DaemonState::~DaemonState()
 {
-	if (m_pDiskMonitor != NULL)
-	{
-		delete m_pDiskMonitor;
-	}
-	// Don't delete m_pDiskHandler, threads may need it
-	// Since DaemonState is destroyed when the program exits, it's okay
+	// Don't delete m_pDiskMonitor and m_pDiskHandler, threads may need them
+	// Since DaemonState is destroyed when the program exits, it's a leak we can live with
 }
 
 bool DaemonState::on_activity_timeout(void)
@@ -213,13 +209,13 @@
 			onBattery = true;
 		}
 
-		bool wasOnBattery = is_flag_set(DaemonState::ON_BATTERY);
+		bool wasOnBattery = is_flag_set(ON_BATTERY);
 		if (onBattery != wasOnBattery)
 		{
 			if (onBattery == true)
 			{
 				// We are now on battery
-				set_flag(DaemonState::ON_BATTERY);
+				set_flag(ON_BATTERY);
 				stop_crawling();
 
 				cout << "System is now on battery" << endl;
@@ -227,7 +223,7 @@
 			else
 			{
 				// Back on-line
-				reset_flag(DaemonState::ON_BATTERY);
+				reset_flag(ON_BATTERY);
 				start_crawling();
 
 				cout << "System is now on AC" << endl;
@@ -514,7 +510,7 @@
 	pop_queue(indexedUrl);
 }
 
-void DaemonState::on_message_filefound(const DocumentInfo &docInfo, const string &sourceLabel, bool isDirectory)
+void DaemonState::on_message_filefound(DocumentInfo docInfo, string sourceLabel, bool isDirectory)
 {
 	if (isDirectory == false)
 	{

Modified: trunk/UI/GTK2/src/DaemonState.h
===================================================================
--- trunk/UI/GTK2/src/DaemonState.h	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/DaemonState.h	2008-03-21 16:18:50 UTC (rev 1211)
@@ -36,7 +36,7 @@
 		DaemonState();
 		virtual ~DaemonState();
 
-		typedef enum { LOW_DISK_SPACE = 0, ON_BATTERY } StatusFlag;
+		typedef enum { LOW_DISK_SPACE = 0, ON_BATTERY, STOPPED, DISCONNECTED } StatusFlag;
 
 		void start(bool forceFullScan);
 
@@ -48,7 +48,7 @@
 
 		void on_thread_end(WorkerThread *pThread);
 
-		void on_message_filefound(const DocumentInfo &docInfo, const std::string &sourceLabel,
+		void on_message_filefound(DocumentInfo docInfo, std::string sourceLabel,
 			bool isDirectory);
 
 		sigc::signal1<void, int>& getQuitSignal(void);

Modified: trunk/UI/GTK2/src/OnDiskHandler.cpp
===================================================================
--- trunk/UI/GTK2/src/OnDiskHandler.cpp	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/OnDiskHandler.cpp	2008-03-21 16:18:50 UTC (rev 1211)
@@ -22,6 +22,7 @@
 #include <set>
 #include <iostream>
 #include <fstream>
+#include <sstream>
 
 #include "config.h"
 #include "NLS.h"
@@ -47,8 +48,8 @@
 	pthread_mutex_destroy(&m_mutex);
 
 	// Disconnect the signal
-	sigc::signal3<void, const DocumentInfo&, const string&, bool>::slot_list_type slotsList = m_signalFileFound.slots();
-	sigc::signal3<void, const DocumentInfo&, const string&, bool>::slot_list_type::iterator slotIter = slotsList.begin();
+	sigc::signal3<void, DocumentInfo, string, bool>::slot_list_type slotsList = m_signalFileFound.slots();
+	sigc::signal3<void, DocumentInfo, string, bool>::slot_list_type::iterator slotIter = slotsList.begin();
 	if (slotIter != slotsList.end())
 	{
 		if (slotIter->empty() == false)
@@ -215,14 +216,14 @@
 
 		if (sourceIter->second.substr(0, location.length()) == location)
 		{
-			char labelStr[64];
+			stringstream labelStream;
 
 			// That's the one
-			snprintf(labelStr, 64, "X-SOURCE%u", sourceIter->first);
+			labelStream << "X-SOURCE" << sourceIter->first;
 #ifdef DEBUG
-			cout << "OnDiskHandler::indexFile: source label for " << location << " is " << labelStr << endl;
+			cout << "OnDiskHandler::indexFile: source label for " << location << " is " << labelStream.str() << endl;
 #endif
-			m_signalFileFound(docInfo, labelStr, isDirectory);
+			m_signalFileFound(docInfo, labelStream.str(), isDirectory);
 			return true;
 		}
 	}
@@ -279,9 +280,9 @@
 			// Is this an indexable location ?
 			if (directories.find(sourceIter->second.substr(7)) == directories.end())
 			{
-				char labelStr[64];
+				stringstream labelStream;
 
-				snprintf(labelStr, 64, "X-SOURCE%u", sourceId);
+				labelStream << "X-SOURCE" << sourceId;
 
 #ifdef DEBUG
 				cout << "OnDiskHandler::initialize: " << sourceIter->second
@@ -289,7 +290,7 @@
 #endif
 				// All documents with this label will be unindexed
 				if ((m_pIndex != NULL) &&
-					(m_pIndex->unindexDocuments(labelStr, IndexInterface::BY_LABEL) == true))
+					(m_pIndex->unindexDocuments(labelStream.str(), IndexInterface::BY_LABEL) == true))
 				{
 					// Delete the source itself and all its items
 					m_history.deleteSource(sourceId);
@@ -409,7 +410,7 @@
 	return fileDeleted(dirName, IndexInterface::BY_DIRECTORY);
 }
 
-sigc::signal3<void, const DocumentInfo&, const string&, bool>& OnDiskHandler::getFileFoundSignal(void)
+sigc::signal3<void, DocumentInfo, string, bool>& OnDiskHandler::getFileFoundSignal(void)
 {
 	return m_signalFileFound;
 }

Modified: trunk/UI/GTK2/src/OnDiskHandler.h
===================================================================
--- trunk/UI/GTK2/src/OnDiskHandler.h	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/OnDiskHandler.h	2008-03-21 16:18:50 UTC (rev 1211)
@@ -68,11 +68,11 @@
 		/// Handles directory deleted events.
 		virtual bool directoryDeleted(const std::string &dirName);
 
-		sigc::signal3<void, const DocumentInfo&, const std::string&, bool>& getFileFoundSignal(void);
+		sigc::signal3<void, DocumentInfo, std::string, bool>& getFileFoundSignal(void);
 
 	protected:
 		pthread_mutex_t m_mutex;
-		sigc::signal3<void, const DocumentInfo&, const std::string&, bool> m_signalFileFound;
+		sigc::signal3<void, DocumentInfo, std::string, bool> m_signalFileFound;
 		std::map<unsigned int, std::string> m_fileSources;
 		CrawlHistory m_history;
 		IndexInterface *m_pIndex;

Modified: trunk/UI/GTK2/src/ServerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.cpp	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/ServerThreads.cpp	2008-03-21 16:18:50 UTC (rev 1211)
@@ -28,6 +28,7 @@
 #include <exception>
 #include <iostream>
 #include <fstream>
+#include <sstream>
 #include <glibmm/miscutils.h>
 
 #include "config.h"
@@ -170,8 +171,8 @@
 void DirectoryScannerThread::stop(void)
 {
 	// Disconnect the signal
-	sigc::signal3<void, const DocumentInfo&, const string&, bool>::slot_list_type slotsList = m_signalFileFound.slots();
-	sigc::signal3<void, const DocumentInfo&, const string&, bool>::slot_list_type::iterator slotIter = slotsList.begin();
+	sigc::signal3<void, DocumentInfo, string, bool>::slot_list_type slotsList = m_signalFileFound.slots();
+	sigc::signal3<void, DocumentInfo, string, bool>::slot_list_type::iterator slotIter = slotsList.begin();
 	if (slotIter != slotsList.end())
 	{
 		if (slotIter->empty() == false)
@@ -183,7 +184,7 @@
 	WorkerThread::stop();
 }
 
-sigc::signal3<void, const DocumentInfo&, const string&, bool>& DirectoryScannerThread::getFileFoundSignal(void)
+sigc::signal3<void, DocumentInfo, string, bool>& DirectoryScannerThread::getFileFoundSignal(void)
 {
 	return m_signalFileFound;
 }
@@ -212,20 +213,20 @@
 
 void DirectoryScannerThread::foundFile(const DocumentInfo &docInfo)
 {
-	char labelStr[64];
-
 	if ((docInfo.getLocation().empty() == true) ||
 		(m_done == true))
 	{
 		return;
 	}
 
+	stringstream labelStream;
+
 	// This identifies the source
-	snprintf(labelStr, 64, "X-SOURCE%u", m_sourceId);
+	labelStream << "X-SOURCE" << m_sourceId;
 #ifdef DEBUG
-	cout << "DirectoryScannerThread::foundFile: source label for " << docInfo.getLocation() << " is " << labelStr << endl;
+	cout << "DirectoryScannerThread::foundFile: source label for " << docInfo.getLocation() << " is " << labelStream.str() << endl;
 #endif
-	m_signalFileFound(docInfo, labelStr, false);
+	m_signalFileFound(docInfo, labelStream.str(), false);
 }
 
 bool DirectoryScannerThread::scanEntry(const string &entryName, CrawlHistory &history)
@@ -712,6 +713,8 @@
 #ifdef DEBUG
 			cout << "DBusServletThread::doWork: received Stop" << endl;
 #endif
+			m_pServer->set_flag(DaemonState::STOPPED);
+
 			// Prepare the reply
 			m_pReply = newDBusReply(m_pRequest);
 			if (m_pReply != NULL)

Modified: trunk/UI/GTK2/src/ServerThreads.h
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.h	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/ServerThreads.h	2008-03-21 16:18:50 UTC (rev 1211)
@@ -55,7 +55,7 @@
 
 		virtual void stop(void);
 
-		sigc::signal3<void, const DocumentInfo&, const std::string&, bool>& getFileFoundSignal(void);
+		sigc::signal3<void, DocumentInfo, std::string, bool>& getFileFoundSignal(void);
 
 	protected:
 		std::string m_dirName;
@@ -66,7 +66,7 @@
 		unsigned int m_currentLevel;
 		unsigned int m_maxLevel;
 		bool m_followSymLinks;
-		sigc::signal3<void, const DocumentInfo&, const std::string&, bool> m_signalFileFound;
+		sigc::signal3<void, DocumentInfo, std::string, bool> m_signalFileFound;
 		std::map<std::string, time_t> m_updateCache;
 
 		void cacheUpdate(const std::string &location, time_t mTime, CrawlHistory &history);

Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2008-03-21 16:18:50 UTC (rev 1211)
@@ -722,18 +722,6 @@
 	return foundItem;
 }
 
-void ThreadsManager::get_statistics(unsigned int &queueSize)
-{
-	if (read_lock_lists() == true)
-	{
-		// We want the number of documents being indexed,
-		// not the number of document waiting in the queue
-		queueSize = m_beingIndexed.size();
-
-		unlock_lists();
-	}
-}
-
 ListerThread::ListerThread(const string &indexName, unsigned int startDoc) :
 	WorkerThread(),
 	m_indexName(indexName),

Modified: trunk/UI/GTK2/src/WorkerThreads.h
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.h	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/WorkerThreads.h	2008-03-21 16:18:50 UTC (rev 1211)
@@ -136,8 +136,6 @@
 
 		bool pop_queue(const std::string &urlWasIndexed = "");
 
-		void get_statistics(unsigned int &queueSize);
-
 	protected:
 		sigc::connection m_threadsEndConnection;
 		pthread_rwlock_t m_threadsLock;

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/mainWindow.cc	2008-03-21 16:18:50 UTC (rev 1211)
@@ -276,17 +276,9 @@
 //
 mainWindow::~mainWindow()
 {
-	// FIXME: delete all "ignored" threads when exiting !!!
+	// Don't delete m_pSettingsMonitor and m_pSettingsHandler, threads may need them
+	// Since mainWindow is destroyed when the program exits, it's a leak we can live with
 
-	if (m_pSettingsMonitor != NULL)
-	{
-		delete m_pSettingsMonitor;
-	}
-	if (m_pSettingsHandler != NULL)
-	{
-		delete m_pSettingsHandler;
-	}
-
 	// Save engines
 	m_pEnginesTree->save();
 

Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.cc
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2008-03-21 16:18:50 UTC (rev 1211)
@@ -26,6 +26,7 @@
 #include <unistd.h>
 #include <iostream>
 #include <fstream>
+#include <cstring>
 #include <sigc++/sigc++.h>
 #include <glibmm.h>
 #include <glibmm/thread.h>
@@ -113,6 +114,8 @@
 
 static DBusHandlerResult filterHandler(DBusConnection *pConnection, DBusMessage *pMessage, void *pData)
 {
+	DaemonState *pServer = (DaemonState *)pData;
+
 #ifdef DEBUG
 	cout << "filterHandler: called" << endl;
 #endif
@@ -122,6 +125,10 @@
 #ifdef DEBUG
 		cout << "filterHandler: received Disconnected" << endl;
 #endif
+		if (pServer != NULL)
+		{
+			pServer->set_flag(DaemonState::DISCONNECTED);
+		}
 		quitAll(0);
 	}
 	else if (dbus_message_is_signal(pMessage, DBUS_INTERFACE_DBUS, "NameOwnerChanged") == TRUE)
@@ -147,8 +154,6 @@
 			DBUS_TYPE_INVALID) == TRUE) &&
 			(pData != NULL))
 		{
-			DaemonState *pServer = (DaemonState *)pData;
-
 			if (dbus_message_is_signal(pMessage, "org.gnome.PowerManager", "OnAcChanged") == TRUE)
 			{
 				// This tells us if we are on AC, not on battery
@@ -165,16 +170,22 @@
 			if (onBattery == TRUE)
 			{
 				// We are now on battery
-				pServer->set_flag(DaemonState::ON_BATTERY);
-				pServer->stop_crawling();
+				if (pServer != NULL)
+				{
+					pServer->set_flag(DaemonState::ON_BATTERY);
+					pServer->stop_crawling();
+				}
 
 				cout << "System is now on battery" << endl;
 			}
 			else
 			{
 				// Back on-line
-				pServer->reset_flag(DaemonState::ON_BATTERY);
-				pServer->start_crawling();
+				if (pServer != NULL)
+				{
+					pServer->reset_flag(DaemonState::ON_BATTERY);
+					pServer->start_crawling();
+				}
 
 				cout << "System is now on AC" << endl;
 			}
@@ -194,20 +205,18 @@
 
 static DBusHandlerResult messageHandler(DBusConnection *pConnection, DBusMessage *pMessage, void *pData)
 {
-	DaemonState *pServer = NULL;
+	DaemonState *pServer = (DaemonState *)pData;
 
-	if (pData != NULL)
-	{
-		pServer = (DaemonState *)pData;
-	}
-
 	if ((pConnection != NULL) &&
 		(pMessage != NULL))
 	{
 		dbus_connection_ref(pConnection);
 		dbus_message_ref(pMessage);
 
-		pServer->start_thread(new DBusServletThread(pServer, pConnection, pMessage));
+		if (pServer != NULL)
+		{
+			pServer->start_thread(new DBusServletThread(pServer, pConnection, pMessage));
+		}
 	}
 
 	return DBUS_HANDLER_RESULT_HANDLED;
@@ -515,13 +524,14 @@
 
 	DBusError error;
 	DaemonState server;
+	IndexInterface *pIndex = NULL;
 
 	dbus_error_init(&error);
 	dbus_connection_set_exit_on_disconnect(pConnection, FALSE);
 	dbus_connection_setup_with_g_main(pConnection, NULL);
 
 	if (dbus_connection_register_object_path(pConnection, g_pinotDBusObjectPath,
-			&g_callVTable, &server) == TRUE)
+		&g_callVTable, &server) == TRUE)
 	{
 		// Request to be identified by this name
 		// FIXME: flags are currently broken ?
@@ -552,12 +562,18 @@
 			bool gotLabels = false;
 			bool onBattery = false;
 
-			IndexInterface *pIndex = settings.getIndex(settings.m_daemonIndexLocation);
+			pIndex = settings.getIndex(settings.m_daemonIndexLocation);
 			if (pIndex != NULL)
 			{
-				string indexVersion(pIndex->getVersion());
+				string indexVersion(pIndex->getMetadata("version"));
+
 				gotLabels = pIndex->getLabels(labels);
+
 				// What version is the index at ?
+				if (indexVersion.empty() == true)
+				{
+					indexVersion = "0.0";
+				}
 				if (indexVersion < PINOT_INDEX_MIN_VERSION)
 				{
 					cout << "Upgrading index from version " << indexVersion << " to " << VERSION << endl;
@@ -573,7 +589,7 @@
 
 					resetHistory = resetLabels = true;
 				}
-				pIndex->setVersion(VERSION);
+				pIndex->setMetadata("version", VERSION);
 			}
 
 			if (resetHistory == true)
@@ -611,11 +627,6 @@
 				}
 			}
 
-			if (pIndex != NULL)
-			{
-				delete pIndex;
-			}
-
 			// Connect to the quit signal
 			server.getQuitSignal().connect(sigc::ptr_fun(&quitAll));
 
@@ -679,6 +690,23 @@
 	}
 	dbus_error_free(&error);
 
+	if (pIndex != NULL)
+	{
+		if (server.is_flag_set(DaemonState::DISCONNECTED) == true)
+		{
+			pIndex->setMetadata("dbus-status", "Disconnected");
+		}
+		else if (server.is_flag_set(DaemonState::STOPPED) == true)
+		{
+			pIndex->setMetadata("dbus-status", "Stopped");
+		}
+		else
+		{
+			pIndex->setMetadata("dbus-status", "");
+		}
+		delete pIndex;
+	}
+
 	// Stop everything
 	server.disconnect();
 	server.stop_threads();

Modified: trunk/UI/GTK2/src/pinot.cc
===================================================================
--- trunk/UI/GTK2/src/pinot.cc	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/pinot.cc	2008-03-21 16:18:50 UTC (rev 1211)
@@ -312,9 +312,13 @@
 	IndexInterface *pIndex = settings.getIndex(settings.m_docsIndexLocation);
 	if (pIndex != NULL)
 	{
-		string indexVersion(pIndex->getVersion());
+		string indexVersion(pIndex->getMetadata("version"));
 
 		// What version is the index at ?
+		if (indexVersion.empty() == true)
+		{
+			indexVersion = "0.0";
+		}
 		// Is an upgrade necessary ?
 		if ((indexVersion < PINOT_INDEX_MIN_VERSION) &&
 			(pIndex->getDocumentsCount() > 0))
@@ -324,7 +328,7 @@
 #ifdef DEBUG
 		cout << "My Web Pages was set to version " << indexVersion << endl;
 #endif
-		pIndex->setVersion(VERSION);
+		pIndex->setMetadata("version", VERSION);
 
 		delete pIndex;
 	}

Modified: trunk/UI/GTK2/src/statisticsDialog.cc
===================================================================
--- trunk/UI/GTK2/src/statisticsDialog.cc	2008-03-20 11:06:31 UTC (rev 1210)
+++ trunk/UI/GTK2/src/statisticsDialog.cc	2008-03-21 16:18:50 UTC (rev 1211)
@@ -132,6 +132,7 @@
 	ViewHistory viewHistory(PinotSettings::getInstance().getHistoryDatabaseName());
 	TreeModel::Row row;
 	std::map<unsigned int, string> sources;
+	string daemonDBusStatus;
 	char countStr[64];
 
 	row = *m_myWebPagesIter;
@@ -159,6 +160,8 @@
 		snprintf(countStr, 64, "%u", docsCount);
 		row[m_statsColumns.m_name] = ustring(countStr) + " " + _("documents");
 
+		daemonDBusStatus = pIndex->getMetadata("dbus-status");
+
 		delete pIndex;
 	}
 	else
@@ -197,7 +200,18 @@
 	}
 	else
 	{
-		row[m_statsColumns.m_name] = ustring(_("Currently not running"));
+		if (daemonDBusStatus == "Disconnected")
+		{
+			row[m_statsColumns.m_name] = ustring(_("Disconnected from D-Bus"));
+		}
+		else if (daemonDBusStatus == "Stopped")
+		{
+			row[m_statsColumns.m_name] = ustring(_("Stopped"));
+		}
+		else
+		{
+			row[m_statsColumns.m_name] = ustring(_("Currently not running"));
+		}
 	}
 
 	// Show errors



From fabricecolin at mail.berlios.de  Mon Mar 24 06:13:19 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 24 Mar 2008 06:13:19 +0100
Subject: [Pinot-svn] r1212 - trunk/UI/GTK2/src
Message-ID: <200803240513.m2O5DJb9003927@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-24 06:13:17 +0100 (Mon, 24 Mar 2008)
New Revision: 1212

Modified:
   trunk/UI/GTK2/src/pinot-dbus-daemon.cc
Log:
Initialize the dbus-status metadata.


Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.cc
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2008-03-21 16:18:50 UTC (rev 1211)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2008-03-24 05:13:17 UTC (rev 1212)
@@ -589,7 +589,9 @@
 
 					resetHistory = resetLabels = true;
 				}
+
 				pIndex->setMetadata("version", VERSION);
+				pIndex->setMetadata("dbus-status", "Running");
 			}
 
 			if (resetHistory == true)



From fabricecolin at mail.berlios.de  Mon Mar 24 07:26:16 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 24 Mar 2008 07:26:16 +0100
Subject: [Pinot-svn] r1213 - in trunk/UI/GTK2: . src
Message-ID: <200803240626.m2O6QG1O030140@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-24 07:26:15 +0100 (Mon, 24 Mar 2008)
New Revision: 1213

Modified:
   trunk/UI/GTK2/metase-gtk2.glade
   trunk/UI/GTK2/src/PinotSettings.cpp
   trunk/UI/GTK2/src/PinotSettings.h
   trunk/UI/GTK2/src/prefsDialog.cc
   trunk/UI/GTK2/src/prefsDialog.hh
   trunk/UI/GTK2/src/prefsDialog_glade.cc
   trunk/UI/GTK2/src/prefsDialog_glade.hh
Log:
In Preferences, patterns can be reset to default values.


Modified: trunk/UI/GTK2/metase-gtk2.glade
===================================================================
--- trunk/UI/GTK2/metase-gtk2.glade	2008-03-24 05:13:17 UTC (rev 1212)
+++ trunk/UI/GTK2/metase-gtk2.glade	2008-03-24 06:26:15 UTC (rev 1213)
@@ -2140,6 +2140,21 @@
 			  <signal name="clicked" handler="on_removePatternButton_clicked" last_modification_time="Tue, 31 Oct 2006 14:48:32 GMT"/>
 			</widget>
 		      </child>
+
+		      <child>
+			<widget class="GtkButton" id="resetPatternsButton">
+			  <property name="border_width">4</property>
+			  <property agent="glademm" name="cxx_visibility">protected</property>
+			  <property name="visible">True</property>
+			  <property name="can_default">True</property>
+			  <property name="can_focus">True</property>
+			  <property name="label" translatable="yes">Reset</property>
+			  <property name="use_underline">True</property>
+			  <property name="relief">GTK_RELIEF_NORMAL</property>
+			  <property name="focus_on_click">True</property>
+			  <signal name="clicked" handler="on_resetPatternsButton_clicked" last_modification_time="Mon, 24 Mar 2008 04:59:59 GMT"/>
+			</widget>
+		      </child>
 		    </widget>
 		    <packing>
 		      <property name="padding">0</property>

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2008-03-24 05:13:17 UTC (rev 1212)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2008-03-24 06:26:15 UTC (rev 1213)
@@ -284,7 +284,7 @@
 	m_proxyEnabled = false;
 	m_indexableLocations.clear();
 	m_filePatternsList.clear();
-	m_isBlackList = false;
+	m_isBlackList = true;
 	m_cacheProviders.clear();
 	m_cacheProtocols.clear();
 
@@ -328,33 +328,7 @@
 		m_labels.insert(_("Important"));
 		m_labels.insert(_("New"));
 		m_labels.insert(_("Personal"));
-		// Skip common image, video and archive types
-		m_filePatternsList.insert("*~");
-		m_filePatternsList.insert("*.Z");
-		m_filePatternsList.insert("*.a");
-		m_filePatternsList.insert("*.avi");
-		m_filePatternsList.insert("*.asf");
-		m_filePatternsList.insert("*.cap");
-		m_filePatternsList.insert("*.flv");
-		m_filePatternsList.insert("*.gif");
-		m_filePatternsList.insert("*.iso");
-		m_filePatternsList.insert("*.jpeg");
-		m_filePatternsList.insert("*.jpg");
-		m_filePatternsList.insert("*.la");
-		m_filePatternsList.insert("*.lha");
-		m_filePatternsList.insert("*.mov");
-		m_filePatternsList.insert("*.msf");
-		m_filePatternsList.insert("*.mpeg");
-		m_filePatternsList.insert("*.mpg");
-		m_filePatternsList.insert("*.o");
-		m_filePatternsList.insert("*.png");
-		m_filePatternsList.insert("*.rar");
-		m_filePatternsList.insert("*.sh");
-		m_filePatternsList.insert("*.so");
-		m_filePatternsList.insert("*.tiff");
-		m_filePatternsList.insert("*.wmv");
-		m_filePatternsList.insert("*.xbm");
-		m_filePatternsList.insert("*.xpm");
+		m_isBlackList = getDefaultPatterns(m_filePatternsList);
 		// Create default queries
 		struct passwd *pPasswd = getpwuid(geteuid());
 		if (pPasswd != NULL)
@@ -1738,6 +1712,44 @@
 	m_queries.clear();
 }
 
+/// Gets default patterns.
+bool PinotSettings::getDefaultPatterns(set<ustring> &defaultPatterns)
+{
+	defaultPatterns.clear();
+
+	// Skip common image, video and archive types
+	defaultPatterns.insert("*~");
+	defaultPatterns.insert("*.Z");
+	defaultPatterns.insert("*.a");
+	defaultPatterns.insert("*.asf");
+	defaultPatterns.insert("*.avi");
+	defaultPatterns.insert("*.cap");
+	defaultPatterns.insert("*.divx");
+	defaultPatterns.insert("*.flv");
+	defaultPatterns.insert("*.gif");
+	defaultPatterns.insert("*.iso");
+	defaultPatterns.insert("*.jpeg");
+	defaultPatterns.insert("*.jpg");
+	defaultPatterns.insert("*.la");
+	defaultPatterns.insert("*.lha");
+	defaultPatterns.insert("*.mov");
+	defaultPatterns.insert("*.msf");
+	defaultPatterns.insert("*.mpeg");
+	defaultPatterns.insert("*.mpg");
+	defaultPatterns.insert("*.mo");
+	defaultPatterns.insert("*.o");
+	defaultPatterns.insert("*.png");
+	defaultPatterns.insert("*.rar");
+	defaultPatterns.insert("*.sh");
+	defaultPatterns.insert("*.so");
+	defaultPatterns.insert("*.tiff");
+	defaultPatterns.insert("*.wmv");
+	defaultPatterns.insert("*.xbm");
+	defaultPatterns.insert("*.xpm");
+
+	return true;
+}
+
 /// Determines if a file matches the blacklist.
 bool PinotSettings::isBlackListed(const string &fileName)
 {

Modified: trunk/UI/GTK2/src/PinotSettings.h
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.h	2008-03-24 05:13:17 UTC (rev 1212)
+++ trunk/UI/GTK2/src/PinotSettings.h	2008-03-24 06:26:15 UTC (rev 1213)
@@ -133,6 +133,9 @@
 		/// Clears the queries map.
 		void clearQueries(void);
 
+		/// Gets default patterns.
+		bool getDefaultPatterns(std::set<Glib::ustring> &defaultPatterns);
+
 		/// Determines if a file matches the blacklist.
 		bool isBlackListed(const std::string &fileName);
 

Modified: trunk/UI/GTK2/src/prefsDialog.cc
===================================================================
--- trunk/UI/GTK2/src/prefsDialog.cc	2008-03-24 05:13:17 UTC (rev 1212)
+++ trunk/UI/GTK2/src/prefsDialog.cc	2008-03-24 06:26:15 UTC (rev 1213)
@@ -100,7 +100,8 @@
 	patternsTreeview->append_column_editable(_("Pattern"), m_patternsColumns.m_location);
 	// Allow only single selection
 	patternsTreeview->get_selection()->set_mode(SELECTION_SINGLE);
-	populate_patternsTreeview();
+	populate_patternsCombobox();
+	populate_patternsTreeview(m_settings.m_filePatternsList, m_settings.m_isBlackList);
 
 	// Hide the Google API entry field ?
 	if (ModuleFactory::isSupported("googleapi") == false)
@@ -327,13 +328,19 @@
 	return false;
 }
 
-void prefsDialog::populate_patternsTreeview()
+void prefsDialog::populate_patternsCombobox()
 {
+	patternsCombobox->append_text(_("Exclude these patterns from indexing"));
+	patternsCombobox->append_text(_("Only index these patterns"));
+}
+
+void prefsDialog::populate_patternsTreeview(const set<ustring> &patternsList, bool isBlackList)
+{
 	TreeModel::iterator iter;
 	TreeModel::Row row;
 	ustring patternsString;
 
-	if (m_settings.m_filePatternsList.empty() == true)
+	if (patternsList.empty() == true)
 	{
 		// This button will stay disabled until a ppatern is added to the list
 		removePatternButton->set_sensitive(false);
@@ -341,8 +348,8 @@
 	}
 
 	// Populate the tree
-	for (set<ustring>::iterator patternIter = m_settings.m_filePatternsList.begin();
-		patternIter != m_settings.m_filePatternsList.end();
+	for (set<ustring>::iterator patternIter = patternsList.begin();
+		patternIter != patternsList.end();
 		++patternIter)
 	{
 		ustring pattern(*patternIter);
@@ -354,13 +361,11 @@
 		row[m_patternsColumns.m_location] = pattern;
 		patternsString += pattern + "|";
 	}
-	patternsCombobox->append_text(_("Exclude these patterns from indexing"));
-	patternsCombobox->append_text(_("Only index these patterns"));
 
 	removePatternButton->set_sensitive(true);
 
 	// Is it a black or white list ?
-	if (m_settings.m_isBlackList == true)
+	if (isBlackList == true)
 	{
 		patternsCombobox->set_active(0);
 		patternsString += "0";
@@ -567,7 +572,7 @@
 	}
 }
 
-void prefsDialog::on_patternsCombobox_changed ()
+void prefsDialog::on_patternsCombobox_changed()
 {
 	int activeRow = patternsCombobox->get_active_row_number();
 
@@ -578,7 +583,7 @@
 		return;
 	}
 
-	// Unselect results
+	// Unselect
 	patternsTreeview->get_selection()->unselect_all();
 	// Remove all patterns in order to make sure the user enters a new bunch
 	m_refPatternsTree->clear();
@@ -637,3 +642,17 @@
 	}
 }
 
+void prefsDialog::on_resetPatternsButton_clicked()
+{
+	set<ustring> defaultPatterns;
+	bool isBlackList = m_settings.getDefaultPatterns(defaultPatterns);
+
+	// Unselect
+	patternsTreeview->get_selection()->unselect_all();
+	// Remove all patterns
+	m_refPatternsTree->clear();
+
+	// Repopulate with defaults
+	populate_patternsTreeview(defaultPatterns, isBlackList);
+}
+

Modified: trunk/UI/GTK2/src/prefsDialog.hh
===================================================================
--- trunk/UI/GTK2/src/prefsDialog.hh	2008-03-24 05:13:17 UTC (rev 1212)
+++ trunk/UI/GTK2/src/prefsDialog.hh	2008-03-24 06:26:15 UTC (rev 1213)
@@ -71,13 +71,15 @@
 	virtual void on_patternsCombobox_changed();
 	virtual void on_addPatternButton_clicked();
 	virtual void on_removePatternButton_clicked();
+	virtual void on_resetPatternsButton_clicked();
 
 	void populate_proxyTypeCombobox();
 	void populate_labelsTreeview();
 	void save_labelsTreeview();
 	void populate_directoriesTreeview();
 	bool save_directoriesTreeview();
-	void populate_patternsTreeview();
+	void populate_patternsCombobox();
+	void populate_patternsTreeview(const std::set<Glib::ustring> &patternsList, bool isBlackList);
 	bool save_patternsTreeview();
 
 };

Modified: trunk/UI/GTK2/src/prefsDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/prefsDialog_glade.cc	2008-03-24 05:13:17 UTC (rev 1212)
+++ trunk/UI/GTK2/src/prefsDialog_glade.cc	2008-03-24 06:26:15 UTC (rev 1213)
@@ -1,9 +1,9 @@
-// generated 2007/8/3 22:14:45 SGT by fabrice at amra.dyndns.org.(none)
+// generated 2008/3/24 13:00:10 SGT by fabrice at amra.dyndns.org.(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.10.14 and gtkmm 2.10.9
+// for gtk 2.12.5 and gtkmm 2.12.3
 //
 // Please modify the corresponding derived classes in ./src/prefsDialog.cc
 
@@ -136,6 +136,7 @@
    Gtk::Alignment *alignment36 = Gtk::manage(new class Gtk::Alignment(0.5, 0.5, 0, 0));
    addPatternButton = Gtk::manage(new class Gtk::Button());
    removePatternButton = Gtk::manage(new class Gtk::Button(Gtk::StockID("gtk-remove")));
+   resetPatternsButton = Gtk::manage(new class Gtk::Button(_("Reset")));
    
    Gtk::VButtonBox *patternsVbuttonbox = Gtk::manage(new class Gtk::VButtonBox(Gtk::BUTTONBOX_START, 0));
    Gtk::HBox *patternsHbox = Gtk::manage(new class Gtk::HBox(false, 0));
@@ -469,8 +470,13 @@
    removePatternButton->set_flags(Gtk::CAN_DEFAULT);
    removePatternButton->set_border_width(4);
    removePatternButton->set_relief(Gtk::RELIEF_NORMAL);
+   resetPatternsButton->set_flags(Gtk::CAN_FOCUS);
+   resetPatternsButton->set_flags(Gtk::CAN_DEFAULT);
+   resetPatternsButton->set_border_width(4);
+   resetPatternsButton->set_relief(Gtk::RELIEF_NORMAL);
    patternsVbuttonbox->pack_start(*addPatternButton);
    patternsVbuttonbox->pack_start(*removePatternButton);
+   patternsVbuttonbox->pack_start(*resetPatternsButton);
    patternsHbox->pack_start(*patternsVbox);
    patternsHbox->pack_start(*patternsVbuttonbox, Gtk::PACK_SHRINK, 0);
    indexingVbox->pack_start(*directoriesLabel, Gtk::PACK_SHRINK, 4);
@@ -573,6 +579,7 @@
    alignment36->show();
    addPatternButton->show();
    removePatternButton->show();
+   resetPatternsButton->show();
    patternsVbuttonbox->show();
    patternsHbox->show();
    indexingVbox->show();
@@ -588,6 +595,7 @@
    patternsCombobox->signal_changed().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_patternsCombobox_changed), false);
    addPatternButton->signal_clicked().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_addPatternButton_clicked), false);
    removePatternButton->signal_clicked().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_removePatternButton_clicked), false);
+   resetPatternsButton->signal_clicked().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_resetPatternsButton_clicked), false);
 }
 
 prefsDialog_glade::~prefsDialog_glade()

Modified: trunk/UI/GTK2/src/prefsDialog_glade.hh
===================================================================
--- trunk/UI/GTK2/src/prefsDialog_glade.hh	2008-03-24 05:13:17 UTC (rev 1212)
+++ trunk/UI/GTK2/src/prefsDialog_glade.hh	2008-03-24 06:26:15 UTC (rev 1213)
@@ -1,9 +1,9 @@
-// generated 2007/7/10 19:55:24 SGT by fabrice at amra.dyndns.org.(none)
+// generated 2008/3/24 13:00:10 SGT by fabrice at amra.dyndns.org.(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.10.13 and gtkmm 2.10.9
+// for gtk 2.12.5 and gtkmm 2.12.3
 //
 // Please modify the corresponding derived classes in ./src/prefsDialog.hh and./src/prefsDialog.cc
 
@@ -73,6 +73,7 @@
         class Gtk::ComboBoxText * patternsCombobox;
         class Gtk::Button * addPatternButton;
         class Gtk::Button * removePatternButton;
+        class Gtk::Button * resetPatternsButton;
         class Gtk::Notebook * prefsNotebook;
         
         prefsDialog_glade();
@@ -88,5 +89,6 @@
         virtual void on_patternsCombobox_changed() = 0;
         virtual void on_addPatternButton_clicked() = 0;
         virtual void on_removePatternButton_clicked() = 0;
+        virtual void on_resetPatternsButton_clicked() = 0;
 };
 #endif



From fabricecolin at mail.berlios.de  Mon Mar 24 07:42:58 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 24 Mar 2008 07:42:58 +0100
Subject: [Pinot-svn] r1214 - trunk/IndexSearch/Xapian
Message-ID: <200803240642.m2O6gwqV031103@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-24 07:42:58 +0100 (Mon, 24 Mar 2008)
New Revision: 1214

Modified:
   trunk/IndexSearch/Xapian/XapianIndex.cpp
   trunk/IndexSearch/Xapian/XapianIndex.h
Log:
Don't scan the document to index for its language if it's already known. As
things stand, it never is when indexDocument() is invoked.


Modified: trunk/IndexSearch/Xapian/XapianIndex.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianIndex.cpp	2008-03-24 06:26:15 UTC (rev 1213)
+++ trunk/IndexSearch/Xapian/XapianIndex.cpp	2008-03-24 06:42:58 UTC (rev 1214)
@@ -774,8 +774,7 @@
 	}
 }
 
-string XapianIndex::scanDocument(const char *pData, unsigned int dataLength,
-	DocumentInfo &info)
+string XapianIndex::scanDocument(const char *pData, unsigned int dataLength)
 {
 	vector<string> candidates;
 	string language;
@@ -809,9 +808,6 @@
 	cout << "XapianIndex::scanDocument: language " << language << endl;
 #endif
 
-	// Update the document's properties
-	info.setLanguage(language);
-
 	return language;
 }
 
@@ -1793,10 +1789,16 @@
 	unsigned int dataLength = 0;
 	const char *pData = document.getData(dataLength);
 
-	if ((pData != NULL) &&
-		(dataLength > 0))
+	// Don't scan the document if a language is specified
+	m_stemLanguage = Languages::toEnglish(docInfo.getLanguage());
+	if (m_stemLanguage.empty() == true)
 	{
-		m_stemLanguage = scanDocument(pData, dataLength, docInfo);
+		if ((pData != NULL) &&
+			(dataLength > 0))
+		{
+			m_stemLanguage = scanDocument(pData, dataLength);
+			docInfo.setLanguage(Languages::toLocale(m_stemLanguage));
+		}
 	}
 
 	try
@@ -1873,7 +1875,8 @@
 		if ((pData != NULL) &&
 			(dataLength > 0))
 		{
-			m_stemLanguage = scanDocument(pData, dataLength, docInfo);
+			m_stemLanguage = scanDocument(pData, dataLength);
+			docInfo.setLanguage(Languages::toLocale(m_stemLanguage));
 		}
 	}
 

Modified: trunk/IndexSearch/Xapian/XapianIndex.h
===================================================================
--- trunk/IndexSearch/Xapian/XapianIndex.h	2008-03-24 06:26:15 UTC (rev 1213)
+++ trunk/IndexSearch/Xapian/XapianIndex.h	2008-03-24 06:42:58 UTC (rev 1214)
@@ -179,8 +179,7 @@
 
 		void removeCommonTerms(Xapian::Document &doc, const Xapian::WritableDatabase &db);
 
-		std::string scanDocument(const char *pData, unsigned int dataLength,
-			DocumentInfo &info);
+		std::string scanDocument(const char *pData, unsigned int dataLength);
 
 		void setDocumentData(const DocumentInfo &info, Xapian::Document &doc,
 			const std::string &language) const;



From fabricecolin at mail.berlios.de  Mon Mar 24 08:19:54 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 24 Mar 2008 08:19:54 +0100
Subject: [Pinot-svn] r1215 - in trunk: . po
Message-ID: <200803240719.m2O7JsDB000271@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-24 08:19:54 +0100 (Mon, 24 Mar 2008)
New Revision: 1215

Added:
   trunk/po/zh_CN.po
Modified:
   trunk/AUTHORS
   trunk/configure.in
Log:
Simplified Chinese po by Ashlee Ma.


Modified: trunk/AUTHORS
===================================================================
--- trunk/AUTHORS	2008-03-24 06:42:58 UTC (rev 1214)
+++ trunk/AUTHORS	2008-03-24 07:19:54 UTC (rev 1215)
@@ -51,5 +51,6 @@
 		& Garbage <garbage at openfutura.com>
 	Swedish - Daniel Nylander <po at danielnylander dot se>
 		Zirro <???>
+	Simplified Chinese - Ashlee Ma <ashlee8310 at hotmail dot com>
 	Traditional Chinese - ??? Yung-Chung Lin <henearkrxern at gmail dot com>
 

Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2008-03-24 06:42:58 UTC (rev 1214)
+++ trunk/configure.in	2008-03-24 07:19:54 UTC (rev 1215)
@@ -26,7 +26,7 @@
 		[the gettext domain])
 
 dnl Add the languages which your application supports here.
-ALL_LINGUAS="de es fr it nl pt pt_BR ru sv zh_TW"
+ALL_LINGUAS="de es fr it nl pt pt_BR ru sv zh_CN zh_TW"
 #AM_GNU_GETTEXT([external]) 
 AM_GLIB_GNU_GETTEXT
 

Added: trunk/po/zh_CN.po
===================================================================
--- trunk/po/zh_CN.po	2008-03-24 06:42:58 UTC (rev 1214)
+++ trunk/po/zh_CN.po	2008-03-24 07:19:54 UTC (rev 1215)
@@ -0,0 +1,966 @@
+# Simplified Chinese translation for pinot
+# This file is distributed under the same license as the pinot package.
+# Ashlee Ma <ashlee8310 at hotmail.com>, 2008.
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: pinot 0.83\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: 2008-03-24 14:32+0800\n"
+"PO-Revision-Date: 2008-03-24 14:32+0800\n"
+"Last-Translator: Ashlee Ma <ashlee8310 at hotmail.com>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:89
+msgid "Search Engines"
+msgstr "????"
+
+#: UI/GTK2/src/EnginesTree.cpp:326
+msgid "Current User"
+msgstr "??????"
+
+#. Enable these menu items unless it is not the documents index
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
+#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
+#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
+#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1021
+msgid "My Web Pages"
+msgstr "????"
+
+#. Spawn new threads
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
+#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
+#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1031
+msgid "My Documents"
+msgstr "????"
+
+#: UI/GTK2/src/indexDialog.cc:122
+msgid "Served by"
+msgstr ""
+
+#: UI/GTK2/src/indexDialog.cc:124
+msgid "Local"
+msgstr "???"
+
+#: UI/GTK2/src/indexDialog.cc:286
+msgid "Index location"
+msgstr "????"
+
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
+msgid "Name:"
+msgstr "??"
+
+#: UI/GTK2/src/indexDialog_glade.cc:66
+msgid "..."
+msgstr "..."
+
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+msgid "Type:"
+msgstr "???"
+
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:65
+msgid "Location:"
+msgstr "???"
+
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+msgid "Port:"
+msgstr "????"
+
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+msgid "Address:"
+msgstr "???"
+
+#: UI/GTK2/src/indexDialog_glade.cc:182
+msgid "External index"
+msgstr "????"
+
+#. Stemming language
+#. Labels
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:140
+msgid "None"
+msgstr "?"
+
+#: UI/GTK2/src/importDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
+msgid "Title:"
+msgstr "?? :"
+
+#: UI/GTK2/src/importDialog_glade.cc:69
+msgid "Apply label:"
+msgstr "????"
+
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+msgid "Import URL"
+msgstr "??URL"
+
+#: UI/GTK2/src/IndexPage.cpp:50
+msgid "Show Previous"
+msgstr "???????"
+
+#: UI/GTK2/src/IndexPage.cpp:56
+msgid "Show Next"
+msgstr "???????"
+
+#: UI/GTK2/src/IndexPage.cpp:188
+msgid "All"
+msgstr "???"
+
+#: UI/GTK2/src/launcherDialog_glade.cc:63
+msgid ""
+"There is no helper application defined for this document's type.\n"
+"Please enter the command to open this document."
+msgstr "???????????????????????????"
+
+#: UI/GTK2/src/launcherDialog_glade.cc:66
+msgid "Use this command for other documents of the same type."
+msgstr "????????????????"
+
+#: UI/GTK2/src/launcherDialog_glade.cc:98
+msgid "Helper application"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:166
+msgid "Query Name"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:171
+msgid "Last Run"
+msgstr "???????"
+
+#: UI/GTK2/src/mainWindow.cc:176
+msgid "Summary"
+msgstr "??"
+
+#. Set tooltips
+#: UI/GTK2/src/mainWindow.cc:206
+msgid "Show all search engines"
+msgstr "?????????"
+
+#: UI/GTK2/src/mainWindow.cc:207
+msgid "Find documents that match the query string"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:208
+#, fuzzy
+msgid "Add an index"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:209
+#, fuzzy
+msgid "Remove an index"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:210
+#, fuzzy
+msgid "Add a query"
+msgstr "?????"
+
+#: UI/GTK2/src/mainWindow.cc:211
+#, fuzzy
+msgid "Remove a query"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:212
+msgid "Show the query's previous results"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:213
+msgid "Find documents that match the query"
+msgstr ""
+
+#. Now we are ready
+#: UI/GTK2/src/mainWindow.cc:232
+msgid "Ready"
+msgstr "???"
+
+#: UI/GTK2/src/mainWindow.cc:244
+msgid "Updating all documents in My Web Pages is recommended"
+msgstr "???????????????"
+
+#: UI/GTK2/src/mainWindow.cc:252
+#, fuzzy
+msgid "Don't warn me again"
+msgstr "?????????"
+
+#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+msgid "Update"
+msgstr "??"
+
+#: UI/GTK2/src/mainWindow.cc:322
+msgid "N/A"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:337
+msgid "Undefined"
+msgstr "???"
+
+#. Find this query
+#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+msgid "Live query"
+msgstr ""
+
+#. Show the URL of the first result in the status bar
+#: UI/GTK2/src/mainWindow.cc:700
+msgid "Result location is"
+msgstr "?????"
+
+#. Show the URL in the status bar
+#: UI/GTK2/src/mainWindow.cc:782
+msgid "Document location is"
+msgstr "?????"
+
+#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+msgid "Couldn't find query"
+msgstr "????????"
+
+#: UI/GTK2/src/mainWindow.cc:982
+#, fuzzy
+msgid "In Results"
+msgstr "??"
+
+#: UI/GTK2/src/mainWindow.cc:1166
+msgid "Showing"
+msgstr "??"
+
+#: UI/GTK2/src/mainWindow.cc:1171
+msgid "of"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1176
+msgid "documents, starting at"
+msgstr "??????"
+
+#: UI/GTK2/src/mainWindow.cc:1210
+msgid "Query"
+msgstr "??"
+
+#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+msgid "on"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1218
+msgid "ended"
+msgstr "??"
+
+#: UI/GTK2/src/mainWindow.cc:1284
+msgid "Corrected"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1373
+msgid "More Like"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:1416
+msgid "Updated label(s)"
+msgstr "?????"
+
+#. Yes, it did
+#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+msgid "Updated document"
+msgstr "?????"
+
+#: UI/GTK2/src/mainWindow.cc:1513
+msgid "Indexed"
+msgstr "???"
+
+#: UI/GTK2/src/mainWindow.cc:1549
+msgid "Unindexed document(s)"
+msgstr "??????"
+
+#: UI/GTK2/src/mainWindow.cc:1646
+msgid "Couldn't rename index, name"
+msgstr "????????????"
+
+#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
+#: UI/GTK2/src/mainWindow.cc:3046
+msgid "is already in use"
+msgstr "??????"
+
+#: UI/GTK2/src/mainWindow.cc:1663
+msgid "Couldn't rename index"
+msgstr "?????????"
+
+#: UI/GTK2/src/mainWindow.cc:1676
+msgid "Edited index"
+msgstr "??????"
+
+#: UI/GTK2/src/mainWindow.cc:2004
+#, fuzzy
+msgid "Export Results"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:2276
+msgid "Index"
+msgstr "??"
+
+#: UI/GTK2/src/mainWindow.cc:2280
+msgid "doesn't exist"
+msgstr "???"
+
+#: UI/GTK2/src/mainWindow.cc:2358
+msgid "Remove this document from the index ?"
+msgstr "????????????"
+
+#: UI/GTK2/src/mainWindow.cc:2377
+msgid "Remove these documents from the index ?"
+msgstr "???????????"
+
+#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+msgid "Unindex"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:2424
+msgid "A metasearch tool for the Free Desktop"
+msgstr "Free Desktop ??????"
+
+#: UI/GTK2/src/mainWindow.cc:2425
+msgid "Search the Web and your documents !"
+msgstr "???????????"
+
+#: UI/GTK2/src/mainWindow.cc:2470
+msgid "Index name"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:2485
+msgid "Couldn't add index"
+msgstr "??????"
+
+#: UI/GTK2/src/mainWindow.cc:2501
+msgid "Added new index"
+msgstr "??????"
+
+#: UI/GTK2/src/mainWindow.cc:2536
+msgid "Couldn't remove index"
+msgstr "??????"
+
+#: UI/GTK2/src/mainWindow.cc:2741
+msgid "No history for"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2857
+msgid "At least one task hasn't completed yet. Quit now ?"
+msgstr "??????????????????"
+
+#: UI/GTK2/src/mainWindow.cc:2859
+msgid "Quit"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:3042
+msgid "Query name"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:3069
+msgid "Couldn't update query"
+msgstr "??????"
+
+#: UI/GTK2/src/mainWindow.cc:3080
+msgid "Edited query"
+msgstr "??????"
+
+#: UI/GTK2/src/mainWindow.cc:3087
+msgid "Couldn't add query"
+msgstr "??????"
+
+#: UI/GTK2/src/mainWindow.cc:3095
+msgid "Added new query"
+msgstr "?????"
+
+#: UI/GTK2/src/mainWindow.cc:3134
+msgid "Query is not set"
+msgstr "???????"
+
+#: UI/GTK2/src/mainWindow.cc:3145
+msgid "No search engine selected"
+msgstr "????????"
+
+#: UI/GTK2/src/mainWindow.cc:3232
+msgid "Please set the Google API key first"
+msgstr "????Google API key"
+
+#: UI/GTK2/src/mainWindow.cc:3241
+msgid "Running query"
+msgstr "???????"
+
+#: UI/GTK2/src/mainWindow.cc:3451
+msgid "No default application defined for type"
+msgstr "????????????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:126
+msgid "Query:"
+msgstr "???"
+
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:102
+msgid "History"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:142
+msgid "Stored queries"
+msgstr "?????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "??"
+
+#: UI/GTK2/src/mainWindow_glade.cc:176
+msgid "Search Engine"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:179
+msgid "Host Name"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:182
+msgid "Show Extract"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:185
+msgid "Group By"
+msgstr "???"
+
+#: UI/GTK2/src/mainWindow_glade.cc:191
+msgid "Clear List"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:197
+msgid "Vie_w"
+msgstr "??(_w)"
+
+#: UI/GTK2/src/mainWindow_glade.cc:200
+msgid "View Cache"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:203
+msgid "More Like This"
+msgstr "?????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:206
+#, fuzzy
+msgid "Search This For"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
+msgid "_Index"
+msgstr "??(_I)"
+
+#: UI/GTK2/src/mainWindow_glade.cc:212
+msgid "List Contents Of"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:221
+msgid "View"
+msgstr "??"
+
+#: UI/GTK2/src/mainWindow_glade.cc:230
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "??"
+
+#: UI/GTK2/src/mainWindow_glade.cc:233
+msgid "_About"
+msgstr "??(_A)"
+
+#: UI/GTK2/src/mainWindow_glade.cc:236
+msgid "_Session"
+msgstr "????(_S)"
+
+#: UI/GTK2/src/mainWindow_glade.cc:239
+msgid "_Edit"
+msgstr "??(_E)"
+
+#: UI/GTK2/src/mainWindow_glade.cc:242
+msgid "_Results"
+msgstr "??(_R)"
+
+#: UI/GTK2/src/mainWindow_glade.cc:248
+msgid "_Help"
+msgstr "??(_H)"
+
+#: UI/GTK2/src/mainWindow_glade.cc:377
+msgid "Pinot"
+msgstr "Pinot"
+
+#. Localize language names
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:425
+msgid "Unknown"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:426
+msgid "Danish"
+msgstr "???"
+
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:427
+msgid "Dutch"
+msgstr "???"
+
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:428
+msgid "English"
+msgstr "??"
+
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:429
+msgid "Finnish"
+msgstr "???"
+
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:430
+msgid "French"
+msgstr "??"
+
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:431
+msgid "German"
+msgstr "??"
+
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:432
+msgid "Hungarian"
+msgstr "????"
+
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:433
+msgid "Italian"
+msgstr "????"
+
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:434
+msgid "Norwegian"
+msgstr "???"
+
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:435
+msgid "Portuguese"
+msgstr "????"
+
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:436
+msgid "Romanian"
+msgstr "?????"
+
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:437
+msgid "Russian"
+msgstr "??"
+
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:438
+msgid "Spanish"
+msgstr "????"
+
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:439
+msgid "Swedish"
+msgstr "???"
+
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:440
+msgid "Turkish"
+msgstr "????"
+
+#: UI/GTK2/src/pinot.cc:271
+msgid "Couldn't open index"
+msgstr "??????"
+
+#: UI/GTK2/src/pinot.cc:292
+msgid "Couldn't create history database"
+msgstr "?????????"
+
+#. Add default labels
+#: UI/GTK2/src/PinotSettings.cpp:328
+msgid "Important"
+msgstr "???"
+
+#: UI/GTK2/src/PinotSettings.cpp:329
+msgid "New"
+msgstr "??"
+
+#: UI/GTK2/src/PinotSettings.cpp:330
+msgid "Personal"
+msgstr "????"
+
+#: UI/GTK2/src/PinotSettings.cpp:376
+msgid "Me"
+msgstr ""
+
+#: UI/GTK2/src/PinotSettings.cpp:1288
+msgid "Unclassified"
+msgstr "????"
+
+#: UI/GTK2/src/prefsDialog.cc:83
+msgid "Name"
+msgstr "??"
+
+#: UI/GTK2/src/prefsDialog.cc:91
+msgid "Monitor"
+msgstr "???"
+
+#: UI/GTK2/src/prefsDialog.cc:92
+msgid "Location"
+msgstr "??"
+
+#: UI/GTK2/src/prefsDialog.cc:100
+msgid "Pattern"
+msgstr "??"
+
+#: UI/GTK2/src/prefsDialog.cc:357
+msgid "Exclude these patterns from indexing"
+msgstr "?????????"
+
+#: UI/GTK2/src/prefsDialog.cc:358
+msgid "Only index these patterns"
+msgstr "????????????"
+
+#: UI/GTK2/src/prefsDialog.cc:478
+msgid "New Label"
+msgstr "????"
+
+#: UI/GTK2/src/prefsDialog.cc:519
+msgid "Directory to index"
+msgstr "?????"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:65
+msgid "Google API key:"
+msgstr "Google API key:"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:68
+msgid "New results:"
+msgstr "?????"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:69
+msgid "Queries:"
+msgstr "??"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:70
+msgid "Enable search terms suggestion"
+msgstr "???????"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:72
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "??robot.txt?meta??"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:73
+msgid "HTTP crawling:"
+msgstr "?????"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:76
+msgid "General"
+msgstr "???"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:78
+msgid "Direct connection to the Internet"
+msgstr "???????"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:79
+msgid "Manual proxy configuration:"
+msgstr "????proxy"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:92
+msgid "Network"
+msgstr "??"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:93
+msgid "Labels are used to classify indexed documents:"
+msgstr "??????????"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
+#: UI/GTK2/src/prefsDialog_glade.cc:134
+msgid "Add"
+msgstr "??"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:104
+msgid "Remove"
+msgstr "??"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "??"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:113
+msgid "These directories will be indexed and optionally monitored for changes:"
+msgstr "??????????????????????????"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:126
+#, fuzzy
+msgid "File patterns:"
+msgstr "?????"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:143
+msgid "Indexing"
+msgstr "??"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:506
+msgid "Preferences"
+msgstr "????"
+
+#: UI/GTK2/src/propertiesDialog.cc:105
+msgid "Per document"
+msgstr "????"
+
+#: UI/GTK2/src/propertiesDialog.cc:365
+#, fuzzy
+msgid "Export Terms"
+msgstr "????"
+
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
+msgid "Language:"
+msgstr "?? :"
+
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
+msgid "MIME type:"
+msgstr "MIME ???"
+
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
+msgid "Size:"
+msgstr "???"
+
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
+msgid "Terms:"
+msgstr "??"
+
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
+msgid "bytes"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:94
+msgid "Host name"
+msgstr "????"
+
+#: UI/GTK2/src/queryDialog.cc:95
+msgid "File name"
+msgstr "????"
+
+#: UI/GTK2/src/queryDialog.cc:96
+msgid "File extension"
+msgstr "???"
+
+#. This is the title column
+#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+msgid "Title"
+msgstr "??"
+
+#. URL
+#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+msgid "URL"
+msgstr "??"
+
+#: UI/GTK2/src/queryDialog.cc:99
+msgid "Directory"
+msgstr "??"
+
+#: UI/GTK2/src/queryDialog.cc:100
+msgid "Language code"
+msgstr "????"
+
+#: UI/GTK2/src/queryDialog.cc:101
+msgid "MIME type"
+msgstr "MIME ??"
+
+#: UI/GTK2/src/queryDialog.cc:102
+msgid "MIME class"
+msgstr "MIME class"
+
+#: UI/GTK2/src/queryDialog.cc:103
+msgid "Label"
+msgstr "??"
+
+#. The last column is for the timestamp
+#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+msgid "Date"
+msgstr "??"
+
+#: UI/GTK2/src/queryDialog.cc:107
+#, fuzzy
+msgid "Time"
+msgstr "??"
+
+#: UI/GTK2/src/queryDialog.cc:108
+#, fuzzy
+msgid "Size"
+msgstr "???"
+
+#. Sort order
+#: UI/GTK2/src/queryDialog.cc:112
+msgid "By relevance"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:113
+#, fuzzy
+msgid "By date"
+msgstr "??"
+
+#: UI/GTK2/src/queryDialog_glade.cc:71
+#, fuzzy
+msgid "New filter or range:"
+msgstr "????????"
+
+#: UI/GTK2/src/queryDialog_glade.cc:80
+msgid "Query Text"
+msgstr "????"
+
+#: UI/GTK2/src/queryDialog_glade.cc:82
+msgid "Index results with label"
+msgstr "??????????"
+
+#: UI/GTK2/src/queryDialog_glade.cc:85
+msgid "Number of results:"
+msgstr "????"
+
+#: UI/GTK2/src/queryDialog_glade.cc:89
+msgid "Sort order:"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:93
+msgid "Stemming:"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:201
+msgid "Query parameters"
+msgstr "?????"
+
+#. This is the score column
+#: UI/GTK2/src/ResultsTree.cpp:121
+msgid "Score"
+msgstr "??"
+
+#: UI/GTK2/src/ResultsTree.cpp:179
+msgid "Extract"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:76
+msgid "Indexes"
+msgstr "??"
+
+#: UI/GTK2/src/statisticsDialog.cc:109
+msgid "Daemon"
+msgstr "????"
+
+#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
+msgid "documents"
+msgstr "??"
+
+#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "???????"
+
+#: UI/GTK2/src/statisticsDialog.cc:176
+msgid "Viewed"
+msgstr "????"
+
+#: UI/GTK2/src/statisticsDialog.cc:176
+msgid "results"
+msgstr "??"
+
+#: UI/GTK2/src/statisticsDialog.cc:182
+msgid "Crawled"
+msgstr "????"
+
+#: UI/GTK2/src/statisticsDialog.cc:182
+msgid "files"
+msgstr "??"
+
+#. FIXME: check whether it's actually running !
+#: UI/GTK2/src/statisticsDialog.cc:199
+msgid "Running under PID"
+msgstr "?????????"
+
+#: UI/GTK2/src/statisticsDialog.cc:205
+msgid "Disconnected from D-Bus"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:209
+msgid "Stopped"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:213
+msgid "Currently not running"
+msgstr "??????"
+
+#: UI/GTK2/src/statisticsDialog.cc:243
+msgid "Errors"
+msgstr "??"
+
+#: UI/GTK2/src/WorkerThreads.cpp:92
+#, fuzzy
+msgid "Index error"
+msgstr "?????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:94
+#, fuzzy
+msgid "Couldn't index document"
+msgstr "?????????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:96
+msgid "Couldn't update document"
+msgstr "??????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:98
+msgid "Couldn't unindex document(s)"
+msgstr "?????????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:100
+msgid "Couldn't run query on search engine"
+msgstr "??????????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:102
+#, fuzzy
+msgid "Couldn't get history for search engine"
+msgstr "??????????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:104
+#, fuzzy
+msgid "Couldn't retrieve document"
+msgstr "??????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:106
+msgid "File monitor error"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:108
+#, fuzzy
+msgid "Couldn't open directory"
+msgstr "??????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:110
+#, fuzzy
+msgid "Index doesn't exist"
+msgstr "???"
+
+#: UI/GTK2/src/WorkerThreads.cpp:112
+msgid "Couldn't create search engine"
+msgstr "????????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:114
+msgid "Cannot index document type"
+msgstr "????????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:116
+msgid "No downloader for this protocol"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:118
+msgid "Robots META tag forbids indexing"
+msgstr "Robots?meta???????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:120
+msgid "No monitoring handler"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:418
+msgid "Indexing was stopped"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:431
+msgid "Can't index mail here"
+msgstr "??????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:707
+msgid "is already being indexed"
+msgstr "??????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:462
+msgid "is blacklisted"
+msgstr "?????"
+
+#: UI/GTK2/src/WorkerThreads.cpp:984
+msgid "No title"
+msgstr "???"



From fabricecolin at mail.berlios.de  Mon Mar 24 09:07:50 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 24 Mar 2008 09:07:50 +0100
Subject: [Pinot-svn] r1216 - trunk/IndexSearch
Message-ID: <200803240807.m2O87oVx003831@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-24 09:07:50 +0100 (Mon, 24 Mar 2008)
New Revision: 1216

Modified:
   trunk/IndexSearch/PluginWebEngine.cpp
Log:
Ensure scroll-by parameters are not empty before appending them to the URL.


Modified: trunk/IndexSearch/PluginWebEngine.cpp
===================================================================
--- trunk/IndexSearch/PluginWebEngine.cpp	2008-03-24 07:19:54 UTC (rev 1215)
+++ trunk/IndexSearch/PluginWebEngine.cpp	2008-03-24 08:07:50 UTC (rev 1216)
@@ -271,7 +271,8 @@
 		if (m_properties.m_scrolling == SearchPluginProperties::PER_INDEX)
 		{
 			paramIter = m_properties.m_parameters.find(SearchPluginProperties::COUNT_PARAM);
-			if (paramIter != m_properties.m_parameters.end())
+			if ((paramIter != m_properties.m_parameters.end()) &&
+				(paramIter->second.empty() == false))
 			{
 				// Number of results requested
 				pageQuery += "&";
@@ -282,7 +283,8 @@
 			}
 
 			paramIter = m_properties.m_parameters.find(SearchPluginProperties::START_INDEX_PARAM);
-			if (paramIter != m_properties.m_parameters.end())
+			if ((paramIter != m_properties.m_parameters.end()) &&
+				(paramIter->second.empty() == false))
 			{
 				// The offset of the first result (typically 1 or 0)
 				pageQuery += "&";
@@ -295,7 +297,8 @@
 		else
 		{
 			paramIter = m_properties.m_parameters.find(SearchPluginProperties::START_PAGE_PARAM);
-			if (paramIter != m_properties.m_parameters.end())
+			if ((paramIter != m_properties.m_parameters.end()) &&
+				(paramIter->second.empty() == false))
 			{
 				// The offset of the page
 				pageQuery += "&";



From fabricecolin at mail.berlios.de  Mon Mar 24 09:08:36 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 24 Mar 2008 09:08:36 +0100
Subject: [Pinot-svn] r1217 - trunk/IndexSearch/Plugins
Message-ID: <200803240808.m2O88a8T003864@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-24 09:08:36 +0100 (Mon, 24 Mar 2008)
New Revision: 1217

Added:
   trunk/IndexSearch/Plugins/UNData.src
Log:
A plugin for UNdata.


Added: trunk/IndexSearch/Plugins/UNData.src
===================================================================
--- trunk/IndexSearch/Plugins/UNData.src	2008-03-24 08:07:50 UTC (rev 1216)
+++ trunk/IndexSearch/Plugins/UNData.src	2008-03-24 08:08:36 UTC (rev 1217)
@@ -0,0 +1,17 @@
+<search 
+   name="UNdata"
+   description="UNdata"
+   method="GET"
+   action="http://data.un.org/Search.aspx"
+   routeType="Research"
+>
+
+<input name="q" user>
+
+<interpret 
+    resultListStart='' 
+    resultListEnd=''
+    resultItemStart='<div class="Result">' 
+    resultItemEnd="</div>"
+>
+</search>


Property changes on: trunk/IndexSearch/Plugins/UNData.src
___________________________________________________________________
Name: svn:executable
   + *



From fabricecolin at mail.berlios.de  Wed Mar 26 04:05:41 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Wed, 26 Mar 2008 04:05:41 +0100
Subject: [Pinot-svn] r1218 - in trunk: IndexSearch UI/GTK2 UI/GTK2/src
Message-ID: <200803260305.m2Q35fvT012655@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-26 04:05:37 +0100 (Wed, 26 Mar 2008)
New Revision: 1218

Modified:
   trunk/IndexSearch/QueryProperties.cpp
   trunk/IndexSearch/QueryProperties.h
   trunk/UI/GTK2/metase-gtk2.glade
   trunk/UI/GTK2/src/PinotSettings.cpp
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/queryDialog.cc
   trunk/UI/GTK2/src/queryDialog.hh
   trunk/UI/GTK2/src/queryDialog_glade.cc
   trunk/UI/GTK2/src/queryDialog_glade.hh
Log:
Queries can now index only new results.


Modified: trunk/IndexSearch/QueryProperties.cpp
===================================================================
--- trunk/IndexSearch/QueryProperties.cpp	2008-03-24 08:08:36 UTC (rev 1217)
+++ trunk/IndexSearch/QueryProperties.cpp	2008-03-26 03:05:37 UTC (rev 1218)
@@ -29,7 +29,7 @@
 	m_type(XAPIAN_QP),
 	m_order(RELEVANCE),
 	m_resultsCount(10),
-	m_indexResults(false),
+	m_indexResults(NOTHING),
 	m_modified(false)
 {
 }
@@ -41,7 +41,7 @@
 	m_order(RELEVANCE),
 	m_freeQuery(freeQuery),
 	m_resultsCount(10),
-	m_indexResults(false),
+	m_indexResults(NOTHING),
 	m_modified(false)
 {
 	removeFilters();
@@ -224,13 +224,13 @@
 }
 
 /// Sets whether results should be indexed.
-void QueryProperties::setIndexResults(bool index)
+void QueryProperties::setIndexResults(IndexWhat indexResults)
 {
-	m_indexResults = index;
+	m_indexResults = indexResults;
 }
 
 /// Gets whether results should be indexed
-bool QueryProperties::getIndexResults(void) const
+QueryProperties::IndexWhat QueryProperties::getIndexResults(void) const
 {
 	return m_indexResults;
 }

Modified: trunk/IndexSearch/QueryProperties.h
===================================================================
--- trunk/IndexSearch/QueryProperties.h	2008-03-24 08:08:36 UTC (rev 1217)
+++ trunk/IndexSearch/QueryProperties.h	2008-03-26 03:05:37 UTC (rev 1218)
@@ -30,6 +30,7 @@
 	public:
 		typedef enum { XAPIAN_QP = 0, XESAM_QL, XESAM_UL } QueryType;
 		typedef enum { RELEVANCE = 0, DATE } SortOrder;
+		typedef enum { NOTHING = 0, ALL_RESULTS, NEW_RESULTS } IndexWhat;
 
 		QueryProperties();
 		QueryProperties(const string &name, const string &freeQuery,
@@ -72,9 +73,9 @@
 		unsigned int getMaximumResultsCount(void) const;
 
 		/// Sets whether results should be indexed.
-		void setIndexResults(bool index);
+		void setIndexResults(IndexWhat indexResults);
 		/// Gets whether results should be indexed
-		bool getIndexResults(void) const;
+		IndexWhat getIndexResults(void) const;
 
 		/// Sets the name of the label to use for indexed documents.
 		void setLabelName(const string &labelName);
@@ -100,7 +101,7 @@
 		string m_freeQuery;
 		string m_freeQueryWithoutFilters;
 		unsigned int m_resultsCount;
-		bool m_indexResults;
+		IndexWhat m_indexResults;
 		string m_labelName;
 		bool m_modified;
 

Modified: trunk/UI/GTK2/metase-gtk2.glade
===================================================================
--- trunk/UI/GTK2/metase-gtk2.glade	2008-03-24 08:08:36 UTC (rev 1217)
+++ trunk/UI/GTK2/metase-gtk2.glade	2008-03-26 03:05:37 UTC (rev 1218)
@@ -2505,7 +2505,7 @@
 	  <child>
 	    <widget class="GtkTable" id="actionsTable">
 	      <property name="visible">True</property>
-	      <property name="n_rows">4</property>
+	      <property name="n_rows">5</property>
 	      <property name="n_columns">2</property>
 	      <property name="homogeneous">False</property>
 	      <property name="row_spacing">0</property>
@@ -2523,6 +2523,7 @@
 		  <property name="active">False</property>
 		  <property name="inconsistent">False</property>
 		  <property name="draw_indicator">True</property>
+		  <signal name="toggled" handler="on_indexCheckbutton_toggled" last_modification_time="Tue, 25 Mar 2008 14:32:48 GMT"/>
 		</widget>
 		<packing>
 		  <property name="left_attach">0</property>
@@ -2703,6 +2704,31 @@
 		  <property name="y_options">fill</property>
 		</packing>
 	      </child>
+
+	      <child>
+		<widget class="GtkCheckButton" id="indexNewCheckbutton">
+		  <property agent="glademm" name="cxx_visibility">protected</property>
+		  <property name="visible">True</property>
+		  <property name="can_focus">True</property>
+		  <property name="label" translatable="yes">Only index new results</property>
+		  <property name="use_underline">True</property>
+		  <property name="relief">GTK_RELIEF_NORMAL</property>
+		  <property name="focus_on_click">True</property>
+		  <property name="active">False</property>
+		  <property name="inconsistent">False</property>
+		  <property name="draw_indicator">True</property>
+		</widget>
+		<packing>
+		  <property name="left_attach">0</property>
+		  <property name="right_attach">1</property>
+		  <property name="top_attach">4</property>
+		  <property name="bottom_attach">5</property>
+		  <property name="x_padding">4</property>
+		  <property name="y_padding">4</property>
+		  <property name="x_options">fill</property>
+		  <property name="y_options">fill</property>
+		</packing>
+	      </child>
 	    </widget>
 	    <packing>
 	      <property name="padding">0</property>

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2008-03-24 08:08:36 UTC (rev 1217)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2008-03-26 03:05:37 UTC (rev 1218)
@@ -856,13 +856,17 @@
 		}
 		else if (nodeName == "index")
 		{
-			if (nodeContent == "ALL")
+			if (nodeContent == "NEW")
 			{
-				queryProps.setIndexResults(true);
+				queryProps.setIndexResults(QueryProperties::NEW_RESULTS);
 			}
+			else if (nodeContent == "ALL")
+			{
+				queryProps.setIndexResults(QueryProperties::ALL_RESULTS);
+			}
 			else
 			{
-				queryProps.setIndexResults(false);
+				queryProps.setIndexResults(QueryProperties::NOTHING);
 			}
 		}
 		else if (nodeName == "label")
@@ -1363,7 +1367,19 @@
 			addChildElement(pElem, "stemlanguage", Languages::toEnglish(queryIter->second.getStemmingLanguage()));
 			snprintf(numStr, 64, "%u", queryIter->second.getMaximumResultsCount());
 			addChildElement(pElem, "maxresults", numStr);
-			addChildElement(pElem, "index", (queryIter->second.getIndexResults() ? "ALL" : "NONE"));
+			QueryProperties::IndexWhat indexResults = queryIter->second.getIndexResults();
+			if (indexResults == QueryProperties::NEW_RESULTS)
+			{
+				addChildElement(pElem, "index", "NEW");
+			}
+			else if (indexResults == QueryProperties::ALL_RESULTS)
+			{
+				addChildElement(pElem, "index", "ALL");
+			}
+			else
+			{
+				addChildElement(pElem, "index", "NONE");
+			}
 			addChildElement(pElem, "label", queryIter->second.getLabelName());
 			addChildElement(pElem, "modified", (queryIter->second.getModified() ? "YES" : "NO"));
 		}

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2008-03-24 08:08:36 UTC (rev 1217)
+++ trunk/UI/GTK2/src/mainWindow.cc	2008-03-26 03:05:37 UTC (rev 1218)
@@ -1122,6 +1122,15 @@
 		{
 			m_state.m_browsingIndex = false;
 		}
+		else if (type == "IndexingThread")
+		{
+			IndexingThread *pIndexThread = dynamic_cast<IndexingThread *>(pThread);
+			if (pIndexThread != NULL)
+			{
+				// Get the URL we failed to index
+				indexedUrl = pIndexThread->getURL();
+			}
+		}
 	}
 	// Based on type, take the appropriate action...
 	else if (type == "ListerThread")
@@ -1182,7 +1191,7 @@
 	}
 	else if (type == "QueryingThread")
 	{
-		std::map<string, TreeModel::iterator> updatedGroups;
+		set<DocumentInfo> docsToIndex;
 		int pageNum = -1;
 
 		QueryingThread *pQueryThread = dynamic_cast<QueryingThread *>(pThread);
@@ -1192,13 +1201,21 @@
 			return;
 		}
 
-		bool wasCorrected;
+		bool wasCorrected = false;
 		QueryProperties queryProps(pQueryThread->getQuery(wasCorrected));
 		ustring queryName(queryProps.getName());
+		string labelName(queryProps.getLabelName());
 		ustring engineName(to_utf8(pQueryThread->getEngineName()));
 		string resultsCharset(pQueryThread->getCharset());
+		set<string> labels;
 		const vector<DocumentInfo> &resultsList = pQueryThread->getDocuments();
 
+		// These are the labels that need to be applied to results
+		if (labelName.empty() == false)
+		{
+			labels.insert(labelName);
+		}
+
 		status = _("Query");
 		status += " ";
 		status += queryName;
@@ -1210,6 +1227,78 @@
 		status += _("ended");
 		set_status(status);
 
+		// Suggest the correction to the user
+		if (wasCorrected == true)
+		{
+			ustring correctedQueryName(_("Corrected"));
+
+			if (queryName.empty() == true)
+			{
+				correctedQueryName += "...";
+			}
+			else
+			{
+				correctedQueryName += " ";
+				correctedQueryName += queryName;
+			}
+			queryProps.setName(correctedQueryName);
+			queryProps.setModified(true);
+
+			add_query(queryProps, true);
+		}
+
+		// Index results ?
+		QueryProperties::IndexWhat indexResults = queryProps.getIndexResults();
+		if ((indexResults != QueryProperties::NOTHING) &&
+			(resultsList.empty() == false))
+		{
+			QueryHistory queryHistory(m_settings.getHistoryDatabaseName());
+			set<unsigned int> docsIds, daemonIds;
+
+			for (vector<DocumentInfo>::const_iterator resultIter = resultsList.begin();
+				resultIter != resultsList.end(); ++resultIter)
+			{
+				unsigned int indexId = 0;
+				unsigned int docId = resultIter->getIsIndexed(indexId);
+				float oldestScore = 0;
+				bool isNewResult = false;
+
+				// Is this a new result or a new query's result ?
+				if (queryHistory.hasItem(queryName, engineName, resultIter->getLocation(), oldestScore) <= 0)
+				{
+#ifdef DEBUG
+					cout << "mainWindow::on_thread_end: new result " << resultIter->getLocation() << endl;
+#endif
+					isNewResult = true;
+				}
+				
+				if ((docId == 0) &&
+					((indexResults == QueryProperties::ALL_RESULTS) || (isNewResult == true)))
+				{
+					// This document is not in either index
+					docsToIndex.insert(*resultIter);
+				}
+				else if (labels.empty() == false)
+				{
+					if (indexId == m_settings.getIndexIdByName(_("My Web Pages")))
+					{
+						docsIds.insert(docId);
+					}
+					else if (indexId == m_settings.getIndexIdByName(_("My Documents")))
+					{
+						daemonIds.insert(docId);
+					}
+				}
+			}
+
+			if ((docsIds.empty() == false) ||
+				(daemonIds.empty() == false))
+			{
+				// Apply the new label to existing documents
+				start_thread(new LabelUpdateThread(labels, docsIds, daemonIds, false));
+			}
+		}
+
 		// Find the page for this query
 		ResultsTree *pResultsTree = NULL;
 		ResultsPage *pResultsPage = dynamic_cast<ResultsPage*>(get_page(queryName, NotebookPageBox::RESULTS_PAGE));
@@ -1270,85 +1359,18 @@
 				resultsCharset, pQueryThread->isLive());
 		}
 
-		// Suggest the correction to the user
-		if (wasCorrected == true)
+		// Now that results are displayed, go ahead and index documents
+		for (set<DocumentInfo>::const_iterator docIter = docsToIndex.begin();
+			docIter != docsToIndex.end(); ++docIter)
 		{
-			ustring correctedQueryName(_("Corrected"));
+			DocumentInfo docInfo(*docIter);
 
-			if (queryName.empty() == true)
-			{
-				correctedQueryName += "...";
-			}
-			else
-			{
-				correctedQueryName += " ";
-				correctedQueryName += queryName;
-			}
-			queryProps.setName(correctedQueryName);
-			queryProps.setModified(true);
-
-			add_query(queryProps, true);
-		}
-
-		// Index results ?
-		if ((queryProps.getIndexResults() == true) &&
-			(resultsList.empty() == false))
-		{
-			set<string> labels;
-			set<unsigned int> docsIds, daemonIds;
-			string labelName(queryProps.getLabelName());
-
-			// Set the list of labels
-			if (labelName.empty() == false)
-			{
-				labels.insert(labelName);
-			}
-
+			// Set/reset labels
+			docInfo.setLabels(labels);
 #ifdef DEBUG
-			cout << "mainWindow::on_thread_end: indexing results, with label " << labelName << endl;
+			cout << "mainWindow::on_thread_end: indexing results with label " << labelName << endl;
 #endif
-			for (vector<DocumentInfo>::const_iterator resultIter = resultsList.begin();
-				resultIter != resultsList.end(); ++resultIter)
-			{
-				unsigned int indexId;
-				unsigned int docId = resultIter->getIsIndexed(indexId);
-
-				if (docId == 0)
-				{
-					DocumentInfo docInfo(*resultIter);
-
-					// Set/reset labels
-					docInfo.setLabels(labels);
-
-					// This document is not in either index
-					m_state.queue_index(docInfo);
-				}
-				else if (indexId == m_settings.getIndexIdByName(_("My Web Pages")))
-				{
-					if (labelName.empty() == false)
-					{
-						docsIds.insert(docId);
-					}
-				}
-				else if (indexId == m_settings.getIndexIdByName(_("My Documents")))
-				{
-					if (labelName.empty() == false)
-					{
-						daemonIds.insert(docId);
-					}
-				}
-			}
-
-			if ((labelName.empty() == false) &&
-				((docsIds.empty() == false) ||
-				(daemonIds.empty() == false)))
-			{
-				set<string> labels;
-
-				// Apply the new label to existing documents
-				labels.insert(labelName);
-				start_thread(new LabelUpdateThread(labels, docsIds, daemonIds, false));
-			}
+			m_state.queue_index(docInfo);
 		}
 	}
 	else if (type == "ExpandQueryThread")

Modified: trunk/UI/GTK2/src/queryDialog.cc
===================================================================
--- trunk/UI/GTK2/src/queryDialog.cc	2008-03-24 08:08:36 UTC (rev 1217)
+++ trunk/UI/GTK2/src/queryDialog.cc	2008-03-26 03:05:37 UTC (rev 1218)
@@ -55,8 +55,24 @@
 	}
 	// Maximum number of results
 	resultsCountSpinbutton->set_value((double)m_properties.getMaximumResultsCount());
-	// Index all results
-	indexCheckbutton->set_active(m_properties.getIndexResults());
+	// Index results
+	QueryProperties::IndexWhat indexResults = m_properties.getIndexResults();
+	if (indexResults == QueryProperties::NEW_RESULTS)
+	{
+		indexCheckbutton->set_active(true);
+		indexNewCheckbutton->set_active(true);
+	}
+	else if (indexResults == QueryProperties::ALL_RESULTS)
+	{
+		indexCheckbutton->set_active(true);
+		indexNewCheckbutton->set_active(false);
+	}
+	else
+	{
+		indexCheckbutton->set_active(false);
+		indexNewCheckbutton->set_active(false);
+		indexNewCheckbutton->set_sensitive(false);
+	}
 
 	// Populate
 	populate_comboboxes();
@@ -209,8 +225,24 @@
 		languageName.clear();
 	}
 	m_properties.setStemmingLanguage(languageName);
-	// Index all results
-	m_properties.setIndexResults(indexCheckbutton->get_active());
+	// Index results
+	bool indexResults = indexCheckbutton->get_active();
+	bool indexNewResults = indexNewCheckbutton->get_active();
+	if ((indexResults == true) &&
+		(indexNewResults == true))
+	{
+		m_properties.setIndexResults(QueryProperties::NEW_RESULTS);
+	}
+	else if ((indexResults == true) &&
+		(indexNewResults == false))
+	{
+		m_properties.setIndexResults(QueryProperties::ALL_RESULTS);
+	}
+	else
+	{
+		m_properties.setIndexResults(QueryProperties::NOTHING);
+	}
+
 	// Index label
 	m_properties.setLabelName("");
 	int chosenLabel = labelNameCombobox->get_active_row_number();
@@ -302,3 +334,16 @@
 	}
 }
 
+void queryDialog::on_indexCheckbutton_toggled()
+{
+	if (indexCheckbutton->get_active() == false)
+	{
+		indexNewCheckbutton->set_active(false);
+		indexNewCheckbutton->set_sensitive(false);
+	}
+	else
+	{
+		indexNewCheckbutton->set_sensitive(true);
+	}
+}
+

Modified: trunk/UI/GTK2/src/queryDialog.hh
===================================================================
--- trunk/UI/GTK2/src/queryDialog.hh	2008-03-24 08:08:36 UTC (rev 1217)
+++ trunk/UI/GTK2/src/queryDialog.hh	2008-03-26 03:05:37 UTC (rev 1218)
@@ -47,6 +47,7 @@
 	virtual void on_queryOkbutton_clicked();
 	virtual void on_nameEntry_changed();
 	virtual void on_addFilterButton_clicked();
+	virtual void on_indexCheckbutton_toggled();
 
 };
 #endif

Modified: trunk/UI/GTK2/src/queryDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/queryDialog_glade.cc	2008-03-24 08:08:36 UTC (rev 1217)
+++ trunk/UI/GTK2/src/queryDialog_glade.cc	2008-03-26 03:05:37 UTC (rev 1218)
@@ -1,9 +1,9 @@
-// generated 2007/12/23 10:48:41 CET by fabrice at thorgrim.dyndns.org.(none)
+// generated 2008/3/25 22:20:46 SGT by fabrice at amra.dyndns.org.(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.12.3 and gtkmm 2.12.3
+// for gtk 2.12.5 and gtkmm 2.12.3
 //
 // Please modify the corresponding derived classes in ./src/queryDialog.cc
 
@@ -91,6 +91,8 @@
    stemmingCombobox = Gtk::manage(new class Gtk::ComboBoxText());
    
    Gtk::Label *stemmingLabel = Gtk::manage(new class Gtk::Label(_("Stemming:")));
+   indexNewCheckbutton = Gtk::manage(new class Gtk::CheckButton(_("Only index new results")));
+   
    Gtk::Table *actionsTable = Gtk::manage(new class Gtk::Table(2, 2, false));
    Gtk::VBox *queryVbox = Gtk::manage(new class Gtk::VBox(false, 0));
    queryCancelbutton->set_flags(Gtk::CAN_FOCUS);
@@ -181,6 +183,10 @@
    stemmingLabel->set_line_wrap(false);
    stemmingLabel->set_use_markup(false);
    stemmingLabel->set_selectable(false);
+   indexNewCheckbutton->set_flags(Gtk::CAN_FOCUS);
+   indexNewCheckbutton->set_relief(Gtk::RELIEF_NORMAL);
+   indexNewCheckbutton->set_mode(true);
+   indexNewCheckbutton->set_active(false);
    actionsTable->set_row_spacings(0);
    actionsTable->set_col_spacings(0);
    actionsTable->attach(*indexCheckbutton, 0, 1, 3, 4, Gtk::FILL, Gtk::FILL, 4, 4);
@@ -191,6 +197,7 @@
    actionsTable->attach(*sortOrderCombobox, 1, 2, 1, 2, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
    actionsTable->attach(*stemmingCombobox, 1, 2, 2, 3, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
    actionsTable->attach(*stemmingLabel, 0, 1, 2, 3, Gtk::FILL, Gtk::FILL, 4, 4);
+   actionsTable->attach(*indexNewCheckbutton, 0, 1, 4, 5, Gtk::FILL, Gtk::FILL, 4, 4);
    queryVbox->pack_start(*nameTable, Gtk::PACK_SHRINK, 0);
    queryVbox->pack_start(*queryHbox, Gtk::PACK_SHRINK, 0);
    queryVbox->pack_start(*queryFrame, Gtk::PACK_EXPAND_WIDGET, 4);
@@ -228,12 +235,14 @@
    sortOrderCombobox->show();
    stemmingCombobox->show();
    stemmingLabel->show();
+   indexNewCheckbutton->show();
    actionsTable->show();
    queryVbox->show();
    queryDialog->show();
    queryOkbutton->signal_clicked().connect(sigc::mem_fun(*this, &queryDialog_glade::on_queryOkbutton_clicked), false);
    nameEntry->signal_changed().connect(sigc::mem_fun(*this, &queryDialog_glade::on_nameEntry_changed), false);
    addFilterButton->signal_clicked().connect(sigc::mem_fun(*this, &queryDialog_glade::on_addFilterButton_clicked), false);
+   indexCheckbutton->signal_toggled().connect(sigc::mem_fun(*this, &queryDialog_glade::on_indexCheckbutton_toggled), false);
 }
 
 queryDialog_glade::~queryDialog_glade()

Modified: trunk/UI/GTK2/src/queryDialog_glade.hh
===================================================================
--- trunk/UI/GTK2/src/queryDialog_glade.hh	2008-03-24 08:08:36 UTC (rev 1217)
+++ trunk/UI/GTK2/src/queryDialog_glade.hh	2008-03-26 03:05:37 UTC (rev 1218)
@@ -1,9 +1,9 @@
-// generated 2007/12/23 10:48:41 CET by fabrice at thorgrim.dyndns.org.(none)
+// generated 2008/3/25 22:20:46 SGT by fabrice at amra.dyndns.org.(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.12.3 and gtkmm 2.12.3
+// for gtk 2.12.5 and gtkmm 2.12.3
 //
 // Please modify the corresponding derived classes in ./src/queryDialog.hh and./src/queryDialog.cc
 
@@ -55,6 +55,7 @@
         class Gtk::SpinButton * resultsCountSpinbutton;
         class Gtk::ComboBoxText * sortOrderCombobox;
         class Gtk::ComboBoxText * stemmingCombobox;
+        class Gtk::CheckButton * indexNewCheckbutton;
         
         queryDialog_glade();
         
@@ -63,5 +64,6 @@
         virtual void on_queryOkbutton_clicked() = 0;
         virtual void on_nameEntry_changed() = 0;
         virtual void on_addFilterButton_clicked() = 0;
+        virtual void on_indexCheckbutton_toggled() = 0;
 };
 #endif



From fabricecolin at mail.berlios.de  Wed Mar 26 07:11:17 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Wed, 26 Mar 2008 07:11:17 +0100
Subject: [Pinot-svn] r1219 - trunk/UI/GTK2/src
Message-ID: <200803260611.m2Q6BHm9002254@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-26 07:11:14 +0100 (Wed, 26 Mar 2008)
New Revision: 1219

Modified:
   trunk/UI/GTK2/src/pinot-dbus-daemon.cc
Log:
Ignore the index version number, i.e. don't force an upgrade if it's lower than
what was expected, if -i/--ignore-version is passed as parameter.
This is useful when ~/.pinot/daemon was compacted with xapian-compact 1.0.6,
which unlike previous releases, doesn't bail out on index metadata, but fails
to carry metadata over to the compacted database.


Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.cc
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2008-03-26 03:05:37 UTC (rev 1218)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2008-03-26 06:11:14 UTC (rev 1219)
@@ -58,6 +58,7 @@
 static struct option g_longOptions[] = {
 	{"fullscan", 0, 0, 'f'},
 	{"help", 0, 0, 'h'},
+	{"ignore-version", 0, 0, 'i'},
 	{"priority", 1, 0, 'p'},
 	{"reindex", 0, 0, 'r'},
 	{"version", 0, 0, 'v'},
@@ -271,9 +272,10 @@
 	bool resetLabels = false;
 	bool fullScan = false;
 	bool reindex = false;
+	bool ignoreVersion = false;
 
 	// Look at the options
-	int optionChar = getopt_long(argc, argv, "fhp:rv", g_longOptions, &longOptionIndex);
+	int optionChar = getopt_long(argc, argv, "fhip:rv", g_longOptions, &longOptionIndex);
 	while (optionChar != -1)
 	{
 		switch (optionChar)
@@ -288,11 +290,15 @@
 					<< "Options:\n"
 					<< "  -f, --fullscan	force a full scan\n"
 					<< "  -h, --help		display this help and exit\n"
+					<< "  -i, --ignore-version	ignore the index version number\n"
 					<< "  -p, --priority	set the daemon's priority (default 15)\n"
 					<< "  -r, --reindex		force a reindex\n"
 					<< "  -v, --version		output version information and exit\n"
 					<< "\nReport bugs to " << PACKAGE_BUGREPORT << endl;
 				return EXIT_SUCCESS;
+			case 'i':
+				ignoreVersion = true;
+				break;
 			case 'p':
 				if (optarg != NULL)
 				{
@@ -318,7 +324,7 @@
 		}
 
 		// Next option
-		optionChar = getopt_long(argc, argv, "fhp:rv", g_longOptions, &longOptionIndex);
+		optionChar = getopt_long(argc, argv, "fhip:rv", g_longOptions, &longOptionIndex);
 	}
 
 #if defined(ENABLE_NLS)
@@ -574,7 +580,8 @@
 				{
 					indexVersion = "0.0";
 				}
-				if (indexVersion < PINOT_INDEX_MIN_VERSION)
+				if ((ignoreVersion == false) &&
+					(indexVersion < PINOT_INDEX_MIN_VERSION))
 				{
 					cout << "Upgrading index from version " << indexVersion << " to " << VERSION << endl;
 



From fabricecolin at mail.berlios.de  Wed Mar 26 07:24:06 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Wed, 26 Mar 2008 07:24:06 +0100
Subject: [Pinot-svn] r1220 - trunk
Message-ID: <200803260624.m2Q6O6AE010468@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-26 07:24:03 +0100 (Wed, 26 Mar 2008)
New Revision: 1220

Modified:
   trunk/FAQ
Log:
New FAQ entry about how to compact the index.


Modified: trunk/FAQ
===================================================================
--- trunk/FAQ	2008-03-26 06:11:14 UTC (rev 1219)
+++ trunk/FAQ	2008-03-26 06:24:03 UTC (rev 1220)
@@ -1,3 +1,18 @@
+  * The index is huuuuge ! How can I make it smaller ?
+    The format of Xapian indexes is optimized for writing. Once all documents
+    have been indexed, compacting the index may reduce its size quite
+    significantly. If you have Xapian >= 1.0.6, xapian-compact will let you do
+    that. Stop the daemon and run the following commands :
+     $ mv ~/.pinot/daemon ~/.pinot/backup-daemon
+     $ xapian-compact ~/.pinot/backup-daemon ~/.pinot/daemon
+    This may take a little while. Once xapian-compact has completed, restart
+    the daemon with :
+     $ pinot-dbus-daemon -i
+    The -i parameter instructs the daemon to ignore the index version number,
+    which may not have been set in the compacted index.
+    You may also want to disable support for spelling. See the README for more
+    details.
+
   * At startup, when listing an index or indexing documents, Pinot complains
     of an "index error"
     This is likely because a previous instance didn't exit properly and one



From fabricecolin at mail.berlios.de  Thu Mar 27 03:00:43 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 27 Mar 2008 03:00:43 +0100
Subject: [Pinot-svn] r1221 - trunk/po
Message-ID: <200803270200.m2R20hqY012619@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-27 03:00:36 +0100 (Thu, 27 Mar 2008)
New Revision: 1221

Modified:
   trunk/po/de.po
   trunk/po/es.po
   trunk/po/fr.po
   trunk/po/it.po
   trunk/po/nl.po
   trunk/po/pt.po
   trunk/po/pt_BR.po
   trunk/po/ru.po
   trunk/po/sv.po
   trunk/po/zh_CN.po
   trunk/po/zh_TW.po
Log:
Translations updates.


Modified: trunk/po/de.po
===================================================================
--- trunk/po/de.po	2008-03-26 06:24:03 UTC (rev 1220)
+++ trunk/po/de.po	2008-03-27 02:00:36 UTC (rev 1221)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.83\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-27 23:50+0800\n"
+"POT-Creation-Date: 2008-03-26 14:43+0800\n"
 "PO-Revision-Date: 2008-01-15 00:16+0000\n"
 "Last-Translator: Christian Dywan <christian at twotoasts.de>\n"
 "Language-Team: German <de at li.org>\n"
@@ -28,22 +28,22 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
-#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
-#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
-#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1010
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:760
+#: UI/GTK2/src/mainWindow.cc:984 UI/GTK2/src/mainWindow.cc:1283
+#: UI/GTK2/src/mainWindow.cc:1504 UI/GTK2/src/mainWindow.cc:1540
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:2273
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1470
+#: UI/GTK2/src/PinotSettings.cpp:1526 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:998
 msgid "My Web Pages"
 msgstr "Meine Webseiten"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
-#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
-#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
-#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:763
+#: UI/GTK2/src/mainWindow.cc:978 UI/GTK2/src/mainWindow.cc:1287
+#: UI/GTK2/src/mainWindow.cc:2277 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1471 UI/GTK2/src/PinotSettings.cpp:1527
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1008
 msgid "My Documents"
 msgstr "Meine Dokumente"
 
@@ -89,8 +89,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
-#: UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Keine"
 
@@ -202,206 +202,206 @@
 msgid "Update"
 msgstr "Aktualisieren"
 
-#: UI/GTK2/src/mainWindow.cc:322
+#: UI/GTK2/src/mainWindow.cc:314
 msgid "N/A"
 msgstr "N/V"
 
-#: UI/GTK2/src/mainWindow.cc:337
+#: UI/GTK2/src/mainWindow.cc:329
 msgid "Undefined"
 msgstr "Unbestimmt"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+#: UI/GTK2/src/mainWindow.cc:552 UI/GTK2/src/mainWindow.cc:2662
 msgid "Live query"
 msgstr ""
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:700
+#: UI/GTK2/src/mainWindow.cc:692
 msgid "Result location is"
 msgstr ""
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:782
+#: UI/GTK2/src/mainWindow.cc:774
 msgid "Document location is"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+#: UI/GTK2/src/mainWindow.cc:960 UI/GTK2/src/mainWindow.cc:2098
 msgid "Couldn't find query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:982
+#: UI/GTK2/src/mainWindow.cc:974
 #, fuzzy
 msgid "In Results"
 msgstr "Ergebnisse"
 
-#: UI/GTK2/src/mainWindow.cc:1166
+#: UI/GTK2/src/mainWindow.cc:1167
 #, fuzzy
 msgid "Showing"
 msgstr "Zeigen"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1172
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "documents, starting at"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1210
+#: UI/GTK2/src/mainWindow.cc:1219
 msgid "Query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+#: UI/GTK2/src/mainWindow.cc:1223 UI/GTK2/src/mainWindow.cc:3259
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1218
+#: UI/GTK2/src/mainWindow.cc:1227
 msgid "ended"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1284
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1373
+#: UI/GTK2/src/mainWindow.cc:1387
 msgid "More Like"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1416
+#: UI/GTK2/src/mainWindow.cc:1430
 msgid "Updated label(s)"
 msgstr ""
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+#: UI/GTK2/src/mainWindow.cc:1514 UI/GTK2/src/mainWindow.cc:1602
 msgid "Updated document"
 msgstr "Dokument aktualisiert"
 
-#: UI/GTK2/src/mainWindow.cc:1513
+#: UI/GTK2/src/mainWindow.cc:1527
 msgid "Indexed"
 msgstr "Indiziert"
 
-#: UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1563
 msgid "Unindexed document(s)"
 msgstr "Nicht indizierte(s) Dokument(e)"
 
-#: UI/GTK2/src/mainWindow.cc:1646
+#: UI/GTK2/src/mainWindow.cc:1660
 msgid "Couldn't rename index, name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
-#: UI/GTK2/src/mainWindow.cc:3046
+#: UI/GTK2/src/mainWindow.cc:1664 UI/GTK2/src/mainWindow.cc:2488
+#: UI/GTK2/src/mainWindow.cc:3060
 #, fuzzy
 msgid "is already in use"
 msgstr "wird bereits benutzt"
 
-#: UI/GTK2/src/mainWindow.cc:1663
+#: UI/GTK2/src/mainWindow.cc:1677
 msgid "Couldn't rename index"
 msgstr "Index konnte nicht umbenannt werden"
 
-#: UI/GTK2/src/mainWindow.cc:1676
+#: UI/GTK2/src/mainWindow.cc:1690
 msgid "Edited index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2004
+#: UI/GTK2/src/mainWindow.cc:2018
 #, fuzzy
 msgid "Export Results"
 msgstr "Ergebnisse exportieren"
 
-#: UI/GTK2/src/mainWindow.cc:2276
+#: UI/GTK2/src/mainWindow.cc:2290
 msgid "Index"
 msgstr "Index"
 
-#: UI/GTK2/src/mainWindow.cc:2280
+#: UI/GTK2/src/mainWindow.cc:2294
 msgid "doesn't exist"
 msgstr "existiert nicht"
 
-#: UI/GTK2/src/mainWindow.cc:2358
+#: UI/GTK2/src/mainWindow.cc:2372
 msgid "Remove this document from the index ?"
 msgstr "Soll dieses Dokument aus dem Index entfernt werden?"
 
-#: UI/GTK2/src/mainWindow.cc:2377
+#: UI/GTK2/src/mainWindow.cc:2391
 msgid "Remove these documents from the index ?"
 msgstr "Sollen diese Dokumente aus dem Index entfernt werden?"
 
-#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2396 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2424
+#: UI/GTK2/src/mainWindow.cc:2438
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Ein Werkzeug zur Metasuche f?r den kostenfreien Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2425
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Search the Web and your documents !"
 msgstr "Durchsuchen Sie das Internet und Ihre Dokumente !"
 
-#: UI/GTK2/src/mainWindow.cc:2470
+#: UI/GTK2/src/mainWindow.cc:2484
 msgid "Index name"
 msgstr "Indexbezeichnung"
 
-#: UI/GTK2/src/mainWindow.cc:2485
+#: UI/GTK2/src/mainWindow.cc:2499
 msgid "Couldn't add index"
 msgstr "Konnte Index nicht hinzuf?gen"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2515
 msgid "Added new index"
 msgstr "Neuer Index hinzugef?gt"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2550
 msgid "Couldn't remove index"
 msgstr "Konnte Index nicht entfernen"
 
-#: UI/GTK2/src/mainWindow.cc:2741
+#: UI/GTK2/src/mainWindow.cc:2755
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2857
+#: UI/GTK2/src/mainWindow.cc:2871
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr ""
 "Mindestens ein Vorgang wurde noch nicht abgeschlossen. Jetzt trotzdem "
 "beenden?"
 
-#: UI/GTK2/src/mainWindow.cc:2859
+#: UI/GTK2/src/mainWindow.cc:2873
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3042
+#: UI/GTK2/src/mainWindow.cc:3056
 msgid "Query name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3069
+#: UI/GTK2/src/mainWindow.cc:3083
 msgid "Couldn't update query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3080
+#: UI/GTK2/src/mainWindow.cc:3094
 msgid "Edited query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3087
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Couldn't add query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3109
 msgid "Added new query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:3148
 msgid "Query is not set"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3145
+#: UI/GTK2/src/mainWindow.cc:3159
 msgid "No search engine selected"
 msgstr "Keine Suchmaschine ausgew?hlt"
 
-#: UI/GTK2/src/mainWindow.cc:3232
+#: UI/GTK2/src/mainWindow.cc:3246
 msgid "Please set the Google API key first"
 msgstr "Bitte geben Sie zuerst den Google API-Schl?ssel ein"
 
-#: UI/GTK2/src/mainWindow.cc:3241
+#: UI/GTK2/src/mainWindow.cc:3255
 msgid "Running query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3451
+#: UI/GTK2/src/mainWindow.cc:3465
 msgid "No default application defined for type"
 msgstr "Keine Standardanwendung f?r Typ angegeben"
 
@@ -502,67 +502,67 @@
 msgstr ""
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:416
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:431
 msgid "Unknown"
 msgstr "Unbekannt"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:417
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:432
 msgid "Danish"
 msgstr "D?nisch"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:418
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:433
 msgid "Dutch"
 msgstr "Niederl?nisch"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:419
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:434
 msgid "English"
 msgstr "Englisch"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:420
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:435
 msgid "Finnish"
 msgstr "Finnisch"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:421
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:436
 msgid "French"
 msgstr "Franz?sisch"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:422
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:437
 msgid "German"
 msgstr "Deutsch"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:423
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:438
 msgid "Hungarian"
 msgstr "Ungarisch"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:424
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:439
 msgid "Italian"
 msgstr "Italienisch"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:425
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:440
 msgid "Norwegian"
 msgstr "Norwegisch"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:426
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:441
 msgid "Portuguese"
 msgstr "Portugiesisch"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:427
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:442
 msgid "Romanian"
 msgstr "Rum?nisch"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:428
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Russian"
 msgstr "Russisch"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:429
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Spanish"
 msgstr "Spanisch"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:430
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Swedish"
 msgstr "Schwedisch"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:431
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "Turkish"
 msgstr "T?rkisch"
 
@@ -587,11 +587,11 @@
 msgid "Personal"
 msgstr "Pers?nlich"
 
-#: UI/GTK2/src/PinotSettings.cpp:376
+#: UI/GTK2/src/PinotSettings.cpp:350
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1288
+#: UI/GTK2/src/PinotSettings.cpp:1266
 msgid "Unclassified"
 msgstr ""
 
@@ -611,19 +611,19 @@
 msgid "Pattern"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:357
+#: UI/GTK2/src/prefsDialog.cc:333
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:358
+#: UI/GTK2/src/prefsDialog.cc:334
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:478
+#: UI/GTK2/src/prefsDialog.cc:483
 msgid "New Label"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:519
+#: UI/GTK2/src/prefsDialog.cc:524
 msgid "Directory to index"
 msgstr "Zu indizierendes Verzeichnis"
 
@@ -694,11 +694,16 @@
 msgid "File patterns:"
 msgstr "Dateiendung"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:143
+#: UI/GTK2/src/prefsDialog_glade.cc:139
+#, fuzzy
+msgid "Reset"
+msgstr "_Ergebnisse"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:144
 msgid "Indexing"
 msgstr "Indizieren"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:506
+#: UI/GTK2/src/prefsDialog_glade.cc:512
 msgid "Preferences"
 msgstr "Einstellungen"
 
@@ -731,69 +736,69 @@
 msgid "bytes"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:94
+#: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Rechnername"
 
-#: UI/GTK2/src/queryDialog.cc:95
+#: UI/GTK2/src/queryDialog.cc:111
 msgid "File name"
 msgstr "Dateiname"
 
-#: UI/GTK2/src/queryDialog.cc:96
+#: UI/GTK2/src/queryDialog.cc:112
 msgid "File extension"
 msgstr "Dateiendung"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr ""
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
-#: UI/GTK2/src/queryDialog.cc:99
+#: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "Verzeichnis"
 
-#: UI/GTK2/src/queryDialog.cc:100
+#: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:101
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:102
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:103
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
 msgstr ""
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Datum"
 
-#: UI/GTK2/src/queryDialog.cc:107
+#: UI/GTK2/src/queryDialog.cc:123
 #, fuzzy
 msgid "Time"
 msgstr "Titel"
 
-#: UI/GTK2/src/queryDialog.cc:108
+#: UI/GTK2/src/queryDialog.cc:124
 #, fuzzy
 msgid "Size"
 msgstr "Gr??e"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:112
+#: UI/GTK2/src/queryDialog.cc:128
 msgid "By relevance"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:113
+#: UI/GTK2/src/queryDialog.cc:129
 #, fuzzy
 msgid "By date"
 msgstr "Aktualisieren"
@@ -822,7 +827,11 @@
 msgid "Stemming:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:201
+#: UI/GTK2/src/queryDialog_glade.cc:94
+msgid "Only index new results"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr ""
 
@@ -845,42 +854,50 @@
 msgid "Daemon"
 msgstr "D?mon"
 
-#: UI/GTK2/src/statisticsDialog.cc:144 UI/GTK2/src/statisticsDialog.cc:160
+#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
 msgid "documents"
 msgstr "Dokumente"
 
-#: UI/GTK2/src/statisticsDialog.cc:150 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
 #: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Unbekannter Fehler"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 #, fuzzy
 msgid "Viewed"
 msgstr "Angesehen"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "results"
 msgstr "Ergebnisse"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "files"
 msgstr "Dateien"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:196
+#: UI/GTK2/src/statisticsDialog.cc:199
 msgid "Running under PID"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:205
+msgid "Disconnected from D-Bus"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:209
+msgid "Stopped"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:213
 msgid "Currently not running"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:243
 msgid "Errors"
 msgstr "Fehler"
 
@@ -966,6 +983,6 @@
 msgid "is blacklisted"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:973
+#: UI/GTK2/src/WorkerThreads.cpp:961
 msgid "No title"
 msgstr "Kein Titel"

Modified: trunk/po/es.po
===================================================================
--- trunk/po/es.po	2008-03-26 06:24:03 UTC (rev 1220)
+++ trunk/po/es.po	2008-03-27 02:00:36 UTC (rev 1221)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.83\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-27 23:50+0800\n"
+"POT-Creation-Date: 2008-03-26 14:43+0800\n"
 "PO-Revision-Date: 2008-02-17 13:04+0000\n"
 "Last-Translator: Gar Bage <garbage at openfutura.com>\n"
 "Language-Team: es <fabricecolin at users.berlios.de>\n"
@@ -29,22 +29,22 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
-#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
-#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
-#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1010
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:760
+#: UI/GTK2/src/mainWindow.cc:984 UI/GTK2/src/mainWindow.cc:1283
+#: UI/GTK2/src/mainWindow.cc:1504 UI/GTK2/src/mainWindow.cc:1540
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:2273
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1470
+#: UI/GTK2/src/PinotSettings.cpp:1526 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:998
 msgid "My Web Pages"
 msgstr "Mis Paginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
-#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
-#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
-#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:763
+#: UI/GTK2/src/mainWindow.cc:978 UI/GTK2/src/mainWindow.cc:1287
+#: UI/GTK2/src/mainWindow.cc:2277 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1471 UI/GTK2/src/PinotSettings.cpp:1527
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1008
 msgid "My Documents"
 msgstr "Mis documentos"
 
@@ -90,8 +90,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
-#: UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Ninguno"
 
@@ -198,200 +198,200 @@
 msgid "Update"
 msgstr "Actualizar"
 
-#: UI/GTK2/src/mainWindow.cc:322
+#: UI/GTK2/src/mainWindow.cc:314
 msgid "N/A"
 msgstr "Desconocido"
 
-#: UI/GTK2/src/mainWindow.cc:337
+#: UI/GTK2/src/mainWindow.cc:329
 msgid "Undefined"
 msgstr "Indefinido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+#: UI/GTK2/src/mainWindow.cc:552 UI/GTK2/src/mainWindow.cc:2662
 msgid "Live query"
 msgstr "B?squeda activa"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:700
+#: UI/GTK2/src/mainWindow.cc:692
 msgid "Result location is"
 msgstr "La localizaci?n del resultado es"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:782
+#: UI/GTK2/src/mainWindow.cc:774
 msgid "Document location is"
 msgstr "La localizaci?n del documento es"
 
-#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+#: UI/GTK2/src/mainWindow.cc:960 UI/GTK2/src/mainWindow.cc:2098
 msgid "Couldn't find query"
 msgstr "No se pudo a?adir la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:982
+#: UI/GTK2/src/mainWindow.cc:974
 msgid "In Results"
 msgstr "En resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1166
+#: UI/GTK2/src/mainWindow.cc:1167
 msgid "Showing"
 msgstr "Mostrando"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1172
 msgid "of"
 msgstr "documentos"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "documents, starting at"
 msgstr "documentos comenzando en"
 
-#: UI/GTK2/src/mainWindow.cc:1210
+#: UI/GTK2/src/mainWindow.cc:1219
 msgid "Query"
 msgstr "B?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+#: UI/GTK2/src/mainWindow.cc:1223 UI/GTK2/src/mainWindow.cc:3259
 msgid "on"
 msgstr "en"
 
-#: UI/GTK2/src/mainWindow.cc:1218
+#: UI/GTK2/src/mainWindow.cc:1227
 msgid "ended"
 msgstr "finalizado"
 
-#: UI/GTK2/src/mainWindow.cc:1284
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Corrected"
 msgstr "Corregido"
 
-#: UI/GTK2/src/mainWindow.cc:1373
+#: UI/GTK2/src/mainWindow.cc:1387
 msgid "More Like"
 msgstr "M?s como"
 
-#: UI/GTK2/src/mainWindow.cc:1416
+#: UI/GTK2/src/mainWindow.cc:1430
 msgid "Updated label(s)"
 msgstr "Etiqueta(s) actualizada(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+#: UI/GTK2/src/mainWindow.cc:1514 UI/GTK2/src/mainWindow.cc:1602
 msgid "Updated document"
 msgstr "Documento actualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1513
+#: UI/GTK2/src/mainWindow.cc:1527
 msgid "Indexed"
 msgstr "Indizado"
 
-#: UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1563
 msgid "Unindexed document(s)"
 msgstr "Documento(s) no indizado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1646
+#: UI/GTK2/src/mainWindow.cc:1660
 msgid "Couldn't rename index, name"
 msgstr "No se pudo renombrar ?ndice, nombre"
 
-#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
-#: UI/GTK2/src/mainWindow.cc:3046
+#: UI/GTK2/src/mainWindow.cc:1664 UI/GTK2/src/mainWindow.cc:2488
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "is already in use"
 msgstr "ya est? en uso"
 
-#: UI/GTK2/src/mainWindow.cc:1663
+#: UI/GTK2/src/mainWindow.cc:1677
 msgid "Couldn't rename index"
 msgstr "No se pudo renombrar el ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1676
+#: UI/GTK2/src/mainWindow.cc:1690
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2004
+#: UI/GTK2/src/mainWindow.cc:2018
 msgid "Export Results"
 msgstr "Exportar resultados"
 
-#: UI/GTK2/src/mainWindow.cc:2276
+#: UI/GTK2/src/mainWindow.cc:2290
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2280
+#: UI/GTK2/src/mainWindow.cc:2294
 msgid "doesn't exist"
 msgstr "no existe"
 
-#: UI/GTK2/src/mainWindow.cc:2358
+#: UI/GTK2/src/mainWindow.cc:2372
 msgid "Remove this document from the index ?"
 msgstr "?Borrar este documento del ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2377
+#: UI/GTK2/src/mainWindow.cc:2391
 msgid "Remove these documents from the index ?"
 msgstr "?Borrar este documento del ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2396 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Des-indizar"
 
-#: UI/GTK2/src/mainWindow.cc:2424
+#: UI/GTK2/src/mainWindow.cc:2438
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Una herramienta metabuscador para el escritorio libre"
 
-#: UI/GTK2/src/mainWindow.cc:2425
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Search the Web and your documents !"
 msgstr "Busca en el web y en sus documentos"
 
-#: UI/GTK2/src/mainWindow.cc:2470
+#: UI/GTK2/src/mainWindow.cc:2484
 msgid "Index name"
 msgstr "Nombre del ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2485
+#: UI/GTK2/src/mainWindow.cc:2499
 msgid "Couldn't add index"
 msgstr "No se pudo a?adir el ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2515
 msgid "Added new index"
 msgstr "A?adido un nuevo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2550
 msgid "Couldn't remove index"
 msgstr "No se pudo borrar el ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2741
+#: UI/GTK2/src/mainWindow.cc:2755
 msgid "No history for"
 msgstr "No hay hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2857
+#: UI/GTK2/src/mainWindow.cc:2871
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Al menos una tarea no ha finalizado. ?Parar ahora?"
 
-#: UI/GTK2/src/mainWindow.cc:2859
+#: UI/GTK2/src/mainWindow.cc:2873
 msgid "Quit"
 msgstr "Salir"
 
-#: UI/GTK2/src/mainWindow.cc:3042
+#: UI/GTK2/src/mainWindow.cc:3056
 msgid "Query name"
 msgstr "Nombre la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3069
+#: UI/GTK2/src/mainWindow.cc:3083
 msgid "Couldn't update query"
 msgstr "No se pudo actualizar la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3080
+#: UI/GTK2/src/mainWindow.cc:3094
 msgid "Edited query"
 msgstr "B?squeda editada"
 
-#: UI/GTK2/src/mainWindow.cc:3087
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Couldn't add query"
 msgstr "No se pudo a?adir la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3109
 msgid "Added new query"
 msgstr "A?adida una nueva b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:3148
 msgid "Query is not set"
 msgstr "B?squeda no definida"
 
-#: UI/GTK2/src/mainWindow.cc:3145
+#: UI/GTK2/src/mainWindow.cc:3159
 msgid "No search engine selected"
 msgstr "Motor de b?squeda no seleccionado"
 
-#: UI/GTK2/src/mainWindow.cc:3232
+#: UI/GTK2/src/mainWindow.cc:3246
 msgid "Please set the Google API key first"
 msgstr "Por favor, primero configure el API de Google"
 
-#: UI/GTK2/src/mainWindow.cc:3241
+#: UI/GTK2/src/mainWindow.cc:3255
 msgid "Running query"
 msgstr "Ejecutando la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3451
+#: UI/GTK2/src/mainWindow.cc:3465
 msgid "No default application defined for type"
 msgstr "No hay aplicaci?n predefinida para el tipo"
 
@@ -490,67 +490,67 @@
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:416
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:431
 msgid "Unknown"
 msgstr "Desconocido"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:417
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:432
 msgid "Danish"
 msgstr "Dan?s"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:418
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:433
 msgid "Dutch"
 msgstr "Holand?s"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:419
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:434
 msgid "English"
 msgstr "Ingl?s"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:420
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:435
 msgid "Finnish"
 msgstr "Finland?s"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:421
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:436
 msgid "French"
 msgstr "Franc?s"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:422
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:437
 msgid "German"
 msgstr "Alem?n"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:423
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:438
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:424
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:439
 msgid "Italian"
 msgstr "Italiano"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:425
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:440
 msgid "Norwegian"
 msgstr "Noruego"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:426
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:441
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:427
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:442
 msgid "Romanian"
 msgstr "Rumano"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:428
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Russian"
 msgstr "Ruso"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:429
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Spanish"
 msgstr "Espa?ol"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:430
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Swedish"
 msgstr "Sueco"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:431
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "Turkish"
 msgstr "Turco"
 
@@ -575,11 +575,11 @@
 msgid "Personal"
 msgstr "Personal"
 
-#: UI/GTK2/src/PinotSettings.cpp:376
+#: UI/GTK2/src/PinotSettings.cpp:350
 msgid "Me"
 msgstr "Yo"
 
-#: UI/GTK2/src/PinotSettings.cpp:1288
+#: UI/GTK2/src/PinotSettings.cpp:1266
 msgid "Unclassified"
 msgstr "No clasificado"
 
@@ -599,19 +599,19 @@
 msgid "Pattern"
 msgstr "Patron"
 
-#: UI/GTK2/src/prefsDialog.cc:357
+#: UI/GTK2/src/prefsDialog.cc:333
 msgid "Exclude these patterns from indexing"
 msgstr "Excluir de la indizacion estos patrones"
 
-#: UI/GTK2/src/prefsDialog.cc:358
+#: UI/GTK2/src/prefsDialog.cc:334
 msgid "Only index these patterns"
 msgstr "Indizar s?lo estos patrones"
 
-#: UI/GTK2/src/prefsDialog.cc:478
+#: UI/GTK2/src/prefsDialog.cc:483
 msgid "New Label"
 msgstr "Nueva etiqueta"
 
-#: UI/GTK2/src/prefsDialog.cc:519
+#: UI/GTK2/src/prefsDialog.cc:524
 msgid "Directory to index"
 msgstr "Carpeta a indexar"
 
@@ -680,11 +680,16 @@
 msgid "File patterns:"
 msgstr "Patrones de fichero"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:143
+#: UI/GTK2/src/prefsDialog_glade.cc:139
+#, fuzzy
+msgid "Reset"
+msgstr "Resultados"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:144
 msgid "Indexing"
 msgstr "?ndices"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:506
+#: UI/GTK2/src/prefsDialog_glade.cc:512
 msgid "Preferences"
 msgstr "Preferencias"
 
@@ -716,67 +721,67 @@
 msgid "bytes"
 msgstr "bytes"
 
-#: UI/GTK2/src/queryDialog.cc:94
+#: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Nombre de servidor"
 
-#: UI/GTK2/src/queryDialog.cc:95
+#: UI/GTK2/src/queryDialog.cc:111
 msgid "File name"
 msgstr "Nombre de archivo"
 
-#: UI/GTK2/src/queryDialog.cc:96
+#: UI/GTK2/src/queryDialog.cc:112
 msgid "File extension"
 msgstr "Extensi?n del archivo"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "T?tulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
-#: UI/GTK2/src/queryDialog.cc:99
+#: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "Carpeta"
 
-#: UI/GTK2/src/queryDialog.cc:100
+#: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
 msgstr "Codigo de idioma"
 
-#: UI/GTK2/src/queryDialog.cc:101
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
 msgstr "Tipo MIME"
 
-#: UI/GTK2/src/queryDialog.cc:102
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
 msgstr "Tipo MIME"
 
-#: UI/GTK2/src/queryDialog.cc:103
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
 msgstr "Etiqueta"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Date"
 
-#: UI/GTK2/src/queryDialog.cc:107
+#: UI/GTK2/src/queryDialog.cc:123
 msgid "Time"
 msgstr "Tiempo"
 
-#: UI/GTK2/src/queryDialog.cc:108
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Size"
 msgstr "Tama?o:"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:112
+#: UI/GTK2/src/queryDialog.cc:128
 msgid "By relevance"
 msgstr "Por relevancia"
 
-#: UI/GTK2/src/queryDialog.cc:113
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By date"
 msgstr "Por fecha"
 
@@ -804,7 +809,12 @@
 msgid "Stemming:"
 msgstr "Identificar ra?ces"
 
-#: UI/GTK2/src/queryDialog_glade.cc:201
+#: UI/GTK2/src/queryDialog_glade.cc:94
+#, fuzzy
+msgid "Only index new results"
+msgstr "Indizar s?lo estos patrones"
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Par?metros de b?squeda"
 
@@ -825,41 +835,49 @@
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:144 UI/GTK2/src/statisticsDialog.cc:160
+#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
 msgid "documents"
 msgstr "documentos"
 
-#: UI/GTK2/src/statisticsDialog.cc:150 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
 #: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Error desconocido"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "Viewed"
 msgstr "Ver"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "results"
 msgstr "resultados"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "Crawled"
 msgstr "Capturado"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "files"
 msgstr "archivos"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:196
+#: UI/GTK2/src/statisticsDialog.cc:199
 msgid "Running under PID"
 msgstr "Ejecut?ndose bajo PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:205
+msgid "Disconnected from D-Bus"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:209
+msgid "Stopped"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:213
 msgid "Currently not running"
 msgstr "No se ejecuta actualmente"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:243
 msgid "Errors"
 msgstr "Errores"
 
@@ -939,6 +957,6 @@
 msgid "is blacklisted"
 msgstr "ya excluido"
 
-#: UI/GTK2/src/WorkerThreads.cpp:973
+#: UI/GTK2/src/WorkerThreads.cpp:961
 msgid "No title"
 msgstr "Sin t?tulo"

Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2008-03-26 06:24:03 UTC (rev 1220)
+++ trunk/po/fr.po	2008-03-27 02:00:36 UTC (rev 1221)
@@ -7,8 +7,8 @@
 msgstr ""
 "Project-Id-Version: pinot 0.83\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-27 23:50+0800\n"
-"PO-Revision-Date: 2008-01-03 19:09+0000\n"
+"POT-Creation-Date: 2008-03-26 14:43+0800\n"
+"PO-Revision-Date: 2008-03-24 18:17+0800\n"
 "Last-Translator: Fabrice Colin <fabricecolin at users.berlios.de>\n"
 "Language-Team: fr <fabricecolin at users.berlios.de>\n"
 "MIME-Version: 1.0\n"
@@ -29,22 +29,22 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
-#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
-#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
-#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1010
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:760
+#: UI/GTK2/src/mainWindow.cc:984 UI/GTK2/src/mainWindow.cc:1283
+#: UI/GTK2/src/mainWindow.cc:1504 UI/GTK2/src/mainWindow.cc:1540
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:2273
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1470
+#: UI/GTK2/src/PinotSettings.cpp:1526 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:998
 msgid "My Web Pages"
 msgstr "Mes Pages Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
-#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
-#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
-#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:763
+#: UI/GTK2/src/mainWindow.cc:978 UI/GTK2/src/mainWindow.cc:1287
+#: UI/GTK2/src/mainWindow.cc:2277 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1471 UI/GTK2/src/PinotSettings.cpp:1527
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1008
 msgid "My Documents"
 msgstr "Mes Documents"
 
@@ -90,8 +90,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
-#: UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Aucune"
 
@@ -199,200 +199,200 @@
 msgid "Update"
 msgstr "Mettre a Jour"
 
-#: UI/GTK2/src/mainWindow.cc:322
+#: UI/GTK2/src/mainWindow.cc:314
 msgid "N/A"
 msgstr "Inconnue"
 
-#: UI/GTK2/src/mainWindow.cc:337
+#: UI/GTK2/src/mainWindow.cc:329
 msgid "Undefined"
 msgstr "Indefini"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+#: UI/GTK2/src/mainWindow.cc:552 UI/GTK2/src/mainWindow.cc:2662
 msgid "Live query"
 msgstr "Recherche"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:700
+#: UI/GTK2/src/mainWindow.cc:692
 msgid "Result location is"
 msgstr "Le chemin du resultat est"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:782
+#: UI/GTK2/src/mainWindow.cc:774
 msgid "Document location is"
 msgstr "Le chemin du document is"
 
-#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+#: UI/GTK2/src/mainWindow.cc:960 UI/GTK2/src/mainWindow.cc:2098
 msgid "Couldn't find query"
 msgstr "N'a pas pu trouver"
 
-#: UI/GTK2/src/mainWindow.cc:982
+#: UI/GTK2/src/mainWindow.cc:974
 msgid "In Results"
 msgstr "Dans Les Resultats"
 
-#: UI/GTK2/src/mainWindow.cc:1166
+#: UI/GTK2/src/mainWindow.cc:1167
 msgid "Showing"
 msgstr "Montrant"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1172
 msgid "of"
 msgstr "documents,"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "documents, starting at"
 msgstr "au total, a partir de"
 
-#: UI/GTK2/src/mainWindow.cc:1210
+#: UI/GTK2/src/mainWindow.cc:1219
 msgid "Query"
 msgstr "La recherche"
 
-#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+#: UI/GTK2/src/mainWindow.cc:1223 UI/GTK2/src/mainWindow.cc:3259
 msgid "on"
 msgstr "sur"
 
-#: UI/GTK2/src/mainWindow.cc:1218
+#: UI/GTK2/src/mainWindow.cc:1227
 msgid "ended"
 msgstr "est terminee"
 
-#: UI/GTK2/src/mainWindow.cc:1284
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Corrected"
 msgstr "Corrige"
 
-#: UI/GTK2/src/mainWindow.cc:1373
+#: UI/GTK2/src/mainWindow.cc:1387
 msgid "More Like"
 msgstr "Similaire a"
 
-#: UI/GTK2/src/mainWindow.cc:1416
+#: UI/GTK2/src/mainWindow.cc:1430
 msgid "Updated label(s)"
 msgstr "Mis a jour l(es) etiquette(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+#: UI/GTK2/src/mainWindow.cc:1514 UI/GTK2/src/mainWindow.cc:1602
 msgid "Updated document"
 msgstr "Mis a jour le document"
 
-#: UI/GTK2/src/mainWindow.cc:1513
+#: UI/GTK2/src/mainWindow.cc:1527
 msgid "Indexed"
 msgstr "Indexe"
 
-#: UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1563
 msgid "Unindexed document(s)"
 msgstr "Desindexe le(s) document(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1646
+#: UI/GTK2/src/mainWindow.cc:1660
 msgid "Couldn't rename index, name"
 msgstr "N'a pas pu renommer l'index, le nom"
 
-#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
-#: UI/GTK2/src/mainWindow.cc:3046
+#: UI/GTK2/src/mainWindow.cc:1664 UI/GTK2/src/mainWindow.cc:2488
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "is already in use"
 msgstr "est deja utilise"
 
-#: UI/GTK2/src/mainWindow.cc:1663
+#: UI/GTK2/src/mainWindow.cc:1677
 msgid "Couldn't rename index"
 msgstr "N'a pas pu renommer l'index"
 
-#: UI/GTK2/src/mainWindow.cc:1676
+#: UI/GTK2/src/mainWindow.cc:1690
 msgid "Edited index"
 msgstr "Edite l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2004
+#: UI/GTK2/src/mainWindow.cc:2018
 msgid "Export Results"
 msgstr "Exporter Les Resultats"
 
-#: UI/GTK2/src/mainWindow.cc:2276
+#: UI/GTK2/src/mainWindow.cc:2290
 msgid "Index"
 msgstr "L'index"
 
-#: UI/GTK2/src/mainWindow.cc:2280
+#: UI/GTK2/src/mainWindow.cc:2294
 msgid "doesn't exist"
 msgstr "n'existe pas"
 
-#: UI/GTK2/src/mainWindow.cc:2358
+#: UI/GTK2/src/mainWindow.cc:2372
 msgid "Remove this document from the index ?"
 msgstr "Enlever ce document de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2377
+#: UI/GTK2/src/mainWindow.cc:2391
 msgid "Remove these documents from the index ?"
 msgstr "Enlever ces documents de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2396 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Desindexer"
 
-#: UI/GTK2/src/mainWindow.cc:2424
+#: UI/GTK2/src/mainWindow.cc:2438
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Un outil de recherche pour le Bureau Libre"
 
-#: UI/GTK2/src/mainWindow.cc:2425
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Search the Web and your documents !"
 msgstr "Cherche le Web et vos documents"
 
-#: UI/GTK2/src/mainWindow.cc:2470
+#: UI/GTK2/src/mainWindow.cc:2484
 msgid "Index name"
 msgstr "Nom de l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2485
+#: UI/GTK2/src/mainWindow.cc:2499
 msgid "Couldn't add index"
 msgstr "N'a pas pu ajouter l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2515
 msgid "Added new index"
 msgstr "Ajoute un nouvel index"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2550
 msgid "Couldn't remove index"
 msgstr "N'a pas pu enlever l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2741
+#: UI/GTK2/src/mainWindow.cc:2755
 msgid "No history for"
 msgstr "Pas d'historique pour"
 
-#: UI/GTK2/src/mainWindow.cc:2857
+#: UI/GTK2/src/mainWindow.cc:2871
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Au moins une tache n'est pas terminee. Quitter maintenant ?"
 
-#: UI/GTK2/src/mainWindow.cc:2859
+#: UI/GTK2/src/mainWindow.cc:2873
 msgid "Quit"
 msgstr "Quitter"
 
-#: UI/GTK2/src/mainWindow.cc:3042
+#: UI/GTK2/src/mainWindow.cc:3056
 msgid "Query name"
 msgstr "Nom de la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3069
+#: UI/GTK2/src/mainWindow.cc:3083
 msgid "Couldn't update query"
 msgstr "N'a pas pu mettre a jour la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3080
+#: UI/GTK2/src/mainWindow.cc:3094
 msgid "Edited query"
 msgstr "Edite la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3087
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Couldn't add query"
 msgstr "N'a pas pu ajouter la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3109
 msgid "Added new query"
 msgstr "Ajoute une nouvelle recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:3148
 msgid "Query is not set"
 msgstr "Recherche indefinie"
 
-#: UI/GTK2/src/mainWindow.cc:3145
+#: UI/GTK2/src/mainWindow.cc:3159
 msgid "No search engine selected"
 msgstr "Pas de moteur selectionne"
 
-#: UI/GTK2/src/mainWindow.cc:3232
+#: UI/GTK2/src/mainWindow.cc:3246
 msgid "Please set the Google API key first"
 msgstr "Configurez la clef de l'API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3241
+#: UI/GTK2/src/mainWindow.cc:3255
 msgid "Running query"
 msgstr "Recherche en cours"
 
-#: UI/GTK2/src/mainWindow.cc:3451
+#: UI/GTK2/src/mainWindow.cc:3465
 msgid "No default application defined for type"
 msgstr "Pas d'application definie pour le type"
 
@@ -491,67 +491,67 @@
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:416
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:431
 msgid "Unknown"
 msgstr "Inconnu"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:417
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:432
 msgid "Danish"
 msgstr "Danois"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:418
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:433
 msgid "Dutch"
 msgstr "Hollandais"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:419
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:434
 msgid "English"
 msgstr "Anglais"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:420
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:435
 msgid "Finnish"
 msgstr "Finlandais"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:421
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:436
 msgid "French"
 msgstr "Francais"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:422
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:437
 msgid "German"
 msgstr "Allemand"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:423
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:438
 msgid "Hungarian"
 msgstr "Hongrois"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:424
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:439
 msgid "Italian"
 msgstr "Italien"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:425
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:440
 msgid "Norwegian"
 msgstr "Norvegien"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:426
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:441
 msgid "Portuguese"
 msgstr "Portugais"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:427
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:442
 msgid "Romanian"
 msgstr "Roumain"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:428
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Russian"
 msgstr "Russe"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:429
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Spanish"
 msgstr "Espagnol"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:430
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Swedish"
 msgstr "Suedois"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:431
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "Turkish"
 msgstr "Turc"
 
@@ -576,11 +576,11 @@
 msgid "Personal"
 msgstr "Personnel"
 
-#: UI/GTK2/src/PinotSettings.cpp:376
+#: UI/GTK2/src/PinotSettings.cpp:350
 msgid "Me"
 msgstr "Moi"
 
-#: UI/GTK2/src/PinotSettings.cpp:1288
+#: UI/GTK2/src/PinotSettings.cpp:1266
 msgid "Unclassified"
 msgstr "Sans classification"
 
@@ -600,19 +600,19 @@
 msgid "Pattern"
 msgstr "Motif"
 
-#: UI/GTK2/src/prefsDialog.cc:357
+#: UI/GTK2/src/prefsDialog.cc:333
 msgid "Exclude these patterns from indexing"
 msgstr "Ne pas indexer ces motifs"
 
-#: UI/GTK2/src/prefsDialog.cc:358
+#: UI/GTK2/src/prefsDialog.cc:334
 msgid "Only index these patterns"
 msgstr "Indexer uniquement ces motifs"
 
-#: UI/GTK2/src/prefsDialog.cc:478
+#: UI/GTK2/src/prefsDialog.cc:483
 msgid "New Label"
 msgstr "Nouvelle Etiquette"
 
-#: UI/GTK2/src/prefsDialog.cc:519
+#: UI/GTK2/src/prefsDialog.cc:524
 msgid "Directory to index"
 msgstr "Repertoire a indexer"
 
@@ -681,11 +681,16 @@
 msgid "File patterns:"
 msgstr "Motifs de fichier:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:143
+#: UI/GTK2/src/prefsDialog_glade.cc:139
+#, fuzzy
+msgid "Reset"
+msgstr "Resultats"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:144
 msgid "Indexing"
 msgstr "Indexes"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:506
+#: UI/GTK2/src/prefsDialog_glade.cc:512
 msgid "Preferences"
 msgstr "Preferences"
 
@@ -717,68 +722,68 @@
 msgid "bytes"
 msgstr "octets"
 
-#: UI/GTK2/src/queryDialog.cc:94
+#: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Nom de machine"
 
-#: UI/GTK2/src/queryDialog.cc:95
+#: UI/GTK2/src/queryDialog.cc:111
 msgid "File name"
 msgstr "Nom de fichier"
 
-#: UI/GTK2/src/queryDialog.cc:96
+#: UI/GTK2/src/queryDialog.cc:112
 msgid "File extension"
 msgstr "Extension de fichier"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "Titre"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
-#: UI/GTK2/src/queryDialog.cc:99
+#: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "Repertoire"
 
-#: UI/GTK2/src/queryDialog.cc:100
+#: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
 msgstr "Code langue"
 
-#: UI/GTK2/src/queryDialog.cc:101
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
 msgstr "Type MIME"
 
-#: UI/GTK2/src/queryDialog.cc:102
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
 msgstr "Classe MIME"
 
-#: UI/GTK2/src/queryDialog.cc:103
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
 msgstr "Etiquette"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Date"
 
-#: UI/GTK2/src/queryDialog.cc:107
+#: UI/GTK2/src/queryDialog.cc:123
 msgid "Time"
 msgstr "Heure"
 
-#: UI/GTK2/src/queryDialog.cc:108
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Size"
 msgstr "Taille"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:112
+#: UI/GTK2/src/queryDialog.cc:128
 #, fuzzy
 msgid "By relevance"
 msgstr "Par relevance"
 
-#: UI/GTK2/src/queryDialog.cc:113
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By date"
 msgstr "Par date"
 
@@ -807,7 +812,12 @@
 msgid "Stemming:"
 msgstr "Stemming:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:201
+#: UI/GTK2/src/queryDialog_glade.cc:94
+#, fuzzy
+msgid "Only index new results"
+msgstr "Indexer uniquement ces motifs"
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Parametres de la recherche"
 
@@ -828,41 +838,49 @@
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:144 UI/GTK2/src/statisticsDialog.cc:160
+#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
 msgid "documents"
 msgstr "documents"
 
-#: UI/GTK2/src/statisticsDialog.cc:150 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
 #: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Erreur inconnue"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "Viewed"
 msgstr "Visualise"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "results"
 msgstr "resultats"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "Crawled"
 msgstr "Parcouru"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "files"
 msgstr "fichiers"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:196
+#: UI/GTK2/src/statisticsDialog.cc:199
 msgid "Running under PID"
 msgstr "PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:205
+msgid "Disconnected from D-Bus"
+msgstr "Deconnecte par D-Bus"
+
+#: UI/GTK2/src/statisticsDialog.cc:209
+msgid "Stopped"
+msgstr "Arrete"
+
+#: UI/GTK2/src/statisticsDialog.cc:213
 msgid "Currently not running"
 msgstr "Arrete"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:243
 msgid "Errors"
 msgstr "Erreurs"
 
@@ -942,6 +960,6 @@
 msgid "is blacklisted"
 msgstr "est exclus"
 
-#: UI/GTK2/src/WorkerThreads.cpp:973
+#: UI/GTK2/src/WorkerThreads.cpp:961
 msgid "No title"
 msgstr "Pas de titre"

Modified: trunk/po/it.po
===================================================================
--- trunk/po/it.po	2008-03-26 06:24:03 UTC (rev 1220)
+++ trunk/po/it.po	2008-03-27 02:00:36 UTC (rev 1221)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.83\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-27 23:50+0800\n"
+"POT-Creation-Date: 2008-03-26 14:43+0800\n"
 "PO-Revision-Date: 2008-01-15 00:09+0000\n"
 "Last-Translator: Marco Bazzani <visitors at libero.it>\n"
 "Language-Team: Italian <it at li.org>\n"
@@ -28,22 +28,22 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
-#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
-#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
-#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1010
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:760
+#: UI/GTK2/src/mainWindow.cc:984 UI/GTK2/src/mainWindow.cc:1283
+#: UI/GTK2/src/mainWindow.cc:1504 UI/GTK2/src/mainWindow.cc:1540
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:2273
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1470
+#: UI/GTK2/src/PinotSettings.cpp:1526 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:998
 msgid "My Web Pages"
 msgstr "Pagine web personali"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
-#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
-#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
-#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:763
+#: UI/GTK2/src/mainWindow.cc:978 UI/GTK2/src/mainWindow.cc:1287
+#: UI/GTK2/src/mainWindow.cc:2277 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1471 UI/GTK2/src/PinotSettings.cpp:1527
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1008
 msgid "My Documents"
 msgstr "Documenti personali"
 
@@ -89,8 +89,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
-#: UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Nessuno"
 
@@ -202,202 +202,202 @@
 msgid "Update"
 msgstr "Aggiorna"
 
-#: UI/GTK2/src/mainWindow.cc:322
+#: UI/GTK2/src/mainWindow.cc:314
 msgid "N/A"
 msgstr "N/D"
 
-#: UI/GTK2/src/mainWindow.cc:337
+#: UI/GTK2/src/mainWindow.cc:329
 msgid "Undefined"
 msgstr "Non Definito"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+#: UI/GTK2/src/mainWindow.cc:552 UI/GTK2/src/mainWindow.cc:2662
 msgid "Live query"
 msgstr "Live Query"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:700
+#: UI/GTK2/src/mainWindow.cc:692
 msgid "Result location is"
 msgstr "la posizione del risultato ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:782
+#: UI/GTK2/src/mainWindow.cc:774
 msgid "Document location is"
 msgstr "La posizione Documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+#: UI/GTK2/src/mainWindow.cc:960 UI/GTK2/src/mainWindow.cc:2098
 msgid "Couldn't find query"
 msgstr "Impossibile trovare la query"
 
-#: UI/GTK2/src/mainWindow.cc:982
+#: UI/GTK2/src/mainWindow.cc:974
 #, fuzzy
 msgid "In Results"
 msgstr "risultati"
 
-#: UI/GTK2/src/mainWindow.cc:1166
+#: UI/GTK2/src/mainWindow.cc:1167
 msgid "Showing"
 msgstr "Mostrando"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1172
 msgid "of"
 msgstr "dei"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "documents, starting at"
 msgstr "documenti, inizio a"
 
-#: UI/GTK2/src/mainWindow.cc:1210
+#: UI/GTK2/src/mainWindow.cc:1219
 msgid "Query"
 msgstr "Richiesta"
 
-#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+#: UI/GTK2/src/mainWindow.cc:1223 UI/GTK2/src/mainWindow.cc:3259
 msgid "on"
 msgstr "sulla"
 
-#: UI/GTK2/src/mainWindow.cc:1218
+#: UI/GTK2/src/mainWindow.cc:1227
 msgid "ended"
 msgstr "conclusione"
 
-#: UI/GTK2/src/mainWindow.cc:1284
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1373
+#: UI/GTK2/src/mainWindow.cc:1387
 msgid "More Like"
 msgstr "Molti gradiscono"
 
-#: UI/GTK2/src/mainWindow.cc:1416
+#: UI/GTK2/src/mainWindow.cc:1430
 msgid "Updated label(s)"
 msgstr "Descrizione(i) aggiornata"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+#: UI/GTK2/src/mainWindow.cc:1514 UI/GTK2/src/mainWindow.cc:1602
 msgid "Updated document"
 msgstr "Documento aggiornato"
 
-#: UI/GTK2/src/mainWindow.cc:1513
+#: UI/GTK2/src/mainWindow.cc:1527
 msgid "Indexed"
 msgstr "Indicizzato"
 
-#: UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1563
 msgid "Unindexed document(s)"
 msgstr "Documento/i non Indicizzato/i"
 
-#: UI/GTK2/src/mainWindow.cc:1646
+#: UI/GTK2/src/mainWindow.cc:1660
 msgid "Couldn't rename index, name"
 msgstr "Impossibile rinominare l'indice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
-#: UI/GTK2/src/mainWindow.cc:3046
+#: UI/GTK2/src/mainWindow.cc:1664 UI/GTK2/src/mainWindow.cc:2488
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "is already in use"
 msgstr "? gi? in uso"
 
-#: UI/GTK2/src/mainWindow.cc:1663
+#: UI/GTK2/src/mainWindow.cc:1677
 msgid "Couldn't rename index"
 msgstr "Impossibile rinominare l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:1676
+#: UI/GTK2/src/mainWindow.cc:1690
 msgid "Edited index"
 msgstr "Indice modificato"
 
-#: UI/GTK2/src/mainWindow.cc:2004
+#: UI/GTK2/src/mainWindow.cc:2018
 #, fuzzy
 msgid "Export Results"
 msgstr "risultati"
 
-#: UI/GTK2/src/mainWindow.cc:2276
+#: UI/GTK2/src/mainWindow.cc:2290
 msgid "Index"
 msgstr "Indice"
 
-#: UI/GTK2/src/mainWindow.cc:2280
+#: UI/GTK2/src/mainWindow.cc:2294
 msgid "doesn't exist"
 msgstr "non esiste"
 
-#: UI/GTK2/src/mainWindow.cc:2358
+#: UI/GTK2/src/mainWindow.cc:2372
 msgid "Remove this document from the index ?"
 msgstr "Rimuovere questo documento dall'indice?"
 
-#: UI/GTK2/src/mainWindow.cc:2377
+#: UI/GTK2/src/mainWindow.cc:2391
 msgid "Remove these documents from the index ?"
 msgstr "Rimuovere questi documenti dall'indice?"
 
-#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2396 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Rimuovi dall'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2424
+#: UI/GTK2/src/mainWindow.cc:2438
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Un tool di ricerca per il Desktop Libero"
 
-#: UI/GTK2/src/mainWindow.cc:2425
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Search the Web and your documents !"
 msgstr "Cerca nel Web e nei documenti !"
 
-#: UI/GTK2/src/mainWindow.cc:2470
+#: UI/GTK2/src/mainWindow.cc:2484
 msgid "Index name"
 msgstr "Nome indice"
 
-#: UI/GTK2/src/mainWindow.cc:2485
+#: UI/GTK2/src/mainWindow.cc:2499
 msgid "Couldn't add index"
 msgstr "Impossibile aggiungere l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2515
 msgid "Added new index"
 msgstr "Nuovo indice aggiunto"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2550
 msgid "Couldn't remove index"
 msgstr "Impossibile rimuovere l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2741
+#: UI/GTK2/src/mainWindow.cc:2755
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2857
+#: UI/GTK2/src/mainWindow.cc:2871
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Nessuna operazione completata. Uscire comunque ?"
 
-#: UI/GTK2/src/mainWindow.cc:2859
+#: UI/GTK2/src/mainWindow.cc:2873
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3042
+#: UI/GTK2/src/mainWindow.cc:3056
 msgid "Query name"
 msgstr "Nome Query"
 
-#: UI/GTK2/src/mainWindow.cc:3069
+#: UI/GTK2/src/mainWindow.cc:3083
 msgid "Couldn't update query"
 msgstr "Impossibile aggiornare la query"
 
-#: UI/GTK2/src/mainWindow.cc:3080
+#: UI/GTK2/src/mainWindow.cc:3094
 msgid "Edited query"
 msgstr "Query modificata"
 
-#: UI/GTK2/src/mainWindow.cc:3087
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Couldn't add query"
 msgstr "Impossibile aggiungere la query"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3109
 msgid "Added new query"
 msgstr "Nuova query aggiunto"
 
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:3148
 msgid "Query is not set"
 msgstr "Query non configurata"
 
-#: UI/GTK2/src/mainWindow.cc:3145
+#: UI/GTK2/src/mainWindow.cc:3159
 msgid "No search engine selected"
 msgstr "Nessun motore di ricerca selezionato"
 
-#: UI/GTK2/src/mainWindow.cc:3232
+#: UI/GTK2/src/mainWindow.cc:3246
 msgid "Please set the Google API key first"
 msgstr "Prima inserisci la tua Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3241
+#: UI/GTK2/src/mainWindow.cc:3255
 msgid "Running query"
 msgstr "Query in esecuzione"
 
-#: UI/GTK2/src/mainWindow.cc:3451
+#: UI/GTK2/src/mainWindow.cc:3465
 msgid "No default application defined for type"
 msgstr "Nessuna applicazione di default ? stata definita per tipo"
 
@@ -497,67 +497,67 @@
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:416
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:431
 msgid "Unknown"
 msgstr "Sconosciuto"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:417
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:432
 msgid "Danish"
 msgstr "Danese"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:418
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:433
 msgid "Dutch"
 msgstr "Olandese"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:419
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:434
 msgid "English"
 msgstr "Inglese"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:420
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:435
 msgid "Finnish"
 msgstr "Finlandese"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:421
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:436
 msgid "French"
 msgstr "Francese"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:422
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:437
 msgid "German"
 msgstr "Tedesco"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:423
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:438
 msgid "Hungarian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:424
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:439
 msgid "Italian"
 msgstr "Italiano"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:425
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:440
 msgid "Norwegian"
 msgstr "Norvegese"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:426
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:441
 msgid "Portuguese"
 msgstr "Portoghese"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:427
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:442
 msgid "Romanian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:428
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Russian"
 msgstr "Russo"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:429
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Spanish"
 msgstr "Spagnolo"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:430
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Swedish"
 msgstr "Svedese"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:431
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "Turkish"
 msgstr ""
 
@@ -582,11 +582,11 @@
 msgid "Personal"
 msgstr "Personale"
 
-#: UI/GTK2/src/PinotSettings.cpp:376
+#: UI/GTK2/src/PinotSettings.cpp:350
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1288
+#: UI/GTK2/src/PinotSettings.cpp:1266
 msgid "Unclassified"
 msgstr "Non classificato"
 
@@ -606,19 +606,19 @@
 msgid "Pattern"
 msgstr "Espressione"
 
-#: UI/GTK2/src/prefsDialog.cc:357
+#: UI/GTK2/src/prefsDialog.cc:333
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:358
+#: UI/GTK2/src/prefsDialog.cc:334
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:478
+#: UI/GTK2/src/prefsDialog.cc:483
 msgid "New Label"
 msgstr "Nuova descrizione"
 
-#: UI/GTK2/src/prefsDialog.cc:519
+#: UI/GTK2/src/prefsDialog.cc:524
 msgid "Directory to index"
 msgstr "Directory da indicizzare"
 
@@ -690,11 +690,16 @@
 msgid "File patterns:"
 msgstr "Estensione file"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:143
+#: UI/GTK2/src/prefsDialog_glade.cc:139
+#, fuzzy
+msgid "Reset"
+msgstr "_Risultati"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:144
 msgid "Indexing"
 msgstr "Indicizzando"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:506
+#: UI/GTK2/src/prefsDialog_glade.cc:512
 msgid "Preferences"
 msgstr "Preferenze"
 
@@ -727,69 +732,69 @@
 msgid "bytes"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:94
+#: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Nome host"
 
-#: UI/GTK2/src/queryDialog.cc:95
+#: UI/GTK2/src/queryDialog.cc:111
 msgid "File name"
 msgstr "Nome file"
 
-#: UI/GTK2/src/queryDialog.cc:96
+#: UI/GTK2/src/queryDialog.cc:112
 msgid "File extension"
 msgstr "Estensione file"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "Titolo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
-#: UI/GTK2/src/queryDialog.cc:99
+#: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "Directory"
 
-#: UI/GTK2/src/queryDialog.cc:100
+#: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
 msgstr "Codice di linguaggio"
 
-#: UI/GTK2/src/queryDialog.cc:101
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
 msgstr "Tipo MIME"
 
-#: UI/GTK2/src/queryDialog.cc:102
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:103
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
 msgstr "Descrizione"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Data"
 
-#: UI/GTK2/src/queryDialog.cc:107
+#: UI/GTK2/src/queryDialog.cc:123
 #, fuzzy
 msgid "Time"
 msgstr "Titolo"
 
-#: UI/GTK2/src/queryDialog.cc:108
+#: UI/GTK2/src/queryDialog.cc:124
 #, fuzzy
 msgid "Size"
 msgstr "Dimesione"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:112
+#: UI/GTK2/src/queryDialog.cc:128
 msgid "By relevance"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:113
+#: UI/GTK2/src/queryDialog.cc:129
 #, fuzzy
 msgid "By date"
 msgstr "Aggiorna"
@@ -819,7 +824,11 @@
 msgid "Stemming:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:201
+#: UI/GTK2/src/queryDialog_glade.cc:94
+msgid "Only index new results"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Parametri di Ricerca"
 
@@ -840,41 +849,49 @@
 msgid "Daemon"
 msgstr "Demone"
 
-#: UI/GTK2/src/statisticsDialog.cc:144 UI/GTK2/src/statisticsDialog.cc:160
+#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
 msgid "documents"
 msgstr "documenti"
 
-#: UI/GTK2/src/statisticsDialog.cc:150 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
 #: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "errore Sconosciuto"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "Viewed"
 msgstr "Visti"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "results"
 msgstr "risultati"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "Crawled"
 msgstr "Analizzati"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "files"
 msgstr "files"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:196
+#: UI/GTK2/src/statisticsDialog.cc:199
 msgid "Running under PID"
 msgstr "Avviato con PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:205
+msgid "Disconnected from D-Bus"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:209
+msgid "Stopped"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:213
 msgid "Currently not running"
 msgstr "Attualmente non in esecuzione"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:243
 msgid "Errors"
 msgstr "Errori"
 
@@ -960,6 +977,6 @@
 msgid "is blacklisted"
 msgstr "e' blacklistato"
 
-#: UI/GTK2/src/WorkerThreads.cpp:973
+#: UI/GTK2/src/WorkerThreads.cpp:961
 msgid "No title"
 msgstr "Nessun titolo"

Modified: trunk/po/nl.po
===================================================================
--- trunk/po/nl.po	2008-03-26 06:24:03 UTC (rev 1220)
+++ trunk/po/nl.po	2008-03-27 02:00:36 UTC (rev 1221)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.83\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-27 23:50+0800\n"
+"POT-Creation-Date: 2008-03-26 14:43+0800\n"
 "PO-Revision-Date: 2008-01-15 00:13+0000\n"
 "Last-Translator: JW <jw00000 at gmail.com>\n"
 "Language-Team: Dutch <nl at li.org>\n"
@@ -28,22 +28,22 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
-#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
-#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
-#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1010
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:760
+#: UI/GTK2/src/mainWindow.cc:984 UI/GTK2/src/mainWindow.cc:1283
+#: UI/GTK2/src/mainWindow.cc:1504 UI/GTK2/src/mainWindow.cc:1540
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:2273
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1470
+#: UI/GTK2/src/PinotSettings.cpp:1526 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:998
 msgid "My Web Pages"
 msgstr "Mijn webpagina's"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
-#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
-#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
-#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:763
+#: UI/GTK2/src/mainWindow.cc:978 UI/GTK2/src/mainWindow.cc:1287
+#: UI/GTK2/src/mainWindow.cc:2277 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1471 UI/GTK2/src/PinotSettings.cpp:1527
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1008
 msgid "My Documents"
 msgstr "Mijn documenten"
 
@@ -89,8 +89,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
-#: UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Geen"
 
@@ -199,200 +199,200 @@
 msgid "Update"
 msgstr "Verversen"
 
-#: UI/GTK2/src/mainWindow.cc:322
+#: UI/GTK2/src/mainWindow.cc:314
 msgid "N/A"
 msgstr "NVT"
 
-#: UI/GTK2/src/mainWindow.cc:337
+#: UI/GTK2/src/mainWindow.cc:329
 msgid "Undefined"
 msgstr "Niet gedefinieerd"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+#: UI/GTK2/src/mainWindow.cc:552 UI/GTK2/src/mainWindow.cc:2662
 msgid "Live query"
 msgstr "Rechtstreekse query"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:700
+#: UI/GTK2/src/mainWindow.cc:692
 msgid "Result location is"
 msgstr "Uitvoerlocatie is"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:782
+#: UI/GTK2/src/mainWindow.cc:774
 msgid "Document location is"
 msgstr "Documentlocatie is"
 
-#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+#: UI/GTK2/src/mainWindow.cc:960 UI/GTK2/src/mainWindow.cc:2098
 msgid "Couldn't find query"
 msgstr "Kon query niet vinden"
 
-#: UI/GTK2/src/mainWindow.cc:982
+#: UI/GTK2/src/mainWindow.cc:974
 msgid "In Results"
 msgstr "In de resultaten"
 
-#: UI/GTK2/src/mainWindow.cc:1166
+#: UI/GTK2/src/mainWindow.cc:1167
 msgid "Showing"
 msgstr "Aan het tonen"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1172
 msgid "of"
 msgstr "van"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "documents, starting at"
 msgstr "documenten, beginnend bij"
 
-#: UI/GTK2/src/mainWindow.cc:1210
+#: UI/GTK2/src/mainWindow.cc:1219
 msgid "Query"
 msgstr "Query"
 
-#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+#: UI/GTK2/src/mainWindow.cc:1223 UI/GTK2/src/mainWindow.cc:3259
 msgid "on"
 msgstr "op"
 
-#: UI/GTK2/src/mainWindow.cc:1218
+#: UI/GTK2/src/mainWindow.cc:1227
 msgid "ended"
 msgstr "Beeindigd"
 
-#: UI/GTK2/src/mainWindow.cc:1284
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Corrected"
 msgstr "Gecorrigeerd"
 
-#: UI/GTK2/src/mainWindow.cc:1373
+#: UI/GTK2/src/mainWindow.cc:1387
 msgid "More Like"
 msgstr "Meer zoals"
 
-#: UI/GTK2/src/mainWindow.cc:1416
+#: UI/GTK2/src/mainWindow.cc:1430
 msgid "Updated label(s)"
 msgstr "Vernieuwde na(a)m(en)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+#: UI/GTK2/src/mainWindow.cc:1514 UI/GTK2/src/mainWindow.cc:1602
 msgid "Updated document"
 msgstr "Vernieuwd document"
 
-#: UI/GTK2/src/mainWindow.cc:1513
+#: UI/GTK2/src/mainWindow.cc:1527
 msgid "Indexed"
 msgstr "Geindexeerd"
 
-#: UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1563
 msgid "Unindexed document(s)"
 msgstr "Niet geindexeerd(e) document(en)"
 
-#: UI/GTK2/src/mainWindow.cc:1646
+#: UI/GTK2/src/mainWindow.cc:1660
 msgid "Couldn't rename index, name"
 msgstr "Kon index niet hernoemen, naam"
 
-#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
-#: UI/GTK2/src/mainWindow.cc:3046
+#: UI/GTK2/src/mainWindow.cc:1664 UI/GTK2/src/mainWindow.cc:2488
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "is already in use"
 msgstr "is reeds in gebruik"
 
-#: UI/GTK2/src/mainWindow.cc:1663
+#: UI/GTK2/src/mainWindow.cc:1677
 msgid "Couldn't rename index"
 msgstr "Kon index niet hernoemen"
 
-#: UI/GTK2/src/mainWindow.cc:1676
+#: UI/GTK2/src/mainWindow.cc:1690
 msgid "Edited index"
 msgstr "Bewerkte index"
 
-#: UI/GTK2/src/mainWindow.cc:2004
+#: UI/GTK2/src/mainWindow.cc:2018
 msgid "Export Results"
 msgstr "Resultaten exporteren"
 
-#: UI/GTK2/src/mainWindow.cc:2276
+#: UI/GTK2/src/mainWindow.cc:2290
 msgid "Index"
 msgstr "Inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2280
+#: UI/GTK2/src/mainWindow.cc:2294
 msgid "doesn't exist"
 msgstr "bestaat niet"
 
-#: UI/GTK2/src/mainWindow.cc:2358
+#: UI/GTK2/src/mainWindow.cc:2372
 msgid "Remove this document from the index ?"
 msgstr "Verwijder dit document uit de inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2377
+#: UI/GTK2/src/mainWindow.cc:2391
 msgid "Remove these documents from the index ?"
 msgstr "Verwijder deze documenten uit de inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2396 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "De-indexeren"
 
-#: UI/GTK2/src/mainWindow.cc:2424
+#: UI/GTK2/src/mainWindow.cc:2438
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Een metazoek tool voor de Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2425
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Search the Web and your documents !"
 msgstr "Zoek het web en uw documenten!"
 
-#: UI/GTK2/src/mainWindow.cc:2470
+#: UI/GTK2/src/mainWindow.cc:2484
 msgid "Index name"
 msgstr "Naam inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2485
+#: UI/GTK2/src/mainWindow.cc:2499
 msgid "Couldn't add index"
 msgstr "Kon inhoudsopgave niet toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2515
 msgid "Added new index"
 msgstr "Nieuwe inhoudsopgave toegevoegd"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2550
 msgid "Couldn't remove index"
 msgstr "Kon inhoudsopgave niet verwijderen"
 
-#: UI/GTK2/src/mainWindow.cc:2741
+#: UI/GTK2/src/mainWindow.cc:2755
 msgid "No history for"
 msgstr "Geen geschiedenis voor"
 
-#: UI/GTK2/src/mainWindow.cc:2857
+#: UI/GTK2/src/mainWindow.cc:2871
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Tenminste een taak is nog niet gereed. Nu stoppen?"
 
-#: UI/GTK2/src/mainWindow.cc:2859
+#: UI/GTK2/src/mainWindow.cc:2873
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3042
+#: UI/GTK2/src/mainWindow.cc:3056
 msgid "Query name"
 msgstr "Naam query"
 
-#: UI/GTK2/src/mainWindow.cc:3069
+#: UI/GTK2/src/mainWindow.cc:3083
 msgid "Couldn't update query"
 msgstr "Kon query niet actualiseren"
 
-#: UI/GTK2/src/mainWindow.cc:3080
+#: UI/GTK2/src/mainWindow.cc:3094
 msgid "Edited query"
 msgstr "Bewerkte query"
 
-#: UI/GTK2/src/mainWindow.cc:3087
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Couldn't add query"
 msgstr "Kon query niet toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3109
 msgid "Added new query"
 msgstr "Nieuwe query toegevoegd"
 
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:3148
 msgid "Query is not set"
 msgstr "Query niet vastgelegd"
 
-#: UI/GTK2/src/mainWindow.cc:3145
+#: UI/GTK2/src/mainWindow.cc:3159
 msgid "No search engine selected"
 msgstr "Geen zoekmachine geselecteerd"
 
-#: UI/GTK2/src/mainWindow.cc:3232
+#: UI/GTK2/src/mainWindow.cc:3246
 msgid "Please set the Google API key first"
 msgstr "Geef eerst de Google API sleutel in"
 
-#: UI/GTK2/src/mainWindow.cc:3241
+#: UI/GTK2/src/mainWindow.cc:3255
 msgid "Running query"
 msgstr "Lopende query"
 
-#: UI/GTK2/src/mainWindow.cc:3451
+#: UI/GTK2/src/mainWindow.cc:3465
 msgid "No default application defined for type"
 msgstr "Geen standaard toepassing gedefinieerd voor het type"
 
@@ -491,67 +491,67 @@
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:416
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:431
 msgid "Unknown"
 msgstr "Niet bekend"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:417
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:432
 msgid "Danish"
 msgstr "Deens"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:418
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:433
 msgid "Dutch"
 msgstr "Nederlands"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:419
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:434
 msgid "English"
 msgstr "Engels"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:420
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:435
 msgid "Finnish"
 msgstr "Fins"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:421
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:436
 msgid "French"
 msgstr "Frans"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:422
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:437
 msgid "German"
 msgstr "Duits"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:423
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:438
 msgid "Hungarian"
 msgstr "Hongaars"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:424
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:439
 msgid "Italian"
 msgstr "Italiaans"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:425
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:440
 msgid "Norwegian"
 msgstr "Noors"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:426
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:441
 msgid "Portuguese"
 msgstr "Portugees"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:427
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:442
 msgid "Romanian"
 msgstr "Roemeens"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:428
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Russian"
 msgstr "Russisch"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:429
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Spanish"
 msgstr "Spaans"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:430
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Swedish"
 msgstr "Zweeds"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:431
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "Turkish"
 msgstr "Turks"
 
@@ -576,11 +576,11 @@
 msgid "Personal"
 msgstr "Persoonlijk"
 
-#: UI/GTK2/src/PinotSettings.cpp:376
+#: UI/GTK2/src/PinotSettings.cpp:350
 msgid "Me"
 msgstr "Ik"
 
-#: UI/GTK2/src/PinotSettings.cpp:1288
+#: UI/GTK2/src/PinotSettings.cpp:1266
 msgid "Unclassified"
 msgstr "Niet geclassificeerd"
 
@@ -600,19 +600,19 @@
 msgid "Pattern"
 msgstr "Patroon"
 
-#: UI/GTK2/src/prefsDialog.cc:357
+#: UI/GTK2/src/prefsDialog.cc:333
 msgid "Exclude these patterns from indexing"
 msgstr "Deze patronen niet indexeren"
 
-#: UI/GTK2/src/prefsDialog.cc:358
+#: UI/GTK2/src/prefsDialog.cc:334
 msgid "Only index these patterns"
 msgstr "Enkel deze patronen indexeren"
 
-#: UI/GTK2/src/prefsDialog.cc:478
+#: UI/GTK2/src/prefsDialog.cc:483
 msgid "New Label"
 msgstr "Nieuwe naam"
 
-#: UI/GTK2/src/prefsDialog.cc:519
+#: UI/GTK2/src/prefsDialog.cc:524
 msgid "Directory to index"
 msgstr "Directory naar inhoudsopgave"
 
@@ -684,11 +684,16 @@
 msgid "File patterns:"
 msgstr "Bestandspatronen:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:143
+#: UI/GTK2/src/prefsDialog_glade.cc:139
+#, fuzzy
+msgid "Reset"
+msgstr "_Resultaten"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:144
 msgid "Indexing"
 msgstr "Aan het indexeren"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:506
+#: UI/GTK2/src/prefsDialog_glade.cc:512
 msgid "Preferences"
 msgstr "Voorkeuren"
 
@@ -720,67 +725,67 @@
 msgid "bytes"
 msgstr "bytes"
 
-#: UI/GTK2/src/queryDialog.cc:94
+#: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Hostnaam"
 
-#: UI/GTK2/src/queryDialog.cc:95
+#: UI/GTK2/src/queryDialog.cc:111
 msgid "File name"
 msgstr "Bestandsnaam"
 
-#: UI/GTK2/src/queryDialog.cc:96
+#: UI/GTK2/src/queryDialog.cc:112
 msgid "File extension"
 msgstr "Bestandsextensie"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "Titel"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
-#: UI/GTK2/src/queryDialog.cc:99
+#: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "Map"
 
-#: UI/GTK2/src/queryDialog.cc:100
+#: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
 msgstr "Taal code"
 
-#: UI/GTK2/src/queryDialog.cc:101
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
 msgstr "MIME type"
 
-#: UI/GTK2/src/queryDialog.cc:102
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:103
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
 msgstr "Bijschrift"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Datum"
 
-#: UI/GTK2/src/queryDialog.cc:107
+#: UI/GTK2/src/queryDialog.cc:123
 msgid "Time"
 msgstr "Tijd"
 
-#: UI/GTK2/src/queryDialog.cc:108
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Size"
 msgstr "Grootte"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:112
+#: UI/GTK2/src/queryDialog.cc:128
 msgid "By relevance"
 msgstr "Volgens relevantie"
 
-#: UI/GTK2/src/queryDialog.cc:113
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By date"
 msgstr "Volgens datum"
 
@@ -808,7 +813,12 @@
 msgid "Stemming:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:201
+#: UI/GTK2/src/queryDialog_glade.cc:94
+#, fuzzy
+msgid "Only index new results"
+msgstr "Enkel deze patronen indexeren"
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Queryparameters"
 
@@ -829,41 +839,49 @@
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:144 UI/GTK2/src/statisticsDialog.cc:160
+#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
 msgid "documents"
 msgstr "documenten"
 
-#: UI/GTK2/src/statisticsDialog.cc:150 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
 #: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Onbekende fout."
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "Viewed"
 msgstr "Weergegeven"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "results"
 msgstr "resultaten"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "Crawled"
 msgstr "Gecrawld"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "files"
 msgstr "bestanden"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:196
+#: UI/GTK2/src/statisticsDialog.cc:199
 msgid "Running under PID"
 msgstr "Wordt uitgevoerd on het PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:205
+msgid "Disconnected from D-Bus"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:209
+msgid "Stopped"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:213
 msgid "Currently not running"
 msgstr "Wordt momenteel niet uitgevoerd"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:243
 msgid "Errors"
 msgstr "Fouten"
 
@@ -943,6 +961,6 @@
 msgid "is blacklisted"
 msgstr "staat op blacklist"
 
-#: UI/GTK2/src/WorkerThreads.cpp:973
+#: UI/GTK2/src/WorkerThreads.cpp:961
 msgid "No title"
 msgstr "Geen titel"

Modified: trunk/po/pt.po
===================================================================
--- trunk/po/pt.po	2008-03-26 06:24:03 UTC (rev 1220)
+++ trunk/po/pt.po	2008-03-27 02:00:36 UTC (rev 1221)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.83\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-27 23:50+0800\n"
+"POT-Creation-Date: 2008-03-26 14:43+0800\n"
 "PO-Revision-Date: 2008-01-15 00:12+0000\n"
 "Last-Translator: _PN_boy <pedro_nuno_pn at iol.pt>\n"
 "Language-Team: Portuguese <pt at li.org>\n"
@@ -29,22 +29,22 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
-#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
-#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
-#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1010
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:760
+#: UI/GTK2/src/mainWindow.cc:984 UI/GTK2/src/mainWindow.cc:1283
+#: UI/GTK2/src/mainWindow.cc:1504 UI/GTK2/src/mainWindow.cc:1540
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:2273
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1470
+#: UI/GTK2/src/PinotSettings.cpp:1526 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:998
 msgid "My Web Pages"
 msgstr "As minhas p?ginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
-#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
-#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
-#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:763
+#: UI/GTK2/src/mainWindow.cc:978 UI/GTK2/src/mainWindow.cc:1287
+#: UI/GTK2/src/mainWindow.cc:2277 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1471 UI/GTK2/src/PinotSettings.cpp:1527
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1008
 msgid "My Documents"
 msgstr "Os Meus Documentos"
 
@@ -90,8 +90,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
-#: UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Nenhum"
 
@@ -203,202 +203,202 @@
 msgid "Update"
 msgstr "Actualizar"
 
-#: UI/GTK2/src/mainWindow.cc:322
+#: UI/GTK2/src/mainWindow.cc:314
 msgid "N/A"
 msgstr "N/D"
 
-#: UI/GTK2/src/mainWindow.cc:337
+#: UI/GTK2/src/mainWindow.cc:329
 msgid "Undefined"
 msgstr "Indefinido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+#: UI/GTK2/src/mainWindow.cc:552 UI/GTK2/src/mainWindow.cc:2662
 msgid "Live query"
 msgstr "Consulta activa"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:700
+#: UI/GTK2/src/mainWindow.cc:692
 msgid "Result location is"
 msgstr "A localiza??o do resultado ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:782
+#: UI/GTK2/src/mainWindow.cc:774
 msgid "Document location is"
 msgstr "A localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+#: UI/GTK2/src/mainWindow.cc:960 UI/GTK2/src/mainWindow.cc:2098
 msgid "Couldn't find query"
 msgstr "N?o foi poss?vel encontrar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:982
+#: UI/GTK2/src/mainWindow.cc:974
 #, fuzzy
 msgid "In Results"
 msgstr "resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1166
+#: UI/GTK2/src/mainWindow.cc:1167
 msgid "Showing"
 msgstr "Visualizando"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1172
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "documents, starting at"
 msgstr "documentos, come?ando em"
 
-#: UI/GTK2/src/mainWindow.cc:1210
+#: UI/GTK2/src/mainWindow.cc:1219
 msgid "Query"
 msgstr "Pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+#: UI/GTK2/src/mainWindow.cc:1223 UI/GTK2/src/mainWindow.cc:3259
 msgid "on"
 msgstr "activar"
 
-#: UI/GTK2/src/mainWindow.cc:1218
+#: UI/GTK2/src/mainWindow.cc:1227
 msgid "ended"
 msgstr "terminado"
 
-#: UI/GTK2/src/mainWindow.cc:1284
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1373
+#: UI/GTK2/src/mainWindow.cc:1387
 msgid "More Like"
 msgstr "Mais identico"
 
-#: UI/GTK2/src/mainWindow.cc:1416
+#: UI/GTK2/src/mainWindow.cc:1430
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+#: UI/GTK2/src/mainWindow.cc:1514 UI/GTK2/src/mainWindow.cc:1602
 msgid "Updated document"
 msgstr "Documento actualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1513
+#: UI/GTK2/src/mainWindow.cc:1527
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1563
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1646
+#: UI/GTK2/src/mainWindow.cc:1660
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear o ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
-#: UI/GTK2/src/mainWindow.cc:3046
+#: UI/GTK2/src/mainWindow.cc:1664 UI/GTK2/src/mainWindow.cc:2488
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1663
+#: UI/GTK2/src/mainWindow.cc:1677
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1676
+#: UI/GTK2/src/mainWindow.cc:1690
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2004
+#: UI/GTK2/src/mainWindow.cc:2018
 #, fuzzy
 msgid "Export Results"
 msgstr "resultados"
 
-#: UI/GTK2/src/mainWindow.cc:2276
+#: UI/GTK2/src/mainWindow.cc:2290
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2280
+#: UI/GTK2/src/mainWindow.cc:2294
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2358
+#: UI/GTK2/src/mainWindow.cc:2372
 msgid "Remove this document from the index ?"
 msgstr "Remover este documento do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2377
+#: UI/GTK2/src/mainWindow.cc:2391
 msgid "Remove these documents from the index ?"
 msgstr "Remover estes documentos do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2396 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2424
+#: UI/GTK2/src/mainWindow.cc:2438
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca para o Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2425
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Search the Web and your documents !"
 msgstr "Pesquise a Web e os seus documentos"
 
-#: UI/GTK2/src/mainWindow.cc:2470
+#: UI/GTK2/src/mainWindow.cc:2484
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2485
+#: UI/GTK2/src/mainWindow.cc:2499
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2515
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2550
 msgid "Couldn't remove index"
 msgstr "N?o foi possivel remover o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2741
+#: UI/GTK2/src/mainWindow.cc:2755
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2857
+#: UI/GTK2/src/mainWindow.cc:2871
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa ainda n?o foi concluida. Sair agora?"
 
-#: UI/GTK2/src/mainWindow.cc:2859
+#: UI/GTK2/src/mainWindow.cc:2873
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3042
+#: UI/GTK2/src/mainWindow.cc:3056
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3069
+#: UI/GTK2/src/mainWindow.cc:3083
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel actualizar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3080
+#: UI/GTK2/src/mainWindow.cc:3094
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3087
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3109
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:3148
 msgid "Query is not set"
 msgstr "Consulta n?o foi actualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3145
+#: UI/GTK2/src/mainWindow.cc:3159
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa seleccionado"
 
-#: UI/GTK2/src/mainWindow.cc:3232
+#: UI/GTK2/src/mainWindow.cc:3246
 msgid "Please set the Google API key first"
 msgstr "Primeiro escolha a tecla para a API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3241
+#: UI/GTK2/src/mainWindow.cc:3255
 msgid "Running query"
 msgstr "A executar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3451
+#: UI/GTK2/src/mainWindow.cc:3465
 msgid "No default application defined for type"
 msgstr "Nenhuma aplica??o associada ao tipo"
 
@@ -498,67 +498,67 @@
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:416
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:431
 msgid "Unknown"
 msgstr "Desconhecido"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:417
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:432
 msgid "Danish"
 msgstr "Dinamarqu?s"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:418
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:433
 msgid "Dutch"
 msgstr "Holand?s"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:419
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:434
 msgid "English"
 msgstr "Ingl?s"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:420
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:435
 msgid "Finnish"
 msgstr "Finl?ndes"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:421
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:436
 msgid "French"
 msgstr "Franc?s"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:422
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:437
 msgid "German"
 msgstr "Alem?o"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:423
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:438
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:424
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:439
 msgid "Italian"
 msgstr "Italiano"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:425
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:440
 msgid "Norwegian"
 msgstr "Noruegu?s"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:426
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:441
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:427
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:442
 msgid "Romanian"
 msgstr "Romeno"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:428
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Russian"
 msgstr "Russo"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:429
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Spanish"
 msgstr "Espanhol"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:430
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Swedish"
 msgstr "Sueco"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:431
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "Turkish"
 msgstr "Turco"
 
@@ -583,11 +583,11 @@
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:376
+#: UI/GTK2/src/PinotSettings.cpp:350
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1288
+#: UI/GTK2/src/PinotSettings.cpp:1266
 msgid "Unclassified"
 msgstr "N?o classificado"
 
@@ -607,19 +607,19 @@
 msgid "Pattern"
 msgstr "Padr?o:"
 
-#: UI/GTK2/src/prefsDialog.cc:357
+#: UI/GTK2/src/prefsDialog.cc:333
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:358
+#: UI/GTK2/src/prefsDialog.cc:334
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:478
+#: UI/GTK2/src/prefsDialog.cc:483
 msgid "New Label"
 msgstr "Novo t?tulo"
 
-#: UI/GTK2/src/prefsDialog.cc:519
+#: UI/GTK2/src/prefsDialog.cc:524
 msgid "Directory to index"
 msgstr "Direct?rio a indexar"
 
@@ -691,11 +691,16 @@
 msgid "File patterns:"
 msgstr "Extens?o do ficheiro"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:143
+#: UI/GTK2/src/prefsDialog_glade.cc:139
+#, fuzzy
+msgid "Reset"
+msgstr "_Resultados"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:144
 msgid "Indexing"
 msgstr "Indexando"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:506
+#: UI/GTK2/src/prefsDialog_glade.cc:512
 msgid "Preferences"
 msgstr "Prefer?ncias"
 
@@ -728,68 +733,68 @@
 msgid "bytes"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:94
+#: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Nome da m?quina"
 
-#: UI/GTK2/src/queryDialog.cc:95
+#: UI/GTK2/src/queryDialog.cc:111
 msgid "File name"
 msgstr "Nome do ficheiro"
 
-#: UI/GTK2/src/queryDialog.cc:96
+#: UI/GTK2/src/queryDialog.cc:112
 msgid "File extension"
 msgstr "Extens?o do ficheiro"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "Titulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
-#: UI/GTK2/src/queryDialog.cc:99
+#: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "Direct?rio"
 
-#: UI/GTK2/src/queryDialog.cc:100
+#: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
 msgstr "C?digo do idioma"
 
-#: UI/GTK2/src/queryDialog.cc:101
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
 msgstr "Tipo MIME"
 
-#: UI/GTK2/src/queryDialog.cc:102
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:103
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
 msgstr "Etiqueta"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Data"
 
-#: UI/GTK2/src/queryDialog.cc:107
+#: UI/GTK2/src/queryDialog.cc:123
 msgid "Time"
 msgstr "Tempo"
 
-#: UI/GTK2/src/queryDialog.cc:108
+#: UI/GTK2/src/queryDialog.cc:124
 #, fuzzy
 msgid "Size"
 msgstr "Tamanho:"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:112
+#: UI/GTK2/src/queryDialog.cc:128
 msgid "By relevance"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:113
+#: UI/GTK2/src/queryDialog.cc:129
 #, fuzzy
 msgid "By date"
 msgstr "Actualizar"
@@ -819,7 +824,11 @@
 msgid "Stemming:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:201
+#: UI/GTK2/src/queryDialog_glade.cc:94
+msgid "Only index new results"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Par?metros da consulta"
 
@@ -840,41 +849,49 @@
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:144 UI/GTK2/src/statisticsDialog.cc:160
+#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
 msgid "documents"
 msgstr "documentos"
 
-#: UI/GTK2/src/statisticsDialog.cc:150 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
 #: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Erro desconhecido"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "Viewed"
 msgstr "Visualizado"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "results"
 msgstr "resultados"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "files"
 msgstr "ficheiros"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:196
+#: UI/GTK2/src/statisticsDialog.cc:199
 msgid "Running under PID"
 msgstr "A correr com o PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:205
+msgid "Disconnected from D-Bus"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:209
+msgid "Stopped"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:213
 msgid "Currently not running"
 msgstr "Presentemente n?o est? a correr"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:243
 msgid "Errors"
 msgstr "Erros"
 
@@ -961,6 +978,6 @@
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:973
+#: UI/GTK2/src/WorkerThreads.cpp:961
 msgid "No title"
 msgstr "Sem t?tulo"

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2008-03-26 06:24:03 UTC (rev 1220)
+++ trunk/po/pt_BR.po	2008-03-27 02:00:36 UTC (rev 1221)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.83\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-27 23:50+0800\n"
+"POT-Creation-Date: 2008-03-26 14:43+0800\n"
 "PO-Revision-Date: 2008-01-15 00:15+0000\n"
 "Last-Translator: Leonardo Melo <leonardovazmelo at gmail.com>\n"
 "Language-Team: Portuguese (Brazil) <pt_BR at li.org>\n"
@@ -28,22 +28,22 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
-#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
-#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
-#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1010
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:760
+#: UI/GTK2/src/mainWindow.cc:984 UI/GTK2/src/mainWindow.cc:1283
+#: UI/GTK2/src/mainWindow.cc:1504 UI/GTK2/src/mainWindow.cc:1540
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:2273
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1470
+#: UI/GTK2/src/PinotSettings.cpp:1526 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:998
 msgid "My Web Pages"
 msgstr "Minhas P?ginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
-#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
-#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
-#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:763
+#: UI/GTK2/src/mainWindow.cc:978 UI/GTK2/src/mainWindow.cc:1287
+#: UI/GTK2/src/mainWindow.cc:2277 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1471 UI/GTK2/src/PinotSettings.cpp:1527
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1008
 msgid "My Documents"
 msgstr "Meus Documentos"
 
@@ -90,8 +90,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
-#: UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Nenhum"
 
@@ -201,203 +201,203 @@
 msgid "Update"
 msgstr "Atualizar"
 
-#: UI/GTK2/src/mainWindow.cc:322
+#: UI/GTK2/src/mainWindow.cc:314
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:337
+#: UI/GTK2/src/mainWindow.cc:329
 #, fuzzy
 msgid "Undefined"
 msgstr "<indefinido>"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+#: UI/GTK2/src/mainWindow.cc:552 UI/GTK2/src/mainWindow.cc:2662
 msgid "Live query"
 msgstr "Query ativa"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:700
+#: UI/GTK2/src/mainWindow.cc:692
 msgid "Result location is"
 msgstr "Local resultante ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:782
+#: UI/GTK2/src/mainWindow.cc:774
 msgid "Document location is"
 msgstr "Localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+#: UI/GTK2/src/mainWindow.cc:960 UI/GTK2/src/mainWindow.cc:2098
 msgid "Couldn't find query"
 msgstr "N?o foi poss?vel encontrar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:982
+#: UI/GTK2/src/mainWindow.cc:974
 #, fuzzy
 msgid "In Results"
 msgstr "_Resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1166
+#: UI/GTK2/src/mainWindow.cc:1167
 msgid "Showing"
 msgstr "Exibindo"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1172
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "documents, starting at"
 msgstr "documentos, come?am no"
 
-#: UI/GTK2/src/mainWindow.cc:1210
+#: UI/GTK2/src/mainWindow.cc:1219
 msgid "Query"
 msgstr "Consulta"
 
-#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+#: UI/GTK2/src/mainWindow.cc:1223 UI/GTK2/src/mainWindow.cc:3259
 msgid "on"
 msgstr "no"
 
-#: UI/GTK2/src/mainWindow.cc:1218
+#: UI/GTK2/src/mainWindow.cc:1227
 msgid "ended"
 msgstr "finalizada"
 
-#: UI/GTK2/src/mainWindow.cc:1284
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1373
+#: UI/GTK2/src/mainWindow.cc:1387
 msgid "More Like"
 msgstr "Mais pr?xima"
 
-#: UI/GTK2/src/mainWindow.cc:1416
+#: UI/GTK2/src/mainWindow.cc:1430
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+#: UI/GTK2/src/mainWindow.cc:1514 UI/GTK2/src/mainWindow.cc:1602
 msgid "Updated document"
 msgstr "Documento atualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1513
+#: UI/GTK2/src/mainWindow.cc:1527
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1563
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexidado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1646
+#: UI/GTK2/src/mainWindow.cc:1660
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
-#: UI/GTK2/src/mainWindow.cc:3046
+#: UI/GTK2/src/mainWindow.cc:1664 UI/GTK2/src/mainWindow.cc:2488
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1663
+#: UI/GTK2/src/mainWindow.cc:1677
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1676
+#: UI/GTK2/src/mainWindow.cc:1690
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2004
+#: UI/GTK2/src/mainWindow.cc:2018
 #, fuzzy
 msgid "Export Results"
 msgstr "_Resultados"
 
-#: UI/GTK2/src/mainWindow.cc:2276
+#: UI/GTK2/src/mainWindow.cc:2290
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2280
+#: UI/GTK2/src/mainWindow.cc:2294
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2358
+#: UI/GTK2/src/mainWindow.cc:2372
 msgid "Remove this document from the index ?"
 msgstr "Remover documento do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2377
+#: UI/GTK2/src/mainWindow.cc:2391
 msgid "Remove these documents from the index ?"
 msgstr "Remover documentos do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2396 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2424
+#: UI/GTK2/src/mainWindow.cc:2438
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca gr?tis para Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2425
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Search the Web and your documents !"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2470
+#: UI/GTK2/src/mainWindow.cc:2484
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2485
+#: UI/GTK2/src/mainWindow.cc:2499
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2515
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2550
 msgid "Couldn't remove index"
 msgstr "N?o foi poss?vel remover ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2741
+#: UI/GTK2/src/mainWindow.cc:2755
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2857
+#: UI/GTK2/src/mainWindow.cc:2871
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa n?o terminou ainda. Sair assim mesmo?"
 
-#: UI/GTK2/src/mainWindow.cc:2859
+#: UI/GTK2/src/mainWindow.cc:2873
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3042
+#: UI/GTK2/src/mainWindow.cc:3056
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3069
+#: UI/GTK2/src/mainWindow.cc:3083
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel atualizar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3080
+#: UI/GTK2/src/mainWindow.cc:3094
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3087
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3109
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:3148
 msgid "Query is not set"
 msgstr "Consulta n?o foi atualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3145
+#: UI/GTK2/src/mainWindow.cc:3159
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa selecionado"
 
-#: UI/GTK2/src/mainWindow.cc:3232
+#: UI/GTK2/src/mainWindow.cc:3246
 msgid "Please set the Google API key first"
 msgstr "Primeiro informe a tecla para Google API"
 
-#: UI/GTK2/src/mainWindow.cc:3241
+#: UI/GTK2/src/mainWindow.cc:3255
 msgid "Running query"
 msgstr "Executando consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3451
+#: UI/GTK2/src/mainWindow.cc:3465
 msgid "No default application defined for type"
 msgstr "Aplica??o associada ao tipo n?o definida"
 
@@ -498,67 +498,67 @@
 msgstr "Pino"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:416
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:431
 msgid "Unknown"
 msgstr "Desconhecido"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:417
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:432
 msgid "Danish"
 msgstr "Danish"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:418
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:433
 msgid "Dutch"
 msgstr "Dutch"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:419
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:434
 msgid "English"
 msgstr "English"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:420
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:435
 msgid "Finnish"
 msgstr "Terminar"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:421
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:436
 msgid "French"
 msgstr "French"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:422
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:437
 msgid "German"
 msgstr "German"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:423
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:438
 msgid "Hungarian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:424
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:439
 msgid "Italian"
 msgstr "Italian"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:425
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:440
 msgid "Norwegian"
 msgstr "Norwegian"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:426
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:441
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:427
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:442
 msgid "Romanian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:428
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Russian"
 msgstr "Russian"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:429
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Spanish"
 msgstr "Spanish"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:430
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Swedish"
 msgstr "Swedish"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:431
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "Turkish"
 msgstr ""
 
@@ -583,11 +583,11 @@
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:376
+#: UI/GTK2/src/PinotSettings.cpp:350
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1288
+#: UI/GTK2/src/PinotSettings.cpp:1266
 msgid "Unclassified"
 msgstr "N?o classificado"
 
@@ -607,19 +607,19 @@
 msgid "Pattern"
 msgstr "Conjunto"
 
-#: UI/GTK2/src/prefsDialog.cc:357
+#: UI/GTK2/src/prefsDialog.cc:333
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:358
+#: UI/GTK2/src/prefsDialog.cc:334
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:478
+#: UI/GTK2/src/prefsDialog.cc:483
 msgid "New Label"
 msgstr "Novo t?tulo"
 
-#: UI/GTK2/src/prefsDialog.cc:519
+#: UI/GTK2/src/prefsDialog.cc:524
 msgid "Directory to index"
 msgstr "Diret?rio do ?ndice"
 
@@ -694,11 +694,16 @@
 msgid "File patterns:"
 msgstr "Extens?o do arquivo"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:143
+#: UI/GTK2/src/prefsDialog_glade.cc:139
+#, fuzzy
+msgid "Reset"
+msgstr "_Resultados"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:144
 msgid "Indexing"
 msgstr "Indexando"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:506
+#: UI/GTK2/src/prefsDialog_glade.cc:512
 msgid "Preferences"
 msgstr "Prefer?ncias"
 
@@ -731,69 +736,69 @@
 msgid "bytes"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:94
+#: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Nome do host"
 
-#: UI/GTK2/src/queryDialog.cc:95
+#: UI/GTK2/src/queryDialog.cc:111
 msgid "File name"
 msgstr "Nome do arquivo"
 
-#: UI/GTK2/src/queryDialog.cc:96
+#: UI/GTK2/src/queryDialog.cc:112
 msgid "File extension"
 msgstr "Extens?o do arquivo"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "T?tulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
-#: UI/GTK2/src/queryDialog.cc:99
+#: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "Diret?rio"
 
-#: UI/GTK2/src/queryDialog.cc:100
+#: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
 msgstr "C?digo da l?ngua"
 
-#: UI/GTK2/src/queryDialog.cc:101
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
 msgstr "Tipo MIME"
 
-#: UI/GTK2/src/queryDialog.cc:102
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:103
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
 msgstr "T?tulo"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
 #, fuzzy
 msgid "Date"
 msgstr "no"
 
-#: UI/GTK2/src/queryDialog.cc:107
+#: UI/GTK2/src/queryDialog.cc:123
 #, fuzzy
 msgid "Time"
 msgstr "T?tulo"
 
-#: UI/GTK2/src/queryDialog.cc:108
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Size"
 msgstr ""
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:112
+#: UI/GTK2/src/queryDialog.cc:128
 msgid "By relevance"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:113
+#: UI/GTK2/src/queryDialog.cc:129
 #, fuzzy
 msgid "By date"
 msgstr "Atualizar"
@@ -824,7 +829,11 @@
 msgid "Stemming:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:201
+#: UI/GTK2/src/queryDialog_glade.cc:94
+msgid "Only index new results"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Par?metros da consulta"
 
@@ -846,45 +855,53 @@
 msgid "Daemon"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:144 UI/GTK2/src/statisticsDialog.cc:160
+#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
 #, fuzzy
 msgid "documents"
 msgstr "Meus Documentos"
 
-#: UI/GTK2/src/statisticsDialog.cc:150 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
 #: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 #, fuzzy
 msgid "Viewed"
 msgstr "Visualizar"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 #, fuzzy
 msgid "results"
 msgstr "_Resultados"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "files"
 msgstr ""
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:196
+#: UI/GTK2/src/statisticsDialog.cc:199
 #, fuzzy
 msgid "Running under PID"
 msgstr "Executando consulta"
 
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:205
+msgid "Disconnected from D-Bus"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:209
+msgid "Stopped"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:213
 msgid "Currently not running"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:243
 msgid "Errors"
 msgstr ""
 
@@ -970,6 +987,6 @@
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:973
+#: UI/GTK2/src/WorkerThreads.cpp:961
 msgid "No title"
 msgstr "Sem t?tulo"

Modified: trunk/po/ru.po
===================================================================
--- trunk/po/ru.po	2008-03-26 06:24:03 UTC (rev 1220)
+++ trunk/po/ru.po	2008-03-27 02:00:36 UTC (rev 1221)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.83\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-27 23:50+0800\n"
+"POT-Creation-Date: 2008-03-26 14:43+0800\n"
 "PO-Revision-Date: 2008-01-15 00:16+0000\n"
 "Last-Translator: Sergey Vostrikov <s.vostrikov at gmail.com>\n"
 "Language-Team: Russian <ru at li.org>\n"
@@ -28,22 +28,22 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
-#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
-#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
-#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1010
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:760
+#: UI/GTK2/src/mainWindow.cc:984 UI/GTK2/src/mainWindow.cc:1283
+#: UI/GTK2/src/mainWindow.cc:1504 UI/GTK2/src/mainWindow.cc:1540
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:2273
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1470
+#: UI/GTK2/src/PinotSettings.cpp:1526 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:998
 msgid "My Web Pages"
 msgstr "??? web-????????"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
-#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
-#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
-#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:763
+#: UI/GTK2/src/mainWindow.cc:978 UI/GTK2/src/mainWindow.cc:1287
+#: UI/GTK2/src/mainWindow.cc:2277 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1471 UI/GTK2/src/PinotSettings.cpp:1527
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1008
 msgid "My Documents"
 msgstr "??? ?????????"
 
@@ -90,8 +90,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
-#: UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "???"
 
@@ -201,203 +201,203 @@
 msgid "Update"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:322
+#: UI/GTK2/src/mainWindow.cc:314
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:337
+#: UI/GTK2/src/mainWindow.cc:329
 #, fuzzy
 msgid "Undefined"
 msgstr "<??????????????>"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+#: UI/GTK2/src/mainWindow.cc:552 UI/GTK2/src/mainWindow.cc:2662
 msgid "Live query"
 msgstr "???????? ??????"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:700
+#: UI/GTK2/src/mainWindow.cc:692
 msgid "Result location is"
 msgstr "??????? ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:782
+#: UI/GTK2/src/mainWindow.cc:774
 msgid "Document location is"
 msgstr "???????????? ?????????"
 
-#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+#: UI/GTK2/src/mainWindow.cc:960 UI/GTK2/src/mainWindow.cc:2098
 msgid "Couldn't find query"
 msgstr "?????????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:982
+#: UI/GTK2/src/mainWindow.cc:974
 #, fuzzy
 msgid "In Results"
 msgstr "_?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1166
+#: UI/GTK2/src/mainWindow.cc:1167
 msgid "Showing"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1172
 msgid "of"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "documents, starting at"
 msgstr "??????????, ??????? ?"
 
-#: UI/GTK2/src/mainWindow.cc:1210
+#: UI/GTK2/src/mainWindow.cc:1219
 msgid "Query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+#: UI/GTK2/src/mainWindow.cc:1223 UI/GTK2/src/mainWindow.cc:3259
 msgid "on"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1218
+#: UI/GTK2/src/mainWindow.cc:1227
 msgid "ended"
 msgstr "?????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1284
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1373
+#: UI/GTK2/src/mainWindow.cc:1387
 msgid "More Like"
 msgstr "????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1416
+#: UI/GTK2/src/mainWindow.cc:1430
 msgid "Updated label(s)"
 msgstr "????????? ????? (??)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+#: UI/GTK2/src/mainWindow.cc:1514 UI/GTK2/src/mainWindow.cc:1602
 msgid "Updated document"
 msgstr "??????????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1513
+#: UI/GTK2/src/mainWindow.cc:1527
 msgid "Indexed"
 msgstr "?????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1563
 msgid "Unindexed document(s)"
 msgstr "?? ????????????? ??????????"
 
-#: UI/GTK2/src/mainWindow.cc:1646
+#: UI/GTK2/src/mainWindow.cc:1660
 msgid "Couldn't rename index, name"
 msgstr "?????????? ????????????? ??????, ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
-#: UI/GTK2/src/mainWindow.cc:3046
+#: UI/GTK2/src/mainWindow.cc:1664 UI/GTK2/src/mainWindow.cc:2488
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "is already in use"
 msgstr "??? ????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1663
+#: UI/GTK2/src/mainWindow.cc:1677
 msgid "Couldn't rename index"
 msgstr "?????????? ????????????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1676
+#: UI/GTK2/src/mainWindow.cc:1690
 msgid "Edited index"
 msgstr "?????????????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2004
+#: UI/GTK2/src/mainWindow.cc:2018
 #, fuzzy
 msgid "Export Results"
 msgstr "_?????????"
 
-#: UI/GTK2/src/mainWindow.cc:2276
+#: UI/GTK2/src/mainWindow.cc:2290
 msgid "Index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2280
+#: UI/GTK2/src/mainWindow.cc:2294
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2358
+#: UI/GTK2/src/mainWindow.cc:2372
 msgid "Remove this document from the index ?"
 msgstr "??????? ???????? ?? ??????? ?"
 
-#: UI/GTK2/src/mainWindow.cc:2377
+#: UI/GTK2/src/mainWindow.cc:2391
 msgid "Remove these documents from the index ?"
 msgstr "??????? ??? ????????? ?? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2396 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2424
+#: UI/GTK2/src/mainWindow.cc:2438
 msgid "A metasearch tool for the Free Desktop"
 msgstr "?????????? ?????????? ??? ?????????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:2425
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Search the Web and your documents !"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2470
+#: UI/GTK2/src/mainWindow.cc:2484
 msgid "Index name"
 msgstr "???????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2485
+#: UI/GTK2/src/mainWindow.cc:2499
 msgid "Couldn't add index"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2515
 msgid "Added new index"
 msgstr "???????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2550
 msgid "Couldn't remove index"
 msgstr "?????????? ??????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2741
+#: UI/GTK2/src/mainWindow.cc:2755
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2857
+#: UI/GTK2/src/mainWindow.cc:2871
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?? ??????? ???? ???? ?????? ??? ?? ?????????. ????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2859
+#: UI/GTK2/src/mainWindow.cc:2873
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3042
+#: UI/GTK2/src/mainWindow.cc:3056
 msgid "Query name"
 msgstr "???????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3069
+#: UI/GTK2/src/mainWindow.cc:3083
 msgid "Couldn't update query"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3080
+#: UI/GTK2/src/mainWindow.cc:3094
 msgid "Edited query"
 msgstr "?????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3087
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Couldn't add query"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3109
 msgid "Added new query"
 msgstr "???????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:3148
 msgid "Query is not set"
 msgstr "?????? ?? ??????????"
 
-#: UI/GTK2/src/mainWindow.cc:3145
+#: UI/GTK2/src/mainWindow.cc:3159
 msgid "No search engine selected"
 msgstr "?? ???? ????????? ??????? ?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3232
+#: UI/GTK2/src/mainWindow.cc:3246
 msgid "Please set the Google API key first"
 msgstr "??????????, ??????? ????????????? ???? Google API"
 
-#: UI/GTK2/src/mainWindow.cc:3241
+#: UI/GTK2/src/mainWindow.cc:3255
 msgid "Running query"
 msgstr "?????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3451
+#: UI/GTK2/src/mainWindow.cc:3465
 msgid "No default application defined for type"
 msgstr "?? ???? ?????????? ?? ????????? ?? ?????????? ??? ???? ??????????"
 
@@ -498,67 +498,67 @@
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:416
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:431
 msgid "Unknown"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:417
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:432
 msgid "Danish"
 msgstr "???????"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:418
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:433
 msgid "Dutch"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:419
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:434
 msgid "English"
 msgstr "??????????"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:420
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:435
 msgid "Finnish"
 msgstr "???????"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:421
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:436
 msgid "French"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:422
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:437
 msgid "German"
 msgstr "????????"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:423
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:438
 msgid "Hungarian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:424
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:439
 msgid "Italian"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:425
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:440
 msgid "Norwegian"
 msgstr "??????????"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:426
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:441
 msgid "Portuguese"
 msgstr "?????????????"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:427
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:442
 msgid "Romanian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:428
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Russian"
 msgstr "???????"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:429
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Spanish"
 msgstr "?????????"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:430
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Swedish"
 msgstr "????????"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:431
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "Turkish"
 msgstr ""
 
@@ -583,11 +583,11 @@
 msgid "Personal"
 msgstr "??????"
 
-#: UI/GTK2/src/PinotSettings.cpp:376
+#: UI/GTK2/src/PinotSettings.cpp:350
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1288
+#: UI/GTK2/src/PinotSettings.cpp:1266
 msgid "Unclassified"
 msgstr "??????????????"
 
@@ -607,19 +607,19 @@
 msgid "Pattern"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog.cc:357
+#: UI/GTK2/src/prefsDialog.cc:333
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:358
+#: UI/GTK2/src/prefsDialog.cc:334
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:478
+#: UI/GTK2/src/prefsDialog.cc:483
 msgid "New Label"
 msgstr "????? ?????"
 
-#: UI/GTK2/src/prefsDialog.cc:519
+#: UI/GTK2/src/prefsDialog.cc:524
 msgid "Directory to index"
 msgstr "????? ??? ??????????????"
 
@@ -690,11 +690,16 @@
 msgid "File patterns:"
 msgstr "?????????? ?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:143
+#: UI/GTK2/src/prefsDialog_glade.cc:139
+#, fuzzy
+msgid "Reset"
+msgstr "_?????????"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:144
 msgid "Indexing"
 msgstr "??????????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:506
+#: UI/GTK2/src/prefsDialog_glade.cc:512
 msgid "Preferences"
 msgstr "?????????"
 
@@ -727,69 +732,69 @@
 msgid "bytes"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:94
+#: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "??? ????"
 
-#: UI/GTK2/src/queryDialog.cc:95
+#: UI/GTK2/src/queryDialog.cc:111
 msgid "File name"
 msgstr "????"
 
-#: UI/GTK2/src/queryDialog.cc:96
+#: UI/GTK2/src/queryDialog.cc:112
 msgid "File extension"
 msgstr "?????????? ?????"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "????????"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
-#: UI/GTK2/src/queryDialog.cc:99
+#: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "???????? ??????????"
 
-#: UI/GTK2/src/queryDialog.cc:100
+#: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
 msgstr "??? ?????"
 
-#: UI/GTK2/src/queryDialog.cc:101
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
 msgstr "??? MIME"
 
-#: UI/GTK2/src/queryDialog.cc:102
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:103
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
 msgstr "?????"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
 #, fuzzy
 msgid "Date"
 msgstr "?"
 
-#: UI/GTK2/src/queryDialog.cc:107
+#: UI/GTK2/src/queryDialog.cc:123
 #, fuzzy
 msgid "Time"
 msgstr "????????"
 
-#: UI/GTK2/src/queryDialog.cc:108
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Size"
 msgstr ""
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:112
+#: UI/GTK2/src/queryDialog.cc:128
 msgid "By relevance"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:113
+#: UI/GTK2/src/queryDialog.cc:129
 #, fuzzy
 msgid "By date"
 msgstr "????????"
@@ -820,7 +825,11 @@
 msgid "Stemming:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:201
+#: UI/GTK2/src/queryDialog_glade.cc:94
+msgid "Only index new results"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "????????? ???????"
 
@@ -842,45 +851,53 @@
 msgid "Daemon"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:144 UI/GTK2/src/statisticsDialog.cc:160
+#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
 #, fuzzy
 msgid "documents"
 msgstr "??? ?????????"
 
-#: UI/GTK2/src/statisticsDialog.cc:150 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
 #: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 #, fuzzy
 msgid "Viewed"
 msgstr "???"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 #, fuzzy
 msgid "results"
 msgstr "_?????????"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "files"
 msgstr ""
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:196
+#: UI/GTK2/src/statisticsDialog.cc:199
 #, fuzzy
 msgid "Running under PID"
 msgstr "?????? ???????"
 
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:205
+msgid "Disconnected from D-Bus"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:209
+msgid "Stopped"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:213
 msgid "Currently not running"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:243
 msgid "Errors"
 msgstr ""
 
@@ -966,6 +983,6 @@
 msgid "is blacklisted"
 msgstr "??????????? ? ?????? ??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:973
+#: UI/GTK2/src/WorkerThreads.cpp:961
 msgid "No title"
 msgstr "??? ????????"

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2008-03-26 06:24:03 UTC (rev 1220)
+++ trunk/po/sv.po	2008-03-27 02:00:36 UTC (rev 1221)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.83\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-27 23:50+0800\n"
+"POT-Creation-Date: 2008-03-26 14:43+0800\n"
 "PO-Revision-Date: 2008-01-15 00:10+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
@@ -29,22 +29,22 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
-#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
-#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
-#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1010
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:760
+#: UI/GTK2/src/mainWindow.cc:984 UI/GTK2/src/mainWindow.cc:1283
+#: UI/GTK2/src/mainWindow.cc:1504 UI/GTK2/src/mainWindow.cc:1540
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:2273
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1470
+#: UI/GTK2/src/PinotSettings.cpp:1526 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:998
 msgid "My Web Pages"
 msgstr "Mina webbsidor"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
-#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
-#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
-#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:763
+#: UI/GTK2/src/mainWindow.cc:978 UI/GTK2/src/mainWindow.cc:1287
+#: UI/GTK2/src/mainWindow.cc:2277 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1471 UI/GTK2/src/PinotSettings.cpp:1527
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1008
 msgid "My Documents"
 msgstr "Mina dokument"
 
@@ -90,8 +90,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
-#: UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Ingen"
 
@@ -198,200 +198,200 @@
 msgid "Update"
 msgstr "Uppdatera"
 
-#: UI/GTK2/src/mainWindow.cc:322
+#: UI/GTK2/src/mainWindow.cc:314
 msgid "N/A"
 msgstr "-"
 
-#: UI/GTK2/src/mainWindow.cc:337
+#: UI/GTK2/src/mainWindow.cc:329
 msgid "Undefined"
 msgstr "Odefinierad"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+#: UI/GTK2/src/mainWindow.cc:552 UI/GTK2/src/mainWindow.cc:2662
 msgid "Live query"
 msgstr "Levande fr?ga"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:700
+#: UI/GTK2/src/mainWindow.cc:692
 msgid "Result location is"
 msgstr "Resultatplatsen ?r"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:782
+#: UI/GTK2/src/mainWindow.cc:774
 msgid "Document location is"
 msgstr "Dokumentplatsen ?r"
 
-#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+#: UI/GTK2/src/mainWindow.cc:960 UI/GTK2/src/mainWindow.cc:2098
 msgid "Couldn't find query"
 msgstr "Kunde inte hitta fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:982
+#: UI/GTK2/src/mainWindow.cc:974
 msgid "In Results"
 msgstr "I resultat"
 
-#: UI/GTK2/src/mainWindow.cc:1166
+#: UI/GTK2/src/mainWindow.cc:1167
 msgid "Showing"
 msgstr "Visar"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1172
 msgid "of"
 msgstr "av"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "documents, starting at"
 msgstr "dokument, b?rjar med"
 
-#: UI/GTK2/src/mainWindow.cc:1210
+#: UI/GTK2/src/mainWindow.cc:1219
 msgid "Query"
 msgstr "Fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+#: UI/GTK2/src/mainWindow.cc:1223 UI/GTK2/src/mainWindow.cc:3259
 msgid "on"
 msgstr "p?"
 
-#: UI/GTK2/src/mainWindow.cc:1218
+#: UI/GTK2/src/mainWindow.cc:1227
 msgid "ended"
 msgstr "slutade"
 
-#: UI/GTK2/src/mainWindow.cc:1284
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Corrected"
 msgstr "R?ttad"
 
-#: UI/GTK2/src/mainWindow.cc:1373
+#: UI/GTK2/src/mainWindow.cc:1387
 msgid "More Like"
 msgstr "Kanske mer som"
 
-#: UI/GTK2/src/mainWindow.cc:1416
+#: UI/GTK2/src/mainWindow.cc:1430
 msgid "Updated label(s)"
 msgstr "Uppdaterade etikett(er)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+#: UI/GTK2/src/mainWindow.cc:1514 UI/GTK2/src/mainWindow.cc:1602
 msgid "Updated document"
 msgstr "Uppdaterade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1513
+#: UI/GTK2/src/mainWindow.cc:1527
 msgid "Indexed"
 msgstr "Indexerade"
 
-#: UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1563
 msgid "Unindexed document(s)"
 msgstr "Ej indexerade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1646
+#: UI/GTK2/src/mainWindow.cc:1660
 msgid "Couldn't rename index, name"
 msgstr "Kunde inte byta namn p? index, namn"
 
-#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
-#: UI/GTK2/src/mainWindow.cc:3046
+#: UI/GTK2/src/mainWindow.cc:1664 UI/GTK2/src/mainWindow.cc:2488
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "is already in use"
 msgstr "anv?nds redan"
 
-#: UI/GTK2/src/mainWindow.cc:1663
+#: UI/GTK2/src/mainWindow.cc:1677
 msgid "Couldn't rename index"
 msgstr "Kunde inte byta namn p? index"
 
-#: UI/GTK2/src/mainWindow.cc:1676
+#: UI/GTK2/src/mainWindow.cc:1690
 msgid "Edited index"
 msgstr "Redigerade index"
 
-#: UI/GTK2/src/mainWindow.cc:2004
+#: UI/GTK2/src/mainWindow.cc:2018
 msgid "Export Results"
 msgstr "Exportera resultat"
 
-#: UI/GTK2/src/mainWindow.cc:2276
+#: UI/GTK2/src/mainWindow.cc:2290
 msgid "Index"
 msgstr "Index"
 
-#: UI/GTK2/src/mainWindow.cc:2280
+#: UI/GTK2/src/mainWindow.cc:2294
 msgid "doesn't exist"
 msgstr "finns inte"
 
-#: UI/GTK2/src/mainWindow.cc:2358
+#: UI/GTK2/src/mainWindow.cc:2372
 msgid "Remove this document from the index ?"
 msgstr "Ta bort detta dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2377
+#: UI/GTK2/src/mainWindow.cc:2391
 msgid "Remove these documents from the index ?"
 msgstr "Ta bort dessa dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2396 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Avindexera"
 
-#: UI/GTK2/src/mainWindow.cc:2424
+#: UI/GTK2/src/mainWindow.cc:2438
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Ett metas?kningsverktyg f?r Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2425
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Search the Web and your documents !"
 msgstr "S?k p? webben och i dina dokument!"
 
-#: UI/GTK2/src/mainWindow.cc:2470
+#: UI/GTK2/src/mainWindow.cc:2484
 msgid "Index name"
 msgstr "Indexnamn"
 
-#: UI/GTK2/src/mainWindow.cc:2485
+#: UI/GTK2/src/mainWindow.cc:2499
 msgid "Couldn't add index"
 msgstr "Kunde inte l?gga till index"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2515
 msgid "Added new index"
 msgstr "Lade till nytt index"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2550
 msgid "Couldn't remove index"
 msgstr "Kunde inte ta bort index"
 
-#: UI/GTK2/src/mainWindow.cc:2741
+#: UI/GTK2/src/mainWindow.cc:2755
 msgid "No history for"
 msgstr "Ingen historik f?r"
 
-#: UI/GTK2/src/mainWindow.cc:2857
+#: UI/GTK2/src/mainWindow.cc:2871
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?tminstone en uppgift har inte f?rdigst?llts ?n. Avsluta nu?"
 
-#: UI/GTK2/src/mainWindow.cc:2859
+#: UI/GTK2/src/mainWindow.cc:2873
 msgid "Quit"
 msgstr "Avsluta"
 
-#: UI/GTK2/src/mainWindow.cc:3042
+#: UI/GTK2/src/mainWindow.cc:3056
 msgid "Query name"
 msgstr "Fr?genamn"
 
-#: UI/GTK2/src/mainWindow.cc:3069
+#: UI/GTK2/src/mainWindow.cc:3083
 msgid "Couldn't update query"
 msgstr "Kunde inte uppdatera fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3080
+#: UI/GTK2/src/mainWindow.cc:3094
 msgid "Edited query"
 msgstr "Redigerade fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3087
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Couldn't add query"
 msgstr "Kunde inte l?gga till fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3109
 msgid "Added new query"
 msgstr "Lade till ny fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:3148
 msgid "Query is not set"
 msgstr "Fr?gan ?r inte inst?lld"
 
-#: UI/GTK2/src/mainWindow.cc:3145
+#: UI/GTK2/src/mainWindow.cc:3159
 msgid "No search engine selected"
 msgstr "Ingen s?kmotor vald"
 
-#: UI/GTK2/src/mainWindow.cc:3232
+#: UI/GTK2/src/mainWindow.cc:3246
 msgid "Please set the Google API key first"
 msgstr "St?ll in Google API-nyckeln f?rst"
 
-#: UI/GTK2/src/mainWindow.cc:3241
+#: UI/GTK2/src/mainWindow.cc:3255
 msgid "Running query"
 msgstr "K?r fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3451
+#: UI/GTK2/src/mainWindow.cc:3465
 msgid "No default application defined for type"
 msgstr "Inget standardprogram definierat f?r typen"
 
@@ -490,67 +490,67 @@
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:416
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:431
 msgid "Unknown"
 msgstr "Ok?nd"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:417
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:432
 msgid "Danish"
 msgstr "Danska"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:418
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:433
 msgid "Dutch"
 msgstr "Nederl?ndska"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:419
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:434
 msgid "English"
 msgstr "Engelska"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:420
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:435
 msgid "Finnish"
 msgstr "Finska"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:421
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:436
 msgid "French"
 msgstr "Franska"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:422
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:437
 msgid "German"
 msgstr "Tyska"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:423
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:438
 msgid "Hungarian"
 msgstr "Ungerska"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:424
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:439
 msgid "Italian"
 msgstr "Italienska"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:425
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:440
 msgid "Norwegian"
 msgstr "Norska"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:426
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:441
 msgid "Portuguese"
 msgstr "Portugisiska"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:427
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:442
 msgid "Romanian"
 msgstr "Rum?nska"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:428
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Russian"
 msgstr "Ryska"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:429
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Spanish"
 msgstr "Spanska"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:430
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Swedish"
 msgstr "Svenska"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:431
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "Turkish"
 msgstr "Turkiska"
 
@@ -575,11 +575,11 @@
 msgid "Personal"
 msgstr "Personlig"
 
-#: UI/GTK2/src/PinotSettings.cpp:376
+#: UI/GTK2/src/PinotSettings.cpp:350
 msgid "Me"
 msgstr "Jag"
 
-#: UI/GTK2/src/PinotSettings.cpp:1288
+#: UI/GTK2/src/PinotSettings.cpp:1266
 msgid "Unclassified"
 msgstr "Oklassificerad"
 
@@ -599,19 +599,19 @@
 msgid "Pattern"
 msgstr "M?nster"
 
-#: UI/GTK2/src/prefsDialog.cc:357
+#: UI/GTK2/src/prefsDialog.cc:333
 msgid "Exclude these patterns from indexing"
 msgstr "Undanta dessa m?nster fr?n indexering"
 
-#: UI/GTK2/src/prefsDialog.cc:358
+#: UI/GTK2/src/prefsDialog.cc:334
 msgid "Only index these patterns"
 msgstr "Indexera endast dessa m?nster"
 
-#: UI/GTK2/src/prefsDialog.cc:478
+#: UI/GTK2/src/prefsDialog.cc:483
 msgid "New Label"
 msgstr "Ny etikett"
 
-#: UI/GTK2/src/prefsDialog.cc:519
+#: UI/GTK2/src/prefsDialog.cc:524
 msgid "Directory to index"
 msgstr "Katalog f?r index"
 
@@ -682,11 +682,16 @@
 msgid "File patterns:"
 msgstr "Film?nster:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:143
+#: UI/GTK2/src/prefsDialog_glade.cc:139
+#, fuzzy
+msgid "Reset"
+msgstr "_Resultat"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:144
 msgid "Indexing"
 msgstr "Indexering"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:506
+#: UI/GTK2/src/prefsDialog_glade.cc:512
 msgid "Preferences"
 msgstr "Inst?llningar"
 
@@ -718,67 +723,67 @@
 msgid "bytes"
 msgstr "byte"
 
-#: UI/GTK2/src/queryDialog.cc:94
+#: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "V?rdnamn"
 
-#: UI/GTK2/src/queryDialog.cc:95
+#: UI/GTK2/src/queryDialog.cc:111
 msgid "File name"
 msgstr "Filnamn"
 
-#: UI/GTK2/src/queryDialog.cc:96
+#: UI/GTK2/src/queryDialog.cc:112
 msgid "File extension"
 msgstr "Fil?ndelse"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "Titel"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "Url"
 
-#: UI/GTK2/src/queryDialog.cc:99
+#: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "Katalog"
 
-#: UI/GTK2/src/queryDialog.cc:100
+#: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
 msgstr "Spr?kkod"
 
-#: UI/GTK2/src/queryDialog.cc:101
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
 msgstr "MIME-typ"
 
-#: UI/GTK2/src/queryDialog.cc:102
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:103
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
 msgstr "Etikett"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Datum"
 
-#: UI/GTK2/src/queryDialog.cc:107
+#: UI/GTK2/src/queryDialog.cc:123
 msgid "Time"
 msgstr "Tid"
 
-#: UI/GTK2/src/queryDialog.cc:108
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Size"
 msgstr "Storlek"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:112
+#: UI/GTK2/src/queryDialog.cc:128
 msgid "By relevance"
 msgstr "Efter relevans"
 
-#: UI/GTK2/src/queryDialog.cc:113
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By date"
 msgstr "Efter datum"
 
@@ -806,7 +811,12 @@
 msgid "Stemming:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:201
+#: UI/GTK2/src/queryDialog_glade.cc:94
+#, fuzzy
+msgid "Only index new results"
+msgstr "Indexera endast dessa m?nster"
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Fr?geparametrar"
 
@@ -827,41 +837,49 @@
 msgid "Daemon"
 msgstr "Demon"
 
-#: UI/GTK2/src/statisticsDialog.cc:144 UI/GTK2/src/statisticsDialog.cc:160
+#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
 msgid "documents"
 msgstr "dokument"
 
-#: UI/GTK2/src/statisticsDialog.cc:150 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
 #: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Ok?nt fel"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "Viewed"
 msgstr "Visad"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "results"
 msgstr "resultat"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "Crawled"
 msgstr "Insamlad"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "files"
 msgstr "filer"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:196
+#: UI/GTK2/src/statisticsDialog.cc:199
 msgid "Running under PID"
 msgstr "K?r under PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:205
+msgid "Disconnected from D-Bus"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:209
+msgid "Stopped"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:213
 msgid "Currently not running"
 msgstr "K?r f?r tillf?llet inte"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:243
 msgid "Errors"
 msgstr "Fel"
 
@@ -941,6 +959,6 @@
 msgid "is blacklisted"
 msgstr "?r svartlistad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:973
+#: UI/GTK2/src/WorkerThreads.cpp:961
 msgid "No title"
 msgstr "Ingen titel"

Modified: trunk/po/zh_CN.po
===================================================================
--- trunk/po/zh_CN.po	2008-03-26 06:24:03 UTC (rev 1220)
+++ trunk/po/zh_CN.po	2008-03-27 02:00:36 UTC (rev 1221)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.83\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-03-24 14:32+0800\n"
+"POT-Creation-Date: 2008-03-26 14:43+0800\n"
 "PO-Revision-Date: 2008-03-24 14:32+0800\n"
 "Last-Translator: Ashlee Ma <ashlee8310 at hotmail.com>\n"
 "MIME-Version: 1.0\n"
@@ -25,22 +25,22 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
-#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
-#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
-#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1021
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:760
+#: UI/GTK2/src/mainWindow.cc:984 UI/GTK2/src/mainWindow.cc:1283
+#: UI/GTK2/src/mainWindow.cc:1504 UI/GTK2/src/mainWindow.cc:1540
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:2273
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1470
+#: UI/GTK2/src/PinotSettings.cpp:1526 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:998
 msgid "My Web Pages"
 msgstr "????"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
-#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
-#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
-#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1031
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:763
+#: UI/GTK2/src/mainWindow.cc:978 UI/GTK2/src/mainWindow.cc:1287
+#: UI/GTK2/src/mainWindow.cc:2277 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1471 UI/GTK2/src/PinotSettings.cpp:1527
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1008
 msgid "My Documents"
 msgstr "????"
 
@@ -86,8 +86,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
-#: UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "?"
 
@@ -197,202 +197,202 @@
 msgid "Update"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:322
+#: UI/GTK2/src/mainWindow.cc:314
 msgid "N/A"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:337
+#: UI/GTK2/src/mainWindow.cc:329
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+#: UI/GTK2/src/mainWindow.cc:552 UI/GTK2/src/mainWindow.cc:2662
 msgid "Live query"
 msgstr ""
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:700
+#: UI/GTK2/src/mainWindow.cc:692
 msgid "Result location is"
 msgstr "?????"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:782
+#: UI/GTK2/src/mainWindow.cc:774
 msgid "Document location is"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+#: UI/GTK2/src/mainWindow.cc:960 UI/GTK2/src/mainWindow.cc:2098
 msgid "Couldn't find query"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:982
+#: UI/GTK2/src/mainWindow.cc:974
 #, fuzzy
 msgid "In Results"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1166
+#: UI/GTK2/src/mainWindow.cc:1167
 msgid "Showing"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1172
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "documents, starting at"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1210
+#: UI/GTK2/src/mainWindow.cc:1219
 msgid "Query"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+#: UI/GTK2/src/mainWindow.cc:1223 UI/GTK2/src/mainWindow.cc:3259
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1218
+#: UI/GTK2/src/mainWindow.cc:1227
 msgid "ended"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1284
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1373
+#: UI/GTK2/src/mainWindow.cc:1387
 msgid "More Like"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1416
+#: UI/GTK2/src/mainWindow.cc:1430
 msgid "Updated label(s)"
 msgstr "?????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+#: UI/GTK2/src/mainWindow.cc:1514 UI/GTK2/src/mainWindow.cc:1602
 msgid "Updated document"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1513
+#: UI/GTK2/src/mainWindow.cc:1527
 msgid "Indexed"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1563
 msgid "Unindexed document(s)"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1646
+#: UI/GTK2/src/mainWindow.cc:1660
 msgid "Couldn't rename index, name"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
-#: UI/GTK2/src/mainWindow.cc:3046
+#: UI/GTK2/src/mainWindow.cc:1664 UI/GTK2/src/mainWindow.cc:2488
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "is already in use"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1663
+#: UI/GTK2/src/mainWindow.cc:1677
 msgid "Couldn't rename index"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1676
+#: UI/GTK2/src/mainWindow.cc:1690
 msgid "Edited index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2004
+#: UI/GTK2/src/mainWindow.cc:2018
 #, fuzzy
 msgid "Export Results"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2276
+#: UI/GTK2/src/mainWindow.cc:2290
 msgid "Index"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:2280
+#: UI/GTK2/src/mainWindow.cc:2294
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2358
+#: UI/GTK2/src/mainWindow.cc:2372
 msgid "Remove this document from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2377
+#: UI/GTK2/src/mainWindow.cc:2391
 msgid "Remove these documents from the index ?"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2396 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2424
+#: UI/GTK2/src/mainWindow.cc:2438
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Free Desktop ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2425
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Search the Web and your documents !"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2470
+#: UI/GTK2/src/mainWindow.cc:2484
 msgid "Index name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2485
+#: UI/GTK2/src/mainWindow.cc:2499
 msgid "Couldn't add index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2515
 msgid "Added new index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2550
 msgid "Couldn't remove index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2741
+#: UI/GTK2/src/mainWindow.cc:2755
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2857
+#: UI/GTK2/src/mainWindow.cc:2871
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2859
+#: UI/GTK2/src/mainWindow.cc:2873
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3042
+#: UI/GTK2/src/mainWindow.cc:3056
 msgid "Query name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:3069
+#: UI/GTK2/src/mainWindow.cc:3083
 msgid "Couldn't update query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3080
+#: UI/GTK2/src/mainWindow.cc:3094
 msgid "Edited query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3087
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Couldn't add query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3109
 msgid "Added new query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:3148
 msgid "Query is not set"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3145
+#: UI/GTK2/src/mainWindow.cc:3159
 msgid "No search engine selected"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3232
+#: UI/GTK2/src/mainWindow.cc:3246
 msgid "Please set the Google API key first"
 msgstr "????Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3241
+#: UI/GTK2/src/mainWindow.cc:3255
 msgid "Running query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3451
+#: UI/GTK2/src/mainWindow.cc:3465
 msgid "No default application defined for type"
 msgstr "????????????"
 
@@ -492,67 +492,67 @@
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:425
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:431
 msgid "Unknown"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:426
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:432
 msgid "Danish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:427
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:433
 msgid "Dutch"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:428
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:434
 msgid "English"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:429
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:435
 msgid "Finnish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:430
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:436
 msgid "French"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:431
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:437
 msgid "German"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:432
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:438
 msgid "Hungarian"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:433
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:439
 msgid "Italian"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:434
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:440
 msgid "Norwegian"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:435
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:441
 msgid "Portuguese"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:436
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:442
 msgid "Romanian"
 msgstr "?????"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:437
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Russian"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:438
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Spanish"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:439
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Swedish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:440
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "Turkish"
 msgstr "????"
 
@@ -577,11 +577,11 @@
 msgid "Personal"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:376
+#: UI/GTK2/src/PinotSettings.cpp:350
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1288
+#: UI/GTK2/src/PinotSettings.cpp:1266
 msgid "Unclassified"
 msgstr "????"
 
@@ -601,19 +601,19 @@
 msgid "Pattern"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:357
+#: UI/GTK2/src/prefsDialog.cc:333
 msgid "Exclude these patterns from indexing"
 msgstr "?????????"
 
-#: UI/GTK2/src/prefsDialog.cc:358
+#: UI/GTK2/src/prefsDialog.cc:334
 msgid "Only index these patterns"
 msgstr "????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:478
+#: UI/GTK2/src/prefsDialog.cc:483
 msgid "New Label"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:519
+#: UI/GTK2/src/prefsDialog.cc:524
 msgid "Directory to index"
 msgstr "?????"
 
@@ -683,11 +683,16 @@
 msgid "File patterns:"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:143
+#: UI/GTK2/src/prefsDialog_glade.cc:139
+#, fuzzy
+msgid "Reset"
+msgstr "??(_R)"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:144
 msgid "Indexing"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:506
+#: UI/GTK2/src/prefsDialog_glade.cc:512
 msgid "Preferences"
 msgstr "????"
 
@@ -720,69 +725,69 @@
 msgid "bytes"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:94
+#: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "????"
 
-#: UI/GTK2/src/queryDialog.cc:95
+#: UI/GTK2/src/queryDialog.cc:111
 msgid "File name"
 msgstr "????"
 
-#: UI/GTK2/src/queryDialog.cc:96
+#: UI/GTK2/src/queryDialog.cc:112
 msgid "File extension"
 msgstr "???"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "??"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:99
+#: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:100
+#: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
 msgstr "????"
 
-#: UI/GTK2/src/queryDialog.cc:101
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
 msgstr "MIME ??"
 
-#: UI/GTK2/src/queryDialog.cc:102
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
 msgstr "MIME class"
 
-#: UI/GTK2/src/queryDialog.cc:103
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
 msgstr "??"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:107
+#: UI/GTK2/src/queryDialog.cc:123
 #, fuzzy
 msgid "Time"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:108
+#: UI/GTK2/src/queryDialog.cc:124
 #, fuzzy
 msgid "Size"
 msgstr "???"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:112
+#: UI/GTK2/src/queryDialog.cc:128
 msgid "By relevance"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:113
+#: UI/GTK2/src/queryDialog.cc:129
 #, fuzzy
 msgid "By date"
 msgstr "??"
@@ -812,7 +817,12 @@
 msgid "Stemming:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:201
+#: UI/GTK2/src/queryDialog_glade.cc:94
+#, fuzzy
+msgid "Only index new results"
+msgstr "????????????"
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "?????"
 
@@ -838,7 +848,7 @@
 msgstr "??"
 
 #: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:125
+#: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "???????"
 
@@ -879,88 +889,88 @@
 msgid "Errors"
 msgstr "??"
 
-#: UI/GTK2/src/WorkerThreads.cpp:92
+#: UI/GTK2/src/WorkerThreads.cpp:91
 #, fuzzy
 msgid "Index error"
 msgstr "?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:94
+#: UI/GTK2/src/WorkerThreads.cpp:93
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "?????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:96
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Couldn't update document"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:98
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't unindex document(s)"
 msgstr "?????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:100
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't run query on search engine"
 msgstr "??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:102
+#: UI/GTK2/src/WorkerThreads.cpp:101
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:104
+#: UI/GTK2/src/WorkerThreads.cpp:103
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:106
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "File monitor error"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:108
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:110
+#: UI/GTK2/src/WorkerThreads.cpp:109
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/WorkerThreads.cpp:112
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't create search engine"
 msgstr "????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:114
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Cannot index document type"
 msgstr "????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:116
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "No downloader for this protocol"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:118
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Robots META tag forbids indexing"
 msgstr "Robots?meta???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:120
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:415
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:428
 msgid "Can't index mail here"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:707
+#: UI/GTK2/src/WorkerThreads.cpp:449 UI/GTK2/src/WorkerThreads.cpp:704
 msgid "is already being indexed"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:459
 msgid "is blacklisted"
 msgstr "?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:984
+#: UI/GTK2/src/WorkerThreads.cpp:961
 msgid "No title"
 msgstr "???"

Modified: trunk/po/zh_TW.po
===================================================================
--- trunk/po/zh_TW.po	2008-03-26 06:24:03 UTC (rev 1220)
+++ trunk/po/zh_TW.po	2008-03-27 02:00:36 UTC (rev 1221)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.83\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-02-27 23:50+0800\n"
+"POT-Creation-Date: 2008-03-26 14:43+0800\n"
 "PO-Revision-Date: 2008-01-15 00:13+0000\n"
 "Last-Translator: Yung-chung Lin <henearkrxern at gmail.com>\n"
 "Language-Team: Traditional Chinese <zh_TW at li.org>\n"
@@ -29,22 +29,22 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:768
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:1334
-#: UI/GTK2/src/mainWindow.cc:1490 UI/GTK2/src/mainWindow.cc:1526
-#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:2259
-#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1480
-#: UI/GTK2/src/PinotSettings.cpp:1536 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1010
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:760
+#: UI/GTK2/src/mainWindow.cc:984 UI/GTK2/src/mainWindow.cc:1283
+#: UI/GTK2/src/mainWindow.cc:1504 UI/GTK2/src/mainWindow.cc:1540
+#: UI/GTK2/src/mainWindow.cc:1562 UI/GTK2/src/mainWindow.cc:2273
+#: UI/GTK2/src/PinotSettings.cpp:322 UI/GTK2/src/PinotSettings.cpp:1470
+#: UI/GTK2/src/PinotSettings.cpp:1526 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:998
 msgid "My Web Pages"
 msgstr "????"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:771
-#: UI/GTK2/src/mainWindow.cc:986 UI/GTK2/src/mainWindow.cc:1341
-#: UI/GTK2/src/mainWindow.cc:2263 UI/GTK2/src/PinotSettings.cpp:323
-#: UI/GTK2/src/PinotSettings.cpp:1481 UI/GTK2/src/PinotSettings.cpp:1537
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:763
+#: UI/GTK2/src/mainWindow.cc:978 UI/GTK2/src/mainWindow.cc:1287
+#: UI/GTK2/src/mainWindow.cc:2277 UI/GTK2/src/PinotSettings.cpp:323
+#: UI/GTK2/src/PinotSettings.cpp:1471 UI/GTK2/src/PinotSettings.cpp:1527
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1008
 msgid "My Documents"
 msgstr "????"
 
@@ -90,8 +90,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:124
-#: UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "?"
 
@@ -201,202 +201,202 @@
 msgid "Update"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:322
+#: UI/GTK2/src/mainWindow.cc:314
 msgid "N/A"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:337
+#: UI/GTK2/src/mainWindow.cc:329
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:560 UI/GTK2/src/mainWindow.cc:2648
+#: UI/GTK2/src/mainWindow.cc:552 UI/GTK2/src/mainWindow.cc:2662
 msgid "Live query"
 msgstr ""
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:700
+#: UI/GTK2/src/mainWindow.cc:692
 msgid "Result location is"
 msgstr "??????"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:782
+#: UI/GTK2/src/mainWindow.cc:774
 msgid "Document location is"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:968 UI/GTK2/src/mainWindow.cc:2084
+#: UI/GTK2/src/mainWindow.cc:960 UI/GTK2/src/mainWindow.cc:2098
 msgid "Couldn't find query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:982
+#: UI/GTK2/src/mainWindow.cc:974
 #, fuzzy
 msgid "In Results"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1166
+#: UI/GTK2/src/mainWindow.cc:1167
 msgid "Showing"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1172
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "documents, starting at"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1210
+#: UI/GTK2/src/mainWindow.cc:1219
 msgid "Query"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1214 UI/GTK2/src/mainWindow.cc:3245
+#: UI/GTK2/src/mainWindow.cc:1223 UI/GTK2/src/mainWindow.cc:3259
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1218
+#: UI/GTK2/src/mainWindow.cc:1227
 msgid "ended"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1284
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1373
+#: UI/GTK2/src/mainWindow.cc:1387
 msgid "More Like"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1416
+#: UI/GTK2/src/mainWindow.cc:1430
 msgid "Updated label(s)"
 msgstr "?????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1500 UI/GTK2/src/mainWindow.cc:1588
+#: UI/GTK2/src/mainWindow.cc:1514 UI/GTK2/src/mainWindow.cc:1602
 msgid "Updated document"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1513
+#: UI/GTK2/src/mainWindow.cc:1527
 msgid "Indexed"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1563
 msgid "Unindexed document(s)"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1646
+#: UI/GTK2/src/mainWindow.cc:1660
 msgid "Couldn't rename index, name"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1650 UI/GTK2/src/mainWindow.cc:2474
-#: UI/GTK2/src/mainWindow.cc:3046
+#: UI/GTK2/src/mainWindow.cc:1664 UI/GTK2/src/mainWindow.cc:2488
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "is already in use"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1663
+#: UI/GTK2/src/mainWindow.cc:1677
 msgid "Couldn't rename index"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1676
+#: UI/GTK2/src/mainWindow.cc:1690
 msgid "Edited index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2004
+#: UI/GTK2/src/mainWindow.cc:2018
 #, fuzzy
 msgid "Export Results"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2276
+#: UI/GTK2/src/mainWindow.cc:2290
 msgid "Index"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:2280
+#: UI/GTK2/src/mainWindow.cc:2294
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2358
+#: UI/GTK2/src/mainWindow.cc:2372
 msgid "Remove this document from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2377
+#: UI/GTK2/src/mainWindow.cc:2391
 msgid "Remove these documents from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2382 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2396 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2424
+#: UI/GTK2/src/mainWindow.cc:2438
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Free Desktop ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2425
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Search the Web and your documents !"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2470
+#: UI/GTK2/src/mainWindow.cc:2484
 msgid "Index name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2485
+#: UI/GTK2/src/mainWindow.cc:2499
 msgid "Couldn't add index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2515
 msgid "Added new index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2550
 msgid "Couldn't remove index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2741
+#: UI/GTK2/src/mainWindow.cc:2755
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2857
+#: UI/GTK2/src/mainWindow.cc:2871
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2859
+#: UI/GTK2/src/mainWindow.cc:2873
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3042
+#: UI/GTK2/src/mainWindow.cc:3056
 msgid "Query name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:3069
+#: UI/GTK2/src/mainWindow.cc:3083
 msgid "Couldn't update query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3080
+#: UI/GTK2/src/mainWindow.cc:3094
 msgid "Edited query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3087
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Couldn't add query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3109
 msgid "Added new query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:3148
 msgid "Query is not set"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3145
+#: UI/GTK2/src/mainWindow.cc:3159
 msgid "No search engine selected"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3232
+#: UI/GTK2/src/mainWindow.cc:3246
 msgid "Please set the Google API key first"
 msgstr "????Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3241
+#: UI/GTK2/src/mainWindow.cc:3255
 msgid "Running query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3451
+#: UI/GTK2/src/mainWindow.cc:3465
 msgid "No default application defined for type"
 msgstr "????????????"
 
@@ -496,67 +496,67 @@
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:416
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:431
 msgid "Unknown"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:417
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:432
 msgid "Danish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:418
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:433
 msgid "Dutch"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:419
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:434
 msgid "English"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:420
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:435
 msgid "Finnish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:421
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:436
 msgid "French"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:422
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:437
 msgid "German"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:423
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:438
 msgid "Hungarian"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:424
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:439
 msgid "Italian"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:425
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:440
 msgid "Norwegian"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:426
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:441
 msgid "Portuguese"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:427
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:442
 msgid "Romanian"
 msgstr "?????"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:428
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Russian"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:429
+#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Spanish"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:430
+#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Swedish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:431
+#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "Turkish"
 msgstr "????"
 
@@ -581,11 +581,11 @@
 msgid "Personal"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:376
+#: UI/GTK2/src/PinotSettings.cpp:350
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1288
+#: UI/GTK2/src/PinotSettings.cpp:1266
 msgid "Unclassified"
 msgstr "????"
 
@@ -605,25 +605,25 @@
 msgid "Pattern"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:357
+#: UI/GTK2/src/prefsDialog.cc:333
 msgid "Exclude these patterns from indexing"
 msgstr "?????????"
 
-#: UI/GTK2/src/prefsDialog.cc:358
+#: UI/GTK2/src/prefsDialog.cc:334
 msgid "Only index these patterns"
 msgstr "????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:478
+#: UI/GTK2/src/prefsDialog.cc:483
 msgid "New Label"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:519
+#: UI/GTK2/src/prefsDialog.cc:524
 msgid "Directory to index"
 msgstr "?????"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:65
 msgid "Google API key:"
-msgstr ""
+msgstr "Google API key:"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:68
 msgid "New results:"
@@ -687,11 +687,16 @@
 msgid "File patterns:"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:143
+#: UI/GTK2/src/prefsDialog_glade.cc:139
+#, fuzzy
+msgid "Reset"
+msgstr "??(_R)"
+
+#: UI/GTK2/src/prefsDialog_glade.cc:144
 msgid "Indexing"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:506
+#: UI/GTK2/src/prefsDialog_glade.cc:512
 msgid "Preferences"
 msgstr "????"
 
@@ -724,69 +729,69 @@
 msgid "bytes"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:94
+#: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "????"
 
-#: UI/GTK2/src/queryDialog.cc:95
+#: UI/GTK2/src/queryDialog.cc:111
 msgid "File name"
 msgstr "????"
 
-#: UI/GTK2/src/queryDialog.cc:96
+#: UI/GTK2/src/queryDialog.cc:112
 msgid "File extension"
 msgstr "???"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "??"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:99
+#: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:100
+#: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
 msgstr "????"
 
-#: UI/GTK2/src/queryDialog.cc:101
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
 msgstr "MIME ??"
 
-#: UI/GTK2/src/queryDialog.cc:102
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
-msgstr ""
+msgstr "MIME class"
 
-#: UI/GTK2/src/queryDialog.cc:103
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
 msgstr "??"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:106 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:107
+#: UI/GTK2/src/queryDialog.cc:123
 #, fuzzy
 msgid "Time"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:108
+#: UI/GTK2/src/queryDialog.cc:124
 #, fuzzy
 msgid "Size"
 msgstr "???"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:112
+#: UI/GTK2/src/queryDialog.cc:128
 msgid "By relevance"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:113
+#: UI/GTK2/src/queryDialog.cc:129
 #, fuzzy
 msgid "By date"
 msgstr "??"
@@ -816,7 +821,12 @@
 msgid "Stemming:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:201
+#: UI/GTK2/src/queryDialog_glade.cc:94
+#, fuzzy
+msgid "Only index new results"
+msgstr "????????????"
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "?????"
 
@@ -837,41 +847,49 @@
 msgid "Daemon"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:144 UI/GTK2/src/statisticsDialog.cc:160
+#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
 msgid "documents"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:150 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
 #: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "???????"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "Viewed"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:173
+#: UI/GTK2/src/statisticsDialog.cc:176
 msgid "results"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "Crawled"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:179
+#: UI/GTK2/src/statisticsDialog.cc:182
 msgid "files"
 msgstr "??"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:196
+#: UI/GTK2/src/statisticsDialog.cc:199
 msgid "Running under PID"
 msgstr "?????????"
 
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:205
+msgid "Disconnected from D-Bus"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:209
+msgid "Stopped"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:213
 msgid "Currently not running"
 msgstr "???????"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:243
 msgid "Errors"
 msgstr "??"
 
@@ -957,6 +975,6 @@
 msgid "is blacklisted"
 msgstr "?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:973
+#: UI/GTK2/src/WorkerThreads.cpp:961
 msgid "No title"
 msgstr "???"



From fabricecolin at mail.berlios.de  Thu Mar 27 03:08:00 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 27 Mar 2008 03:08:00 +0100
Subject: [Pinot-svn] r1222 - trunk/IndexSearch/Xapian
Message-ID: <200803270208.m2R280B3013028@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-27 03:08:00 +0100 (Thu, 27 Mar 2008)
New Revision: 1222

Modified:
   trunk/IndexSearch/Xapian/Makefile.am
Log:
Don't use -nostartfiles.


Modified: trunk/IndexSearch/Xapian/Makefile.am
===================================================================
--- trunk/IndexSearch/Xapian/Makefile.am	2008-03-27 02:00:36 UTC (rev 1221)
+++ trunk/IndexSearch/Xapian/Makefile.am	2008-03-27 02:08:00 UTC (rev 1222)
@@ -33,7 +33,7 @@
 libxapianbackend_la_SOURCES += $(top_srcdir)/IndexSearch/xesam/XesamULParser.cc
 endif
 
-libxapianbackend_la_LDFLAGS = -module -shared
+libxapianbackend_la_LDFLAGS = -module -shared -nostartfiles
 
 libxapianbackend_la_LIBADD = \
 	@INDEX_LIBS@ @MISC_LIBS@ \



From fabricecolin at mail.berlios.de  Thu Mar 27 03:09:45 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 27 Mar 2008 03:09:45 +0100
Subject: [Pinot-svn] r1223 - in trunk: . IndexSearch UI/GTK2/src
Message-ID: <200803270209.m2R29jhj013400@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-27 03:09:44 +0100 (Thu, 27 Mar 2008)
New Revision: 1223

Modified:
   trunk/IndexSearch/pinot-index.1
   trunk/IndexSearch/pinot-label.1
   trunk/IndexSearch/pinot-search.1
   trunk/TODO
   trunk/UI/GTK2/src/pinot-dbus-daemon.1
   trunk/UI/GTK2/src/pinot.1
   trunk/configure.in
Log:
Preparing for 0.84 release.


Modified: trunk/IndexSearch/pinot-index.1
===================================================================
--- trunk/IndexSearch/pinot-index.1	2008-03-27 02:08:00 UTC (rev 1222)
+++ trunk/IndexSearch/pinot-index.1	2008-03-27 02:09:44 UTC (rev 1223)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-INDEX "1" "February 2008" "pinot-index - pinot 0.83" "User Commands"
+.TH PINOT-INDEX "1" "March 2008" "pinot-index - pinot 0.84" "User Commands"
 .SH NAME
 pinot-index \- Index documents from the command-line
 .SH SYNOPSIS

Modified: trunk/IndexSearch/pinot-label.1
===================================================================
--- trunk/IndexSearch/pinot-label.1	2008-03-27 02:08:00 UTC (rev 1222)
+++ trunk/IndexSearch/pinot-label.1	2008-03-27 02:09:44 UTC (rev 1223)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-LABEL "1" "February 2008" "pinot-label - pinot 0.83" "User Commands"
+.TH PINOT-LABEL "1" "March 2008" "pinot-label - pinot 0.84" "User Commands"
 .SH NAME
 pinot-label \- Label files from the command-line
 .SH SYNOPSIS

Modified: trunk/IndexSearch/pinot-search.1
===================================================================
--- trunk/IndexSearch/pinot-search.1	2008-03-27 02:08:00 UTC (rev 1222)
+++ trunk/IndexSearch/pinot-search.1	2008-03-27 02:09:44 UTC (rev 1223)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-SEARCH "1" "February 2008" "pinot-search - pinot 0.83" "User Commands"
+.TH PINOT-SEARCH "1" "March 2008" "pinot-search - pinot 0.84" "User Commands"
 .SH NAME
 pinot-search \- Query search engines from the command-line
 .SH SYNOPSIS

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-03-27 02:08:00 UTC (rev 1222)
+++ trunk/TODO	2008-03-27 02:09:44 UTC (rev 1223)
@@ -56,7 +56,6 @@
 Index
 - Play around with the XAPIAN_FLUSH_THRESHOLD env var
 - MD5 hash to determine on updates whether documents have changed, as done by omindex
-- Reopen connection to remote indexes when necessary; does Xapian throw a RemoteError ?
 - Allow to access remote Xapian indexes tunneled through ssh with xapian-progsrv,
   and make sure ssh will ask passwords with /usr/libexec/openssh/ssh-askpass
 - Index xattrs if any
@@ -67,7 +66,7 @@
 - After indexing or updating a document, a call to getDocumentInfo() shouldn't be necessary
 - Labels and the rest of DocumentInfo are handled separately, they shouldn't be
 - Indexes have no knowledge of indexId's
-- Classify files (images, videos, etc...)
+- Send a signal when crawling is done so that the UI can reopen the index
 
 Mail
 - Find out what kind of locking scheme Mozilla uses (POSIX lock ?) and use that
@@ -105,7 +104,6 @@
 - Delete all temporary files when exiting
 - Show which stored queries are fully, partially or not at all Web friendly
 - List viewed URLs
-- Let queries index only new results
 - Query expansion should be interactive
 - Default cache provider should be configurable
 

Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.1
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.1	2008-03-27 02:08:00 UTC (rev 1222)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.1	2008-03-27 02:09:44 UTC (rev 1223)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-DBUS-DAEMON "1" "February 2008" "pinot-dbus-daemon - pinot 0.83" "User Commands"
+.TH PINOT-DBUS-DAEMON "1" "March 2008" "pinot-dbus-daemon - pinot 0.84" "User Commands"
 .SH NAME
 pinot-dbus-daemon \- D-Bus search and index daemon
 .SH SYNOPSIS
@@ -15,6 +15,9 @@
 \fB\-h\fR, \fB\-\-help\fR
 display this help and exit
 .TP
+\fB\-i\fR, \fB\-\-ignore\-version\fR
+ignore the index version number
+.TP
 \fB\-p\fR, \fB\-\-priority\fR
 set the daemon's priority (default 15)
 .TP

Modified: trunk/UI/GTK2/src/pinot.1
===================================================================
--- trunk/UI/GTK2/src/pinot.1	2008-03-27 02:08:00 UTC (rev 1222)
+++ trunk/UI/GTK2/src/pinot.1	2008-03-27 02:09:44 UTC (rev 1223)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT "1" "February 2008" "pinot - pinot 0.83" "User Commands"
+.TH PINOT "1" "March 2008" "pinot - pinot 0.84" "User Commands"
 .SH NAME
 pinot \- A metasearch tool for the Free Desktop
 .SH SYNOPSIS

Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2008-03-27 02:08:00 UTC (rev 1222)
+++ trunk/configure.in	2008-03-27 02:09:44 UTC (rev 1223)
@@ -2,7 +2,7 @@
 # using glademm V2.6.0
 
 AC_PREREQ(2.50)
-AC_INIT(pinot, 0.83,[fabricecolin at users.berlios.de])
+AC_INIT(pinot, 0.84,[fabricecolin at users.berlios.de])
 AM_INIT_AUTOMAKE
 AC_CONFIG_HEADERS(config.h)
 



From fabricecolin at mail.berlios.de  Thu Mar 27 07:25:11 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 27 Mar 2008 07:25:11 +0100
Subject: [Pinot-svn] r1224 - trunk
Message-ID: <200803270625.m2R6PBdb027767@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-27 07:25:09 +0100 (Thu, 27 Mar 2008)
New Revision: 1224

Modified:
   trunk/NEWS
Log:
List of changes since 0.83.


Modified: trunk/NEWS
===================================================================
--- trunk/NEWS	2008-03-27 02:09:44 UTC (rev 1223)
+++ trunk/NEWS	2008-03-27 06:25:09 UTC (rev 1224)
@@ -1,3 +1,27 @@
+2008/03/27 version_0_8_4
+Build :
+ - patch by Adel Gadllah to fix gcc 4.3 build errors
+General :
+ - updated FAQ with how to compact the index
+Monitor :
+ - patch by Michael Biebl for inotify on m68k, mips, mipsel and hppa
+Index :
+ - fixed possible crash when pinot-index exits
+Xapian :
+ - faster CJKV indexing
+ - the spelling database is populated with CJKV terms too
+Daemon :
+ - fixed possible crash when pinot-dbus-daemon exits
+ - added option --ignore-version to deal with compacted indexes
+UI :
+ - fixed possible crash when pinot exits
+ - fixed issue with signaling between crawler and indexer
+ - stored queries can index all, or only new, results
+ - in Preferences, patterns can be reset to default values
+ - the Status window shows whether the daemon was stopped by, or
+  disconnected from D-Bus
+ - new simplified Chinese translation by Ashlee Ma
+
 2008/02/28 version_0_8_3
 Build :
  - fixed build errors with gcc 4.3, thanks to Adel Gadllah



From fabricecolin at mail.berlios.de  Thu Mar 27 09:28:57 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 27 Mar 2008 09:28:57 +0100
Subject: [Pinot-svn] r1225 - trunk
Message-ID: <200803270828.m2R8SvL4015411@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-27 09:28:56 +0100 (Thu, 27 Mar 2008)
New Revision: 1225

Modified:
   trunk/NEWS
Log:
Forgot to mention the new plugin for UNdata.


Modified: trunk/NEWS
===================================================================
--- trunk/NEWS	2008-03-27 06:25:09 UTC (rev 1224)
+++ trunk/NEWS	2008-03-27 08:28:56 UTC (rev 1225)
@@ -5,6 +5,8 @@
  - updated FAQ with how to compact the index
 Monitor :
  - patch by Michael Biebl for inotify on m68k, mips, mipsel and hppa
+Search :
+ - new plugin for UNdata
 Index :
  - fixed possible crash when pinot-index exits
 Xapian :



From fabricecolin at mail.berlios.de  Thu Mar 27 09:32:06 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 27 Mar 2008 09:32:06 +0100
Subject: [Pinot-svn] r1226 - trunk
Message-ID: <200803270832.m2R8W63I016482@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-27 09:32:05 +0100 (Thu, 27 Mar 2008)
New Revision: 1226

Modified:
   trunk/ChangeLog
   trunk/ChangeLog-dijon
Log:
Current ChangeLogs.


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2008-03-27 08:28:56 UTC (rev 1225)
+++ trunk/ChangeLog	2008-03-27 08:32:05 UTC (rev 1226)
@@ -1,4 +1,266 @@
 ------------------------------------------------------------------------
+r1225 | fabricecolin | 2008-03-27 16:28:56 +0800 (Thu, 27 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/NEWS
+
+Forgot to mention the new plugin for UNdata.
+
+------------------------------------------------------------------------
+r1224 | fabricecolin | 2008-03-27 14:25:09 +0800 (Thu, 27 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/NEWS
+
+List of changes since 0.83.
+
+------------------------------------------------------------------------
+r1223 | fabricecolin | 2008-03-27 10:09:44 +0800 (Thu, 27 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/pinot-index.1
+   M /trunk/IndexSearch/pinot-label.1
+   M /trunk/IndexSearch/pinot-search.1
+   M /trunk/TODO
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.1
+   M /trunk/UI/GTK2/src/pinot.1
+   M /trunk/configure.in
+
+Preparing for 0.84 release.
+
+------------------------------------------------------------------------
+r1222 | fabricecolin | 2008-03-27 10:08:00 +0800 (Thu, 27 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/Makefile.am
+
+Don't use -nostartfiles.
+
+------------------------------------------------------------------------
+r1221 | fabricecolin | 2008-03-27 10:00:36 +0800 (Thu, 27 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/po/de.po
+   M /trunk/po/es.po
+   M /trunk/po/fr.po
+   M /trunk/po/it.po
+   M /trunk/po/nl.po
+   M /trunk/po/pt.po
+   M /trunk/po/pt_BR.po
+   M /trunk/po/ru.po
+   M /trunk/po/sv.po
+   M /trunk/po/zh_CN.po
+   M /trunk/po/zh_TW.po
+
+Translations updates.
+
+------------------------------------------------------------------------
+r1220 | fabricecolin | 2008-03-26 14:24:03 +0800 (Wed, 26 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/FAQ
+
+New FAQ entry about how to compact the index.
+
+------------------------------------------------------------------------
+r1219 | fabricecolin | 2008-03-26 14:11:14 +0800 (Wed, 26 Mar 2008) | 6 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+
+Ignore the index version number, i.e. don't force an upgrade if it's lower than
+what was expected, if -i/--ignore-version is passed as parameter.
+This is useful when ~/.pinot/daemon was compacted with xapian-compact 1.0.6,
+which unlike previous releases, doesn't bail out on index metadata, but fails
+to carry metadata over to the compacted database.
+
+------------------------------------------------------------------------
+r1218 | fabricecolin | 2008-03-26 11:05:37 +0800 (Wed, 26 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/QueryProperties.cpp
+   M /trunk/IndexSearch/QueryProperties.h
+   M /trunk/UI/GTK2/metase-gtk2.glade
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/queryDialog.cc
+   M /trunk/UI/GTK2/src/queryDialog.hh
+   M /trunk/UI/GTK2/src/queryDialog_glade.cc
+   M /trunk/UI/GTK2/src/queryDialog_glade.hh
+
+Queries can now index only new results.
+
+------------------------------------------------------------------------
+r1217 | fabricecolin | 2008-03-24 16:08:36 +0800 (Mon, 24 Mar 2008) | 2 lines
+Changed paths:
+   A /trunk/IndexSearch/Plugins/UNData.src
+
+A plugin for UNdata.
+
+------------------------------------------------------------------------
+r1216 | fabricecolin | 2008-03-24 16:07:50 +0800 (Mon, 24 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/PluginWebEngine.cpp
+
+Ensure scroll-by parameters are not empty before appending them to the URL.
+
+------------------------------------------------------------------------
+r1215 | fabricecolin | 2008-03-24 15:19:54 +0800 (Mon, 24 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/AUTHORS
+   M /trunk/configure.in
+   A /trunk/po/zh_CN.po
+
+Simplified Chinese po by Ashlee Ma.
+
+------------------------------------------------------------------------
+r1214 | fabricecolin | 2008-03-24 14:42:58 +0800 (Mon, 24 Mar 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+   M /trunk/IndexSearch/Xapian/XapianIndex.h
+
+Don't scan the document to index for its language if it's already known. As
+things stand, it never is when indexDocument() is invoked.
+
+------------------------------------------------------------------------
+r1213 | fabricecolin | 2008-03-24 14:26:15 +0800 (Mon, 24 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/metase-gtk2.glade
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.h
+   M /trunk/UI/GTK2/src/prefsDialog.cc
+   M /trunk/UI/GTK2/src/prefsDialog.hh
+   M /trunk/UI/GTK2/src/prefsDialog_glade.cc
+   M /trunk/UI/GTK2/src/prefsDialog_glade.hh
+
+In Preferences, patterns can be reset to default values.
+
+------------------------------------------------------------------------
+r1212 | fabricecolin | 2008-03-24 13:13:17 +0800 (Mon, 24 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+
+Initialize the dbus-status metadata.
+
+------------------------------------------------------------------------
+r1211 | fabricecolin | 2008-03-22 00:18:50 +0800 (Sat, 22 Mar 2008) | 7 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/DaemonState.h
+   M /trunk/UI/GTK2/src/OnDiskHandler.cpp
+   M /trunk/UI/GTK2/src/OnDiskHandler.h
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/ServerThreads.h
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.h
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+   M /trunk/UI/GTK2/src/pinot.cc
+   M /trunk/UI/GTK2/src/statisticsDialog.cc
+
+Pass parameters to the file_found signal by value, not reference.
+DaemonState and mainWindow don't delete the monitor and handler objects when
+destroyed because the Monitor thread might still be running.
+Added flags for when the daemon receives Stop or Disconnected. This is saved
+as database metadata, and shown by the Status window.
+Some other minor mods.
+
+------------------------------------------------------------------------
+r1210 | fabricecolin | 2008-03-20 19:06:31 +0800 (Thu, 20 Mar 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/DBusIndex.cpp
+   M /trunk/IndexSearch/DBusIndex.h
+   M /trunk/IndexSearch/IndexInterface.h
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+   M /trunk/IndexSearch/Xapian/XapianIndex.h
+   M /trunk/IndexSearch/pinot-index.cpp
+
+Replaced get|setVersion() with get|setMetadata().
+In showinfo mode, pinot-index shows the index version string.
+
+------------------------------------------------------------------------
+r1209 | fabricecolin | 2008-03-17 09:58:43 +0800 (Mon, 17 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianDatabase.cpp
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+
+Missing header, minor mod.
+
+------------------------------------------------------------------------
+r1208 | fabricecolin | 2008-03-15 21:16:04 +0800 (Sat, 15 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/mainWindow.hh
+
+Const'ified parameter to view_documents().
+
+------------------------------------------------------------------------
+r1207 | fabricecolin | 2008-03-15 21:15:02 +0800 (Sat, 15 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/Tokenize/FilterUtils.cpp
+
+Cosmetic changes.
+
+------------------------------------------------------------------------
+r1206 | fabricecolin | 2008-03-15 21:14:22 +0800 (Sat, 15 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/AUTHORS
+   M /trunk/Monitor/linux-inotify-syscalls.h
+
+A patch by Michael Biebl for m68k, mips, mipsel and hppa.
+
+------------------------------------------------------------------------
+r1205 | fabricecolin | 2008-03-15 21:12:46 +0800 (Sat, 15 Mar 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+   M /trunk/IndexSearch/Xapian/XapianIndex.h
+
+Use the new CJKVTokenizer::TokensHandler class to tokenize CJKV. The spelling
+database is populated.
+
+------------------------------------------------------------------------
+r1204 | fabricecolin | 2008-03-15 21:09:09 +0800 (Sat, 15 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/ResultsExporter.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+
+Prefer snprintf() to sprintf().
+
+------------------------------------------------------------------------
+r1203 | fabricecolin | 2008-03-15 21:06:27 +0800 (Sat, 15 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/pinot-index.cpp
+
+Close stuff at exit.
+
+------------------------------------------------------------------------
+r1202 | fabricecolin | 2008-03-08 17:18:12 +0800 (Sat, 08 Mar 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/OnDiskHandler.cpp
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.h
+
+Be careful when applying source labels.
+IndexingThread redefined m_docInfo needlessly.
+
+------------------------------------------------------------------------
+r1201 | fabricecolin | 2008-03-04 19:55:08 +0800 (Tue, 04 Mar 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+
+Prior to asking for a write lock, always request for a read/write database.
+In practice, no harm is done since the database is open read/write at startup.
+
+------------------------------------------------------------------------
+r1200 | fabricecolin | 2008-03-03 19:45:01 +0800 (Mon, 03 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/README
+
+Examples of what blacklisting does.
+
+------------------------------------------------------------------------
+r1198 | fabricecolin | 2008-02-28 19:02:07 +0800 (Thu, 28 Feb 2008) | 2 lines
+Changed paths:
+   M /trunk/ChangeLog
+   M /trunk/ChangeLog-dijon
+
+Updated logs.
+
+------------------------------------------------------------------------
 r1197 | fabricecolin | 2008-02-28 18:58:50 +0800 (Thu, 28 Feb 2008) | 2 lines
 Changed paths:
    M /trunk/NEWS

Modified: trunk/ChangeLog-dijon
===================================================================
--- trunk/ChangeLog-dijon	2008-03-27 08:28:56 UTC (rev 1225)
+++ trunk/ChangeLog-dijon	2008-03-27 08:32:05 UTC (rev 1226)
@@ -1,4 +1,28 @@
 ------------------------------------------------------------------------
+r90 | fabricecolin | 2008-03-24 13:11:29 +0800 (Mon, 24 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/ExternalFilter.cc
+   M /trunk/filters/HtmlFilter.cc
+
+Minor modifications.
+
+------------------------------------------------------------------------
+r89 | fabricecolin | 2008-03-10 19:06:19 +0800 (Mon, 10 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/cjkv/CJKVTokenizer.cc
+
+Includes fix for gcc 4.3 by Adel Gadllah.
+
+------------------------------------------------------------------------
+r88 | fabricecolin | 2008-03-09 01:38:56 +0800 (Sun, 09 Mar 2008) | 3 lines
+Changed paths:
+   M /trunk/cjkv/CJKVTokenizer.cc
+   M /trunk/cjkv/CJKVTokenizer.h
+
+Merging in upstream changes, ie new segment() mthod and and an overload of
+tokenize() that works with a TokensHandler object.
+
+------------------------------------------------------------------------
 r86 | fabricecolin | 2008-02-27 23:17:16 +0800 (Wed, 27 Feb 2008) | 2 lines
 Changed paths:
    M /trunk/filters/ExternalFilter.cc



From fabricecolin at mail.berlios.de  Thu Mar 27 09:33:42 2008
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 27 Mar 2008 09:33:42 +0100
Subject: [Pinot-svn] r1227 - tags
Message-ID: <200803270833.m2R8XgAf016675@sheep.berlios.de>

Author: fabricecolin
Date: 2008-03-27 09:33:42 +0100 (Thu, 27 Mar 2008)
New Revision: 1227

Added:
   tags/version_0_8_4/
Log:
Releasing v0.84.


Copied: tags/version_0_8_4 (from rev 1226, trunk)



