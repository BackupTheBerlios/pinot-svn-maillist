<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Pinot-svn] r280 - in trunk/UI/GTK2: . src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pinot-svn/2006-May/index.html" >
   <LINK REL="made" HREF="mailto:pinot-svn%40lists.berlios.de?Subject=Re%3A%20%5BPinot-svn%5D%20r280%20-%20in%20trunk/UI/GTK2%3A%20.%20src&In-Reply-To=%3C200605301244.k4UCiuDv031508%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000273.html">
   <LINK REL="Next"  HREF="000275.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Pinot-svn] r280 - in trunk/UI/GTK2: . src</H1>
    <B>fabricecolin at BerliOS</B> 
    <A HREF="mailto:pinot-svn%40lists.berlios.de?Subject=Re%3A%20%5BPinot-svn%5D%20r280%20-%20in%20trunk/UI/GTK2%3A%20.%20src&In-Reply-To=%3C200605301244.k4UCiuDv031508%40sheep.berlios.de%3E"
       TITLE="[Pinot-svn] r280 - in trunk/UI/GTK2: . src">fabricecolin at berlios.de
       </A><BR>
    <I>Tue May 30 14:44:56 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000273.html">[Pinot-svn] r279 - trunk/Search
</A></li>
        <LI>Next message: <A HREF="000275.html">[Pinot-svn] r281 - trunk/UI/GTK2/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#274">[ date ]</a>
              <a href="thread.html#274">[ thread ]</a>
              <a href="subject.html#274">[ subject ]</a>
              <a href="author.html#274">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: fabricecolin
Date: 2006-05-30 14:44:50 +0200 (Tue, 30 May 2006)
New Revision: 280

Modified:
   trunk/UI/GTK2/metase-gtk2.glade
   trunk/UI/GTK2/src/importDialog.cc
   trunk/UI/GTK2/src/importDialog.hh
   trunk/UI/GTK2/src/importDialog_glade.cc
   trunk/UI/GTK2/src/importDialog_glade.hh
   trunk/UI/GTK2/src/mainWindow.cc
Log:
Removed not so useful MIME type filtering in importDialog.


Modified: trunk/UI/GTK2/metase-gtk2.glade
===================================================================
--- trunk/UI/GTK2/metase-gtk2.glade	2006-05-30 12:42:56 UTC (rev 279)
+++ trunk/UI/GTK2/metase-gtk2.glade	2006-05-30 12:44:50 UTC (rev 280)
@@ -3659,37 +3659,6 @@
 	  &lt;/child&gt;
 
 	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkScrolledWindow&quot; id=&quot;mimeScrolledwindow&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;hscrollbar_policy&quot;&gt;GTK_POLICY_AUTOMATIC&lt;/property&gt;
-	      &lt;property name=&quot;vscrollbar_policy&quot;&gt;GTK_POLICY_AUTOMATIC&lt;/property&gt;
-	      &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_IN&lt;/property&gt;
-	      &lt;property name=&quot;window_placement&quot;&gt;GTK_CORNER_TOP_LEFT&lt;/property&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkTreeView&quot; id=&quot;mimeTreeview&quot;&gt;
-		  &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;headers_visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;rules_hint&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;reorderable&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;enable_search&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;fixed_height_mode&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;hover_selection&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;hover_expand&quot;&gt;False&lt;/property&gt;
-		&lt;/widget&gt;
-	      &lt;/child&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
-	      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-
-	  &lt;child&gt;
 	    &lt;widget class=&quot;GtkHBox&quot; id=&quot;importHbox&quot;&gt;
 	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
@@ -3793,7 +3762,7 @@
 	      &lt;/child&gt;
 	    &lt;/widget&gt;
 	    &lt;packing&gt;
-	      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
 	      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
 	      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
 	    &lt;/packing&gt;

Modified: trunk/UI/GTK2/src/importDialog.cc
===================================================================
--- trunk/UI/GTK2/src/importDialog.cc	2006-05-30 12:42:56 UTC (rev 279)
+++ trunk/UI/GTK2/src/importDialog.cc	2006-05-30 12:44:50 UTC (rev 280)
@@ -49,8 +49,7 @@
 {
 }
 
-importDialog::importDialog(const Glib::ustring &amp;title,
-	const set&lt;string&gt; &amp;mimeTypes) :
+importDialog::importDialog(const Glib::ustring &amp;title) :
 	importDialog_glade(),
 	m_docsCount(0),
 	m_importDirectory(false),
@@ -59,10 +58,6 @@
 {
 	set_title(title);
 
-	// Copy the list of authorized MIME types
-	copy(mimeTypes.begin(), mimeTypes.end(),
-		inserter(m_mimeTypes, m_mimeTypes.begin()));
-
 	// Initialize the default directory
 	if (m_state.m_defaultDirectory.empty() == true)
 	{
@@ -89,16 +84,6 @@
 	depthSpinbutton-&gt;set_sensitive(false);
 	depthSpinbutton-&gt;set_value(1);
 
-	// Associate the columns model to the MIME types tree
-	m_refMimeTypeList = ListStore::create(m_mimeTypeColumns);
-	mimeTreeview-&gt;set_model(m_refMimeTypeList);
-	mimeTreeview-&gt;append_column_editable(_(&quot;Enabled&quot;), m_mimeTypeColumns.m_enabled);
-	mimeTreeview-&gt;append_column(_(&quot;MIME Type&quot;), m_mimeTypeColumns.m_type);
-	// Allow only single selection
-	mimeTreeview-&gt;get_selection()-&gt;set_mode(SELECTION_SINGLE);
-	// Populate
-	populate_mimeTreeview();
-
 	// Connect to threads' finished signal
 	m_state.connect();
 
@@ -148,20 +133,6 @@
 	}
 }
 
-void importDialog::populate_mimeTreeview(void)
-{
-	// Add all MIME types
-	for (set&lt;string&gt;::const_iterator typeIter = m_mimeTypes.begin();
-		typeIter != m_mimeTypes.end(); ++typeIter)
-	{
-		TreeModel::iterator iter = m_refMimeTypeList-&gt;append();
-		TreeModel::Row row = *iter;
-
-		row[m_mimeTypeColumns.m_enabled] = true;
-		row[m_mimeTypeColumns.m_type] = to_utf8(*typeIter);
-	}
-}
-
 bool importDialog::start_thread(WorkerThread *pNewThread)
 {
 	if (m_state.start_thread(pNewThread, false) == false)
@@ -198,62 +169,42 @@
 bool importDialog::on_import_url(const string &amp;location)
 {
 	Url urlObj(location);
-	string mimeType(MIMEScanner::scanUrl(urlObj));
-	bool askForAnotherFile = false;
 
-#ifdef DEBUG
-	cout &lt;&lt; &quot;importDialog::on_import_url: file type is &quot; &lt;&lt; mimeType &lt;&lt; endl;
-#endif
-	// Check the MIME type
-	if ((m_mimeTypesBlackList.find(mimeType) != m_mimeTypesBlackList.end()) ||
-		((m_mimeTypes.find(mimeType) == m_mimeTypes.end()) &amp;&amp;
-		((strncasecmp(mimeType.c_str(), &quot;text/x-&quot;, 7) == 0) ||
-		(strncasecmp(mimeType.c_str(), &quot;text&quot;, 4) != 0))))
+	XapianIndex index(PinotSettings::getInstance().m_indexLocation);
+	IndexingThread *pThread = NULL;
+	string title = from_utf8(m_title);
+	unsigned int docId = 0;
+
+	if (index.isGood() == true)
 	{
-#ifdef DEBUG
-		cout &lt;&lt; &quot;importDialog::on_import_url: filtering out&quot; &lt;&lt; endl;
-#endif
-		// It's black-listed, or not authorized and not plain-ish text
-		askForAnotherFile = true;
+		docId = index.hasDocument(location);
 	}
-	else
-	{
-		XapianIndex index(PinotSettings::getInstance().m_indexLocation);
-		IndexingThread *pThread = NULL;
-		string title = from_utf8(m_title);
-		unsigned int docId = 0;
 
-		if (index.isGood() == true)
+	if (m_importDirectory == true)
+	{
+		if (title.empty() == false)
 		{
-			docId = index.hasDocument(location);
+			title += &quot; &quot;;
 		}
+		title += urlObj.getFile();
+	}
+	DocumentInfo docInfo(title, location, MIMEScanner::scanUrl(urlObj), &quot;&quot;);
 
-		if (m_importDirectory == true)
-		{
-			if (title.empty() == false)
-			{
-				title += &quot; &quot;;
-			}
-			title += urlObj.getFile();
-		}
-		DocumentInfo docInfo(title, location, mimeType, &quot;&quot;);
-
-		if (docId &gt; 0)
-		{
-			// This document needs updating
-			index.getDocumentInfo(docId, docInfo);
-			pThread = new IndexingThread(docInfo, m_labelName, docId);
-		}
-		else
-		{
-			pThread = new IndexingThread(docInfo, m_labelName);
-		}
-
-		// Launch the new thread
-		start_thread(pThread);
+	if (docId &gt; 0)
+	{
+		// This document needs updating
+		index.getDocumentInfo(docId, docInfo);
+		pThread = new IndexingThread(docInfo, m_labelName, docId);
 	}
+	else
+	{
+		pThread = new IndexingThread(docInfo, m_labelName);
+	}
 
-	return askForAnotherFile;
+	// Launch the new thread
+	start_thread(pThread);
+
+	return false;
 }
 
 void importDialog::on_thread_end(WorkerThread *pThread)
@@ -331,25 +282,6 @@
 	}
 }
 
-void importDialog::setHeight(int maxHeight)
-{
-	// FIXME: there must be a better way to determine how high the tree should be
-	// for all rows to be visible !
-	int rowsCount = m_refTypeList-&gt;children().size();
-	// By default, the tree is high enough for one row
-	if (rowsCount &gt; 1)
-	{
-		int width, height;
-
-		// What's the current size ?
-		get_size(width, height);
-		// Add enough room for the rows we need to show
-		height += get_column_height(mimeTreeview) * (rowsCount - 1);
-		// Resize
-		resize(width, min(maxHeight, height));
-	}
-}
-
 unsigned int importDialog::getDocumentsCount(void)
 {
 	return m_docsCount;
@@ -462,34 +394,6 @@
 	// Disable the import button
 	importButton-&gt;set_sensitive(false);
 
-	// Update the list of MIME types, based on list selection
-	m_mimeTypes.clear();
-	m_mimeTypesBlackList.clear();
-	TreeModel::Children children = m_refMimeTypeList-&gt;children();
-	if (children.empty() == false)
-	{
-		for (TreeModel::Children::iterator iter = children.begin();
-			iter != children.end(); ++iter)
-		{
-			TreeModel::Row row = *iter;
-			string mimeType(from_utf8(row[m_mimeTypeColumns.m_type]));
-			bool enabled = row[m_mimeTypeColumns.m_enabled];
-
-			if (enabled == true)
-			{
-				m_mimeTypes.insert(mimeType);
-			}
-			else
-			{
-				m_mimeTypesBlackList.insert(mimeType);
-			}
-		}
-	}
-#ifdef DEBUG
-	cout &lt;&lt; &quot;importDialog::on_importButton_clicked: &quot; &lt;&lt; m_mimeTypes.size()
-		&lt;&lt; &quot; types, &quot; &lt;&lt; m_mimeTypesBlackList.size() &lt;&lt; &quot; in blacklist&quot; &lt;&lt; endl;
-#endif
-
 	m_timeoutConnection = Glib::signal_timeout().connect(SigC::slot(*this,
 		&amp;importDialog::on_activity_timeout), 1000);
 

Modified: trunk/UI/GTK2/src/importDialog.hh
===================================================================
--- trunk/UI/GTK2/src/importDialog.hh	2006-05-30 12:42:56 UTC (rev 279)
+++ trunk/UI/GTK2/src/importDialog.hh	2006-05-30 12:44:50 UTC (rev 280)
@@ -35,8 +35,7 @@
 {  
 public:
 	/// Open the dialog box in import mode.
-	importDialog(const Glib::ustring &amp;title,
-		const std::set&lt;std::string&gt; &amp;mimeTypes);
+	importDialog(const Glib::ustring &amp;title);
 	virtual ~importDialog();
 
 	void setHeight(int maxHeight);
@@ -45,7 +44,6 @@
 
 protected:
 	void populate_comboboxes(bool localOnly);
-	void populate_mimeTreeview(void);
 	bool start_thread(WorkerThread *pNewThread);
 	void signal_scanner(void);
 
@@ -54,8 +52,6 @@
 	void on_thread_end(WorkerThread *pThread);
 
 private:
-	std::set&lt;std::string&gt; m_mimeTypes;
-	std::set&lt;std::string&gt; m_mimeTypesBlackList;
 	// Type
 	ComboModelColumns m_typeColumns;
 	Glib::RefPtr&lt;Gtk::ListStore&gt; m_refTypeList;
@@ -66,9 +62,6 @@
 	std::string m_labelName;
 	unsigned int m_docsCount;
 	bool m_importDirectory;
-	// MIME types
-	TypeModelColumns m_mimeTypeColumns;
-	Glib::RefPtr&lt;Gtk::ListStore&gt; m_refMimeTypeList;
 	// Directory scanner
 	DirectoryScannerThread *m_pScannerThread;
 	// Activity timeout

Modified: trunk/UI/GTK2/src/importDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/importDialog_glade.cc	2006-05-30 12:42:56 UTC (rev 279)
+++ trunk/UI/GTK2/src/importDialog_glade.cc	2006-05-30 12:44:50 UTC (rev 280)
@@ -1,9 +1,9 @@
-// generated 2006/1/20 22:51:42 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
-// using glademm V2.6.0
+// generated 2006/5/27 14:34:17 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
+// using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.6.10 and gtkmm 2.6.2
+// for gtk 2.8.17 and gtkmm 2.8.3
 //
 // Please modify the corresponding derived classes in ./src/importDialog.cc
 
@@ -25,18 +25,11 @@
 #  else
 #    define N_(String) (String)
 #  endif
-#else
-#  define textdomain(String) (String)
-#  define gettext(String) (String)
-#  define dgettext(Domain,Message) (Message)
-#  define dcgettext(Domain,Message,Type) (Message)
-#  define bindtextdomain(Domain,Directory) (Domain)
-#  define _(String) (String)
-#  define N_(String) (String)
 #endif
 #include &lt;gtkmmconfig.h&gt;
 #if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;2
 #include &lt;sigc++/compatibility.h&gt;
+#include &lt;sigc++/bind.h&gt;
 #define GMM_GTKMM_22_24(a,b) b
 #else //gtkmm 2.2
 #define GMM_GTKMM_22_24(a,b) a
@@ -49,10 +42,19 @@
 #include &lt;gtkmm/label.h&gt;
 #include &lt;gtkmm/box.h&gt;
 #include &lt;gtkmm/adjustment.h&gt;
-#include &lt;gtkmm/scrolledwindow.h&gt;
 #include &lt;gtkmm/image.h&gt;
 #include &lt;gtkmm/alignment.h&gt;
+#ifndef ENABLE_NLS
+#  define textdomain(String) (String)
+#  define gettext(String) (String)
+#  define dgettext(Domain,Message) (Message)
+#  define dcgettext(Domain,Message,Type) (Message)
+#  define bindtextdomain(Domain,Directory) (Domain)
+#  define _(String) (String)
+#  define N_(String) (String)
+#endif
 
+
 importDialog_glade::importDialog_glade(
 )
 {  
@@ -82,9 +84,6 @@
    
    Gtk::Label *labelNameLabel = Gtk::manage(new class Gtk::Label(_(&quot;Apply label:&quot;)));
    docTable = Gtk::manage(new class Gtk::Table(2, 2, false));
-   mimeTreeview = Gtk::manage(new class Gtk::TreeView());
-   
-   Gtk::ScrolledWindow *mimeScrolledwindow = Gtk::manage(new class Gtk::ScrolledWindow());
    importProgressbar = Gtk::manage(new class Gtk::ProgressBar());
    
    Gtk::Image *image575 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-open&quot;), Gtk::IconSize(4)));
@@ -175,16 +174,6 @@
    docTable-&gt;attach(*linksCheckbutton, 1, 2, 4, 5, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
    docTable-&gt;attach(*labelNameCombobox, 1, 2, 5, 6, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
    docTable-&gt;attach(*labelNameLabel, 0, 1, 5, 6, Gtk::FILL, Gtk::AttachOptions(), 0, 0);
-   mimeTreeview-&gt;set_flags(Gtk::CAN_FOCUS);
-   mimeTreeview-&gt;set_headers_visible(true);
-   mimeTreeview-&gt;set_rules_hint(false);
-   mimeTreeview-&gt;set_reorderable(false);
-   mimeTreeview-&gt;set_enable_search(true);
-   mimeScrolledwindow-&gt;set_flags(Gtk::CAN_FOCUS);
-   mimeScrolledwindow-&gt;set_shadow_type(Gtk::SHADOW_IN);
-   mimeScrolledwindow-&gt;set_policy(Gtk::POLICY_AUTOMATIC, Gtk::POLICY_AUTOMATIC);
-   mimeScrolledwindow-&gt;property_window_placement().set_value(Gtk::CORNER_TOP_LEFT);
-   mimeScrolledwindow-&gt;add(*mimeTreeview);
    image575-&gt;set_alignment(0.5,0.5);
    image575-&gt;set_padding(0,0);
    label55-&gt;set_alignment(0.5,0.5);
@@ -203,8 +192,7 @@
    importHbox-&gt;pack_start(*importProgressbar);
    importHbox-&gt;pack_start(*importButton, Gtk::PACK_SHRINK, 0);
    importVbox-&gt;pack_start(*docTable, Gtk::PACK_SHRINK, 0);
-   importVbox-&gt;pack_start(*mimeScrolledwindow, Gtk::PACK_EXPAND_WIDGET, 4);
-   importVbox-&gt;pack_start(*importHbox, Gtk::PACK_SHRINK, 0);
+   importVbox-&gt;pack_start(*importHbox, Gtk::PACK_SHRINK, 4);
    importDialog-&gt;get_vbox()-&gt;set_homogeneous(false);
    importDialog-&gt;get_vbox()-&gt;set_spacing(0);
    importDialog-&gt;get_vbox()-&gt;pack_start(*importVbox);
@@ -231,8 +219,6 @@
    labelNameCombobox-&gt;show();
    labelNameLabel-&gt;show();
    docTable-&gt;show();
-   mimeTreeview-&gt;show();
-   mimeScrolledwindow-&gt;show();
    importProgressbar-&gt;show();
    image575-&gt;show();
    label55-&gt;show();

Modified: trunk/UI/GTK2/src/importDialog_glade.hh
===================================================================
--- trunk/UI/GTK2/src/importDialog_glade.hh	2006-05-30 12:42:56 UTC (rev 279)
+++ trunk/UI/GTK2/src/importDialog_glade.hh	2006-05-30 12:44:50 UTC (rev 280)
@@ -1,9 +1,9 @@
-// generated 2006/1/20 22:51:42 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
-// using glademm V2.6.0
+// generated 2006/5/27 14:34:17 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
+// using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.6.10 and gtkmm 2.6.2
+// for gtk 2.8.17 and gtkmm 2.8.3
 //
 // Please modify the corresponding derived classes in ./src/importDialog.hh and./src/importDialog.cc
 
@@ -39,7 +39,6 @@
 #include &lt;gtkmm/spinbutton.h&gt;
 #include &lt;gtkmm/checkbutton.h&gt;
 #include &lt;gtkmm/table.h&gt;
-#include &lt;gtkmm/treeview.h&gt;
 #include &lt;gtkmm/progressbar.h&gt;
 
 class importDialog_glade : public Gtk::Dialog
@@ -56,7 +55,6 @@
         class Gtk::CheckButton * linksCheckbutton;
         class Gtk::ComboBox * labelNameCombobox;
         class Gtk::Table * docTable;
-        class Gtk::TreeView * mimeTreeview;
         class Gtk::ProgressBar * importProgressbar;
         class Gtk::Button * importButton;
         

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2006-05-30 12:42:56 UTC (rev 279)
+++ trunk/UI/GTK2/src/mainWindow.cc	2006-05-30 12:44:50 UTC (rev 280)
@@ -1682,16 +1682,9 @@
 //
 void mainWindow::on_import_activate()
 {
-	set&lt;string&gt; mimeTypes;
-	int width, height;
-
-	TokenizerFactory::getSupportedTypes(mimeTypes);
-	get_size(width, height);
-
 	m_state.disconnect();
 
-	importDialog importBox(_(&quot;Import Document(s)&quot;), mimeTypes);
-	importBox.setHeight(height / 2);
+	importDialog importBox(_(&quot;Import Document(s)&quot;));
 	importBox.show();
 	importBox.run();
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000273.html">[Pinot-svn] r279 - trunk/Search
</A></li>
	<LI>Next message: <A HREF="000275.html">[Pinot-svn] r281 - trunk/UI/GTK2/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#274">[ date ]</a>
              <a href="thread.html#274">[ thread ]</a>
              <a href="subject.html#274">[ subject ]</a>
              <a href="author.html#274">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pinot-svn">More information about the Pinot-svn
mailing list</a><br>
</body></html>
