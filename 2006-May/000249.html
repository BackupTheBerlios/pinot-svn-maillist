<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Pinot-svn] r251 - in trunk/UI/GTK2: . src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pinot-svn/2006-May/index.html" >
   <LINK REL="made" HREF="mailto:pinot-svn%40lists.berlios.de?Subject=Re%3A%20%5BPinot-svn%5D%20r251%20-%20in%20trunk/UI/GTK2%3A%20.%20src&In-Reply-To=%3C200605200510.k4K5Aael021575%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000248.html">
   <LINK REL="Next"  HREF="000250.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Pinot-svn] r251 - in trunk/UI/GTK2: . src</H1>
    <B>fabricecolin at BerliOS</B> 
    <A HREF="mailto:pinot-svn%40lists.berlios.de?Subject=Re%3A%20%5BPinot-svn%5D%20r251%20-%20in%20trunk/UI/GTK2%3A%20.%20src&In-Reply-To=%3C200605200510.k4K5Aael021575%40sheep.berlios.de%3E"
       TITLE="[Pinot-svn] r251 - in trunk/UI/GTK2: . src">fabricecolin at berlios.de
       </A><BR>
    <I>Sat May 20 07:10:36 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000248.html">[Pinot-svn] r250 - in trunk: Monitor UI/GTK2/src
</A></li>
        <LI>Next message: <A HREF="000250.html">[Pinot-svn] r252 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#249">[ date ]</a>
              <a href="thread.html#249">[ thread ]</a>
              <a href="subject.html#249">[ subject ]</a>
              <a href="author.html#249">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: fabricecolin
Date: 2006-05-20 07:10:25 +0200 (Sat, 20 May 2006)
New Revision: 251

Modified:
   trunk/UI/GTK2/metase-gtk2.glade
   trunk/UI/GTK2/src/ResultsTree.cpp
   trunk/UI/GTK2/src/ResultsTree.h
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/mainWindow_glade.cc
   trunk/UI/GTK2/src/mainWindow_glade.hh
Log:
The Show Extract and Group By menuitems are always visible and have effect
on all results tabs. Up to now, this wasn't very clear.


Modified: trunk/UI/GTK2/metase-gtk2.glade
===================================================================
--- trunk/UI/GTK2/metase-gtk2.glade	2006-05-20 04:30:58 UTC (rev 250)
+++ trunk/UI/GTK2/metase-gtk2.glade	2006-05-20 05:10:25 UTC (rev 251)
@@ -140,28 +140,6 @@
 		&lt;widget class=&quot;GtkMenu&quot; id=&quot;resultsMenuitem_menu&quot;&gt;
 
 		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;clearresults1&quot;&gt;
-		      &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Clear List&lt;/property&gt;
-		      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-		      &lt;signal name=&quot;activate&quot; handler=&quot;on_clearresults_activate&quot; last_modification_time=&quot;Wed, 03 Mar 2004 19:51:48 GMT&quot;/&gt;
-
-		      &lt;child internal-child=&quot;image&quot;&gt;
-			&lt;widget class=&quot;GtkImage&quot; id=&quot;image569&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;stock&quot;&gt;gtk-clear&lt;/property&gt;
-			  &lt;property name=&quot;icon_size&quot;&gt;1&lt;/property&gt;
-			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			&lt;/widget&gt;
-		      &lt;/child&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
-
-		  &lt;child&gt;
 		    &lt;widget class=&quot;GtkCheckMenuItem&quot; id=&quot;showextract1&quot;&gt;
 		      &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
@@ -209,6 +187,28 @@
 		  &lt;/child&gt;
 
 		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;clearresults1&quot;&gt;
+		      &lt;property agent=&quot;glademm&quot; name=&quot;cxx_visibility&quot;&gt;protected&lt;/property&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Clear List&lt;/property&gt;
+		      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+		      &lt;signal name=&quot;activate&quot; handler=&quot;on_clearresults_activate&quot; last_modification_time=&quot;Wed, 03 Mar 2004 19:51:48 GMT&quot;/&gt;
+
+		      &lt;child internal-child=&quot;image&quot;&gt;
+			&lt;widget class=&quot;GtkImage&quot; id=&quot;image584&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock&quot;&gt;gtk-clear&lt;/property&gt;
+			  &lt;property name=&quot;icon_size&quot;&gt;1&lt;/property&gt;
+			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
+			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
+			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+		    &lt;/widget&gt;
+		  &lt;/child&gt;
+
+		  &lt;child&gt;
 		    &lt;widget class=&quot;GtkSeparatorMenuItem&quot; id=&quot;separator1&quot;&gt;
 		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 		    &lt;/widget&gt;
@@ -276,7 +276,7 @@
 		      &lt;signal name=&quot;activate&quot; handler=&quot;on_import_activate&quot; last_modification_time=&quot;Tue, 02 Mar 2004 22:13:44 GMT&quot;/&gt;
 
 		      &lt;child internal-child=&quot;image&quot;&gt;
-			&lt;widget class=&quot;GtkImage&quot; id=&quot;image570&quot;&gt;
+			&lt;widget class=&quot;GtkImage&quot; id=&quot;image585&quot;&gt;
 			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 			  &lt;property name=&quot;stock&quot;&gt;gtk-open&lt;/property&gt;
 			  &lt;property name=&quot;icon_size&quot;&gt;1&lt;/property&gt;
@@ -314,7 +314,7 @@
 		      &lt;signal name=&quot;activate&quot; handler=&quot;on_refreshindex_activate&quot; last_modification_time=&quot;Fri, 20 Feb 2004 18:57:09 GMT&quot;/&gt;
 
 		      &lt;child internal-child=&quot;image&quot;&gt;
-			&lt;widget class=&quot;GtkImage&quot; id=&quot;image571&quot;&gt;
+			&lt;widget class=&quot;GtkImage&quot; id=&quot;image586&quot;&gt;
 			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 			  &lt;property name=&quot;stock&quot;&gt;gtk-refresh&lt;/property&gt;
 			  &lt;property name=&quot;icon_size&quot;&gt;1&lt;/property&gt;
@@ -336,7 +336,7 @@
 		      &lt;signal name=&quot;activate&quot; handler=&quot;on_unindex_activate&quot; last_modification_time=&quot;Thu, 28 Jul 2005 12:42:23 GMT&quot;/&gt;
 
 		      &lt;child internal-child=&quot;image&quot;&gt;
-			&lt;widget class=&quot;GtkImage&quot; id=&quot;image572&quot;&gt;
+			&lt;widget class=&quot;GtkImage&quot; id=&quot;image587&quot;&gt;
 			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 			  &lt;property name=&quot;stock&quot;&gt;gtk-delete&lt;/property&gt;
 			  &lt;property name=&quot;icon_size&quot;&gt;1&lt;/property&gt;
@@ -358,7 +358,7 @@
 		      &lt;signal name=&quot;activate&quot; handler=&quot;on_showfromindex_activate&quot; last_modification_time=&quot;Sun, 06 Nov 2005 08:43:05 GMT&quot;/&gt;
 
 		      &lt;child internal-child=&quot;image&quot;&gt;
-			&lt;widget class=&quot;GtkImage&quot; id=&quot;image573&quot;&gt;
+			&lt;widget class=&quot;GtkImage&quot; id=&quot;image588&quot;&gt;
 			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
 			  &lt;property name=&quot;stock&quot;&gt;gtk-properties&lt;/property&gt;
 			  &lt;property name=&quot;icon_size&quot;&gt;1&lt;/property&gt;

Modified: trunk/UI/GTK2/src/ResultsTree.cpp
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.cpp	2006-05-20 04:30:58 UTC (rev 250)
+++ trunk/UI/GTK2/src/ResultsTree.cpp	2006-05-20 05:10:25 UTC (rev 251)
@@ -50,7 +50,8 @@
 	m_settings(settings),
 	m_pExtractScrolledwindow(NULL),
 	m_extractTextview(NULL),
-	m_showExtract(true)
+	m_showExtract(true),
+	m_groupBySearchEngine(true)
 {
 	m_pResultsScrolledwindow = manage(new ScrolledWindow());
 	m_pExtractScrolledwindow = manage(new ScrolledWindow());
@@ -598,15 +599,26 @@
 }
 
 //
-// Groups results.
+// Sets how results are grouped.
 //
-void ResultsTree::regroupResults(bool groupBySearchEngine)
+void ResultsTree::setGroupMode(bool groupBySearchEngine)
 {
 	ResultsModelColumns::ResultType currentType, newType;
 
-#ifdef DEBUG
-	cout &lt;&lt; &quot;ResultsTree::regroupResults: called&quot; &lt;&lt; endl;
-#endif
+	if (m_groupBySearchEngine == groupBySearchEngine)
+	{
+		// No change
+		return;
+	}
+	m_groupBySearchEngine = groupBySearchEngine;
+
+	// Do we need to update the tree ?
+	TreeModel::Children children = m_refStore-&gt;children();
+	if (children.empty() == true)
+	{
+		return;
+	}
+
 	// What's the new grouping criteria ?
 	if (groupBySearchEngine == true)
 	{
@@ -621,13 +633,6 @@
 		newType = ResultsModelColumns::RESULT_HOST;
 	}
 
-	// Go through tree rows
-	TreeModel::Children children = m_refStore-&gt;children();
-	if (children.empty() == true)
-	{
-		return;
-	}
-
 	// Clear the map
 	m_resultsGroups.clear();
 

Modified: trunk/UI/GTK2/src/ResultsTree.h
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.h	2006-05-20 04:30:58 UTC (rev 250)
+++ trunk/UI/GTK2/src/ResultsTree.h	2006-05-20 05:10:25 UTC (rev 251)
@@ -59,8 +59,8 @@
 			const std::vector&lt;Result&gt; &amp;resultsList, const std::string &amp;charset,
 			bool groupBySearchEngine);
 
-		/// Groups results.
-		void regroupResults(bool groupBySearchEngine);
+		/// Sets how results are grouped.
+		void setGroupMode(bool groupBySearchEngine);
 
 		/// Determines if results are selected.
 		bool checkSelection(void);
@@ -109,6 +109,7 @@
 		Gtk::TextView *m_extractTextview;
 		std::set&lt;std::string&gt; m_indexNames;
 		bool m_showExtract;
+		bool m_groupBySearchEngine;
 		std::set&lt;std::string&gt; m_queryTerms;
 
 		void renderViewStatus(Gtk::CellRenderer *renderer, const Gtk::TreeModel::iterator &amp;iter);

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2006-05-20 04:30:58 UTC (rev 250)
+++ trunk/UI/GTK2/src/mainWindow.cc	2006-05-20 05:10:25 UTC (rev 251)
@@ -45,6 +45,7 @@
 #include &quot;XapianEngine.h&quot;
 #include &quot;config.h&quot;
 #include &quot;NLS.h&quot;
+#include &quot;MboxHandler.h&quot;
 #include &quot;PinotUtils.h&quot;
 #include &quot;mainWindow.hh&quot;
 #include &quot;importDialog.hh&quot;
@@ -679,7 +680,9 @@
 				ResultsTree *pResultsTree = pResultsPage-&gt;getTree();
 				if (pResultsTree != NULL)
 				{
+					// Sync the results tree with the menuitems
 					pResultsTree-&gt;showExtract(showextract1-&gt;get_active());
+					pResultsTree-&gt;setGroupMode(searchenginegroup1-&gt;get_active());
 				}
 			}
 
@@ -886,8 +889,9 @@
 			// Position the results tree
 			pResultsTree = manage(new ResultsTree(queryName, resultsMenuitem-&gt;get_submenu(), m_settings));
 			pResultsPage = manage(new ResultsPage(queryName, pResultsTree, m_pNotebook-&gt;get_height(), m_settings));
-			// Show or hide the extract field
+			// Sync the results tree with the menuitems
 			pResultsTree-&gt;showExtract(showextract1-&gt;get_active());
+			pResultsTree-&gt;setGroupMode(searchenginegroup1-&gt;get_active());
 			// Connect to the &quot;changed&quot; signal
 			pResultsTree-&gt;getSelectionChangedSignal().connect(
 				SigC::slot(*this, &amp;mainWindow::on_resultsTreeviewSelection_changed));
@@ -1582,7 +1586,7 @@
 			ResultsTree *pResultsTree = pResultsPage-&gt;getTree();
 			if (pResultsTree != NULL)
 			{
-				pResultsTree-&gt;regroupResults(searchenginegroup1-&gt;get_active());
+				pResultsTree-&gt;setGroupMode(searchenginegroup1-&gt;get_active());
 			}
 		}
 	}
@@ -2401,8 +2405,6 @@
 {
 	// Results menuitems that depend on the page
 	clearresults1-&gt;set_sensitive(showItems);
-	showextract1-&gt;set_sensitive(showItems);
-	groupresults1-&gt;set_sensitive(showItems);
 }
 
 //

Modified: trunk/UI/GTK2/src/mainWindow_glade.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow_glade.cc	2006-05-20 04:30:58 UTC (rev 250)
+++ trunk/UI/GTK2/src/mainWindow_glade.cc	2006-05-20 05:10:25 UTC (rev 251)
@@ -1,9 +1,9 @@
-// generated 2006/2/20 22:15:34 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
-// using glademm V2.6.0
+// generated 2006/5/17 8:25:37 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
+// using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.6.10 and gtkmm 2.6.2
+// for gtk 2.8.17 and gtkmm 2.8.3
 //
 // Please modify the corresponding derived classes in ./src/mainWindow.cc
 
@@ -25,18 +25,11 @@
 #  else
 #    define N_(String) (String)
 #  endif
-#else
-#  define textdomain(String) (String)
-#  define gettext(String) (String)
-#  define dgettext(Domain,Message) (Message)
-#  define dcgettext(Domain,Message,Type) (Message)
-#  define bindtextdomain(Domain,Directory) (Domain)
-#  define _(String) (String)
-#  define N_(String) (String)
 #endif
 #include &lt;gtkmmconfig.h&gt;
 #if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;2
 #include &lt;sigc++/compatibility.h&gt;
+#include &lt;sigc++/bind.h&gt;
 #define GMM_GTKMM_22_24(a,b) b
 #else //gtkmm 2.2
 #define GMM_GTKMM_22_24(a,b) a
@@ -54,7 +47,17 @@
 #include &lt;gtkmm/buttonbox.h&gt;
 #include &lt;gtkmm/scrolledwindow.h&gt;
 #include &lt;gtkmm/alignment.h&gt;
+#ifndef ENABLE_NLS
+#  define textdomain(String) (String)
+#  define gettext(String) (String)
+#  define dgettext(Domain,Message) (Message)
+#  define dcgettext(Domain,Message,Type) (Message)
+#  define bindtextdomain(Domain,Directory) (Domain)
+#  define _(String) (String)
+#  define N_(String) (String)
+#endif
 
+
 mainWindow_glade::mainWindow_glade(
 ) : Gtk::Window(Gtk::WINDOW_TOPLEVEL)
 {  mainWindow = this;
@@ -71,14 +74,14 @@
    delete1 = NULL;
    Gtk::Menu *editMenuitem_menu = Gtk::manage(new class Gtk::Menu());
    editMenuitem = NULL;
-   Gtk::Image *image569 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-clear&quot;), Gtk::IconSize(1)));
-   clearresults1 = NULL;
    showextract1 = NULL;
+   Gtk::RadioMenuItem::Group _RadioMIGroup_searchenginegroup1;
    searchenginegroup1 = NULL;
-   Gtk::RadioMenuItem::Group _RadioMIGroup_searchenginegroup1;
    hostnamegroup1 = NULL;
    Gtk::Menu *groupresults1_menu = Gtk::manage(new class Gtk::Menu());
    groupresults1 = NULL;
+   Gtk::Image *image584 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-clear&quot;), Gtk::IconSize(1)));
+   clearresults1 = NULL;
    Gtk::MenuItem *separator1 = NULL;
    viewresults1 = NULL;
    viewcache1 = NULL;
@@ -86,15 +89,15 @@
    Gtk::Menu *resultsMenuitem_menu = Gtk::manage(new class Gtk::Menu());
    resultsMenuitem = NULL;
    list1 = NULL;
-   Gtk::Image *image570 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-open&quot;), Gtk::IconSize(1)));
+   Gtk::Image *image585 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-open&quot;), Gtk::IconSize(1)));
    import1 = NULL;
    Gtk::MenuItem *separator3 = NULL;
    viewfromindex1 = NULL;
-   Gtk::Image *image571 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-refresh&quot;), Gtk::IconSize(1)));
+   Gtk::Image *image586 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-refresh&quot;), Gtk::IconSize(1)));
    refreshindex1 = NULL;
-   Gtk::Image *image572 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-delete&quot;), Gtk::IconSize(1)));
+   Gtk::Image *image587 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-delete&quot;), Gtk::IconSize(1)));
    unindex1 = NULL;
-   Gtk::Image *image573 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-properties&quot;), Gtk::IconSize(1)));
+   Gtk::Image *image588 = Gtk::manage(new class Gtk::Image(Gtk::StockID(&quot;gtk-properties&quot;), Gtk::IconSize(1)));
    showfromindex1 = NULL;
    Gtk::Menu *indexMenuitem_menu = Gtk::manage(new class Gtk::Menu());
    indexMenuitem = NULL;
@@ -134,7 +137,7 @@
    Gtk::VButtonBox *queryVbuttonbox = Gtk::manage(new class Gtk::VButtonBox(Gtk::BUTTONBOX_START, 0));
    Gtk::HBox *queryHbox = Gtk::manage(new class Gtk::HBox(false, 0));
    Gtk::Label *queryLabel = Gtk::manage(new class Gtk::Label(_(&quot;Stored queries&quot;)));
-#if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;2
+#if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;=3
    queryExpander = Gtk::manage(new class Gtk::Expander());
 #else //
    queryExpander = Gtk::manage(new class Gtk::HandleBox());
@@ -174,15 +177,15 @@
    groupresults1_menu-&gt;items().push_back(Gtk::Menu_Helpers::RadioMenuElem(_RadioMIGroup_searchenginegroup1, _(&quot;Host Name&quot;)));
    hostnamegroup1 = (Gtk::RadioMenuItem *)&amp;groupresults1_menu-&gt;items().back();
    
-   resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Clear List&quot;), *image569));
-   clearresults1 = (Gtk::ImageMenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
-   
    resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::CheckMenuElem(_(&quot;Show Extract&quot;)));
    showextract1 = (Gtk::CheckMenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
    
    resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;Group By&quot;), *groupresults1_menu));
    groupresults1 = (Gtk::MenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
    
+   resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Clear List&quot;), *image584));
+   clearresults1 = (Gtk::ImageMenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
+   
    resultsMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::SeparatorElem());
    separator1 = (Gtk::MenuItem *)&amp;resultsMenuitem_menu-&gt;items().back();
    
@@ -198,7 +201,7 @@
    indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;List Contents Of&quot;)));
    list1 = (Gtk::MenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
-   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Import&quot;), *image570));
+   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Import&quot;), *image585));
    import1 = (Gtk::ImageMenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
    indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::SeparatorElem());
@@ -207,13 +210,13 @@
    indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;View&quot;)));
    viewfromindex1 = (Gtk::MenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
-   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Update&quot;), *image571));
+   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Update&quot;), *image586));
    refreshindex1 = (Gtk::ImageMenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
-   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Unindex&quot;), *image572));
+   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Unindex&quot;), *image587));
    unindex1 = (Gtk::ImageMenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
-   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Properties&quot;), *image573));
+   indexMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_(&quot;Properties&quot;), *image588));
    showfromindex1 = (Gtk::ImageMenuItem *)&amp;indexMenuitem_menu-&gt;items().back();
    
    helpMenuitem_menu-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;_About&quot;)));
@@ -233,19 +236,19 @@
    
    mainMenubar-&gt;items().push_back(Gtk::Menu_Helpers::MenuElem(_(&quot;_Help&quot;), *helpMenuitem_menu));
    helpMenuitem = (Gtk::MenuItem *)&amp;mainMenubar-&gt;items().back();
-   image569-&gt;set_alignment(0.5,0.5);
-   image569-&gt;set_padding(0,0);
    showextract1-&gt;set_active(true);
    searchenginegroup1-&gt;set_active(true);
    hostnamegroup1-&gt;set_active(false);
-   image570-&gt;set_alignment(0.5,0.5);
-   image570-&gt;set_padding(0,0);
-   image571-&gt;set_alignment(0.5,0.5);
-   image571-&gt;set_padding(0,0);
-   image572-&gt;set_alignment(0.5,0.5);
-   image572-&gt;set_padding(0,0);
-   image573-&gt;set_alignment(0.5,0.5);
-   image573-&gt;set_padding(0,0);
+   image584-&gt;set_alignment(0.5,0.5);
+   image584-&gt;set_padding(0,0);
+   image585-&gt;set_alignment(0.5,0.5);
+   image585-&gt;set_padding(0,0);
+   image586-&gt;set_alignment(0.5,0.5);
+   image586-&gt;set_padding(0,0);
+   image587-&gt;set_alignment(0.5,0.5);
+   image587-&gt;set_padding(0,0);
+   image588-&gt;set_alignment(0.5,0.5);
+   image588-&gt;set_padding(0,0);
    image439-&gt;set_alignment(0.5,0.5);
    image439-&gt;set_padding(0,0);
    addIndexButton-&gt;set_flags(Gtk::CAN_FOCUS);
@@ -287,6 +290,11 @@
    queryTreeview-&gt;set_rules_hint(false);
    queryTreeview-&gt;set_reorderable(false);
    queryTreeview-&gt;set_enable_search(false);
+#if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;=5
+   queryTreeview-&gt;set_fixed_height_mode(false);
+   queryTreeview-&gt;set_hover_selection(false);
+   queryTreeview-&gt;set_hover_expand(false);
+#endif //
    queryScrolledwindow-&gt;set_flags(Gtk::CAN_FOCUS);
    queryScrolledwindow-&gt;set_shadow_type(Gtk::SHADOW_NONE);
    queryScrolledwindow-&gt;set_policy(Gtk::POLICY_AUTOMATIC, Gtk::POLICY_AUTOMATIC);
@@ -333,12 +341,12 @@
    queryLabel-&gt;set_use_markup(false);
    queryLabel-&gt;set_selectable(false);
    queryExpander-&gt;set_flags(Gtk::CAN_FOCUS);
-#if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;2
+#if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;=3
    queryExpander-&gt;set_expanded(false);
    queryExpander-&gt;set_spacing(0);
 #endif //
    queryExpander-&gt;add(*queryHbox);
-#if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;2
+#if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;=3
    queryExpander-&gt;set_label_widget(*queryLabel);
 #endif //
    rightVbox-&gt;pack_start(*liveQueryHbox, Gtk::PACK_SHRINK, 0);
@@ -369,27 +377,27 @@
    paste1-&gt;show();
    delete1-&gt;show();
    editMenuitem-&gt;show();
-   image569-&gt;show();
-   clearresults1-&gt;show();
    showextract1-&gt;show();
    searchenginegroup1-&gt;show();
    hostnamegroup1-&gt;show();
    groupresults1-&gt;show();
+   image584-&gt;show();
+   clearresults1-&gt;show();
    separator1-&gt;show();
    viewresults1-&gt;show();
    viewcache1-&gt;show();
    indexresults1-&gt;show();
    resultsMenuitem-&gt;show();
    list1-&gt;show();
-   image570-&gt;show();
+   image585-&gt;show();
    import1-&gt;show();
    separator3-&gt;show();
    viewfromindex1-&gt;show();
-   image571-&gt;show();
+   image586-&gt;show();
    refreshindex1-&gt;show();
-   image572-&gt;show();
+   image587-&gt;show();
    unindex1-&gt;show();
-   image573-&gt;show();
+   image588-&gt;show();
    showfromindex1-&gt;show();
    indexMenuitem-&gt;show();
    about1-&gt;show();
@@ -433,9 +441,9 @@
    copy1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_copy_activate), false);
    paste1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_paste_activate), false);
    delete1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_delete_activate), false);
-   clearresults1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_clearresults_activate), false);
    showextract1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_showextract_activate), false);
    searchenginegroup1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_groupresults_activate), false);
+   clearresults1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_clearresults_activate), false);
    viewresults1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_viewresults_activate), false);
    viewcache1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_viewcache_activate), false);
    indexresults1-&gt;signal_activate().connect(SigC::slot(*this, &amp;mainWindow_glade::on_indexresults_activate), false);

Modified: trunk/UI/GTK2/src/mainWindow_glade.hh
===================================================================
--- trunk/UI/GTK2/src/mainWindow_glade.hh	2006-05-20 04:30:58 UTC (rev 250)
+++ trunk/UI/GTK2/src/mainWindow_glade.hh	2006-05-20 05:10:25 UTC (rev 251)
@@ -1,9 +1,9 @@
-// generated 2006/2/20 22:15:34 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
-// using glademm V2.6.0
+// generated 2006/5/17 8:25:37 SGT by <A HREF="https://lists.berlios.de/mailman/listinfo/pinot-svn">fabrice at amra.dyndns.org.</A>(none)
+// using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.6.10 and gtkmm 2.6.2
+// for gtk 2.8.17 and gtkmm 2.8.3
 //
 // Please modify the corresponding derived classes in ./src/mainWindow.hh and./src/mainWindow.cc
 
@@ -40,10 +40,10 @@
 #include &lt;gtkmm/button.h&gt;
 #include &lt;gtkmm/entry.h&gt;
 #include &lt;gtkmm/treeview.h&gt;
-#if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;2
+#include &lt;gtkmm/handlebox.h&gt;
+#if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;=3
 #include &lt;gtkmm/expander.h&gt;
 #else //
-#include &lt;gtkmm/handlebox.h&gt;
 #endif //
 #include &lt;gtkmm/paned.h&gt;
 #include &lt;gtkmm/progressbar.h&gt;
@@ -65,11 +65,11 @@
         class Gtk::ImageMenuItem * paste1;
         class Gtk::ImageMenuItem * delete1;
         class Gtk::MenuItem * editMenuitem;
-        class Gtk::ImageMenuItem * clearresults1;
         class Gtk::CheckMenuItem * showextract1;
         class Gtk::RadioMenuItem * searchenginegroup1;
         class Gtk::RadioMenuItem * hostnamegroup1;
         class Gtk::MenuItem * groupresults1;
+        class Gtk::ImageMenuItem * clearresults1;
         class Gtk::MenuItem * viewresults1;
         class Gtk::MenuItem * viewcache1;
         class Gtk::MenuItem * indexresults1;
@@ -93,7 +93,7 @@
         class Gtk::Button * editQueryButton;
         class Gtk::Button * removeQueryButton;
         class Gtk::Button * findQueryButton;
-#if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;2
+#if GTKMM_MAJOR_VERSION==2 &amp;&amp; GTKMM_MINOR_VERSION&gt;=3
         class Gtk::Expander * queryExpander;
 #else //
         class Gtk::HandleBox * queryExpander;
@@ -113,9 +113,9 @@
         virtual void on_copy_activate() = 0;
         virtual void on_paste_activate() = 0;
         virtual void on_delete_activate() = 0;
-        virtual void on_clearresults_activate() = 0;
         virtual void on_showextract_activate() = 0;
         virtual void on_groupresults_activate() = 0;
+        virtual void on_clearresults_activate() = 0;
         virtual void on_viewresults_activate() = 0;
         virtual void on_viewcache_activate() = 0;
         virtual void on_indexresults_activate() = 0;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000248.html">[Pinot-svn] r250 - in trunk: Monitor UI/GTK2/src
</A></li>
	<LI>Next message: <A HREF="000250.html">[Pinot-svn] r252 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#249">[ date ]</a>
              <a href="thread.html#249">[ thread ]</a>
              <a href="subject.html#249">[ subject ]</a>
              <a href="author.html#249">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pinot-svn">More information about the Pinot-svn
mailing list</a><br>
</body></html>
