From fabricecolin at mail.berlios.de  Fri Jan  2 10:17:53 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 2 Jan 2009 10:17:53 +0100
Subject: [Pinot-svn] r1459 - trunk/IndexSearch/Xapian
Message-ID: <200901020917.n029Hrdg015097@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-02 10:17:51 +0100 (Fri, 02 Jan 2009)
New Revision: 1459

Modified:
   trunk/IndexSearch/Xapian/XapianIndex.cpp
Log:
Better lowercase the language string when testing for a stemmer.


Modified: trunk/IndexSearch/Xapian/XapianIndex.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianIndex.cpp	2008-12-31 13:27:49 UTC (rev 1458)
+++ trunk/IndexSearch/Xapian/XapianIndex.cpp	2009-01-02 09:17:51 UTC (rev 1459)
@@ -849,7 +849,7 @@
 
 		try
 		{
-			Xapian::Stem stemmer(*langIter);
+			Xapian::Stem stemmer(StringManip::toLowerCase(*langIter));
 		}
 		catch (const Xapian::Error &error)
 		{



From fabricecolin at mail.berlios.de  Fri Jan  2 10:19:51 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 2 Jan 2009 10:19:51 +0100
Subject: [Pinot-svn] r1460 - trunk/UI/GTK2/src
Message-ID: <200901020919.n029Jp7m016515@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-02 10:19:49 +0100 (Fri, 02 Jan 2009)
New Revision: 1460

Modified:
   trunk/UI/GTK2/src/OnDiskHandler.cpp
   trunk/UI/GTK2/src/OnDiskHandler.h
Log:
Prior to signaling a file, apply whatever user-set metadata we may have.


Modified: trunk/UI/GTK2/src/OnDiskHandler.cpp
===================================================================
--- trunk/UI/GTK2/src/OnDiskHandler.cpp	2009-01-02 09:17:51 UTC (rev 1459)
+++ trunk/UI/GTK2/src/OnDiskHandler.cpp	2009-01-02 09:19:49 UTC (rev 1460)
@@ -38,6 +38,7 @@
 OnDiskHandler::OnDiskHandler() :
 	MonitorHandler(),
 	m_history(PinotSettings::getInstance().getHistoryDatabaseName()),
+	m_metaData(PinotSettings::getInstance().getHistoryDatabaseName()),
 	m_pIndex(PinotSettings::getInstance().getIndex(PinotSettings::getInstance().m_daemonIndexLocation))
 {
 	pthread_mutex_init(&m_mutex, NULL);
@@ -233,6 +234,8 @@
 #endif
 	}
 
+	m_metaData.getItem(docInfo, DocumentInfo::SERIAL_ALL);
+
 	m_signalFileFound(docInfo, isDirectory);
 
 	return true;

Modified: trunk/UI/GTK2/src/OnDiskHandler.h
===================================================================
--- trunk/UI/GTK2/src/OnDiskHandler.h	2009-01-02 09:17:51 UTC (rev 1459)
+++ trunk/UI/GTK2/src/OnDiskHandler.h	2009-01-02 09:19:49 UTC (rev 1460)
@@ -26,6 +26,7 @@
 #include <sigc++/sigc++.h>
 
 #include "CrawlHistory.h"
+#include "MetaDataBackup.h"
 #include "IndexInterface.h"
 #include "MonitorHandler.h"
 #include "PinotSettings.h"
@@ -75,6 +76,7 @@
 		sigc::signal2<void, DocumentInfo, bool> m_signalFileFound;
 		std::map<unsigned int, std::string> m_fileSources;
 		CrawlHistory m_history;
+		MetaDataBackup m_metaData;
 		IndexInterface *m_pIndex;
 
 		bool fileMoved(const std::string &fileName,



From fabricecolin at mail.berlios.de  Fri Jan  2 10:22:38 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 2 Jan 2009 10:22:38 +0100
Subject: [Pinot-svn] r1461 - trunk
Message-ID: <200901020922.n029Mct2018383@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-02 10:22:34 +0100 (Fri, 02 Jan 2009)
New Revision: 1461

Modified:
   trunk/AUTHORS
   trunk/Makefile.am
   trunk/pinot.spec.in
Log:
Xapian >= 1.0.4 is now required.
When installing, use "rm -f" to remove statis libraries.
Mention Martin Michlmayr's contribution.


Modified: trunk/AUTHORS
===================================================================
--- trunk/AUTHORS	2009-01-02 09:19:49 UTC (rev 1460)
+++ trunk/AUTHORS	2009-01-02 09:22:34 UTC (rev 1461)
@@ -26,6 +26,7 @@
 	Constantin Teodorescu <brailateo at gmail dot com>
 	Adrian Bunk <bunk at stusta dot de>
 	C. Scott Ananian <cscott at laptop dot org>
+	Martin Michlmayr <tbm at cyrius dot com>
 
 The source in Utils/unac is from unac 1.7.0 (Copyright Loic Dachary
 <loic at senga dot org>).

Modified: trunk/Makefile.am
===================================================================
--- trunk/Makefile.am	2009-01-02 09:19:49 UTC (rev 1460)
+++ trunk/Makefile.am	2009-01-02 09:22:34 UTC (rev 1461)
@@ -45,10 +45,10 @@
 	$(INSTALL_DATA) $(srcdir)/IndexSearch/Plugins/*.xml $(DESTDIR)$(datadir)/pinot/engines/
 	@mv $(DESTDIR)$(datadir)/pinot/engines/YahooBOSS.src $(DESTDIR)$(datadir)/pinot/
 	@mkdir -p $(DESTDIR)$(libdir)/pinot/filters
-	@rm $(DESTDIR)$(libdir)/lib*filter.a $(DESTDIR)$(libdir)/lib*filter.la
+	@rm -f $(DESTDIR)$(libdir)/lib*filter.a $(DESTDIR)$(libdir)/lib*filter.la
 	@mv $(DESTDIR)$(libdir)/lib*filter* $(DESTDIR)$(libdir)/pinot/filters/
 	@mkdir -p $(DESTDIR)$(libdir)/pinot/backends
-	@rm $(DESTDIR)$(libdir)/lib*backend.a $(DESTDIR)$(libdir)/lib*backend.la
+	@rm -f $(DESTDIR)$(libdir)/lib*backend.a $(DESTDIR)$(libdir)/lib*backend.la
 	@mv $(DESTDIR)$(libdir)/lib*backend* $(DESTDIR)$(libdir)/pinot/backends/
 	@mkdir -p $(DESTDIR)$(datadir)/pinot/stopwords
 	@mkdir -p $(DESTDIR)$(datadir)/icons/hicolor/48x48/apps/

Modified: trunk/pinot.spec.in
===================================================================
--- trunk/pinot.spec.in	2009-01-02 09:19:49 UTC (rev 1460)
+++ trunk/pinot.spec.in	2009-01-02 09:22:34 UTC (rev 1461)
@@ -24,11 +24,11 @@
 Source: %{name}-%{version}.tar.gz
 URL: http://pinot.berlios.de/
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
-Requires: xapian-core-libs >= 1.0.3, libtextcat >= 2.2, sqlite >= 3.3.1, libcurl >= 7.13, gmime >= 2.1
+Requires: xapian-core-libs >= 1.0.4, libtextcat >= 2.2, sqlite >= 3.3.1, libcurl >= 7.13, gmime >= 2.1
 Requires: gtkmm24 >= 2.10, libxml++ >= 2.12, %{dbus_pkg} >= 0.60, shared-mime-info
 Requires: taglib >= 1.4, libexif >= 0.6, unzip, antiword, unrtf, %{pftotext_pkg}
 #Suggests: xapian-omega
-BuildRequires: xapian-core-devel >= 1.0.3, libtextcat-devel >= 2.2, sqlite-devel >= 3.3.1, libcurl-devel >= 7.13, gmime-devel >= 2.1, boost-devel >= 1.32
+BuildRequires: xapian-core-devel >= 1.0.4, libtextcat-devel >= 2.2, sqlite-devel >= 3.3.1, libcurl-devel >= 7.13, gmime-devel >= 2.1, boost-devel >= 1.32
 BuildRequires: gtkmm24-devel >= 2.10, libxml++-devel >= 2.12, %{dbus_dev_pkg} >= 0.60, gettext-devel, desktop-file-utils
 BuildRequires: taglib-devel >= 1.4, libexif-devel >= 0.6
 BuildRequires: gcc-c++



From fabricecolin at mail.berlios.de  Fri Jan  2 10:55:59 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 2 Jan 2009 10:55:59 +0100
Subject: [Pinot-svn] r1462 - in trunk: . po
Message-ID: <200901020955.n029txic023360@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-02 10:55:55 +0100 (Fri, 02 Jan 2009)
New Revision: 1462

Added:
   trunk/po/he.po
Modified:
   trunk/configure.in
Log:
Hebrew translation by Yaron.


Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2009-01-02 09:22:34 UTC (rev 1461)
+++ trunk/configure.in	2009-01-02 09:55:55 UTC (rev 1462)
@@ -26,7 +26,7 @@
 		[the gettext domain])
 
 dnl Add the languages which your application supports here.
-ALL_LINGUAS="de es fr it ja nl pt pt_BR ru sv zh_CN zh_TW"
+ALL_LINGUAS="de es fr he it ja nl pt pt_BR ru sv zh_CN zh_TW"
 #AM_GNU_GETTEXT([external]) 
 AM_GLIB_GNU_GETTEXT
 

Added: trunk/po/he.po
===================================================================
--- trunk/po/he.po	2009-01-02 09:22:34 UTC (rev 1461)
+++ trunk/po/he.po	2009-01-02 09:55:55 UTC (rev 1462)
@@ -0,0 +1,1013 @@
+# Hebrew translation for pinot
+# Copyright (c) 2008 Rosetta Contributors and Canonical Ltd 2008
+# This file is distributed under the same license as the pinot package.
+# FIRST AUTHOR <EMAIL at ADDRESS>, 2008.
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: pinot\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: 2009-01-02 03:02+0800\n"
+"PO-Revision-Date: 2008-11-21 23:49+0000\n"
+"Last-Translator: Yaron <sh.yaron at gmail.com>\n"
+"Language-Team: Hebrew <he at li.org>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"X-Launchpad-Export-Date: 2009-01-02 09:48+0000\n"
+"X-Generator: Launchpad (build Unknown)\n"
+
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
+msgid "Search Engines"
+msgstr "????? ?????"
+
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:386
+msgid "Current User"
+msgstr "????? ?????"
+
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/EnginesTree.cpp:350 UI/GTK2/src/mainWindow.cc:847
+#: UI/GTK2/src/mainWindow.cc:1119 UI/GTK2/src/mainWindow.cc:1384
+#: UI/GTK2/src/mainWindow.cc:1544 UI/GTK2/src/mainWindow.cc:1547
+#: UI/GTK2/src/mainWindow.cc:1648 UI/GTK2/src/mainWindow.cc:1684
+#: UI/GTK2/src/mainWindow.cc:1706 UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1666
+#: UI/GTK2/src/PinotSettings.cpp:1727 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1069
+msgid "My Web Pages"
+msgstr "????? ???????? ???"
+
+#. Spawn new threads
+#: UI/GTK2/src/EnginesTree.cpp:351 UI/GTK2/src/mainWindow.cc:850
+#: UI/GTK2/src/mainWindow.cc:1113 UI/GTK2/src/mainWindow.cc:1374
+#: UI/GTK2/src/mainWindow.cc:1388 UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1558 UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1667
+#: UI/GTK2/src/PinotSettings.cpp:1728 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1079
+msgid "My Documents"
+msgstr "??????? ???"
+
+#: UI/GTK2/src/indexDialog.cc:122
+msgid "Served by"
+msgstr "???? ?? ???"
+
+#: UI/GTK2/src/indexDialog.cc:124
+msgid "Local"
+msgstr "?????"
+
+#: UI/GTK2/src/indexDialog.cc:286
+msgid "Index location"
+msgstr "????? ???????"
+
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
+msgid "Name:"
+msgstr "??:"
+
+#: UI/GTK2/src/indexDialog_glade.cc:66
+msgid "..."
+msgstr "..."
+
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
+msgid "Type:"
+msgstr "???:"
+
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:65
+msgid "Location:"
+msgstr "?????:"
+
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
+msgid "Port:"
+msgstr "????:"
+
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
+msgid "Address:"
+msgstr "?????:?"
+
+#: UI/GTK2/src/indexDialog_glade.cc:182
+msgid "External index"
+msgstr "?????? ??????"
+
+#. Stemming language
+#. Labels
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
+msgid "None"
+msgstr "???"
+
+#: UI/GTK2/src/importDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
+msgid "Title:"
+msgstr "?????:"
+
+#: UI/GTK2/src/importDialog_glade.cc:69
+msgid "Apply label:"
+msgstr "??? ?????:"
+
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
+msgid "Import URL"
+msgstr "????? ??????"
+
+#: UI/GTK2/src/IndexPage.cpp:48
+msgid "Show Previous"
+msgstr "???? ?????"
+
+#: UI/GTK2/src/IndexPage.cpp:54
+msgid "Show Next"
+msgstr "???? ???"
+
+#: UI/GTK2/src/IndexPage.cpp:180
+msgid "All"
+msgstr "????"
+
+#: UI/GTK2/src/launcherDialog_glade.cc:63
+msgid ""
+"There is no helper application defined for this document's type.\n"
+"Please enter the command to open this document."
+msgstr ""
+"??? ????? ??? ??????? ?????? ???? ???? ??.\n"
+"??? ??? ?? ?????? ?????? ???? ??."
+
+#: UI/GTK2/src/launcherDialog_glade.cc:66
+msgid "Use this command for other documents of the same type."
+msgstr "????? ?????? ?? ??????? ????? ????? ????."
+
+#: UI/GTK2/src/launcherDialog_glade.cc:98
+msgid "Helper application"
+msgstr "????? ???"
+
+#: UI/GTK2/src/mainWindow.cc:176
+msgid "Query Name"
+msgstr "?? ???????"
+
+#: UI/GTK2/src/mainWindow.cc:181
+msgid "Last Run"
+msgstr "?????? ??????"
+
+#: UI/GTK2/src/mainWindow.cc:186
+msgid "Summary"
+msgstr "?????"
+
+#. Set tooltips
+#: UI/GTK2/src/mainWindow.cc:229
+msgid "Show all search engines"
+msgstr "??? ?? ?? ????? ??????"
+
+#: UI/GTK2/src/mainWindow.cc:230
+msgid "Find documents that match the query string"
+msgstr "??? ?????? ??????? ?? ?????? ??????"
+
+#: UI/GTK2/src/mainWindow.cc:231
+msgid "Add an index"
+msgstr "???? ??????"
+
+#: UI/GTK2/src/mainWindow.cc:232
+msgid "Remove an index"
+msgstr "??? ??????"
+
+#: UI/GTK2/src/mainWindow.cc:233
+msgid "Add a query"
+msgstr "???? ??????"
+
+#: UI/GTK2/src/mainWindow.cc:234
+msgid "Remove a query"
+msgstr "??? ??????"
+
+#: UI/GTK2/src/mainWindow.cc:235
+msgid "Show the query's previous results"
+msgstr "??? ?? ?????? ??????? ??????"
+
+#: UI/GTK2/src/mainWindow.cc:236
+msgid "Find documents that match the query"
+msgstr "??? ?????? ??????? ?? ???????"
+
+#. Now we are ready
+#: UI/GTK2/src/mainWindow.cc:255
+msgid "Ready"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:267
+msgid "Updating all documents in My Web Pages is recommended"
+msgstr "????? ?? ??????? ?????? ???????? ??? ??????"
+
+#: UI/GTK2/src/mainWindow.cc:275
+msgid "Don't warn me again"
+msgstr "?? ????? ???? ???"
+
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
+msgid "Update"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:342
+msgid "N/A"
+msgstr "?? ????"
+
+#: UI/GTK2/src/mainWindow.cc:362
+msgid "Undefined"
+msgstr "?? ?????"
+
+#. Find this query
+#: UI/GTK2/src/mainWindow.cc:601 UI/GTK2/src/mainWindow.cc:2787
+msgid "Live query"
+msgstr "?????? ???"
+
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:879
+msgid "Document location is"
+msgstr "????? ????? ???"
+
+#: UI/GTK2/src/mainWindow.cc:1098
+msgid "Couldn't search in results"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1109
+msgid "In Results"
+msgstr "???????"
+
+#: UI/GTK2/src/mainWindow.cc:1285
+msgid "Showing"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:1293
+msgid "of"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow.cc:1335
+msgid "Query"
+msgstr "??????"
+
+#: UI/GTK2/src/mainWindow.cc:1339 UI/GTK2/src/mainWindow.cc:3328
+msgid "on"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1343
+msgid "ended"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1498
+msgid "More Like"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1565
+msgid "Updated label(s)"
+msgstr ""
+
+#. Yes, it did
+#: UI/GTK2/src/mainWindow.cc:1658 UI/GTK2/src/mainWindow.cc:1746
+msgid "Updated document"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1671
+msgid "Indexed"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1707
+msgid "Unindexed document(s)"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1801
+msgid "Couldn't rename index, name"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1805 UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:3134
+msgid "is already in use"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1818
+msgid "Couldn't rename index"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:1831
+msgid "Edited index"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2139
+msgid "Export"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2184
+#, fuzzy
+msgid "Couldn't find similar documents"
+msgstr "?? ???? ????? ?? ???????"
+
+#: UI/GTK2/src/mainWindow.cc:2429
+msgid "Index"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2433
+msgid "doesn't exist"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2501
+msgid "Remove this document from the index ?"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2520
+msgid "Remove these documents from the index ?"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
+msgid "Unindex"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2564
+msgid "A metasearch tool for the Free Desktop"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2565
+msgid "Search the Web and your documents !"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2610
+msgid "Index name"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2625
+msgid "Couldn't add index"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2641
+msgid "Added new index"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2676
+msgid "Couldn't remove index"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2876
+msgid "No history for"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
+msgid "At least one task hasn't completed yet. Quit now ?"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
+msgid "Quit"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:3130
+msgid "Query name"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:3157
+msgid "Couldn't update query"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:3168
+msgid "Edited query"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:3175
+msgid "Couldn't add query"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:3183
+msgid "Added new query"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:3217
+msgid "Query is not set"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:3228
+msgid "No search engine selected"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:3315
+msgid "Please set the Google API key first"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:3324
+msgid "Running query"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:3533
+msgid "No default application defined for type"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:129
+msgid "Query:"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
+msgid "History"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:145
+msgid "Stored queries"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:165
+msgid "Open Cache"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:174
+#, fuzzy
+msgid "_Add To Index"
+msgstr "???? ??????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:186
+msgid "More Like This"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:189
+msgid "Search This For"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
+msgid "List Contents Of"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:231
+#, fuzzy
+msgid "Group Results By"
+msgstr "???????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:234
+#, fuzzy
+msgid "Show Extracts"
+msgstr "???? ???"
+
+#: UI/GTK2/src/mainWindow_glade.cc:243
+msgid "Export List"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:252
+msgid "_About"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:255
+msgid "_File"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
+msgid "_Edit"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:264
+msgid "_Help"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow_glade.cc:393
+msgid "Pinot"
+msgstr ""
+
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr ""
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
+msgid "Close"
+msgstr ""
+
+#. Localize language names
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:443
+msgid "Unknown"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:444
+msgid "Danish"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:445
+msgid "Dutch"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:446
+msgid "English"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:447
+msgid "Finnish"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:448
+msgid "French"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:449
+msgid "German"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:450
+msgid "Hungarian"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:451
+msgid "Italian"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:452
+msgid "Norwegian"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:453
+msgid "Portuguese"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:454
+msgid "Romanian"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:455
+msgid "Russian"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:274 UI/GTK2/src/pinot-dbus-daemon.cc:456
+msgid "Spanish"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:275 UI/GTK2/src/pinot-dbus-daemon.cc:457
+msgid "Swedish"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:276 UI/GTK2/src/pinot-dbus-daemon.cc:458
+msgid "Turkish"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:302
+msgid "Couldn't open index"
+msgstr ""
+
+#: UI/GTK2/src/pinot.cc:323
+msgid "Couldn't create history database"
+msgstr ""
+
+#. Add default labels
+#: UI/GTK2/src/PinotSettings.cpp:430
+msgid "Important"
+msgstr ""
+
+#: UI/GTK2/src/PinotSettings.cpp:431
+msgid "New"
+msgstr ""
+
+#: UI/GTK2/src/PinotSettings.cpp:432
+msgid "Personal"
+msgstr ""
+
+#: UI/GTK2/src/PinotSettings.cpp:454
+msgid "Me"
+msgstr ""
+
+#: UI/GTK2/src/PinotSettings.cpp:462
+msgid "Latest First"
+msgstr ""
+
+#: UI/GTK2/src/PinotSettings.cpp:465
+msgid "Home Stuff"
+msgstr ""
+
+#: UI/GTK2/src/PinotSettings.cpp:466
+msgid "With Label New"
+msgstr ""
+
+#: UI/GTK2/src/PinotSettings.cpp:467
+msgid "Have CJKV"
+msgstr ""
+
+#: UI/GTK2/src/PinotSettings.cpp:468
+msgid "In English"
+msgstr ""
+
+#: UI/GTK2/src/PinotSettings.cpp:469
+msgid "10kb And Smaller"
+msgstr ""
+
+#: UI/GTK2/src/PinotSettings.cpp:514
+msgid "Unclassified"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:205
+msgid "Name"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:223
+msgid "Monitor"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:224
+msgid "Location"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:232
+msgid "Pattern"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:565
+msgid "Exclude these patterns from indexing"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:566
+msgid "Only index these patterns"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:765
+msgid "Directory to index"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:905
+msgid "New Label"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid "These directories will be indexed and optionally monitored for changes:"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:122
+msgid "Direct connection to the Internet"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:123
+msgid "Manual proxy configuration:"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:136
+msgid "Network"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+msgid "Pinot Preferences"
+msgstr ""
+
+#: UI/GTK2/src/propertiesDialog.cc:105
+msgid "Per document"
+msgstr ""
+
+#: UI/GTK2/src/propertiesDialog.cc:365
+msgid "Export Terms"
+msgstr ""
+
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
+msgid "Language:"
+msgstr ""
+
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
+msgid "MIME type:"
+msgstr ""
+
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
+msgid "Size:"
+msgstr ""
+
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
+msgid "Terms:"
+msgstr ""
+
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
+msgid "bytes"
+msgstr ""
+
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:110
+msgid "Host name"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:111
+msgid "File name"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:112
+msgid "File extension"
+msgstr ""
+
+#. This is the title column
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
+msgid "Title"
+msgstr ""
+
+#. URL
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
+msgid "URL"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:115
+msgid "Directory"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:117
+msgid "Language code"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:118
+msgid "MIME type"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:119
+msgid "MIME class"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:120
+msgid "Label"
+msgstr ""
+
+#. The last column is for the timestamp
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
+msgid "Date"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:124
+msgid "Time"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:125
+msgid "Size"
+msgstr ""
+
+#. Sort order
+#: UI/GTK2/src/queryDialog.cc:129
+msgid "By relevance"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:130
+msgid "By date"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:71
+msgid "New filter or range:"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:80
+msgid "Query Text"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:82
+msgid "Index results with label"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:85
+msgid "Number of results:"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:89
+msgid "Sort order:"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:93
+msgid "Stemming:"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:94
+msgid "Only index new results"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog_glade.cc:208
+msgid "Query parameters"
+msgstr ""
+
+#. This is the score column
+#: UI/GTK2/src/ResultsTree.cpp:130
+msgid "Score"
+msgstr ""
+
+#: UI/GTK2/src/ResultsTree.cpp:1550
+msgid "No results"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:154
+msgid "Indexes"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:187 UI/GTK2/src/statisticsDialog.cc:190
+#: UI/GTK2/src/statisticsDialog.cc:198
+msgid "Checking"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:195
+msgid "Daemon"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:222 UI/GTK2/src/statisticsDialog.cc:238
+msgid "documents"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:228 UI/GTK2/src/statisticsDialog.cc:246
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:253
+msgid "Viewed"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:253
+msgid "results"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:259
+msgid "Crawled"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:259
+msgid "files"
+msgstr ""
+
+#. FIXME: check whether it's actually running !
+#: UI/GTK2/src/statisticsDialog.cc:277
+msgid "Running under PID"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:297
+msgid "Disconnected from D-Bus"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:301
+msgid "Stopped"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:305
+msgid "Currently not running"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:319
+msgid "Low disk space"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:336
+msgid "System on battery"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:354
+msgid "Crawling"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:391
+msgid "Errors"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:92
+msgid "Index error"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:94
+msgid "Couldn't index document"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:96
+msgid "Couldn't update document"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:98
+msgid "Couldn't unindex document(s)"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:100
+msgid "Couldn't run query on search engine"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:102
+msgid "Couldn't get history for search engine"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:104
+msgid "Couldn't retrieve document"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:106
+msgid "File monitor error"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:108
+msgid "Couldn't open directory"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:110
+msgid "Index doesn't exist"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:112
+msgid "Couldn't create search engine"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:114
+msgid "Cannot index document type"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:116
+msgid "No downloader for this protocol"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:118
+msgid "Robots META tag forbids indexing"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:120
+msgid "No monitoring handler"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:420
+msgid "Indexing was stopped"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:433
+msgid "Can't index mail here"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
+msgid "is already being indexed"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:464
+msgid "is blacklisted"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:1032
+msgid "No title"
+msgstr ""
+
+#~ msgid "Result location is"
+#~ msgstr "????? ??????? ????"
+
+#~ msgid "documents, starting at"
+#~ msgstr "??????, ???????? ??"



From fabricecolin at mail.berlios.de  Fri Jan  2 13:28:39 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 2 Jan 2009 13:28:39 +0100
Subject: [Pinot-svn] r1463 - in trunk/UI/GTK2: . src
Message-ID: <200901021228.n02CSdq7025546@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-02 13:28:34 +0100 (Fri, 02 Jan 2009)
New Revision: 1463

Modified:
   trunk/UI/GTK2/metase-gtk2.glade
   trunk/UI/GTK2/src/mainWindow_glade.cc
   trunk/UI/GTK2/src/mainWindow_glade.hh
Log:
Use the stock gtk-about menuitem.


Modified: trunk/UI/GTK2/metase-gtk2.glade
===================================================================
--- trunk/UI/GTK2/metase-gtk2.glade	2009-01-02 09:55:55 UTC (rev 1462)
+++ trunk/UI/GTK2/metase-gtk2.glade	2009-01-02 12:28:34 UTC (rev 1463)
@@ -79,7 +79,7 @@
 		      <signal name="activate" handler="on_openparent_activate" last_modification_time="Sat, 27 Dec 2008 11:38:10 GMT"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image995">
+			<widget class="GtkImage" id="image1007">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-go-up</property>
 			  <property name="icon_size">1</property>
@@ -107,7 +107,7 @@
 		      <signal name="activate" handler="on_addtoindex_activate" last_modification_time="Sat, 27 Dec 2008 11:38:10 GMT"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image996">
+			<widget class="GtkImage" id="image1008">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-add</property>
 			  <property name="icon_size">1</property>
@@ -129,7 +129,7 @@
 		      <signal name="activate" handler="on_updateindex_activate" last_modification_time="Sat, 27 Dec 2008 11:38:10 GMT"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image997">
+			<widget class="GtkImage" id="image1009">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-refresh</property>
 			  <property name="icon_size">1</property>
@@ -151,7 +151,7 @@
 		      <signal name="activate" handler="on_unindex_activate" last_modification_time="Thu, 28 Jul 2005 12:42:23 GMT"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image998">
+			<widget class="GtkImage" id="image1010">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-delete</property>
 			  <property name="icon_size">1</property>
@@ -376,7 +376,7 @@
 		      <signal name="activate" handler="on_import_activate" last_modification_time="Sat, 27 Dec 2008 11:38:55 GMT"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image999">
+			<widget class="GtkImage" id="image1011">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-open</property>
 			  <property name="icon_size">1</property>
@@ -398,7 +398,7 @@
 		      <signal name="activate" handler="on_export_activate" last_modification_time="Sat, 27 Dec 2008 11:38:55 GMT"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image1000">
+			<widget class="GtkImage" id="image1012">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-save-as</property>
 			  <property name="icon_size">1</property>
@@ -425,7 +425,7 @@
 		      <signal name="activate" handler="on_status_activate" last_modification_time="Sat, 27 Dec 2008 11:38:55 GMT"/>
 
 		      <child internal-child="image">
-			<widget class="GtkImage" id="image1001">
+			<widget class="GtkImage" id="image1013">
 			  <property name="visible">True</property>
 			  <property name="stock">gtk-info</property>
 			  <property name="icon_size">1</property>
@@ -453,11 +453,11 @@
 		<widget class="GtkMenu" id="helpMenuitem_menu">
 
 		  <child>
-		    <widget class="GtkMenuItem" id="about1">
+		    <widget class="GtkImageMenuItem" id="about1">
 		      <property agent="glademm" name="cxx_visibility">protected</property>
 		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">_About</property>
-		      <property name="use_underline">True</property>
+		      <property name="label">gtk-about</property>
+		      <property name="use_stock">True</property>
 		      <signal name="activate" handler="on_about_activate" last_modification_time="Sat, 21 Jun 2003 15:19:32 GMT"/>
 		    </widget>
 		  </child>

Modified: trunk/UI/GTK2/src/mainWindow_glade.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow_glade.cc	2009-01-02 09:55:55 UTC (rev 1462)
+++ trunk/UI/GTK2/src/mainWindow_glade.cc	2009-01-02 12:28:34 UTC (rev 1463)
@@ -1,4 +1,4 @@
-// generated 2008/12/30 0:57:52 SGT by fabrice at rexor.dyndns.org.(none)
+// generated 2009/1/2 21:12:23 SGT by fabrice at rexor.dyndns.org.(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
@@ -65,14 +65,14 @@
    
    Gtk::MenuItem *separator7 = NULL;
    opencache1 = NULL;
-   Gtk::Image *image995 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-go-up"), Gtk::IconSize(1)));
+   Gtk::Image *image1007 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-go-up"), Gtk::IconSize(1)));
    openparent1 = NULL;
    Gtk::MenuItem *separator8 = NULL;
-   Gtk::Image *image996 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-add"), Gtk::IconSize(1)));
+   Gtk::Image *image1008 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-add"), Gtk::IconSize(1)));
    addtoindex1 = NULL;
-   Gtk::Image *image997 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-refresh"), Gtk::IconSize(1)));
+   Gtk::Image *image1009 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-refresh"), Gtk::IconSize(1)));
    updateindex1 = NULL;
-   Gtk::Image *image998 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-delete"), Gtk::IconSize(1)));
+   Gtk::Image *image1010 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-delete"), Gtk::IconSize(1)));
    unindex1 = NULL;
    Gtk::MenuItem *separator9 = NULL;
    morelikethis1 = NULL;
@@ -99,12 +99,12 @@
    groupresults1 = NULL;
    showextracts1 = NULL;
    Gtk::MenuItem *separator4 = NULL;
-   Gtk::Image *image999 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-open"), Gtk::IconSize(1)));
+   Gtk::Image *image1011 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-open"), Gtk::IconSize(1)));
    import1 = NULL;
-   Gtk::Image *image1000 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-save-as"), Gtk::IconSize(1)));
+   Gtk::Image *image1012 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-save-as"), Gtk::IconSize(1)));
    export1 = NULL;
    Gtk::MenuItem *separator6 = NULL;
-   Gtk::Image *image1001 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-info"), Gtk::IconSize(1)));
+   Gtk::Image *image1013 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-info"), Gtk::IconSize(1)));
    Gtk::ImageMenuItem *status1 = NULL;
    Gtk::Menu *optionsMenuitem_menu = Gtk::manage(new class Gtk::Menu());
    Gtk::MenuItem *optionsMenuitem = NULL;
@@ -165,19 +165,19 @@
    fileMenuitem_menu->items().push_back(Gtk::Menu_Helpers::MenuElem(_("Open Cache")));
    opencache1 = (Gtk::MenuItem *)&fileMenuitem_menu->items().back();
    
-   fileMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Open Parent"), *image995));
+   fileMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Open Parent"), *image1007));
    openparent1 = (Gtk::ImageMenuItem *)&fileMenuitem_menu->items().back();
    
    fileMenuitem_menu->items().push_back(Gtk::Menu_Helpers::SeparatorElem());
    separator8 = (Gtk::MenuItem *)&fileMenuitem_menu->items().back();
    
-   fileMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("_Add To Index"), *image996));
+   fileMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("_Add To Index"), *image1008));
    addtoindex1 = (Gtk::ImageMenuItem *)&fileMenuitem_menu->items().back();
    
-   fileMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Update"), *image997));
+   fileMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Update"), *image1009));
    updateindex1 = (Gtk::ImageMenuItem *)&fileMenuitem_menu->items().back();
    
-   fileMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Unindex"), *image998));
+   fileMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Unindex"), *image1010));
    unindex1 = (Gtk::ImageMenuItem *)&fileMenuitem_menu->items().back();
    
    fileMenuitem_menu->items().push_back(Gtk::Menu_Helpers::SeparatorElem());
@@ -237,20 +237,20 @@
    optionsMenuitem_menu->items().push_back(Gtk::Menu_Helpers::SeparatorElem());
    separator4 = (Gtk::MenuItem *)&optionsMenuitem_menu->items().back();
    
-   optionsMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Import URL"), *image999));
+   optionsMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Import URL"), *image1011));
    import1 = (Gtk::ImageMenuItem *)&optionsMenuitem_menu->items().back();
    
-   optionsMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Export List"), *image1000));
+   optionsMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Export List"), *image1012));
    export1 = (Gtk::ImageMenuItem *)&optionsMenuitem_menu->items().back();
    
    optionsMenuitem_menu->items().push_back(Gtk::Menu_Helpers::SeparatorElem());
    separator6 = (Gtk::MenuItem *)&optionsMenuitem_menu->items().back();
    
-   optionsMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Status"), *image1001));
+   optionsMenuitem_menu->items().push_back(Gtk::Menu_Helpers::ImageMenuElem(_("Status"), *image1013));
    status1 = (Gtk::ImageMenuItem *)&optionsMenuitem_menu->items().back();
    
-   helpMenuitem_menu->items().push_back(Gtk::Menu_Helpers::MenuElem(_("_About")));
-   about1 = (Gtk::MenuItem *)&helpMenuitem_menu->items().back();
+   helpMenuitem_menu->items().push_back(Gtk::Menu_Helpers::StockMenuElem(Gtk::StockID("gtk-about")));
+   about1 = (Gtk::ImageMenuItem *)&helpMenuitem_menu->items().back();
    
    mainMenubar->items().push_back(Gtk::Menu_Helpers::MenuElem(_("_File"), *fileMenuitem_menu));
    fileMenuitem = (Gtk::MenuItem *)&mainMenubar->items().back();
@@ -263,23 +263,23 @@
    
    mainMenubar->items().push_back(Gtk::Menu_Helpers::MenuElem(_("_Help"), *helpMenuitem_menu));
    helpMenuitem = (Gtk::MenuItem *)&mainMenubar->items().back();
-   image995->set_alignment(0.5,0.5);
-   image995->set_padding(0,0);
-   image996->set_alignment(0.5,0.5);
-   image996->set_padding(0,0);
-   image997->set_alignment(0.5,0.5);
-   image997->set_padding(0,0);
-   image998->set_alignment(0.5,0.5);
-   image998->set_padding(0,0);
+   image1007->set_alignment(0.5,0.5);
+   image1007->set_padding(0,0);
+   image1008->set_alignment(0.5,0.5);
+   image1008->set_padding(0,0);
+   image1009->set_alignment(0.5,0.5);
+   image1009->set_padding(0,0);
+   image1010->set_alignment(0.5,0.5);
+   image1010->set_padding(0,0);
    searchenginegroup1->set_active(true);
    hostnamegroup1->set_active(false);
    showextracts1->set_active(true);
-   image999->set_alignment(0.5,0.5);
-   image999->set_padding(0,0);
-   image1000->set_alignment(0.5,0.5);
-   image1000->set_padding(0,0);
-   image1001->set_alignment(0.5,0.5);
-   image1001->set_padding(0,0);
+   image1011->set_alignment(0.5,0.5);
+   image1011->set_padding(0,0);
+   image1012->set_alignment(0.5,0.5);
+   image1012->set_padding(0,0);
+   image1013->set_alignment(0.5,0.5);
+   image1013->set_padding(0,0);
    image439->set_alignment(0.5,0.5);
    image439->set_padding(0,0);
    addIndexButton->set_flags(Gtk::CAN_FOCUS);
@@ -400,14 +400,14 @@
    open1->show();
    separator7->show();
    opencache1->show();
-   image995->show();
+   image1007->show();
    openparent1->show();
    separator8->show();
-   image996->show();
+   image1008->show();
    addtoindex1->show();
-   image997->show();
+   image1009->show();
    updateindex1->show();
-   image998->show();
+   image1010->show();
    unindex1->show();
    separator9->show();
    morelikethis1->show();
@@ -430,12 +430,12 @@
    groupresults1->show();
    showextracts1->show();
    separator4->show();
-   image999->show();
+   image1011->show();
    import1->show();
-   image1000->show();
+   image1012->show();
    export1->show();
    separator6->show();
-   image1001->show();
+   image1013->show();
    status1->show();
    optionsMenuitem->show();
    about1->show();

Modified: trunk/UI/GTK2/src/mainWindow_glade.hh
===================================================================
--- trunk/UI/GTK2/src/mainWindow_glade.hh	2009-01-02 09:55:55 UTC (rev 1462)
+++ trunk/UI/GTK2/src/mainWindow_glade.hh	2009-01-02 12:28:34 UTC (rev 1463)
@@ -1,4 +1,4 @@
-// generated 2008/12/30 0:57:52 SGT by fabrice at rexor.dyndns.org.(none)
+// generated 2009/1/2 21:12:23 SGT by fabrice at rexor.dyndns.org.(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
@@ -79,7 +79,7 @@
         class Gtk::CheckMenuItem * showextracts1;
         class Gtk::ImageMenuItem * import1;
         class Gtk::ImageMenuItem * export1;
-        class Gtk::MenuItem * about1;
+        class Gtk::ImageMenuItem * about1;
         class Gtk::MenuItem * helpMenuitem;
         class Gtk::VBox * enginesVbox;
         class Gtk::Button * addIndexButton;



From fabricecolin at mail.berlios.de  Fri Jan  2 13:56:31 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 2 Jan 2009 13:56:31 +0100
Subject: [Pinot-svn] r1464 - trunk/UI/GTK2/src
Message-ID: <200901021256.n02CuVfV023051@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-02 13:56:27 +0100 (Fri, 02 Jan 2009)
New Revision: 1464

Modified:
   trunk/UI/GTK2/src/EnginesTree.cpp
   trunk/UI/GTK2/src/PinotSettings.cpp
   trunk/UI/GTK2/src/ResultsTree.cpp
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/queryDialog.cc
Log:
Conversion fixes.


Modified: trunk/UI/GTK2/src/EnginesTree.cpp
===================================================================
--- trunk/UI/GTK2/src/EnginesTree.cpp	2009-01-02 12:28:34 UTC (rev 1463)
+++ trunk/UI/GTK2/src/EnginesTree.cpp	2009-01-02 12:56:27 UTC (rev 1464)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -276,13 +276,20 @@
 		folderIter = m_refStore->append();
 		row = *folderIter;
 
-		row[m_enginesColumns.m_name] = to_utf8(channelName);
+		// Is this the current user channel ?
+		if (channelName == "X-Current-User-Channel")
+		{
+			row[m_enginesColumns.m_name] = currentUserChannel;
+		}
+		else
+		{
+			row[m_enginesColumns.m_name] = to_utf8(channelName);
+		}
 		row[m_enginesColumns.m_engineName] = "internal-folder";
 		row[m_enginesColumns.m_option] = "";
 		row[m_enginesColumns.m_type] = EnginesModelColumns::ENGINE_FOLDER;
 
-		// Is this the current user channel ?
-		if (channelName == currentUserChannel)
+		if (channelName == "X-Current-User-Channel")
 		{
 			localIter = folderIter;
 			createCurrentUserChannel = false;
@@ -344,7 +351,7 @@
 	std::map<std::string, std::string>::const_iterator indexIter = m_settings.getIndexes().begin();
 	for (; indexIter != m_settings.getIndexes().end(); ++indexIter)
 	{
-		ustring indexName = to_utf8(indexIter->first);
+		ustring indexName(indexIter->first);
 		EnginesModelColumns::EngineType indexType = EnginesModelColumns::INDEX_ENGINE;
 
 		if ((indexName == _("My Web Pages")) ||
@@ -357,7 +364,7 @@
 		TreeModel::Row childRow = *iter;
 		childRow[m_enginesColumns.m_name] = indexName;
 		childRow[m_enginesColumns.m_engineName] = m_settings.m_defaultBackend;
-		childRow[m_enginesColumns.m_option] = to_utf8(indexIter->second);
+		childRow[m_enginesColumns.m_option] = indexIter->second;
 		childRow[m_enginesColumns.m_type] = indexType;
 	}
 

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-02 12:28:34 UTC (rev 1463)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-02 12:56:27 UTC (rev 1464)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -383,7 +383,7 @@
 	}
 
 	map<ModuleProperties, bool> engines;
-	string currentUserChannelName(_("Current User"));
+	string currentUserChannel("X-Current-User-Channel");
 
 	// Some engines are available as back-ends
 	ModuleFactory::getSupportedEngines(engines);
@@ -401,7 +401,7 @@
 			{
 				ModuleProperties modProps(engineIter->first);
 
-				channelName = modProps.m_channel = currentUserChannelName;
+				channelName = modProps.m_channel = currentUserChannel;
 
 #ifdef DEBUG
 				cout << "PinotSettings::load: no channel for back-end " << engineIter->first.m_name << endl;

Modified: trunk/UI/GTK2/src/ResultsTree.cpp
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-02 12:28:34 UTC (rev 1463)
+++ trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-02 12:56:27 UTC (rev 1464)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -1488,7 +1488,7 @@
 		// No, it isn't: insert a new group in the tree
 		groupIter = m_refStore->append();
 		TreeModel::Row groupRow = *groupIter;
-		updateRow(groupRow, to_utf8(groupName),
+		updateRow(groupRow, groupName,
 			"", 0, 0, 0, 0, "", "", groupType,
 			false, false, false);
 
@@ -1581,7 +1581,7 @@
 		row[m_resultsColumns.m_indexes] = indexId;
 		row[m_resultsColumns.m_docId] = docId;
 		row[m_resultsColumns.m_resultType] = resultType;
-		row[m_resultsColumns.m_timestamp] = timestamp;
+		row[m_resultsColumns.m_timestamp] = to_utf8(timestamp);
 		row[m_resultsColumns.m_timestampTime] = TimeConverter::fromTimestamp(timestamp);
 		row[m_resultsColumns.m_serial] = serial;
 

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2009-01-02 12:28:34 UTC (rev 1463)
+++ trunk/UI/GTK2/src/mainWindow.cc	2009-01-02 12:56:27 UTC (rev 1464)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -335,7 +335,6 @@
 		string lastRun;
 		time_t lastRunTime = 0;
 
-		row[m_queryColumns.m_name] = to_utf8(queryName);
 		if ((queryHistory.getLatestRuns(queryName, "", 1, latestRuns) == false) ||
 			(latestRuns.empty() == true))
 		{
@@ -350,6 +349,8 @@
 				<< queryName << " is " << lastRun << "/" << lastRunTime << endl;
 #endif
 		}
+
+		row[m_queryColumns.m_name] = to_utf8(queryName);
 		row[m_queryColumns.m_lastRun] = to_utf8(lastRun);
 		row[m_queryColumns.m_lastRunTime] = lastRunTime;
 		ustring summary(queryIter->second.getFreeQuery());
@@ -463,7 +464,7 @@
 	for (std::map<std::string, std::string>::const_iterator indexIter = indexes.begin();
 		indexIter != indexes.end(); ++indexIter)
 	{
-		ustring indexName(to_utf8(indexIter->first));
+		ustring indexName(indexIter->first);
 
 		m_pIndexMenu->items().push_back(Menu_Helpers::MenuElem(indexName));
 		MenuItem &menuItem = m_pIndexMenu->items().back();

Modified: trunk/UI/GTK2/src/queryDialog.cc
===================================================================
--- trunk/UI/GTK2/src/queryDialog.cc	2009-01-02 12:28:34 UTC (rev 1463)
+++ trunk/UI/GTK2/src/queryDialog.cc	2009-01-02 12:56:27 UTC (rev 1464)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -143,9 +143,9 @@
 	string language(m_properties.getStemmingLanguage());
 	for (unsigned int languageNum = 1; languageNum < Languages::m_count; ++languageNum)
 	{
-		string languageName(Languages::getIntlName(languageNum));
+		ustring languageName(Languages::getIntlName(languageNum));
 
-		stemmingCombobox->append_text(to_utf8(languageName));
+		stemmingCombobox->append_text(languageName);
 		// Is this the language we are looking for ?
 		if (language == languageName)
 		{



From fabricecolin at mail.berlios.de  Fri Jan  2 19:37:42 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 2 Jan 2009 19:37:42 +0100
Subject: [Pinot-svn] r1465 - trunk/UI/GTK2/src
Message-ID: <200901021837.n02IbgjW004487@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-02 19:37:35 +0100 (Fri, 02 Jan 2009)
New Revision: 1465

Modified:
   trunk/UI/GTK2/src/mainWindow.cc
Log:
Disable the properties menuitem when nothing is selected.


Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2009-01-02 12:56:27 UTC (rev 1464)
+++ trunk/UI/GTK2/src/mainWindow.cc	2009-01-02 18:37:35 UTC (rev 1465)
@@ -930,7 +930,7 @@
 		unindex1->set_sensitive(false);
 		morelikethis1->set_sensitive(false);
 		searchthisfor1->set_sensitive(false);
-		addtoindex1->set_sensitive(false);
+		properties1->set_sensitive(false);
 
 		// Reset
 		set_status("");



From fabricecolin at mail.berlios.de  Tue Jan  6 17:09:49 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 6 Jan 2009 17:09:49 +0100
Subject: [Pinot-svn] r1466 - in trunk: SQL UI/GTK2/src
Message-ID: <200901061609.n06G9nGR021998@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-06 17:09:40 +0100 (Tue, 06 Jan 2009)
New Revision: 1466

Modified:
   trunk/SQL/CrawlHistory.cpp
   trunk/SQL/CrawlHistory.h
   trunk/UI/GTK2/src/DaemonState.cpp
   trunk/UI/GTK2/src/PinotSettings.cpp
   trunk/UI/GTK2/src/PinotSettings.h
   trunk/UI/GTK2/src/ServerThreads.cpp
Log:
Keep track of what's being crawled. Read symlinks, resolve where they point to
and skip those that point to places that have already been crawled, or places
we know will be crawled.
This should prevent from following symlinks that point to the directory they are
in, as well as crawling the same files twice even though some perfectly fine
symlinks won't be followed.
Removed unused PinotSettings::TimestampedItem, made sure IndexableLocation's
"is source" flag is set.


Modified: trunk/SQL/CrawlHistory.cpp
===================================================================
--- trunk/SQL/CrawlHistory.cpp	2009-01-02 18:37:35 UTC (rev 1465)
+++ trunk/SQL/CrawlHistory.cpp	2009-01-06 16:09:40 UTC (rev 1466)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -49,6 +49,9 @@
 		case UNKNOWN:
 			text = "UNKNOWN";
 			break;
+		case TO_CRAWL:
+			text = "TO_CRAWL";
+			break;
 		case CRAWLING:
 			text = "CRAWLING";
 			break;
@@ -73,6 +76,10 @@
 	{
 		status = CRAWLING;
 	}
+	else if (text == "TO_CRAWL")
+	{
+		status = TO_CRAWL;
+	}
 	else if (text == "CRAWLED")
 	{
 		status = CRAWLED;
@@ -326,8 +333,8 @@
 }
 
 /// Updates the status of items en masse.
-bool CrawlHistory::updateItemsStatus(CrawlStatus currentStatus, CrawlStatus newStatus,
-	unsigned int sourceId, bool allSources)
+bool CrawlHistory::updateItemsStatus(CrawlStatus newStatus, unsigned int sourceId,
+	bool allSources)
 {
 	SQLResults *results = NULL;
 	bool success = false;
@@ -335,17 +342,15 @@
 	if (allSources == false)
 	{
 		results = executeStatement("UPDATE CrawlHistory \
-			SET Status='%q' WHERE SourceId='%u' AND Status='%q';",
-			statusToText(newStatus).c_str(), sourceId,
-			statusToText(currentStatus).c_str());
+			SET Status='%q' WHERE SourceId='%u';",
+			statusToText(newStatus).c_str(), sourceId);
 	}
 	else
 	{
 		// Ignore the source
 		results = executeStatement("UPDATE CrawlHistory \
-			SET Status='%q' WHERE Status='%q';",
-			statusToText(newStatus).c_str(),
-			statusToText(currentStatus).c_str());
+			SET Status='%q';",
+			statusToText(newStatus).c_str());
 	}
 
 	if (results != NULL)

Modified: trunk/SQL/CrawlHistory.h
===================================================================
--- trunk/SQL/CrawlHistory.h	2009-01-02 18:37:35 UTC (rev 1465)
+++ trunk/SQL/CrawlHistory.h	2009-01-06 16:09:40 UTC (rev 1466)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -33,7 +33,7 @@
 		CrawlHistory(const std::string &database);
 		virtual ~CrawlHistory();
 
-		typedef enum { UNKNOWN, CRAWLING, CRAWLED, CRAWL_ERROR } CrawlStatus;
+		typedef enum { UNKNOWN, TO_CRAWL, CRAWLING, CRAWLED, CRAWL_ERROR } CrawlStatus;
 
 		/// Creates the CrawlHistory table in the database.
 		static bool create(const std::string &database);
@@ -64,8 +64,8 @@
 		bool updateItems(const std::map<std::string, time_t> urls, CrawlStatus status);
 
 		/// Updates the status of items en masse.
-		bool updateItemsStatus(CrawlStatus currentStatus, CrawlStatus newStatus,
-			unsigned int sourceId, bool allSources = false);
+		bool updateItemsStatus(CrawlStatus newStatus, unsigned int sourceId,
+			bool allSources = false);
 
 		/// Gets the error number and date for a URL.
 		int getErrorDetails(const std::string &url, time_t &date);

Modified: trunk/UI/GTK2/src/DaemonState.cpp
===================================================================
--- trunk/UI/GTK2/src/DaemonState.cpp	2009-01-02 18:37:35 UTC (rev 1465)
+++ trunk/UI/GTK2/src/DaemonState.cpp	2009-01-06 16:09:40 UTC (rev 1466)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -514,7 +514,7 @@
 		CrawlHistory crawlHistory(PinotSettings::getInstance().getHistoryDatabaseName());
 
 		// Update all items status so that we can get rid of files from deleted sources
-		crawlHistory.updateItemsStatus(CrawlHistory::CRAWLED, CrawlHistory::CRAWLING, 0, true);
+		crawlHistory.updateItemsStatus(CrawlHistory::TO_CRAWL, 0, true);
 	}
 
 	// Initiate crawling
@@ -551,9 +551,9 @@
 				CrawlHistory crawlHistory(PinotSettings::getInstance().getHistoryDatabaseName());
 				set<string> deletedFiles;
 
-				// All files left with status CRAWLING belong to deleted sources
+				// All files left with status TO_CRAWL belong to deleted sources
 				if ((m_pDiskHandler != NULL) &&
-					(crawlHistory.getItems(CrawlHistory::CRAWLING, deletedFiles) > 0))
+					(crawlHistory.getItems(CrawlHistory::TO_CRAWL, deletedFiles) > 0))
 				{
 #ifdef DEBUG
 					cout << "DaemonState::start_crawling: " << deletedFiles.size() << " orphaned files" << endl;
@@ -562,11 +562,10 @@
 						fileIter != deletedFiles.end(); ++fileIter)
 					{
 						// Inform the MonitorHandler
-						if (m_pDiskHandler->fileDeleted(fileIter->substr(7)) == true)
-						{
-							// Delete this item
-							crawlHistory.deleteItem(*fileIter);
-						}
+						m_pDiskHandler->fileDeleted(fileIter->substr(7));
+
+						// Delete this item
+						crawlHistory.deleteItem(*fileIter);
 					}
 				}
 			}

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-02 18:37:35 UTC (rev 1465)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-06 16:09:40 UTC (rev 1466)
@@ -1282,6 +1282,8 @@
 
 	if (location.m_name.empty() == false)
 	{
+		location.m_isSource = true;
+
 		m_indexableLocations.insert(location);
 	}
 
@@ -2013,9 +2015,6 @@
 	{
 		if (fnmatch(patternIter->c_str(), fileName.c_str(), FNM_NOESCAPE) == 0)
 		{
-#ifdef DEBUG
-			cout << "PinotSettings::isBlackListed: " << fileName << " matches " << *patternIter << endl;
-#endif
 			// Fail if it's in the blacklist, let the file through otherwise
 			return m_isBlackList;
 		}
@@ -2025,52 +2024,6 @@
 	return !m_isBlackList;
 }
 
-PinotSettings::TimestampedItem::TimestampedItem() :
-	m_modTime(0)
-{
-}
-
-PinotSettings::TimestampedItem::TimestampedItem(const TimestampedItem &other) :
-	m_name(other.m_name),
-	m_modTime(other.m_modTime)
-{
-}
-
-PinotSettings::TimestampedItem::~TimestampedItem()
-{
-}
-
-PinotSettings::TimestampedItem &PinotSettings::TimestampedItem::operator=(const TimestampedItem &other)
-{
-	if (this != &other)
-	{
-		m_name = other.m_name;
-		m_modTime = other.m_modTime;
-	}
-
-	return *this;
-}
-
-bool PinotSettings::TimestampedItem::operator<(const TimestampedItem &other) const
-{
-	if (m_name < other.m_name)
-	{
-		return true;
-	}
-
-	return false;
-}
-
-bool PinotSettings::TimestampedItem::operator==(const TimestampedItem &other) const
-{
-	if (m_name == other.m_name)
-	{
-		return true;
-	}
-
-	return false;
-}
-
 PinotSettings::IndexableLocation::IndexableLocation() :
 	m_monitor(false),
 	m_isSource(true)

Modified: trunk/UI/GTK2/src/PinotSettings.h
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.h	2009-01-02 18:37:35 UTC (rev 1465)
+++ trunk/UI/GTK2/src/PinotSettings.h	2009-01-06 16:09:40 UTC (rev 1466)
@@ -122,21 +122,6 @@
 		/// Determines if a file matches the blacklist.
 		bool isBlackListed(const std::string &fileName);
 
-		class TimestampedItem
-		{
-			public:
-				TimestampedItem();
-				TimestampedItem(const TimestampedItem &other);
-				~TimestampedItem();
-
-				TimestampedItem &operator=(const TimestampedItem &other);
-				bool operator<(const TimestampedItem &other) const;
-				bool operator==(const TimestampedItem &other) const;
-
-				Glib::ustring m_name;
-				time_t m_modTime;
-		};
-
 		class IndexableLocation 
 		{
 			public:

Modified: trunk/UI/GTK2/src/ServerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-02 18:37:35 UTC (rev 1465)
+++ trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-06 16:09:40 UTC (rev 1466)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -31,6 +31,7 @@
 #include <fstream>
 #include <sstream>
 #include <glibmm/miscutils.h>
+#include <glibmm/convert.h>
 
 #include "config.h"
 #include "NLS.h"
@@ -273,11 +274,10 @@
 
 bool DirectoryScannerThread::scanEntry(const string &entryName, CrawlHistory &crawlHistory)
 {
-	CrawlHistory::CrawlStatus status = CrawlHistory::UNKNOWN;
 	string location("file://" + entryName);
+	CrawlHistory::CrawlStatus itemStatus = CrawlHistory::UNKNOWN;
 	time_t itemDate;
 	struct stat fileStat;
-	int entryStatus = 0;
 	bool scanSuccess = true, reportFile = false, itemExists = false;
 
 	if (entryName.empty() == true)
@@ -297,20 +297,30 @@
 #endif
 		return false;
 	}
+#ifdef DEBUG
+	cout << "DirectoryScannerThread::scanEntry: checking " << entryName << endl;
+#endif
 
 	// Is this item in the database already ?
-	itemExists = crawlHistory.hasItem(location, status, itemDate);
+	itemExists = crawlHistory.hasItem(location, itemStatus, itemDate);
+	if (itemExists == true)
+	{
+		if (itemStatus > CrawlHistory::TO_CRAWL)
+		{
+			// At this stage, this shouldn't happen
+			cout << "Skipping " << entryName << ": it has already been crawled" << endl;
+			return false;
+		}
 
-	if (m_followSymLinks == false)
-	{
-		entryStatus = lstat(entryName.c_str(), &fileStat);
+		crawlHistory.updateItem(location, CrawlHistory::CRAWLING, itemDate);
 	}
 	else
 	{
-		// Stat the files pointed to by symlinks
-		entryStatus = stat(entryName.c_str(), &fileStat);
+		// Record it
+		crawlHistory.insertItem(location, CrawlHistory::CRAWLING, m_sourceId, itemDate);
 	}
 
+	int entryStatus = lstat(entryName.c_str(), &fileStat);
 	if (entryStatus == -1)
 	{
 		entryStatus = errno;
@@ -322,16 +332,105 @@
 	// Is it a file or a directory ?
 	else if (S_ISLNK(fileStat.st_mode))
 	{
-		// This won't happen when m_followSymLinks is true
+		string trueEntryName;
+
+		if (m_followSymLinks == false)
+		{
 #ifdef DEBUG
-		cout << "DirectoryScannerThread::scanEntry: skipped symlink" << endl;
+			cout << "DirectoryScannerThread::scanEntry: skipped symlink " << entryName << endl;
 #endif
-		return false;
+			return false;
+		}
+
+		char *pBuf = g_file_read_link(entryName.c_str(), NULL);
+		if (pBuf != NULL)
+		{
+			string linkLocation(filename_to_utf8(pBuf));
+			if (path_is_absolute(linkLocation) == true)
+			{
+				trueEntryName = linkLocation;
+			}
+			else
+			{
+				string entryDir(path_get_dirname(entryName));
+				string::size_type prevSlashPos = 0, slashPos = linkLocation.find('/');
+
+				while (slashPos != string::npos)
+				{
+					string path(linkLocation.substr(prevSlashPos, slashPos - prevSlashPos));
+
+					if (path == "..")
+					{
+						string upDir(path_get_dirname(entryDir));
+						entryDir = upDir;
+					}
+					else if (path != ".")
+					{
+						entryDir += "/";
+						entryDir += path;
+					}
+#ifdef DEBUG
+					cout << "DirectoryScannerThread::scanEntry: symlink resolved to " << entryDir << endl;
+#endif
+
+					if (slashPos + 1 >= linkLocation.length())
+					{
+						// Nothing behind
+						prevSlashPos = string::npos;
+						break;
+					}
+
+					// Next
+					prevSlashPos = slashPos + 1;
+					slashPos = linkLocation.find('/', prevSlashPos);
+				}
+
+				// Remainder
+				if (prevSlashPos != string::npos)
+				{
+					string path(linkLocation.substr(prevSlashPos));
+
+					if (path == "..")
+					{
+						string upDir(path_get_dirname(entryDir));
+						entryDir = upDir;
+					}
+					else if (path != ".")
+					{
+						entryDir += "/";
+						entryDir += path;
+					}
+				}
+#ifdef DEBUG
+				cout << "DirectoryScannerThread::scanEntry: symlink resolved to " << entryDir << endl;
+#endif
+
+				trueEntryName = entryDir;
+			}
+
+			g_free(pBuf);
+		}
+
+		string trueLocation("file://" + trueEntryName);
+		CrawlHistory::CrawlStatus trueItemStatus = CrawlHistory::UNKNOWN;
+		time_t trueItemDate;
+
+		// Check whether this will be, or has already been crawled
+		if (crawlHistory.hasItem(trueLocation, trueItemStatus, trueItemDate) == false)
+		{
+			if (PinotSettings::getInstance().isBlackListed(entryName) == false)
+			{
+				// Proceed as per regular files
+				reportFile = true;
+			}
+		}
+		else cout << "Skipping " << entryName << ": it links to " << trueEntryName
+			<< " which will be crawled, or has already been crawled" << endl;
 	}
 	else if (S_ISREG(fileStat.st_mode))
 	{
 		// Is this file blacklisted ?
-		// We have to check early so that if necessary the file's status stays at CRAWLING 
+		// We have to check early so that if necessary the file's status stays at TO_CRAWL
 		// and it is removed from the index at the end of this crawl
 		if (PinotSettings::getInstance().isBlackListed(entryName) == false)
 		{
@@ -385,13 +484,7 @@
 						subEntryName += pEntryName;
 
 						// Scan this entry
-						if (scanEntry(subEntryName, crawlHistory) == false)
-						{
-#ifdef DEBUG
-							cout << "DirectoryScannerThread::scanEntry: failed to open "
-								<< subEntryName << endl;
-#endif
-						}
+						scanEntry(subEntryName, crawlHistory);
 					}
 
 					// Next entry
@@ -428,36 +521,24 @@
 	// If a major error occured, this won't be true
 	if (reportFile == true)
 	{
-		if (itemExists == false)
+		// Was it modified after the last crawl ?
+		if ((itemExists == true) &&
+			(itemDate >= fileStat.st_mtime))
 		{
-			// Record it
-			crawlHistory.insertItem(location, CrawlHistory::CRAWLED, m_sourceId, fileStat.st_mtime);
-			itemExists = true;
-#ifdef DEBUG
-			cout << "DirectoryScannerThread::scanEntry: reporting new file " << entryName << endl;
-#endif
+			// No, it wasn't
+			reportFile = false;
 		}
-		else
+
+		// History of modified files, especially the timestamp, is always updated
+		// Others' are updated only if we are doing a full scan because
+		// the status has to be reset to CRAWLED, so that they are not unindexed
+		if ((reportFile == true) ||
+			(m_fullScan == true))
 		{
-			// Was it modified after the last crawl ?
-			if (itemDate >= fileStat.st_mtime)
-			{
-				// No, it wasn't
-				reportFile = false;
-			}
-
-			// History of modified files, especially the timestamp, is always updated
-			// Others' are updated only if we are doing a full scan because
-			// the status has to be reset to CRAWLED, so that they are not unindexed
-			if ((reportFile == true) ||
-				(m_fullScan == true))
-			{
 #ifdef DEBUG
-				cout << "DirectoryScannerThread::scanEntry: updating " << entryName << endl;
+			cout << "DirectoryScannerThread::scanEntry: updating " << entryName << endl;
 #endif
-				cacheUpdate(location, fileStat.st_mtime, crawlHistory);
-			}
-
+			cacheUpdate(location, fileStat.st_mtime, crawlHistory);
 		}
 
 		if (reportFile == true)
@@ -492,14 +573,7 @@
 		time_t timeNow = time(NULL);
 
 		// Record this error
-		if (itemExists == false)
-		{
-			crawlHistory.insertItem(location, CrawlHistory::CRAWL_ERROR, m_sourceId, timeNow, entryStatus);
-		}
-		else
-		{
-			crawlHistory.updateItem(location, CrawlHistory::CRAWL_ERROR, timeNow, entryStatus);
-		}
+		crawlHistory.updateItem(location, CrawlHistory::CRAWL_ERROR, timeNow, entryStatus);
 	}
 
 	return scanSuccess;
@@ -519,16 +593,16 @@
 	}
 	scanTimer.start();
 
+	// Remove errors
+	crawlHistory.deleteItems(m_sourceId, CrawlHistory::CRAWL_ERROR);
+
 	if (m_fullScan == true)
 	{
 		cout << "Doing a full scan on " << m_dirName << endl;
 
 		// Update this source's items status so that we can detect files that have been deleted
-		crawlHistory.updateItemsStatus(CrawlHistory::CRAWLED, CrawlHistory::CRAWLING,
-			m_sourceId);
+		crawlHistory.updateItemsStatus(CrawlHistory::TO_CRAWL, m_sourceId);
 	}
-	// Remove errors
-	crawlHistory.deleteItems(m_sourceId, CrawlHistory::CRAWL_ERROR);
 
 	if (scanEntry(m_dirName, crawlHistory) == false)
 	{
@@ -550,22 +624,21 @@
 	{
 		scanTimer.start();
 
-		// All files left with status CRAWLING were not found in this crawl
+		// All files left with status TO_CRAWL were not found in this crawl
 		// Chances are they were removed after the last full scan
 		while ((m_pHandler != NULL) &&
-			(crawlHistory.getSourceItems(m_sourceId, CrawlHistory::CRAWLING, urls,
+			(crawlHistory.getSourceItems(m_sourceId, CrawlHistory::TO_CRAWL, urls,
 				currentOffset, currentOffset + 100) > 0))
 		{
 			for (set<string>::const_iterator urlIter = urls.begin();
 				urlIter != urls.end(); ++urlIter)
 			{
 				// Inform the MonitorHandler
-				if (m_pHandler->fileDeleted(urlIter->substr(7)) == true)
-				{
-					// Delete this item
-					crawlHistory.deleteItem(*urlIter);
-					metaData.deleteItem(DocumentInfo("", *urlIter, "", ""), DocumentInfo::SERIAL_ALL);
-				}
+				m_pHandler->fileDeleted(urlIter->substr(7));
+
+				// Delete this item
+				crawlHistory.deleteItem(*urlIter);
+				metaData.deleteItem(DocumentInfo("", *urlIter, "", ""), DocumentInfo::SERIAL_ALL);
 			}
 
 			// Next



From fabricecolin at mail.berlios.de  Thu Jan  8 12:41:34 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Thu, 8 Jan 2009 12:41:34 +0100
Subject: [Pinot-svn] r1467 - trunk
Message-ID: <200901081141.n08BfYUH004752@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-08 12:41:28 +0100 (Thu, 08 Jan 2009)
New Revision: 1467

Modified:
   trunk/AUTHORS
Log:
Suggestions from John Werden, translations by Fr?\195?\169d?\195?\169ric Grosshans (fr) and
Yaron (he).


Modified: trunk/AUTHORS
===================================================================
--- trunk/AUTHORS	2009-01-06 16:09:40 UTC (rev 1466)
+++ trunk/AUTHORS	2009-01-08 11:41:28 UTC (rev 1467)
@@ -27,6 +27,7 @@
 	Adrian Bunk <bunk at stusta dot de>
 	C. Scott Ananian <cscott at laptop dot org>
 	Martin Michlmayr <tbm at cyrius dot com>
+	John Werden <jwerden at hotpop dot com>
 
 The source in Utils/unac is from unac 1.7.0 (Copyright Loic Dachary
 <loic at senga dot org>).
@@ -47,8 +48,10 @@
 		& JW <jw00000 at gmail dot com>
 		& Balaam's Miracle <balaam at balaamsmiracle dot com>
 	French - Nicolas Velin <nsv at fr dot st>
+		& Fr?d?ric Grosshans <frederic dot grosshans at gmail dot com>
 	German - Christian Dywan <christian at twotoasts dot de>
 		& Gena Haltmair <gena at haltmair dot com>
+	Hebrew - Yaron <sh dot yaron at gmail dot com>
 	Italian - Michele Angrisano <darksun1988 at gmail dot com>
 		& Vincenzo Consales <aquarius987 at gmail dot com>>
 		& Marco Bazzani <visik7 at tin dot it>



From fabricecolin at mail.berlios.de  Fri Jan  9 13:01:31 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 9 Jan 2009 13:01:31 +0100
Subject: [Pinot-svn] r1468 - trunk/IndexSearch
Message-ID: <200901091201.n09C1VNw008307@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-09 13:01:20 +0100 (Fri, 09 Jan 2009)
New Revision: 1468

Modified:
   trunk/IndexSearch/Makefile.am
Log:
Fixed pinot_label_LDADD.


Modified: trunk/IndexSearch/Makefile.am
===================================================================
--- trunk/IndexSearch/Makefile.am	2009-01-08 11:41:28 UTC (rev 1467)
+++ trunk/IndexSearch/Makefile.am	2009-01-09 12:01:20 UTC (rev 1468)
@@ -73,7 +73,8 @@
 pinot_label_LDADD = \
 	-L$(top_builddir)/Utils \
 	-lIndex -lUtils -lBasicUtils \
-	@GLIBMM_LIBS@ @DBUS_LIBS@ @GTHREAD_LIBS@ @XML_LIBS@
+	@GLIBMM_LIBS@ @DBUS_LIBS@ \
+	@GTHREAD_LIBS@ @HTTP_LIBS@ @MISC_LIBS@
 
 pinot_label_SOURCES = pinot-label.cpp
 



From fabricecolin at mail.berlios.de  Fri Jan  9 13:03:56 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 9 Jan 2009 13:03:56 +0100
Subject: [Pinot-svn] r1469 - in trunk: IndexSearch/Xapian Utils
Message-ID: <200901091203.n09C3u8W009816@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-09 13:03:47 +0100 (Fri, 09 Jan 2009)
New Revision: 1469

Modified:
   trunk/IndexSearch/Xapian/XapianIndex.cpp
   trunk/Utils/DocumentInfo.cpp
Log:
Don't remove the charset declaration from the type. XapianIndex makes sure only
the type is indexed with prefix T.


Modified: trunk/IndexSearch/Xapian/XapianIndex.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianIndex.cpp	2009-01-09 12:01:20 UTC (rev 1468)
+++ trunk/IndexSearch/Xapian/XapianIndex.cpp	2009-01-09 12:03:47 UTC (rev 1469)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -56,6 +56,18 @@
 using std::min;
 using std::max;
 
+static string removeCharsetFromType(const string &type)
+{
+	// Remove the charset, if any
+	string::size_type semiColonPos = type.find(";");
+	if (semiColonPos != string::npos)
+	{
+		return type.substr(0, semiColonPos);
+	}
+
+	return type;
+}
+
 class TokensIndexer : public Dijon::CJKVTokenizer::TokensHandler
 {
 	public:
@@ -537,7 +549,7 @@
 	vector<string> paths;
 	string title(info.getTitle());
 	string location(info.getLocation());
-	string type(info.getType());
+	string type(removeCharsetFromType(info.getType()));
 	Url urlObj(location);
 
 	// Add a magic term :-)
@@ -793,7 +805,7 @@
 	// Language code
 	commonTerms.insert(string("L") + Languages::toCode(language));
 	// MIME type
-	string type(docInfo.getType());
+	string type(removeCharsetFromType(docInfo.getType()));
 	commonTerms.insert(string("T") + type);
 	string::size_type slashPos = type.find('/');
 	if (slashPos != string::npos)
@@ -1738,11 +1750,8 @@
 	}
 
 	// Cache the document's properties
-	DocumentInfo docInfo(document.getTitle(), document.getLocation(),
-		document.getType(), document.getLanguage());
-	docInfo.setTimestamp(document.getTimestamp());
-	docInfo.setSize(document.getSize());
-	docInfo.setLocation(Url::canonicalizeUrl(docInfo.getLocation()));
+	DocumentInfo docInfo(document);
+	docInfo.setLocation(Url::canonicalizeUrl(document.getLocation()));
 
 	unsigned int dataLength = 0;
 	const char *pData = document.getData(dataLength);
@@ -1814,11 +1823,8 @@
 	}
 
 	// Cache the document's properties
-	DocumentInfo docInfo(document.getTitle(), document.getLocation(),
-		document.getType(), document.getLanguage());
-	docInfo.setTimestamp(document.getTimestamp());
-	docInfo.setSize(document.getSize());
-	docInfo.setLocation(Url::canonicalizeUrl(docInfo.getLocation()));
+	DocumentInfo docInfo(document);
+	docInfo.setLocation(Url::canonicalizeUrl(document.getLocation()));
 
 	unsigned int dataLength = 0;
 	const char *pData = document.getData(dataLength);

Modified: trunk/Utils/DocumentInfo.cpp
===================================================================
--- trunk/Utils/DocumentInfo.cpp	2009-01-09 12:01:20 UTC (rev 1468)
+++ trunk/Utils/DocumentInfo.cpp	2009-01-09 12:03:47 UTC (rev 1469)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -230,16 +230,7 @@
 /// Returns the type of the document.
 string DocumentInfo::getType(void) const
 {
-	string type(getField("type"));
-	string::size_type semiColonPos = type.find(";");
-
-	// Remove the charset, if any
-	if (semiColonPos != string::npos)
-	{
-		return type.substr(0, semiColonPos);
-	}
-
-	return type;
+	return getField("type");
 }
 
 /// Sets the language of the document.



From fabricecolin at mail.berlios.de  Sat Jan 10 08:23:47 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 10 Jan 2009 08:23:47 +0100
Subject: [Pinot-svn] r1470 - trunk/Tokenize
Message-ID: <200901100723.n0A7Nl0a019458@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-10 08:23:41 +0100 (Sat, 10 Jan 2009)
New Revision: 1470

Modified:
   trunk/Tokenize/TextConverter.cpp
Log:
Protect against exceptions thrown by Glib::IConv.
Catch Glib::Error and unknown exceptions whenever converting.


Modified: trunk/Tokenize/TextConverter.cpp
===================================================================
--- trunk/Tokenize/TextConverter.cpp	2009-01-09 12:03:47 UTC (rev 1469)
+++ trunk/Tokenize/TextConverter.cpp	2009-01-10 07:23:41 UTC (rev 1470)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2008 Fabrice Colin
+ *  Copyright 2008-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -77,65 +77,82 @@
 		textCharset = m_localeCharset;
 	}
 
-	IConv converter("UTF-8", textCharset);
 	string outputText;
 	gsize inputSize = (gsize)textLen;
 	bool invalidSequence = false;
 
-	while (inputSize > 0)
+	try
 	{
-		char *pOutput = outputBuffer;
-		gsize outputSize = 8192;
+		IConv converter("UTF-8", textCharset);
+ 
+		while (inputSize > 0)
+		{
+			char *pOutput = outputBuffer;
+			gsize outputSize = 8192;
 
-		size_t conversions = converter.iconv(&pInput, &inputSize, &pOutput, &outputSize);
-		int errorCode = errno;
-		if (conversions == -1)
-		{
-			if (errorCode == EILSEQ)
+			size_t conversions = converter.iconv(&pInput, &inputSize, &pOutput, &outputSize);
+			int errorCode = errno;
+			if (conversions == -1)
 			{
-				// Conversion was only partially successful
-				++m_conversionErrors;
+				if (errorCode == EILSEQ)
+				{
+					// Conversion was only partially successful
+					++m_conversionErrors;
 #ifdef DEBUG
-				cout << "TextConverter::toUTF8: invalid sequence at " << pInput - pText << endl;
+					cout << "TextConverter::toUTF8: invalid sequence at " << pInput - pText << endl;
 #endif
-				if (m_conversionErrors >= m_maxErrors)
+					if (m_conversionErrors >= m_maxErrors)
+					{
+						// Give up
+						return string(pText, textLen);
+					}
+					converter.reset();
+
+					outputText.append(outputBuffer, 8192 - outputSize);
+					if (invalidSequence == false)
+					{
+						outputText += "?";
+						invalidSequence = true;
+					}
+
+					// Skip that
+					++pInput;
+					--inputSize;
+					continue;
+				}
+				else if (errorCode != E2BIG)
 				{
-					// Give up
+#ifdef DEBUG
+					cout << "TextConverter::toUTF8: unknown error " << errorCode << endl;
+#endif
 					return string(pText, textLen);
 				}
-				converter.reset();
-
-				outputText.append(outputBuffer, 8192 - outputSize);
-				if (invalidSequence == false)
-				{
-					outputText += "?";
-					invalidSequence = true;
-				}
-
-				// Skip that
-				++pInput;
-				--inputSize;
-				continue;
 			}
-			else if (errorCode != E2BIG)
+			else
 			{
-#ifdef DEBUG
-				cout << "TextConverter::toUTF8: unknown error " << errorCode << endl;
-#endif
-				return string(pText, textLen);
+				invalidSequence = false;
 			}
+
+			// Append what was successfully converted
+			outputText.append(outputBuffer, 8192 - outputSize);
 		}
-		else
-		{
-			invalidSequence = false;
-		}
 
-		// Append what was successfully converted
-		outputText.append(outputBuffer, 8192 - outputSize);
+#ifdef DEBUG
+		cout << "TextConverter::toUTF8: " << m_conversionErrors << " conversion errors" << endl;
+#endif
 	}
+	catch (Error &ce)
+	{
 #ifdef DEBUG
-	cout << "TextConverter::toUTF8: " << m_conversionErrors << " conversion errors" << endl;
+		cout << "TextConverter::toUTF8: " << ce.what() << endl;
 #endif
+	}
+	catch (...)
+	{
+#ifdef DEBUG
+		cout << "TextConverter::toUTF8: unknown exception" << endl;
+#endif
+	}
 
 	return outputText;
 }
@@ -151,12 +168,18 @@
 	{
 		return locale_from_utf8(text);
 	}
-	catch (ConvertError &ce)
+	catch (Error &ce)
 	{
 #ifdef DEBUG
 		cout << "TextConverter::fromUTF8: " << ce.what() << endl;
 #endif
 	}
+	catch (...)
+	{
+#ifdef DEBUG
+		cout << "TextConverter::fromUTF8: unknown exception" << endl;
+#endif
+	}
  
        return "";
 }



From fabricecolin at mail.berlios.de  Sat Jan 10 15:51:02 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 10 Jan 2009 15:51:02 +0100
Subject: [Pinot-svn] r1471 - trunk/IndexSearch/Xapian
Message-ID: <200901101451.n0AEp2TD025521@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-10 15:50:55 +0100 (Sat, 10 Jan 2009)
New Revision: 1471

Modified:
   trunk/IndexSearch/Xapian/XapianIndex.cpp
Log:
Don't attempt removing unprefixed title terms in removeCommonTerms(). While
older versions create those terms, 0.90 will trigger or request a reindex.


Modified: trunk/IndexSearch/Xapian/XapianIndex.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianIndex.cpp	2009-01-10 07:23:41 UTC (rev 1470)
+++ trunk/IndexSearch/Xapian/XapianIndex.cpp	2009-01-10 14:50:55 UTC (rev 1471)
@@ -706,8 +706,6 @@
 	{
 		removePostingsFromDocument(Xapian::Utf8Iterator(title), doc, db, "S",
 			language, true, m_doSpelling);
-		removePostingsFromDocument(Xapian::Utf8Iterator(title), doc, db, "",
-			language, false, m_doSpelling);
 	}
 
 	// Location 



From fabricecolin at mail.berlios.de  Sat Jan 10 16:24:37 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 10 Jan 2009 16:24:37 +0100
Subject: [Pinot-svn] r1472 - in trunk: SQL UI/GTK2/src
Message-ID: <200901101524.n0AFObg9031653@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-10 16:24:26 +0100 (Sat, 10 Jan 2009)
New Revision: 1472

Modified:
   trunk/SQL/CrawlHistory.cpp
   trunk/SQL/CrawlHistory.h
   trunk/UI/GTK2/src/ServerThreads.cpp
   trunk/UI/GTK2/src/ServerThreads.h
   trunk/UI/GTK2/src/WorkerThreads.cpp
Log:
Don't skip outright locations that already have a CrawlHistory entry, this would
prevent resuming gracefully if the previous indexing run stopped before
completion.
Keep track of symlinks we follow, and skip those that refer to locations that
have been crawled (they have a CrawlHistory entry of any type) or that we know
will be crawled because they are under an indexable location. Once a symlink is
followed, if we end up back in one of the indexable locations, symlinks found
there will be skipped.
Skipped symlinks are indexed on their own with MIME type "inode/symlink".
In IndexingThread, avoid downloading unnecessarily documents for which an
unsupported MIME type is supplied by the caller.


Modified: trunk/SQL/CrawlHistory.cpp
===================================================================
--- trunk/SQL/CrawlHistory.cpp	2009-01-10 14:50:55 UTC (rev 1471)
+++ trunk/SQL/CrawlHistory.cpp	2009-01-10 15:24:26 UTC (rev 1472)
@@ -61,6 +61,9 @@
 		case CRAWL_ERROR:
 			text = "ERROR";
 			break;
+		case CRAWL_LINK:
+			text = "LINK";
+			break;
 		default:
 			break;
 	}
@@ -88,6 +91,10 @@
 	{
 		status = CRAWL_ERROR;
 	}
+	else if (text == "LINK")
+	{
+		status = CRAWL_LINK;
+	}
 
 	return status;
 }

Modified: trunk/SQL/CrawlHistory.h
===================================================================
--- trunk/SQL/CrawlHistory.h	2009-01-10 14:50:55 UTC (rev 1471)
+++ trunk/SQL/CrawlHistory.h	2009-01-10 15:24:26 UTC (rev 1472)
@@ -33,7 +33,7 @@
 		CrawlHistory(const std::string &database);
 		virtual ~CrawlHistory();
 
-		typedef enum { UNKNOWN, TO_CRAWL, CRAWLING, CRAWLED, CRAWL_ERROR } CrawlStatus;
+		typedef enum { UNKNOWN, TO_CRAWL, CRAWLING, CRAWLED, CRAWL_ERROR, CRAWL_LINK } CrawlStatus;
 
 		/// Creates the CrawlHistory table in the database.
 		static bool create(const std::string &database);

Modified: trunk/UI/GTK2/src/ServerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-10 14:50:55 UTC (rev 1471)
+++ trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-10 15:24:26 UTC (rev 1472)
@@ -272,12 +272,39 @@
 	}
 }
 
-bool DirectoryScannerThread::scanEntry(const string &entryName, CrawlHistory &crawlHistory)
+bool DirectoryScannerThread::isIndexable(const string &entryName) const
 {
+	string entryDir(path_get_dirname(entryName) + "/");
+
+	// Is this under one of the locations configured for indexing ?
+	for (set<PinotSettings::IndexableLocation>::const_iterator locationIter = PinotSettings::getInstance().m_indexableLocations.begin();
+		locationIter != PinotSettings::getInstance().m_indexableLocations.end(); ++locationIter)
+	{
+		string locationDir(locationIter->m_name + "/");
+
+		if ((entryDir.length() >= locationDir.length()) &&
+			(entryDir.substr(0, locationDir.length()) == locationDir))
+		{
+			// Yes, it is
+#ifdef DEBUG
+			cout << "DirectoryScannerThread::isIndexable: under " << locationDir << endl;
+#endif
+			return true;
+		}
+	}
+
+	return false;
+}
+
+bool DirectoryScannerThread::scanEntry(const string &entryName, CrawlHistory &crawlHistory,
+	bool statLinks)
+{
 	string location("file://" + entryName);
+	DocumentInfo docInfo("", location, "", "");
 	CrawlHistory::CrawlStatus itemStatus = CrawlHistory::UNKNOWN;
-	time_t itemDate;
+	time_t itemDate = time(NULL);
 	struct stat fileStat;
+	int entryStatus = 0;
 	bool scanSuccess = true, reportFile = false, itemExists = false;
 
 	if (entryName.empty() == true)
@@ -301,26 +328,16 @@
 	cout << "DirectoryScannerThread::scanEntry: checking " << entryName << endl;
 #endif
 
-	// Is this item in the database already ?
-	itemExists = crawlHistory.hasItem(location, itemStatus, itemDate);
-	if (itemExists == true)
+	// Stat links, or the stuff it refers to ?
+	if (statLinks == true)
 	{
-		if (itemStatus > CrawlHistory::TO_CRAWL)
-		{
-			// At this stage, this shouldn't happen
-			cout << "Skipping " << entryName << ": it has already been crawled" << endl;
-			return false;
-		}
-
-		crawlHistory.updateItem(location, CrawlHistory::CRAWLING, itemDate);
+		entryStatus = lstat(entryName.c_str(), &fileStat);
 	}
 	else
 	{
-		// Record it
-		crawlHistory.insertItem(location, CrawlHistory::CRAWLING, m_sourceId, itemDate);
+		entryStatus = stat(entryName.c_str(), &fileStat);
 	}
 
-	int entryStatus = lstat(entryName.c_str(), &fileStat);
 	if (entryStatus == -1)
 	{
 		entryStatus = errno;
@@ -329,10 +346,12 @@
 		cout << "DirectoryScannerThread::scanEntry: stat failed with error " << entryStatus << endl;
 #endif
 	}
-	// Is it a file or a directory ?
+	// Special processing applies if it's a symlink
 	else if (S_ISLNK(fileStat.st_mode))
 	{
-		string trueEntryName;
+		string realEntryName(entryName);
+		string entryNameReferree;
+		bool isInIndexableLocation = false;
 
 		if (m_followSymLinks == false)
 		{
@@ -342,17 +361,35 @@
 			return false;
 		}
 
-		char *pBuf = g_file_read_link(entryName.c_str(), NULL);
+		// Are we already following a symlink to a directory ?
+		if (m_currentLinks.empty() == false)
+		{
+			string linkToDir(m_currentLinks.top() + "/");
+
+			// Yes, we are
+			if ((entryName.length() > linkToDir.length()) &&
+				(entryName.substr(0, linkToDir.length()) == linkToDir))
+			{
+				// ...and this entry is below it
+				realEntryName.replace(0, linkToDir.length() - 1, m_currentLinkReferrees.top());
+#ifdef DEBUG
+				cout << "DirectoryScannerThread::scanEntry: really at " << realEntryName << endl;
+#endif
+				isInIndexableLocation = isIndexable(realEntryName);
+			}
+		}
+
+		char *pBuf = g_file_read_link(realEntryName.c_str(), NULL);
 		if (pBuf != NULL)
 		{
 			string linkLocation(filename_to_utf8(pBuf));
 			if (path_is_absolute(linkLocation) == true)
 			{
-				trueEntryName = linkLocation;
+				entryNameReferree = linkLocation;
 			}
 			else
 			{
-				string entryDir(path_get_dirname(entryName));
+				string entryDir(path_get_dirname(realEntryName));
 				string::size_type prevSlashPos = 0, slashPos = linkLocation.find('/');
 
 				while (slashPos != string::npos)
@@ -370,7 +407,7 @@
 						entryDir += path;
 					}
 #ifdef DEBUG
-					cout << "DirectoryScannerThread::scanEntry: symlink resolved to " << entryDir << endl;
+					cout << "DirectoryScannerThread::scanEntry: symlink partially resolved to " << entryDir << endl;
 #endif
 
 					if (slashPos + 1 >= linkLocation.length())
@@ -401,34 +438,76 @@
 						entryDir += path;
 					}
 				}
+
+				entryNameReferree = entryDir;
+			}
+
+			if (entryNameReferree[entryNameReferree.length() - 1] == '/')
+			{
+				// Drop the terminating slash
+				entryNameReferree.resize(entryNameReferree.length() - 1);
+			}
 #ifdef DEBUG
-				cout << "DirectoryScannerThread::scanEntry: symlink resolved to " << entryDir << endl;
+			cout << "DirectoryScannerThread::scanEntry: symlink resolved to " << entryNameReferree << endl;
 #endif
 
-				trueEntryName = entryDir;
-			}
-
 			g_free(pBuf);
 		}
 
-		string trueLocation("file://" + trueEntryName);
-		CrawlHistory::CrawlStatus trueItemStatus = CrawlHistory::UNKNOWN;
-		time_t trueItemDate;
+		string referreeLocation("file://" + entryNameReferree);
+		CrawlHistory::CrawlStatus referreeItemStatus = CrawlHistory::UNKNOWN;
+		time_t referreeItemDate;
 
 		// Check whether this will be, or has already been crawled
-		if (crawlHistory.hasItem(trueLocation, trueItemStatus, trueItemDate) == false)
+		// Referrees in indexable locations will be indexed later on
+		if ((isInIndexableLocation == false) &&
+			(isIndexable(entryNameReferree) == false) &&
+			(crawlHistory.hasItem(referreeLocation, referreeItemStatus, referreeItemDate) == false))
 		{
-			if (PinotSettings::getInstance().isBlackListed(entryName) == false)
-			{
-				// Proceed as per regular files
-				reportFile = true;
-			}
+			m_currentLinks.push(entryName);
+			m_currentLinkReferrees.push(entryNameReferree);
+
+			// Add a dummy entry for this referree
+			// It will ensure it's not indexed more than once and it shouldn't do any harm
+			crawlHistory.insertItem(referreeLocation, CrawlHistory::CRAWL_LINK, m_sourceId, itemDate);
+
+			// Do it again, this time by stat'ing what the link refers to
+			scanEntry(entryName, crawlHistory, false);
+
+			m_currentLinks.pop();
+			m_currentLinkReferrees.pop();
 		}
-		else cout << "Skipping " << entryName << ": it links to " << trueEntryName
-			<< " which will be crawled, or has already been crawled" << endl;
+		else
+		{
+			cout << "Skipping " << entryName << ": it links to " << entryNameReferree
+				<< " which will be crawled, or has already been crawled" << endl;
+
+			// This should ensure that only metadata is indexed
+			docInfo.setType("inode/symlink");
+			reportFile = true;
+		}
 	}
-	else if (S_ISREG(fileStat.st_mode))
+
+	// Is this item in the database already ?
+	itemExists = crawlHistory.hasItem(location, itemStatus, itemDate);
+	if (itemExists == true)
 	{
+		if (m_fullScan == true)
+		{
+			// Change the status from TO_CRAWL to CRAWLING
+			crawlHistory.updateItem(location, CrawlHistory::CRAWLING, itemDate);
+		}
+	}
+	else
+	{
+		// Record it
+		crawlHistory.insertItem(location, CrawlHistory::CRAWLING, m_sourceId, itemDate);
+	}
+
+	// If stat'ing didn't fail, see if it's a file or a directory
+	if ((entryStatus == 0) &&
+		(S_ISREG(fileStat.st_mode)))
+	{
 		// Is this file blacklisted ?
 		// We have to check early so that if necessary the file's status stays at TO_CRAWL
 		// and it is removed from the index at the end of this crawl
@@ -437,8 +516,11 @@
 			reportFile = true;
 		}
 	}
-	else if (S_ISDIR(fileStat.st_mode))
+	else if ((entryStatus == 0) &&
+		(S_ISDIR(fileStat.st_mode)))
 	{
+		docInfo.setType("x-directory/normal");
+
 		// Can we scan this directory ?
 		if (((m_maxLevel == 0) ||
 			(m_currentLevel < m_maxLevel)) &&
@@ -509,7 +591,9 @@
 			}
 		}
 	}
-	else
+	// Is it some unknown type ?
+	else if ((entryStatus == 0) &&
+		(!S_ISLNK(fileStat.st_mode)))
 	{
 #ifdef DEBUG
 		cout << "DirectoryScannerThread::scanEntry: unknown entry type" << endl;
@@ -518,53 +602,12 @@
 		scanSuccess = false;
 	}
 
-	// If a major error occured, this won't be true
-	if (reportFile == true)
+	// Was it modified after the last crawl ?
+	if ((itemExists == true) &&
+		(itemDate >= fileStat.st_mtime))
 	{
-		// Was it modified after the last crawl ?
-		if ((itemExists == true) &&
-			(itemDate >= fileStat.st_mtime))
-		{
-			// No, it wasn't
-			reportFile = false;
-		}
-
-		// History of modified files, especially the timestamp, is always updated
-		// Others' are updated only if we are doing a full scan because
-		// the status has to be reset to CRAWLED, so that they are not unindexed
-		if ((reportFile == true) ||
-			(m_fullScan == true))
-		{
-#ifdef DEBUG
-			cout << "DirectoryScannerThread::scanEntry: updating " << entryName << endl;
-#endif
-			cacheUpdate(location, fileStat.st_mtime, crawlHistory);
-		}
-
-		if (reportFile == true)
-		{
-			DocumentInfo docInfo("", location, "", "");
-			set<string> labels;
-			stringstream labelStream;
-
-			if (S_ISDIR(fileStat.st_mode))
-			{
-				docInfo.setType("x-directory/normal");
-			}
-			else
-			{
-				// We might as well scan the file for its type now
-				docInfo.setType(MIMEScanner::scanFile(entryName));
-			}
-			docInfo.setTimestamp(TimeConverter::toTimestamp(fileStat.st_mtime));
-			docInfo.setSize(fileStat.st_size);
-			// Insert a label that identifies the source
-			labelStream << "X-SOURCE" << m_sourceId;
-			labels.insert(labelStream.str());
-			docInfo.setLabels(labels);
-
-			foundFile(docInfo);
-		}
+		// No, it wasn't
+		reportFile = false;
 	}
 
 	// Did an error occur ?
@@ -574,8 +617,47 @@
 
 		// Record this error
 		crawlHistory.updateItem(location, CrawlHistory::CRAWL_ERROR, timeNow, entryStatus);
+
+		if (scanSuccess == false)
+		{
+			return scanSuccess;
+		}
 	}
+	// History of new or modified files, especially their timestamp, is always updated
+	// Others' are updated only if we are doing a full scan because
+	// the status has to be reset to CRAWLED, so that they are not unindexed
+	else if ((itemExists == false) ||
+		(reportFile == true) ||
+		(m_fullScan == true))
+	{
+#ifdef DEBUG
+		cout << "DirectoryScannerThread::scanEntry: updating " << entryName << endl;
+#endif
+		cacheUpdate(location, fileStat.st_mtime, crawlHistory);
+	}
 
+	// If a major error occured, this won't be true
+	if (reportFile == true)
+	{
+		set<string> labels;
+		stringstream labelStream;
+
+		if (docInfo.getType().empty() == true)
+		{
+			// Scan the file
+			docInfo.setType(MIMEScanner::scanFile(entryName));
+		}
+		docInfo.setTimestamp(TimeConverter::toTimestamp(fileStat.st_mtime));
+		docInfo.setSize(fileStat.st_size);
+
+		// Insert a label that identifies the source
+		labelStream << "X-SOURCE" << m_sourceId;
+		labels.insert(labelStream.str());
+		docInfo.setLabels(labels);
+
+		foundFile(docInfo);
+	}
+
 	return scanSuccess;
 }
 
@@ -610,6 +692,7 @@
 		m_errorParam = m_dirName;
 	}
 	flushUpdates(crawlHistory);
+	crawlHistory.deleteItems(m_sourceId, CrawlHistory::CRAWL_LINK);
 	cout << "Scanned " << m_dirName << " in " << scanTimer.stop() << " ms" << endl;
 
 	if (m_done == true)

Modified: trunk/UI/GTK2/src/ServerThreads.h
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.h	2009-01-10 14:50:55 UTC (rev 1471)
+++ trunk/UI/GTK2/src/ServerThreads.h	2009-01-10 15:24:26 UTC (rev 1472)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -21,6 +21,7 @@
 
 #include <string>
 #include <vector>
+#include <stack>
 #include <sigc++/sigc++.h>
 #include <glibmm/ustring.h>
 
@@ -62,11 +63,15 @@
 		bool m_delegateIndexing;
 		sigc::signal2<void, DocumentInfo, bool> m_signalFileFound;
 		std::map<std::string, time_t> m_updateCache;
+		std::stack<std::string> m_currentLinks;
+		std::stack<std::string> m_currentLinkReferrees;
 
 		void cacheUpdate(const std::string &location, time_t mTime, CrawlHistory &crawlHistory);
 		void flushUpdates(CrawlHistory &crawlHistory);
 		void foundFile(const DocumentInfo &docInfo);
-		bool scanEntry(const std::string &entryName, CrawlHistory &crawlHistory);
+		bool isIndexable(const std::string &entryName) const;
+		bool scanEntry(const std::string &entryName, CrawlHistory &crawlHistory,
+			bool statLinks = true);
 		virtual void doWork(void);
 
 	private:

Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2009-01-10 14:50:55 UTC (rev 1471)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2009-01-10 15:24:26 UTC (rev 1472)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -1551,7 +1551,7 @@
 {
 	IndexInterface *pIndex = PinotSettings::getInstance().getIndex(m_indexLocation);
 	Url thisUrl(m_docInfo.getLocation());
-	bool doDownload = true;
+	bool reliableType = false, doDownload = true;
 
 	// First things first, get the index
 	if ((pIndex == NULL) ||
@@ -1574,12 +1574,15 @@
 		m_update = true;
 	}
 
-	// We may not have to download the document
-	// If coming from a crawl, this will be empty
 	if (m_docInfo.getType().empty() == true)
 	{
 		m_docInfo.setType(MIMEScanner::scanUrl(thisUrl));
 	}
+	else
+	{
+		// There's a good chance the supplied type is accurate
+		reliableType = true;
+	}
 
 	if (FilterUtils::isSupportedType(m_docInfo.getType()) == false)
 	{
@@ -1592,6 +1595,14 @@
 
 			return;
 		}
+
+		if (reliableType == true)
+		{
+			doDownload = false;
+#ifdef DEBUG
+			cout << "IndexingThread::doWork: skipping download of unsupported type " << m_docInfo.getLocation() << endl;
+#endif
+		}
 	}
 	else
 	{
@@ -1606,12 +1617,16 @@
 				(thisUrl.isLocal() == false)))
 			{
 				doDownload = false;
+#ifdef DEBUG
+				cout << "IndexingThread::doWork: let filter download " << m_docInfo.getLocation() << endl;
+#endif
 			}
 
 			delete pFilter;
 		}
 	}
 
+	// We may not have to download the document
 	if (doDownload == true)
 	{
 		DownloadingThread::doWork();
@@ -1622,9 +1637,6 @@
 
 		m_pDoc->setTimestamp(m_docInfo.getTimestamp());
 		m_pDoc->setSize(m_docInfo.getSize());
-#ifdef DEBUG
-		cout << "IndexingThread::doWork: skipped download of " << m_docInfo.getLocation() << endl;
-#endif
 	}
 
 	if (m_pDoc != NULL)
@@ -1635,10 +1647,12 @@
 		// The type may have been obtained when downloading
 		if (docType.empty() == false)
 		{
+			// Use the document's type
 			m_docInfo.setType(docType);
 		}
 		else
 		{
+			// Use the type we were supplied with
 			m_pDoc->setType(m_docInfo.getType());
 		}
 



From fabricecolin at mail.berlios.de  Sat Jan 10 16:25:48 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 10 Jan 2009 16:25:48 +0100
Subject: [Pinot-svn] r1473 - trunk
Message-ID: <200901101525.n0AFPmOJ032135@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-10 16:25:42 +0100 (Sat, 10 Jan 2009)
New Revision: 1473

Modified:
   trunk/pinot-prefs.desktop
Log:
Added X-GNOME-PersonalSettings to Categories.


Modified: trunk/pinot-prefs.desktop
===================================================================
--- trunk/pinot-prefs.desktop	2009-01-10 15:24:26 UTC (rev 1472)
+++ trunk/pinot-prefs.desktop	2009-01-10 15:25:42 UTC (rev 1473)
@@ -7,4 +7,4 @@
 Icon=pinot
 Terminal=false
 Type=Application
-Categories=Settings;
+Categories=Settings;X-GNOME-PersonalSettings;



From fabricecolin at mail.berlios.de  Sat Jan 10 17:16:19 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 10 Jan 2009 17:16:19 +0100
Subject: [Pinot-svn] r1474 - trunk/UI/GTK2/src
Message-ID: <200901101616.n0AGGJkO003800@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-10 17:16:14 +0100 (Sat, 10 Jan 2009)
New Revision: 1474

Modified:
   trunk/UI/GTK2/src/ServerThreads.cpp
Log:
Delete CRAWL_LINK items before the crawl, not after.


Modified: trunk/UI/GTK2/src/ServerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-10 15:25:42 UTC (rev 1473)
+++ trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-10 16:16:14 UTC (rev 1474)
@@ -675,8 +675,9 @@
 	}
 	scanTimer.start();
 
-	// Remove errors
+	// Remove errors and links
 	crawlHistory.deleteItems(m_sourceId, CrawlHistory::CRAWL_ERROR);
+	crawlHistory.deleteItems(m_sourceId, CrawlHistory::CRAWL_LINK);
 
 	if (m_fullScan == true)
 	{
@@ -692,7 +693,6 @@
 		m_errorParam = m_dirName;
 	}
 	flushUpdates(crawlHistory);
-	crawlHistory.deleteItems(m_sourceId, CrawlHistory::CRAWL_LINK);
 	cout << "Scanned " << m_dirName << " in " << scanTimer.stop() << " ms" << endl;
 
 	if (m_done == true)



From fabricecolin at mail.berlios.de  Sun Jan 11 05:46:35 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 11 Jan 2009 05:46:35 +0100
Subject: [Pinot-svn] r1475 - in trunk: . po
Message-ID: <200901110446.n0B4kZYM014618@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-11 05:46:19 +0100 (Sun, 11 Jan 2009)
New Revision: 1475

Modified:
   trunk/AUTHORS
   trunk/po/he.po
   trunk/po/nl.po
   trunk/po/pt.po
   trunk/po/pt_BR.po
   trunk/po/sv.po
Log:
Updated translations by Yaron (he), JW (nl), Henrique P. Machado (pt_BR),
_PN_boy (pt) and Daniel Nylander (se).


Modified: trunk/AUTHORS
===================================================================
--- trunk/AUTHORS	2009-01-10 16:16:14 UTC (rev 1474)
+++ trunk/AUTHORS	2009-01-11 04:46:19 UTC (rev 1475)
@@ -61,9 +61,10 @@
 	Portuguese (Brazil) - Leonardo Melo <leonardovazmelo at gmail dot com>
 		& Rafael Porto Rodrigues <rafporto at gmail dot com>
 		& Andr? Gondim <andregondim at ubuntu dot com>
+		& Henrique P. Machado <zehrique at gmail dot com>
 	Russian - Sergey Vostrikov <memphis at jabber dot snc dot ru>
 	Spanish - Jes?s Tramullas <jesus at tramullas dot com>
-		& Garbage <garbage at openfutura.com>
+		& Garbage <garbage at openfutura dot com>
 	Swedish - Daniel Nylander <po at danielnylander dot se>
 		& Zirro <???>
 

Modified: trunk/po/he.po
===================================================================
--- trunk/po/he.po	2009-01-10 16:16:14 UTC (rev 1474)
+++ trunk/po/he.po	2009-01-11 04:46:19 UTC (rev 1475)
@@ -6,22 +6,22 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: pinot\n"
-"Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-02 03:02+0800\n"
-"PO-Revision-Date: 2008-11-21 23:49+0000\n"
+"Report-Msgid-Bugs-To: FULL NAME <EMAIL at ADDRESS>\n"
+"POT-Creation-Date: 2009-01-11 00:47+0800\n"
+"PO-Revision-Date: 2009-01-10 16:34+0000\n"
 "Last-Translator: Yaron <sh.yaron at gmail.com>\n"
 "Language-Team: Hebrew <he at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2009-01-02 09:48+0000\n"
+"X-Launchpad-Export-Date: 2009-01-11 04:36+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
 #: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "????? ?????"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:386
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
 msgstr "????? ?????"
 
@@ -29,24 +29,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:350 UI/GTK2/src/mainWindow.cc:847
-#: UI/GTK2/src/mainWindow.cc:1119 UI/GTK2/src/mainWindow.cc:1384
-#: UI/GTK2/src/mainWindow.cc:1544 UI/GTK2/src/mainWindow.cc:1547
-#: UI/GTK2/src/mainWindow.cc:1648 UI/GTK2/src/mainWindow.cc:1684
-#: UI/GTK2/src/mainWindow.cc:1706 UI/GTK2/src/mainWindow.cc:2412
-#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1666
-#: UI/GTK2/src/PinotSettings.cpp:1727 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
+#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
+#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
+#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1069
 msgid "My Web Pages"
 msgstr "????? ???????? ???"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:351 UI/GTK2/src/mainWindow.cc:850
-#: UI/GTK2/src/mainWindow.cc:1113 UI/GTK2/src/mainWindow.cc:1374
-#: UI/GTK2/src/mainWindow.cc:1388 UI/GTK2/src/mainWindow.cc:1555
-#: UI/GTK2/src/mainWindow.cc:1558 UI/GTK2/src/mainWindow.cc:2416
-#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1667
-#: UI/GTK2/src/PinotSettings.cpp:1728 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
+#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
+#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
+#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1079
 msgid "My Documents"
 msgstr "??????? ???"
@@ -201,219 +201,217 @@
 msgid "Update"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:342
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr "?? ????"
 
-#: UI/GTK2/src/mainWindow.cc:362
+#: UI/GTK2/src/mainWindow.cc:363
 msgid "Undefined"
 msgstr "?? ?????"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:601 UI/GTK2/src/mainWindow.cc:2787
+#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
 msgid "Live query"
 msgstr "?????? ???"
 
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:879
+#: UI/GTK2/src/mainWindow.cc:880
 msgid "Document location is"
 msgstr "????? ????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:1098
+#: UI/GTK2/src/mainWindow.cc:1099
 msgid "Couldn't search in results"
-msgstr ""
+msgstr "?? ???? ???? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1110
 msgid "In Results"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:1285
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "Showing"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1293
+#: UI/GTK2/src/mainWindow.cc:1294
 msgid "of"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1335
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "Query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1339 UI/GTK2/src/mainWindow.cc:3328
+#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
 msgid "on"
-msgstr ""
+msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1343
+#: UI/GTK2/src/mainWindow.cc:1344
 msgid "ended"
-msgstr ""
+msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1498
+#: UI/GTK2/src/mainWindow.cc:1499
 msgid "More Like"
-msgstr ""
+msgstr "??? ???"
 
-#: UI/GTK2/src/mainWindow.cc:1565
+#: UI/GTK2/src/mainWindow.cc:1566
 msgid "Updated label(s)"
-msgstr ""
+msgstr "?????/?? ???????/??"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1658 UI/GTK2/src/mainWindow.cc:1746
+#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
 msgid "Updated document"
-msgstr ""
+msgstr "???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1671
+#: UI/GTK2/src/mainWindow.cc:1672
 msgid "Indexed"
-msgstr ""
+msgstr "???? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1707
+#: UI/GTK2/src/mainWindow.cc:1708
 msgid "Unindexed document(s)"
-msgstr ""
+msgstr "????/?? ?????/? ????/?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1801
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index, name"
-msgstr ""
+msgstr "?? ???? ????? ?? ??????, ??"
 
-#: UI/GTK2/src/mainWindow.cc:1805 UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
 #: UI/GTK2/src/mainWindow.cc:3134
 msgid "is already in use"
-msgstr ""
+msgstr "??? ???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1818
+#: UI/GTK2/src/mainWindow.cc:1819
 msgid "Couldn't rename index"
-msgstr ""
+msgstr "?? ???? ????? ?? ?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1831
+#: UI/GTK2/src/mainWindow.cc:1832
 msgid "Edited index"
-msgstr ""
+msgstr "??????? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2139
+#: UI/GTK2/src/mainWindow.cc:2140
 msgid "Export"
-msgstr ""
+msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2184
-#, fuzzy
+#: UI/GTK2/src/mainWindow.cc:2185
 msgid "Couldn't find similar documents"
-msgstr "?? ???? ????? ?? ???????"
+msgstr "?? ???? ????? ?????? ?????"
 
 #: UI/GTK2/src/mainWindow.cc:2429
 msgid "Index"
-msgstr ""
+msgstr "??????"
 
 #: UI/GTK2/src/mainWindow.cc:2433
 msgid "doesn't exist"
-msgstr ""
+msgstr "?? ????"
 
 #: UI/GTK2/src/mainWindow.cc:2501
 msgid "Remove this document from the index ?"
-msgstr ""
+msgstr "??? ????? ???? ?? ???????? ?"
 
 #: UI/GTK2/src/mainWindow.cc:2520
 msgid "Remove these documents from the index ?"
-msgstr ""
+msgstr "??? ????? ?????? ??? ?????????"
 
 #: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
-msgstr ""
+msgstr "???? ????????"
 
 #: UI/GTK2/src/mainWindow.cc:2564
 msgid "A metasearch tool for the Free Desktop"
-msgstr ""
+msgstr "??? ????????? ?????? ?????? ??????"
 
 #: UI/GTK2/src/mainWindow.cc:2565
 msgid "Search the Web and your documents !"
-msgstr ""
+msgstr "????? ???????? ???????? ??? !"
 
 #: UI/GTK2/src/mainWindow.cc:2610
 msgid "Index name"
-msgstr ""
+msgstr "?? ???????"
 
 #: UI/GTK2/src/mainWindow.cc:2625
 msgid "Couldn't add index"
-msgstr ""
+msgstr "?? ???? ?????? ??????"
 
 #: UI/GTK2/src/mainWindow.cc:2641
 msgid "Added new index"
-msgstr ""
+msgstr "???? ?????? ???"
 
 #: UI/GTK2/src/mainWindow.cc:2676
 msgid "Couldn't remove index"
-msgstr ""
+msgstr "?? ???? ????? ??????"
 
 #: UI/GTK2/src/mainWindow.cc:2876
 msgid "No history for"
-msgstr ""
+msgstr "??? ???????? ????"
 
 #: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
 msgid "At least one task hasn't completed yet. Quit now ?"
-msgstr ""
+msgstr "????? ????? ??? ?? ?????? ?????. ???? ????"
 
 #: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
 msgid "Quit"
-msgstr ""
+msgstr "?????"
 
 #: UI/GTK2/src/mainWindow.cc:3130
 msgid "Query name"
-msgstr ""
+msgstr "?? ???????"
 
 #: UI/GTK2/src/mainWindow.cc:3157
 msgid "Couldn't update query"
-msgstr ""
+msgstr "?? ???? ????? ?? ???????"
 
 #: UI/GTK2/src/mainWindow.cc:3168
 msgid "Edited query"
-msgstr ""
+msgstr "??????? ?????"
 
 #: UI/GTK2/src/mainWindow.cc:3175
 msgid "Couldn't add query"
-msgstr ""
+msgstr "?? ???? ?????? ??????"
 
 #: UI/GTK2/src/mainWindow.cc:3183
 msgid "Added new query"
-msgstr ""
+msgstr "????? ?????? ????"
 
 #: UI/GTK2/src/mainWindow.cc:3217
 msgid "Query is not set"
-msgstr ""
+msgstr "??????? ?? ??????"
 
 #: UI/GTK2/src/mainWindow.cc:3228
 msgid "No search engine selected"
-msgstr ""
+msgstr "?? ???? ???? ?????"
 
 #: UI/GTK2/src/mainWindow.cc:3315
 msgid "Please set the Google API key first"
-msgstr ""
+msgstr "??? ???? ?? ???? ??API ?? ???? ?????"
 
 #: UI/GTK2/src/mainWindow.cc:3324
 msgid "Running query"
-msgstr ""
+msgstr "??????? ???"
 
 #: UI/GTK2/src/mainWindow.cc:3533
 msgid "No default application defined for type"
-msgstr ""
+msgstr "?? ????? ????? ?????? ???? ????"
 
 #: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
-msgstr ""
+msgstr "??????:"
 
 #: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
-msgstr ""
+msgstr "????????"
 
 #: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
-msgstr ""
+msgstr "??????? ????????"
 
 #: UI/GTK2/src/mainWindow_glade.cc:165
 msgid "Open Cache"
-msgstr ""
+msgstr "????? ??????"
 
 #: UI/GTK2/src/mainWindow_glade.cc:168
 msgid "Open Parent"
-msgstr ""
+msgstr "????? ?????"
 
 #: UI/GTK2/src/mainWindow_glade.cc:174
-#, fuzzy
 msgid "_Add To Index"
-msgstr "???? ??????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
@@ -436,14 +434,12 @@
 msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:231
-#, fuzzy
 msgid "Group Results By"
-msgstr "???????"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:234
-#, fuzzy
 msgid "Show Extracts"
-msgstr "???? ???"
+msgstr ""
 
 #: UI/GTK2/src/mainWindow_glade.cc:243
 msgid "Export List"
@@ -454,10 +450,6 @@
 msgid "Status"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:252
-msgid "_About"
-msgstr ""
-
 #: UI/GTK2/src/mainWindow_glade.cc:255
 msgid "_File"
 msgstr ""
@@ -487,75 +479,75 @@
 msgstr ""
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:274 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:275 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:276 UI/GTK2/src/pinot-dbus-daemon.cc:458
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:302
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:323
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr ""
 
@@ -637,7 +629,8 @@
 msgstr ""
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid "These directories will be indexed and optionally monitored for changes:"
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 
 #: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
@@ -850,7 +843,7 @@
 msgid "Score"
 msgstr ""
 
-#: UI/GTK2/src/ResultsTree.cpp:1550
+#: UI/GTK2/src/ResultsTree.cpp:1552
 msgid "No results"
 msgstr ""
 
@@ -1005,9 +998,3 @@
 #: UI/GTK2/src/WorkerThreads.cpp:1032
 msgid "No title"
 msgstr ""
-
-#~ msgid "Result location is"
-#~ msgstr "????? ??????? ????"
-
-#~ msgid "documents, starting at"
-#~ msgstr "??????, ???????? ??"

Modified: trunk/po/nl.po
===================================================================
--- trunk/po/nl.po	2009-01-10 16:16:14 UTC (rev 1474)
+++ trunk/po/nl.po	2009-01-11 04:46:19 UTC (rev 1475)
@@ -4,48 +4,49 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.88\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
-"PO-Revision-Date: 2008-08-23 16:15+0000\n"
+"POT-Creation-Date: 2009-01-11 00:47+0800\n"
+"PO-Revision-Date: 2009-01-10 20:38+0000\n"
 "Last-Translator: JW <jw00000 at gmail.com>\n"
 "Language-Team: Dutch <nl at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2009-01-11 04:36+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "Zoekmachines"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
 msgstr "Huidige gebruiker"
 
-#. Enable these menu items unless it is not the documents index
+#. Apply this label
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
+#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
+#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
+#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
+#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1069
 msgid "My Web Pages"
 msgstr "Mijn webpagina's"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
+#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
+#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
+#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
+#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1079
 msgid "My Documents"
 msgstr "Mijn documenten"
 
@@ -69,7 +70,7 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "Type:"
 
@@ -77,11 +78,11 @@
 msgid "Location:"
 msgstr "Locatie"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
 msgstr "Poort:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr "Adres:"
 
@@ -91,8 +92,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "Geen"
 
@@ -105,7 +106,7 @@
 msgid "Apply label:"
 msgstr "Naam toepassen"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "Importeren URL"
 
@@ -117,7 +118,7 @@
 msgid "Show Next"
 msgstr "Toon volgende"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
 msgstr "Alle"
 
@@ -137,594 +138,577 @@
 msgid "Helper application"
 msgstr "Hulptoepassing"
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "Querynaam"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
 msgstr "Laatst geopend"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "Samenvatting"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "Toon alle zoekmachines"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
 msgstr "Zoeken naar documenten die aan de zoekopdracht voldoen"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
 msgstr "Een index toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
 msgstr "Een index verwijderen"
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
 msgstr "Zoekopdracht toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
 msgstr "Een zoekopdracht verwijderen"
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
 msgstr "De vorige resultaten van de zoekopdracht weergeven"
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
 msgstr "Zoeken naar documenten die aan de zoekopdracht voldoen"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "Gereed"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr ""
 "Het is aangeraden alle documenten in \"Mijn webpagina's\" te vernieuwen"
 
-#: UI/GTK2/src/mainWindow.cc:266
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
-msgstr ""
+msgstr "Geen waarschuwing meer geven"
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "Verversen"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr "NVT"
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:363
 msgid "Undefined"
 msgstr "Niet gedefinieerd"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
 msgid "Live query"
 msgstr "Rechtstreekse query"
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "Uitvoerlocatie is"
-
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:880
 msgid "Document location is"
 msgstr "Documentlocatie is"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "Kon query niet vinden"
+#: UI/GTK2/src/mainWindow.cc:1099
+msgid "Couldn't search in results"
+msgstr "Kon niet zoeken in resultaten"
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1110
 msgid "In Results"
 msgstr "In de resultaten"
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "Showing"
 msgstr "Aan het tonen"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1294
 msgid "of"
 msgstr "van"
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr "documenten, beginnend bij"
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "Query"
 msgstr "Query"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
 msgid "on"
 msgstr "op"
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1344
 msgid "ended"
 msgstr "Beeindigd"
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr "Gecorrigeerd"
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1499
 msgid "More Like"
 msgstr "Meer zoals"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1566
 msgid "Updated label(s)"
 msgstr "Vernieuwde na(a)m(en)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
 msgid "Updated document"
 msgstr "Vernieuwd document"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1672
 msgid "Indexed"
 msgstr "Geindexeerd"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1708
 msgid "Unindexed document(s)"
 msgstr "Niet geindexeerd(e) document(en)"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index, name"
 msgstr "Kon index niet hernoemen, naam"
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:3134
 msgid "is already in use"
 msgstr "is reeds in gebruik"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1819
 msgid "Couldn't rename index"
 msgstr "Kon index niet hernoemen"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1832
 msgid "Edited index"
 msgstr "Bewerkte index"
 
 #: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
-msgstr "Resultaten exporteren"
+msgid "Export"
+msgstr "Exporteren"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2185
+msgid "Couldn't find similar documents"
+msgstr "Niet gevonden in gelijkaardige documenten"
+
+#: UI/GTK2/src/mainWindow.cc:2429
 msgid "Index"
 msgstr "Inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2433
 msgid "doesn't exist"
 msgstr "bestaat niet"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2501
 msgid "Remove this document from the index ?"
 msgstr "Verwijder dit document uit de inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2520
 msgid "Remove these documents from the index ?"
 msgstr "Verwijder deze documenten uit de inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "De-indexeren"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2564
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Een metazoek tool voor de Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2565
 msgid "Search the Web and your documents !"
 msgstr "Zoek het web en uw documenten!"
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2610
 msgid "Index name"
 msgstr "Naam inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2625
 msgid "Couldn't add index"
 msgstr "Kon inhoudsopgave niet toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2641
 msgid "Added new index"
 msgstr "Nieuwe inhoudsopgave toegevoegd"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2676
 msgid "Couldn't remove index"
 msgstr "Kon inhoudsopgave niet verwijderen"
 
-#: UI/GTK2/src/mainWindow.cc:2868
+#: UI/GTK2/src/mainWindow.cc:2876
 msgid "No history for"
 msgstr "Geen geschiedenis voor"
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Tenminste een taak is nog niet gereed. Nu stoppen?"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
 msgid "Quit"
-msgstr ""
+msgstr "Afsluiten"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "Query name"
 msgstr "Naam query"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3157
 msgid "Couldn't update query"
 msgstr "Kon query niet actualiseren"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3168
 msgid "Edited query"
 msgstr "Bewerkte query"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3175
 msgid "Couldn't add query"
 msgstr "Kon query niet toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3183
 msgid "Added new query"
 msgstr "Nieuwe query toegevoegd"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3217
 msgid "Query is not set"
 msgstr "Query niet vastgelegd"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3228
 msgid "No search engine selected"
 msgstr "Geen zoekmachine geselecteerd"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3315
 msgid "Please set the Google API key first"
 msgstr "Geef eerst de Google API sleutel in"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3324
 msgid "Running query"
 msgstr "Lopende query"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3533
 msgid "No default application defined for type"
 msgstr "Geen standaard toepassing gedefinieerd voor het type"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
 msgstr "Query:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
 msgstr "Geschiedenis"
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
 msgstr "Opgeslagen queries"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
-msgstr "Status"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+msgid "Open Cache"
+msgstr "Open cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "Zoekmachine"
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr "Open ouder"
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "Naam host"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+msgid "_Add To Index"
+msgstr "_Aan index toevoegen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "Toon uittreksel"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "Groeperen op"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "Lijst opschonen"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "_Toon"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "Toon cache"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
 msgstr "Meer zoals deze"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
 msgstr "Doorzoek dit voor"
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "_Index"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "Zoekmachine"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "Naam host"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
 msgstr "Lijstinhoud van"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "Toon"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+msgid "Group Results By"
+msgstr "Resultaten groeperen op"
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "Eigenschappen"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+msgid "Show Extracts"
+msgstr "Fragmenten tonen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "_Over"
+#: UI/GTK2/src/mainWindow_glade.cc:243
+msgid "Export List"
+msgstr "Lijst exporteren"
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "_Sessie"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "Status"
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+msgid "_File"
+msgstr "_Bestand"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "_Bewerken"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "_Resultaten"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr "_Opties"
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "_Help"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pinot"
 
-#: UI/GTK2/src/Notebook.cpp:146
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr "Bedoelde u?"
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
-msgstr ""
+msgstr "Sluiten"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr "Niet bekend"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "Deens"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "Nederlands"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "Engels"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "Fins"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "Frans"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "Duits"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr "Hongaars"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "Italiaans"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "Noors"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "Portugees"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr "Roemeens"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "Russisch"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "Spaans"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr "Zweeds"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr "Turks"
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "Kan index niet openen"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "Kon historische database niet maken"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:430
 msgid "Important"
 msgstr "Belangrijk"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:431
 msgid "New"
 msgstr "Nieuw"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:432
 msgid "Personal"
 msgstr "Persoonlijk"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:454
 msgid "Me"
 msgstr "Ik"
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:462
 msgid "Latest First"
-msgstr ""
+msgstr "Laatste eerst"
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:465
 msgid "Home Stuff"
-msgstr ""
+msgstr "Dingen uit persoonlijke map"
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "With Label New"
-msgstr ""
+msgstr "Met het label 'Nieuw'"
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Have CJKV"
-msgstr ""
+msgstr "Met CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:468
 msgid "In English"
-msgstr ""
+msgstr "In het Engels"
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "10kb And Smaller"
-msgstr ""
+msgstr "10kb en kleiner"
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:514
 msgid "Unclassified"
 msgstr "Niet geclassificeerd"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:205
 msgid "Name"
 msgstr "Naam"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:223
 msgid "Monitor"
 msgstr "Observeren"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:224
 msgid "Location"
 msgstr "Locatie"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:232
 msgid "Pattern"
 msgstr "Patroon"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:565
 msgid "Exclude these patterns from indexing"
 msgstr "Deze patronen niet indexeren"
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:566
 msgid "Only index these patterns"
 msgstr "Enkel deze patronen indexeren"
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:765
+msgid "Directory to index"
+msgstr "Directory naar inhoudsopgave"
+
+#: UI/GTK2/src/prefsWindow.cc:905
 msgid "New Label"
 msgstr "Nieuwe naam"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "Directory naar inhoudsopgave"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
+msgstr ""
+"Deze directories zullen geindexeerd worden en optioneel bijgewerkt worden "
+"bij veranderingen:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "Google API sleutel:"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "Toevoegen"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "Nieuwe resultaten:"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr "Bestandspatronen:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "Queries:"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr "Reset"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "Zoektermsuggestie aanzetten"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "Aan het indexeren"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "Negeer robots.txt en Robots META tag"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr ""
+"Bijschriften worden gebruikt om geindexeerde documenten te klassificeren:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr "HTTP crawling:"
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "Verwijderen"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "Algemeen"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "Bijschriften"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr "Directe verbinding met het internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr "Manuele proxy-configuratie:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr "Netwerk"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr ""
-"Bijschriften worden gebruikt om geindexeerde documenten te klassificeren:"
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "Google API sleutel:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "Toevoegen"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "Queries:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "Verwijderen"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "Zoektermsuggestie aanzetten"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "Bijschriften"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "Negeer robots.txt en Robots META tag"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr ""
-"Deze directories zullen geindexeerd worden en optioneel bijgewerkt worden "
-"bij veranderingen:"
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "HTTP crawling:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr "Bestandspatronen:"
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "Nieuwe resultaten:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
+msgstr "Overig"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "Aan het indexeren"
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+msgid "Pinot Preferences"
+msgstr "Pinot voorkeuren"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
-msgstr "Voorkeuren"
-
 #: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Per document"
@@ -753,6 +737,10 @@
 msgid "bytes"
 msgstr "bytes"
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "Eigenschappen"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Hostnaam"
@@ -766,12 +754,12 @@
 msgstr "Bestandsextensie"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "Titel"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
 msgstr "URL"
 
@@ -780,40 +768,44 @@
 msgstr "Map"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr "Locatie"
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
 msgstr "Taal code"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "MIME type"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
-msgstr ""
+msgstr "MIME-klasse"
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
 msgstr "Bijschrift"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
 msgstr "Datum"
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
 msgstr "Tijd"
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
 msgstr "Grootte"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
 msgstr "Volgens relevantie"
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
 msgstr "Volgens datum"
 
@@ -839,166 +831,227 @@
 
 #: UI/GTK2/src/queryDialog_glade.cc:93
 msgid "Stemming:"
-msgstr ""
+msgstr "Stemming:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:94
 msgid "Only index new results"
-msgstr ""
+msgstr "Alleen nieuwe resultaten indexeren"
 
 #: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Queryparameters"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "Score"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1552
+msgid "No results"
+msgstr "Geen resultaten"
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
 msgstr "Indexen"
 
-#: UI/GTK2/src/statisticsDialog.cc:117
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:187 UI/GTK2/src/statisticsDialog.cc:190
+#: UI/GTK2/src/statisticsDialog.cc:198
+msgid "Checking"
+msgstr "Controleren"
+
+#: UI/GTK2/src/statisticsDialog.cc:195
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
+#: UI/GTK2/src/statisticsDialog.cc:222 UI/GTK2/src/statisticsDialog.cc:238
 msgid "documents"
 msgstr "documenten"
 
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/statisticsDialog.cc:228 UI/GTK2/src/statisticsDialog.cc:246
+#: UI/GTK2/src/WorkerThreads.cpp:125
 msgid "Unknown error"
 msgstr "Onbekende fout."
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:253
 msgid "Viewed"
 msgstr "Weergegeven"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:253
 msgid "results"
 msgstr "resultaten"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:259
 msgid "Crawled"
 msgstr "Gecrawld"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:259
 msgid "files"
 msgstr "bestanden"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:277
 msgid "Running under PID"
 msgstr "Wordt uitgevoerd on het PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:297
 msgid "Disconnected from D-Bus"
-msgstr ""
+msgstr "Losgekoppeld van D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:301
 msgid "Stopped"
-msgstr ""
+msgstr "Gestopt"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:305
 msgid "Currently not running"
 msgstr "Wordt momenteel niet uitgevoerd"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:319
 msgid "Low disk space"
-msgstr ""
+msgstr "Weinig schijfruimte"
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:336
 msgid "System on battery"
-msgstr ""
+msgstr "Systeem op batterij"
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:354
 msgid "Crawling"
-msgstr ""
+msgstr "Aan het crawlen"
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:391
 msgid "Errors"
 msgstr "Fouten"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
 msgstr "Indexfout"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
 msgstr "Het document kon niet ge?ndexeerd worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "Kan document niet actualiseren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "Kan indexering van bestand(en) niet ongedaan maken"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
 msgstr "Kon query niet uitvoeren op zoekmachine"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
 msgstr "De geschiedenis voor de zoekmachine kon niet verkregen worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
 msgstr "Het document kon niet verkregen worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
-msgstr ""
+msgstr "Fout bij het bijhouden van bestanden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
 msgstr "De map kon niet geopend worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
 msgstr "De index bestaat niet"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "Kon zoekmachine niet maken"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
 msgstr "Kan documenttype niet indexeren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
 msgstr "Er is geen downloader voor dit protocol"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META taf verbiedt indexeren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
 msgstr "Geen monitoring handler"
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
-msgstr ""
+msgstr "Indexeren is gestopt"
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "Kan mail hier niet indexeren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "wordt al geindexeerd"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
 msgstr "staat op blacklist"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1032
 msgid "No title"
 msgstr "Geen titel"
 
+#~ msgid "Result location is"
+#~ msgstr "Uitvoerlocatie is"
+
+#~ msgid "documents, starting at"
+#~ msgstr "documenten, beginnend bij"
+
+#~ msgid "Couldn't find query"
+#~ msgstr "Kon query niet vinden"
+
+#~ msgid "Show Extract"
+#~ msgstr "Toon uittreksel"
+
+#~ msgid "Group By"
+#~ msgstr "Groeperen op"
+
+#~ msgid "Clear List"
+#~ msgstr "Lijst opschonen"
+
+#~ msgid "Vie_w"
+#~ msgstr "_Toon"
+
+#~ msgid "View Cache"
+#~ msgstr "Toon cache"
+
+#~ msgid "_Index"
+#~ msgstr "_Index"
+
+#~ msgid "View"
+#~ msgstr "Toon"
+
+#~ msgid "_About"
+#~ msgstr "_Over"
+
+#~ msgid "_Session"
+#~ msgstr "_Sessie"
+
+#~ msgid "_Results"
+#~ msgstr "_Resultaten"
+
+#~ msgid "General"
+#~ msgstr "Algemeen"
+
+#~ msgid "Preferences"
+#~ msgstr "Voorkeuren"
+
 #~ msgid "Extract"
 #~ msgstr "Uitpakken"
+
+#~ msgid "Export Results"
+#~ msgstr "Resultaten exporteren"
+
+#~ msgid "Corrected"
+#~ msgstr "Gecorrigeerd"

Modified: trunk/po/pt.po
===================================================================
--- trunk/po/pt.po	2009-01-10 16:16:14 UTC (rev 1474)
+++ trunk/po/pt.po	2009-01-11 04:46:19 UTC (rev 1475)
@@ -4,48 +4,49 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.88\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
-"PO-Revision-Date: 2008-08-23 16:15+0000\n"
+"POT-Creation-Date: 2009-01-11 00:47+0800\n"
+"PO-Revision-Date: 2009-01-10 22:28+0000\n"
 "Last-Translator: _PN_boy <pedro_nuno_pn at iol.pt>\n"
 "Language-Team: Portuguese <pt at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2009-01-11 04:36+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "Motores de pesquisa"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
-msgstr ""
+msgstr "Utilizador Actual"
 
-#. Enable these menu items unless it is not the documents index
+#. Apply this label
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
+#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
+#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
+#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
+#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1069
 msgid "My Web Pages"
 msgstr "As minhas p?ginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
+#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
+#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
+#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
+#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1079
 msgid "My Documents"
 msgstr "Os Meus Documentos"
 
@@ -69,7 +70,7 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "Tipo:"
 
@@ -77,11 +78,11 @@
 msgid "Location:"
 msgstr "Localiza??o:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
 msgstr "Porta:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr "Endere?o:"
 
@@ -91,8 +92,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "Nenhum"
 
@@ -105,7 +106,7 @@
 msgid "Apply label:"
 msgstr "Aplicar t?tulo:"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "Importar URL"
 
@@ -117,9 +118,9 @@
 msgid "Show Next"
 msgstr "Mostrar pr?ximo"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
-msgstr ""
+msgstr "Todos"
 
 #: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
@@ -137,599 +138,583 @@
 msgid "Helper application"
 msgstr "Aplica??o"
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "Nome da Consulta"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
 msgstr "?ltima execu??o"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "Resumo"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "Mostrar todos os motores de pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
-msgstr ""
+msgstr "Encontrar documentos que igualam a string de pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
-msgstr ""
+msgstr "Adicionar ao ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
-msgstr ""
+msgstr "Remover o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
-msgstr ""
+msgstr "Adicionar uma pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
-msgstr ""
+msgstr "Remover a pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
-msgstr ""
+msgstr "Mostrar resultados anteriores da pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
-msgstr ""
+msgstr "Encontrar documentos que igualam a string de pesquisa"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
-msgstr "A actualizar todos os documentos nas Minhas P?ginas Web ? recomendado"
+msgstr ""
+"A actualizar todos os documentos nas Minhas P?ginas Web ? recomendado"
 
-#: UI/GTK2/src/mainWindow.cc:266
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
-msgstr ""
+msgstr "N?o avisar novamente"
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "Actualizar"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr "N/D"
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:363
 msgid "Undefined"
 msgstr "Indefinido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
 msgid "Live query"
 msgstr "Consulta activa"
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "A localiza??o do resultado ?"
-
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:880
 msgid "Document location is"
 msgstr "A localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "N?o foi poss?vel encontrar a consulta"
+#: UI/GTK2/src/mainWindow.cc:1099
+msgid "Couldn't search in results"
+msgstr "N?o foi poss?vel pesquisar nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1110
 msgid "In Results"
-msgstr ""
+msgstr "Nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "Showing"
 msgstr "Visualizando"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1294
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr "documentos, come?ando em"
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "Query"
 msgstr "Pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
 msgid "on"
 msgstr "activar"
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1344
 msgid "ended"
 msgstr "terminado"
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr ""
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1499
 msgid "More Like"
 msgstr "Mais identico"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1566
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
 msgid "Updated document"
 msgstr "Documento actualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1672
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1708
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear o ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:3134
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1819
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1832
 msgid "Edited index"
 msgstr "?ndice editado"
 
 #: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
-msgstr ""
+msgid "Export"
+msgstr "Exportar"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2185
+msgid "Couldn't find similar documents"
+msgstr "N?o foi poss?vel encontrar documentos semelhantes"
+
+#: UI/GTK2/src/mainWindow.cc:2429
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2433
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2501
 msgid "Remove this document from the index ?"
 msgstr "Remover este documento do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2520
 msgid "Remove these documents from the index ?"
 msgstr "Remover estes documentos do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2564
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca para o Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2565
 msgid "Search the Web and your documents !"
 msgstr "Pesquise a Web e os seus documentos"
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2610
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2625
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2641
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2676
 msgid "Couldn't remove index"
 msgstr "N?o foi possivel remover o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2868
+#: UI/GTK2/src/mainWindow.cc:2876
 msgid "No history for"
-msgstr ""
+msgstr "Nenhum hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa ainda n?o foi concluida. Sair agora?"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
 msgid "Quit"
-msgstr ""
+msgstr "Sair"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3157
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel actualizar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3168
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3175
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3183
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3217
 msgid "Query is not set"
 msgstr "Consulta n?o foi actualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3228
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa seleccionado"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3315
 msgid "Please set the Google API key first"
 msgstr "Primeiro escolha a tecla para a API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3324
 msgid "Running query"
 msgstr "A executar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3533
 msgid "No default application defined for type"
 msgstr "Nenhuma aplica??o associada ao tipo"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
 msgstr "Pesquisa:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
 msgstr "Hist?rico"
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
 msgstr "Consultas armazenadas"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
-msgstr "Situa??o"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+msgid "Open Cache"
+msgstr "Abrir cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "Motor de busca"
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr "Abrir direct?rio acima"
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "Nome da M?quina"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+msgid "_Add To Index"
+msgstr "_Adicionar ao ?ndice"
 
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "Mostrar extracto"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "Agrupar Por"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "Limpar Lista"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "M_ostrar"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "Ver Cache"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
 msgstr "Mais identicos"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
-msgstr ""
+msgstr "Pesquisar isto para"
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "?nd_ice"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "Motor de busca"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "Nome da M?quina"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
 msgstr "Mostrar conte?do(s) de"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "Visualizar"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+msgid "Group Results By"
+msgstr "Agrupar resultados  por"
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "Propriedades"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+msgid "Show Extracts"
+msgstr "Mostrar extra?dos"
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "_Sobre"
+#: UI/GTK2/src/mainWindow_glade.cc:243
+msgid "Export List"
+msgstr "Exportar lista"
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "_Sess?o"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "Situa??o"
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+msgid "_File"
+msgstr "_Ficheiro"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "_Editar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "_Resultados"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr "_Op??es"
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "_Ajuda"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pinot"
 
-#: UI/GTK2/src/Notebook.cpp:146
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr "Quis dizer ?"
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
-msgstr ""
+msgstr "Fechar"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr "Desconhecido"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "Dinamarqu?s"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "Holand?s"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "Ingl?s"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "Finl?ndes"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "Franc?s"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "Alem?o"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "Italiano"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "Noruegu?s"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr "Romeno"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "Russo"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "Espanhol"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr "Sueco"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr "Turco"
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "N?o foi poss?vel abrir o ?ndice"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "N?o foi poss?vel criar base de dados do hist?rico"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:430
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:431
 msgid "New"
 msgstr "Novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:432
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:454
 msgid "Me"
-msgstr ""
+msgstr "Eu"
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:462
 msgid "Latest First"
-msgstr ""
+msgstr "Primeiro os ?ltimos"
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:465
 msgid "Home Stuff"
-msgstr ""
+msgstr "Coisas do direct?rio pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "With Label New"
-msgstr ""
+msgstr "Com r?tulo novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Have CJKV"
-msgstr ""
+msgstr "Tem CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:468
 msgid "In English"
-msgstr ""
+msgstr "Em ingl?s"
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "10kb And Smaller"
-msgstr ""
+msgstr "10kb e menor"
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:514
 msgid "Unclassified"
 msgstr "N?o classificado"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:205
 msgid "Name"
 msgstr "Nome :"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:223
 msgid "Monitor"
 msgstr "Supervisar"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:224
 msgid "Location"
 msgstr "Localiza??o"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:232
 msgid "Pattern"
 msgstr "Padr?o:"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:565
 msgid "Exclude these patterns from indexing"
-msgstr ""
+msgstr "Excluir estes padr?es da indexa??o"
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:566
 msgid "Only index these patterns"
-msgstr ""
+msgstr "Indexar somente estes padr?es"
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:765
+msgid "Directory to index"
+msgstr "Direct?rio a indexar"
+
+#: UI/GTK2/src/prefsWindow.cc:905
 msgid "New Label"
 msgstr "Novo t?tulo"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "Direct?rio a indexar"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
+msgstr ""
+"Direct?rios que ser?o indexados e opcionalmente ser?o monitorizadas as "
+"altera??es:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "Tecla para a API Google:"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "Adicionar"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "Novos resultados"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr "Padr?es de ficheiros:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "Pesquisas:"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr "Reiniciar"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "Habilitar sugest?o de termos"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "Indexando"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "Ignorar robots.txt e Robots META tag"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr "T?tulos utilizados para classificar os documentos indexados:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr "HTTP crawling:"
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "Remover"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "Geral"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "Etiquetas"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr "Conex?o directa ? Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr "Configura??o manual do proxy:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr "Rede"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr "T?tulos utilizados para classificar os documentos indexados:"
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "Tecla para a API Google:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "Adicionar"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "Pesquisas:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "Remover"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "Habilitar sugest?o de termos"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "Etiquetas"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "Ignorar robots.txt e Robots META tag"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr ""
-"Direct?rios que ser?o indexados e opcionalmente ser?o monitorizadas as "
-"altera??es:"
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "HTTP crawling:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "Novos resultados"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
+msgstr "Diversos"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "Indexando"
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+msgid "Pinot Preferences"
+msgstr "Prefer?ncias do Pinot"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
-msgstr "Prefer?ncias"
-
 #: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Por documento"
 
 #: UI/GTK2/src/propertiesDialog.cc:365
 msgid "Export Terms"
-msgstr ""
+msgstr "Termos da exporta??o"
 
 #: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
@@ -749,8 +734,12 @@
 
 #: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
-msgstr ""
+msgstr "bytes"
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "Propriedades"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Nome da m?quina"
@@ -764,12 +753,12 @@
 msgstr "Extens?o do ficheiro"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "Titulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
 msgstr "URL"
 
@@ -778,46 +767,50 @@
 msgstr "Direct?rio"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr "Localiza??o"
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
 msgstr "C?digo do idioma"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "Tipo MIME"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
-msgstr ""
+msgstr "classe MIME"
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
 msgstr "Etiqueta"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
 msgstr "Data"
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
 msgstr "Tempo"
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
-msgstr ""
+msgstr "Tamanho"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
-msgstr ""
+msgstr "Por relev?ncia"
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
-msgstr ""
+msgstr "Por data"
 
 #: UI/GTK2/src/queryDialog_glade.cc:71
 msgid "New filter or range:"
-msgstr ""
+msgstr "Novo filtro ou intervalo:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
@@ -833,170 +826,225 @@
 
 #: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
-msgstr ""
+msgstr "Ordem:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:93
 msgid "Stemming:"
-msgstr ""
+msgstr "Derivado:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:94
 msgid "Only index new results"
-msgstr ""
+msgstr "Apenas indexar novos resultados"
 
 #: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Par?metros da consulta"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "Pontua??o"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1552
+msgid "No results"
+msgstr "Sem resultados"
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
 msgstr "?ndices"
 
-#: UI/GTK2/src/statisticsDialog.cc:117
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:187 UI/GTK2/src/statisticsDialog.cc:190
+#: UI/GTK2/src/statisticsDialog.cc:198
+msgid "Checking"
+msgstr "A verificar"
+
+#: UI/GTK2/src/statisticsDialog.cc:195
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
+#: UI/GTK2/src/statisticsDialog.cc:222 UI/GTK2/src/statisticsDialog.cc:238
 msgid "documents"
 msgstr "documentos"
 
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/statisticsDialog.cc:228 UI/GTK2/src/statisticsDialog.cc:246
+#: UI/GTK2/src/WorkerThreads.cpp:125
 msgid "Unknown error"
 msgstr "Erro desconhecido"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:253
 msgid "Viewed"
 msgstr "Visualizado"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:253
 msgid "results"
 msgstr "resultados"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:259
 msgid "Crawled"
-msgstr ""
+msgstr "Recolhido"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:259
 msgid "files"
 msgstr "ficheiros"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:277
 msgid "Running under PID"
 msgstr "A correr com o PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:297
 msgid "Disconnected from D-Bus"
-msgstr ""
+msgstr "Desligado do D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:301
 msgid "Stopped"
-msgstr ""
+msgstr "Parado"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:305
 msgid "Currently not running"
 msgstr "Presentemente n?o est? a correr"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:319
 msgid "Low disk space"
-msgstr ""
+msgstr "Pouco espa?o no disco"
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:336
 msgid "System on battery"
-msgstr ""
+msgstr "A usar a bateria"
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:354
 msgid "Crawling"
-msgstr ""
+msgstr "A recolher"
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:391
 msgid "Errors"
 msgstr "Erros"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
-msgstr ""
+msgstr "Erro na indexa??o"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
-msgstr ""
+msgstr "N?o foi poss?vel indexar o documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "N?o foi poss?vel actualizar o documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
 msgstr "N?o foi poss?vel efectuar consulta no mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
-msgstr ""
+msgstr "N?o foi poss?vel obter o hist?rico do mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
-msgstr ""
+msgstr "N?o foi poss?vel obter o documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
-msgstr ""
+msgstr "Monitor de erros de ficheiro"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
-msgstr ""
+msgstr "N?o foi poss?vel abrir o direct?rio"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
-msgstr ""
+msgstr "?ndice n?o existe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "N?o foi poss?vel criar mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
 msgstr "Imposs?vel indexar tipo de ficheiro"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
-msgstr ""
+msgstr "N?o existe programa para efectuar a transfer?ncia neste protocolo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META tag n?o s?o permitidos no ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
-msgstr ""
+msgstr "Nenhum programa de monitoriza??o"
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
-msgstr ""
+msgstr "A indexa??o foi parada"
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "N?o foi poss?vel indexar o mail aqui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "j? est? a ser indexado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1032
 msgid "No title"
 msgstr "Sem t?tulo"
 
+#~ msgid "Result location is"
+#~ msgstr "A localiza??o do resultado ?"
+
+#~ msgid "documents, starting at"
+#~ msgstr "documentos, come?ando em"
+
+#~ msgid "Couldn't find query"
+#~ msgstr "N?o foi poss?vel encontrar a consulta"
+
+#~ msgid "Show Extract"
+#~ msgstr "Mostrar extracto"
+
+#~ msgid "Group By"
+#~ msgstr "Agrupar Por"
+
+#~ msgid "Clear List"
+#~ msgstr "Limpar Lista"
+
+#~ msgid "Vie_w"
+#~ msgstr "M_ostrar"
+
+#~ msgid "View Cache"
+#~ msgstr "Ver Cache"
+
+#~ msgid "_Index"
+#~ msgstr "?nd_ice"
+
+#~ msgid "View"
+#~ msgstr "Visualizar"
+
+#~ msgid "_About"
+#~ msgstr "_Sobre"
+
+#~ msgid "_Session"
+#~ msgstr "_Sess?o"
+
+#~ msgid "_Results"
+#~ msgstr "_Resultados"
+
+#~ msgid "General"
+#~ msgstr "Geral"
+
+#~ msgid "Preferences"
+#~ msgstr "Prefer?ncias"
+
 #~ msgid "Extract"
 #~ msgstr "Extrair"

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2009-01-10 16:16:14 UTC (rev 1474)
+++ trunk/po/pt_BR.po	2009-01-11 04:46:19 UTC (rev 1475)
@@ -4,48 +4,49 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.88\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
-"PO-Revision-Date: 2008-09-15 16:27+0000\n"
-"Last-Translator: Andr? Gondim <andregondim at ubuntu.com>\n"
+"POT-Creation-Date: 2009-01-11 00:47+0800\n"
+"PO-Revision-Date: 2009-01-10 23:12+0000\n"
+"Last-Translator: Henrique P. Machado <zehrique at gmail.com>\n"
 "Language-Team: Portuguese (Brazil) <pt_BR at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2009-01-11 04:36+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "Mecanismos de Pesquisa"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
 msgstr "Usu?rio atual"
 
-#. Enable these menu items unless it is not the documents index
+#. Apply this label
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
+#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
+#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
+#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
+#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1069
 msgid "My Web Pages"
 msgstr "Minhas P?ginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
+#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
+#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
+#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
+#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1079
 msgid "My Documents"
 msgstr "Meus Documentos"
 
@@ -55,7 +56,7 @@
 
 #: UI/GTK2/src/indexDialog.cc:124
 msgid "Local"
-msgstr ""
+msgstr "Local"
 
 #: UI/GTK2/src/indexDialog.cc:286
 msgid "Index location"
@@ -69,7 +70,7 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "Tipo:"
 
@@ -77,11 +78,11 @@
 msgid "Location:"
 msgstr "Localiza??o:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
 msgstr "Porta:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr "Endere?o:"
 
@@ -91,8 +92,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "Nenhum"
 
@@ -105,7 +106,7 @@
 msgid "Apply label:"
 msgstr "Aplicar t?tulo:"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "Importar URL"
 
@@ -117,7 +118,7 @@
 msgid "Show Next"
 msgstr "Mostrar pr?ximo"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
 msgstr "Todos"
 
@@ -126,6 +127,8 @@
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
 msgstr ""
+"Existe uma aplica??o de ajuda para este tipo de documento.\n"
+"Por favor digite o comando para abrir este documento."
 
 #: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
@@ -133,599 +136,584 @@
 
 #: UI/GTK2/src/launcherDialog_glade.cc:98
 msgid "Helper application"
-msgstr ""
+msgstr "Aplica??o de ajuda"
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
 msgstr "?ltimo executado"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "Resumo"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "Mostrar todos mecanimos de pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
-msgstr ""
+msgstr "Achar documentos que combinam com a string consultada"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
-msgstr ""
+msgstr "Adicionar ao ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
-msgstr ""
+msgstr "Remover o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
-msgstr ""
+msgstr "Adicionar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
-msgstr ""
+msgstr "Remover a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
-msgstr ""
+msgstr "Mostrar resultados pr?vios da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
-msgstr ""
+msgstr "Achar documentos que combinam com a consulta"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
-msgstr ""
+msgstr "Atualizando todos os documentos eem Minha p?gina ? recomendado"
 
-#: UI/GTK2/src/mainWindow.cc:266
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
-msgstr ""
+msgstr "N?o me avise novamente"
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "Atualizar"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:363
 msgid "Undefined"
-msgstr ""
+msgstr "N?o definido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
 msgid "Live query"
 msgstr "Query ativa"
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "Local resultante ?"
-
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:880
 msgid "Document location is"
 msgstr "Localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "N?o foi poss?vel encontrar consulta"
+#: UI/GTK2/src/mainWindow.cc:1099
+msgid "Couldn't search in results"
+msgstr "N?o foi poss?vel pesquisar nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1110
 msgid "In Results"
-msgstr ""
+msgstr "Nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "Showing"
 msgstr "Exibindo"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1294
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr "documentos, come?am no"
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "Query"
 msgstr "Consulta"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
 msgid "on"
 msgstr "no"
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1344
 msgid "ended"
 msgstr "finalizada"
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr "Corrigido"
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1499
 msgid "More Like"
 msgstr "Mais pr?xima"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1566
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
 msgid "Updated document"
 msgstr "Documento atualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1672
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1708
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexidado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:3134
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1819
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1832
 msgid "Edited index"
 msgstr "?ndice editado"
 
 #: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
-msgstr ""
+msgid "Export"
+msgstr "Exportar"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2185
+msgid "Couldn't find similar documents"
+msgstr "N?o foi poss?vel achar documentos similares"
+
+#: UI/GTK2/src/mainWindow.cc:2429
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2433
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2501
 msgid "Remove this document from the index ?"
 msgstr "Remover documento do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2520
 msgid "Remove these documents from the index ?"
 msgstr "Remover documentos do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2564
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca gr?tis para Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2565
 msgid "Search the Web and your documents !"
 msgstr "Procurar a Rede e seus documentos!"
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2610
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2625
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2641
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2676
 msgid "Couldn't remove index"
 msgstr "N?o foi poss?vel remover ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2868
+#: UI/GTK2/src/mainWindow.cc:2876
 msgid "No history for"
 msgstr "Nenhum hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa n?o terminou ainda. Sair assim mesmo?"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
 msgid "Quit"
 msgstr "Sair"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3157
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel atualizar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3168
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3175
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3183
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3217
 msgid "Query is not set"
 msgstr "Consulta n?o foi atualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3228
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa selecionado"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3315
 msgid "Please set the Google API key first"
 msgstr "Primeiro informe a tecla para Google API"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3324
 msgid "Running query"
 msgstr "Executando consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3533
 msgid "No default application defined for type"
 msgstr "Aplica??o associada ao tipo n?o definida"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
 msgstr "Consulta:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
-msgstr ""
+msgstr "Hist?rico"
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
 msgstr "Consultas armazenadas"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
-msgstr "Estado"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+msgid "Open Cache"
+msgstr "Abrir cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "Mecanismo de pesquisa"
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr "Abrir diret?rio acima"
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "Nome do host"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+msgid "_Add To Index"
+msgstr "_Adicionar ao ?ndice"
 
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "Mostrar extrato"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "Agrupar por"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "Limpar lista"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "Exibir"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "Exibir cache"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
 msgstr "Mais como este"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
-msgstr ""
+msgstr "Pesquisar isto para"
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "_?ndice"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "Mecanismo de pesquisa"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "Nome do host"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
 msgstr "Mostrar conte?do de"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "Visualizar"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+msgid "Group Results By"
+msgstr "Resultado de grupo por"
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "Propriedades"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+msgid "Show Extracts"
+msgstr "Mostrar extra?dos"
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "_Sobre"
+#: UI/GTK2/src/mainWindow_glade.cc:243
+msgid "Export List"
+msgstr "Exportar lista"
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "_Sess?o"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "Estado"
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+msgid "_File"
+msgstr "_Arquivo"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "_Editar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "_Resultados"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr "_Op??es"
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "_Ajuda"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pino"
 
-#: UI/GTK2/src/Notebook.cpp:146
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr "Voc? quis dizer ?"
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
-msgstr ""
+msgstr "Fechar"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr "Desconhecido"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "Danish"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "Dutch"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "English"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "Terminar"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "French"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "German"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "Italiano"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "Noruegu?s"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr "Romeno"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "Russian"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "Spanish"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr "Swedish"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr "Turco"
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "N?o foi poss?vel abrir ?ndice"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "N?o foi poss?vel criar base de hist?rico"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:430
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:431
 msgid "New"
 msgstr "Novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:432
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:454
 msgid "Me"
 msgstr "Eu"
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:462
 msgid "Latest First"
-msgstr ""
+msgstr "Primeiro dos ?ltimos"
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:465
 msgid "Home Stuff"
-msgstr ""
+msgstr "Coisas do Usu?rio"
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "With Label New"
-msgstr ""
+msgstr "Com r?tulo novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Have CJKV"
-msgstr ""
+msgstr "Tem CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:468
 msgid "In English"
-msgstr ""
+msgstr "Em ingl?s"
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "10kb And Smaller"
-msgstr ""
+msgstr "1kb e menor"
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:514
 msgid "Unclassified"
 msgstr "N?o classificado"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:205
 msgid "Name"
 msgstr "Nome"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:223
 msgid "Monitor"
 msgstr "Monitor"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:224
 msgid "Location"
 msgstr "Localiza??o"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:232
 msgid "Pattern"
 msgstr "Conjunto"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:565
 msgid "Exclude these patterns from indexing"
-msgstr ""
+msgstr "Excluir esses padr?es da indexa??o"
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:566
 msgid "Only index these patterns"
-msgstr ""
+msgstr "Indexar somente esses padr?es"
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:765
+msgid "Directory to index"
+msgstr "Diret?rio do ?ndice"
+
+#: UI/GTK2/src/prefsWindow.cc:905
 msgid "New Label"
 msgstr "Novo t?tulo"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "Diret?rio do ?ndice"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
+msgstr ""
+"Estes diret?rios ter?o ?ndices e ter?o suas mudan?as opcionalmente "
+"monitoradas:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "Tecla para Google API:"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "Adicionar"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "Novos resultados:"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr "Padr?es de arquivos:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "Consultas:"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr "Redefinir"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "Habilitar sugest?o de termos"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "Indexando"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "Ignorar robots.txt e Robots META tag"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr "R?tulos s?o usados para classificar documentos com ?ndice:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "Remover"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "Geral"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "T?tulos"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr "Conec??o direta com a Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr "Manual de configura??o do proxy"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr "Rede"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "Tecla para Google API:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "Adicionar"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "Consultas:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "Remover"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "Habilitar sugest?o de termos"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "T?tulos"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "Ignorar robots.txt e Robots META tag"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "Rastreamento HTTP:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "Novos resultados:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
+msgstr "Diversos"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "Indexando"
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+msgid "Pinot Preferences"
+msgstr "Prefer?ncias do Pinot"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
-msgstr "Prefer?ncias"
-
 #: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Por documento"
 
 #: UI/GTK2/src/propertiesDialog.cc:365
 msgid "Export Terms"
-msgstr ""
+msgstr "Termos de exporta??o"
 
 #: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
@@ -747,6 +735,10 @@
 msgid "bytes"
 msgstr "bytes"
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "Propriedades"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Nome do host"
@@ -760,12 +752,12 @@
 msgstr "Extens?o do arquivo"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "T?tulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
 msgstr "URL"
 
@@ -774,46 +766,50 @@
 msgstr "Diret?rio"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr "Caminho"
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
 msgstr "C?digo da l?ngua"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "Tipo MIME"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
 msgstr "classe MIME"
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
 msgstr "T?tulo"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
-msgstr ""
+msgstr "Data"
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
-msgstr ""
+msgstr "Hora"
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
 msgstr "Tamanho"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
-msgstr ""
+msgstr "Por relev?ncia"
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
-msgstr ""
+msgstr "Por data"
 
 #: UI/GTK2/src/queryDialog_glade.cc:71
 msgid "New filter or range:"
-msgstr ""
+msgstr "Novo filtro ou intervalo:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
@@ -821,7 +817,7 @@
 
 #: UI/GTK2/src/queryDialog_glade.cc:82
 msgid "Index results with label"
-msgstr ""
+msgstr "Resultados de ?ndices com r?tulo"
 
 #: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
@@ -833,166 +829,224 @@
 
 #: UI/GTK2/src/queryDialog_glade.cc:93
 msgid "Stemming:"
-msgstr ""
+msgstr "Derivado:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:94
 msgid "Only index new results"
-msgstr ""
+msgstr "Apenas ?ndice com resultados"
 
 #: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Par?metros da consulta"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "Pontua??o"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1552
+msgid "No results"
+msgstr "Nenhum resultado"
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
-msgstr ""
+msgstr "?ndices"
 
-#: UI/GTK2/src/statisticsDialog.cc:117
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:187 UI/GTK2/src/statisticsDialog.cc:190
+#: UI/GTK2/src/statisticsDialog.cc:198
+msgid "Checking"
+msgstr "Verificando"
+
+#: UI/GTK2/src/statisticsDialog.cc:195
 msgid "Daemon"
-msgstr ""
+msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
+#: UI/GTK2/src/statisticsDialog.cc:222 UI/GTK2/src/statisticsDialog.cc:238
 msgid "documents"
-msgstr ""
+msgstr "documentos"
 
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/statisticsDialog.cc:228 UI/GTK2/src/statisticsDialog.cc:246
+#: UI/GTK2/src/WorkerThreads.cpp:125
 msgid "Unknown error"
 msgstr "Erro desconhecido"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:253
 msgid "Viewed"
-msgstr ""
+msgstr "Visto"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:253
 msgid "results"
-msgstr ""
+msgstr "resultados"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:259
 msgid "Crawled"
-msgstr ""
+msgstr "Rastreado"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:259
 msgid "files"
 msgstr "arquivos"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:277
 msgid "Running under PID"
-msgstr ""
+msgstr "Executando com PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:297
 msgid "Disconnected from D-Bus"
-msgstr ""
+msgstr "Desconectado do D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:301
 msgid "Stopped"
-msgstr ""
+msgstr "Parado"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:305
 msgid "Currently not running"
 msgstr "N?o executando atualmente"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:319
 msgid "Low disk space"
-msgstr ""
+msgstr "Pouco espa?o em disco"
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:336
 msgid "System on battery"
-msgstr ""
+msgstr "Sistema na bateria"
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:354
 msgid "Crawling"
-msgstr ""
+msgstr "Rastreando"
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:391
 msgid "Errors"
 msgstr "Erros"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
-msgstr ""
+msgstr "Erro no ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
-msgstr ""
+msgstr "N?o foi poss?vel indexar documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "N?o foi poss?vel atualizar documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
 msgstr "N?o foi poss?vel executar consulta no mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
-msgstr ""
+msgstr "N?o foi poss?vel pegar hist?rico para mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
-msgstr ""
+msgstr "N?o foi poss?vel obter documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
 msgstr "Monitor de erros de arquivo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
 msgstr "N?o foi poss?vel abrir diret?rio"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
-msgstr ""
+msgstr "?ndice n?o existe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "N?o foi poss?vel criar mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
 msgstr "Imposs?vel indexar tipo de arquivo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
-msgstr ""
+msgstr "N?o h? programa para baixar este protocolo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META tag n?o s?o permitidos no ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
 msgstr "Nenhum manipulador de monitoramento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
 msgstr "?ndice foi parado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "N?o foi poss?vel indexar mail aqui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "j? est? sendo indexado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1032
 msgid "No title"
 msgstr "Sem t?tulo"
 
+#~ msgid "Result location is"
+#~ msgstr "Local resultante ?"
+
+#~ msgid "documents, starting at"
+#~ msgstr "documentos, come?am no"
+
+#~ msgid "Couldn't find query"
+#~ msgstr "N?o foi poss?vel encontrar consulta"
+
+#~ msgid "Show Extract"
+#~ msgstr "Mostrar extrato"
+
+#~ msgid "Group By"
+#~ msgstr "Agrupar por"
+
+#~ msgid "Clear List"
+#~ msgstr "Limpar lista"
+
+#~ msgid "Vie_w"
+#~ msgstr "Exibir"
+
+#~ msgid "View Cache"
+#~ msgstr "Exibir cache"
+
+#~ msgid "_Index"
+#~ msgstr "_?ndice"
+
+#~ msgid "View"
+#~ msgstr "Visualizar"
+
+#~ msgid "_About"
+#~ msgstr "_Sobre"
+
+#~ msgid "_Session"
+#~ msgstr "_Sess?o"
+
+#~ msgid "_Results"
+#~ msgstr "_Resultados"
+
+#~ msgid "General"
+#~ msgstr "Geral"
+
+#~ msgid "Preferences"
+#~ msgstr "Prefer?ncias"
+
 #~ msgid "Extract"
 #~ msgstr "Extrair"
+
+#~ msgid "Corrected"
+#~ msgstr "Corrigido"

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2009-01-10 16:16:14 UTC (rev 1474)
+++ trunk/po/sv.po	2009-01-11 04:46:19 UTC (rev 1475)
@@ -5,48 +5,49 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.88\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
-"PO-Revision-Date: 2008-09-13 09:35+0000\n"
+"POT-Creation-Date: 2009-01-11 00:47+0800\n"
+"PO-Revision-Date: 2009-01-10 19:04+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2009-01-11 04:36+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "S?kmotorer"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
 msgstr "Aktuell anv?ndare"
 
-#. Enable these menu items unless it is not the documents index
+#. Apply this label
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
+#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
+#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
+#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
+#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1069
 msgid "My Web Pages"
 msgstr "Mina webbsidor"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
+#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
+#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
+#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
+#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1079
 msgid "My Documents"
 msgstr "Mina dokument"
 
@@ -70,7 +71,7 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "Typ:"
 
@@ -78,11 +79,11 @@
 msgid "Location:"
 msgstr "Plats:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
 msgstr "Port:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr "Adress:"
 
@@ -92,8 +93,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "Ingen"
 
@@ -106,7 +107,7 @@
 msgid "Apply label:"
 msgstr "L?gg p? etikett:"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "Importera url"
 
@@ -118,7 +119,7 @@
 msgid "Show Next"
 msgstr "Visa n?sta"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
 msgstr "Alla"
 
@@ -138,592 +139,575 @@
 msgid "Helper application"
 msgstr "Hj?lpprogram"
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "Fr?genamn"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
 msgstr "Senaste k?rning"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "Sammandrag"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "Visa alla s?kmotorer"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
 msgstr "S?k dokument som matchar fr?gestr?ngen"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
 msgstr "L?gg till ett index"
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
 msgstr "Ta bort ett index"
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
 msgstr "L?gg till en ny fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
 msgstr "Ta bort en fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
 msgstr "Visa fr?gans tidigare resultat"
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
 msgstr "S?k dokument som matchar fr?gan"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "Redo"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "Uppdatering av alla dokument i Mina webbsidor rekommenderas"
 
-#: UI/GTK2/src/mainWindow.cc:266
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
 msgstr "Varna mig inte om detta igen"
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "Uppdatera"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr "-"
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:363
 msgid "Undefined"
 msgstr "Odefinierad"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
 msgid "Live query"
 msgstr "Levande fr?ga"
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "Resultatplatsen ?r"
-
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:880
 msgid "Document location is"
 msgstr "Dokumentplatsen ?r"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "Kunde inte hitta fr?ga"
+#: UI/GTK2/src/mainWindow.cc:1099
+msgid "Couldn't search in results"
+msgstr "Kunde inte s?ka i resultat"
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1110
 msgid "In Results"
 msgstr "I resultat"
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "Showing"
 msgstr "Visar"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1294
 msgid "of"
 msgstr "av"
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr "dokument, b?rjar med"
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "Query"
 msgstr "Fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
 msgid "on"
 msgstr "p?"
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1344
 msgid "ended"
 msgstr "slutade"
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr "R?ttad"
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1499
 msgid "More Like"
 msgstr "Kanske mer som"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1566
 msgid "Updated label(s)"
 msgstr "Uppdaterade etikett(er)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
 msgid "Updated document"
 msgstr "Uppdaterade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1672
 msgid "Indexed"
 msgstr "Indexerade"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1708
 msgid "Unindexed document(s)"
 msgstr "Ej indexerade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index, name"
 msgstr "Kunde inte byta namn p? index, namn"
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:3134
 msgid "is already in use"
 msgstr "anv?nds redan"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1819
 msgid "Couldn't rename index"
 msgstr "Kunde inte byta namn p? index"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1832
 msgid "Edited index"
 msgstr "Redigerade index"
 
 #: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
-msgstr "Exportera resultat"
+msgid "Export"
+msgstr "Exportera"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2185
+msgid "Couldn't find similar documents"
+msgstr "Kunde inte hitta liknande dokument"
+
+#: UI/GTK2/src/mainWindow.cc:2429
 msgid "Index"
 msgstr "Index"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2433
 msgid "doesn't exist"
 msgstr "finns inte"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2501
 msgid "Remove this document from the index ?"
 msgstr "Ta bort detta dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2520
 msgid "Remove these documents from the index ?"
 msgstr "Ta bort dessa dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Avindexera"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2564
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Ett metas?kningsverktyg f?r Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2565
 msgid "Search the Web and your documents !"
 msgstr "S?k p? webben och i dina dokument!"
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2610
 msgid "Index name"
 msgstr "Indexnamn"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2625
 msgid "Couldn't add index"
 msgstr "Kunde inte l?gga till index"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2641
 msgid "Added new index"
 msgstr "Lade till nytt index"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2676
 msgid "Couldn't remove index"
 msgstr "Kunde inte ta bort index"
 
-#: UI/GTK2/src/mainWindow.cc:2868
+#: UI/GTK2/src/mainWindow.cc:2876
 msgid "No history for"
 msgstr "Ingen historik f?r"
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?tminstone en uppgift har inte f?rdigst?llts ?n. Avsluta nu?"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
 msgid "Quit"
 msgstr "Avsluta"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "Query name"
 msgstr "Fr?genamn"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3157
 msgid "Couldn't update query"
 msgstr "Kunde inte uppdatera fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3168
 msgid "Edited query"
 msgstr "Redigerade fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3175
 msgid "Couldn't add query"
 msgstr "Kunde inte l?gga till fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3183
 msgid "Added new query"
 msgstr "Lade till ny fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3217
 msgid "Query is not set"
 msgstr "Fr?gan ?r inte inst?lld"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3228
 msgid "No search engine selected"
 msgstr "Ingen s?kmotor vald"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3315
 msgid "Please set the Google API key first"
 msgstr "St?ll in Google API-nyckeln f?rst"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3324
 msgid "Running query"
 msgstr "K?r fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3533
 msgid "No default application defined for type"
 msgstr "Inget standardprogram definierat f?r typen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
 msgstr "Fr?ga:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
 msgstr "Historik"
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
 msgstr "Lagrade fr?gor"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
-msgstr "Status"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+msgid "Open Cache"
+msgstr "?ppna cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "S?kmotor"
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr "?ppna f?r?lder"
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "V?rdnamn"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+msgid "_Add To Index"
+msgstr "_L?gg till i index"
 
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "Visa utdrag"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "Gruppera efter"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "T?m lista"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "Vi_sa"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "Visa cache"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
 msgstr "Mer som det h?r"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
 msgstr "S?k i denna efter"
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "_Index"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "S?kmotor"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "V?rdnamn"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
 msgstr "Lista inneh?ll f?r"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "Visa"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+msgid "Group Results By"
+msgstr "Gruppera resultat efter"
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "Egenskaper"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+msgid "Show Extracts"
+msgstr "Visa utdrag"
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "_Om"
+#: UI/GTK2/src/mainWindow_glade.cc:243
+msgid "Export List"
+msgstr "Exportera lista"
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "_Session"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "Status"
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+msgid "_File"
+msgstr "_Arkiv"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "R_edigera"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "_Resultat"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr "A_lternativ"
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "_Hj?lp"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pinot"
 
-#: UI/GTK2/src/Notebook.cpp:146
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr "Menade du?"
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
 msgstr "St?ng"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr "Ok?nd"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "Danska"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "Nederl?ndska"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "Engelska"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "Finska"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "Franska"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "Tyska"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr "Ungerska"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "Italienska"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "Norska"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "Portugisiska"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr "Rum?nska"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "Ryska"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "Spanska"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr "Svenska"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr "Turkiska"
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "Kunde inte ?ppna index"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "Kunde inte skapa historikdatabas"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:430
 msgid "Important"
 msgstr "Viktigt"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:431
 msgid "New"
 msgstr "Ny"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:432
 msgid "Personal"
 msgstr "Personlig"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:454
 msgid "Me"
 msgstr "Jag"
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:462
 msgid "Latest First"
 msgstr "Senaste f?rst"
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:465
 msgid "Home Stuff"
 msgstr "Personliga saker"
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "With Label New"
 msgstr "Med etiketten Ny"
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Have CJKV"
 msgstr "Har CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:468
 msgid "In English"
 msgstr "P? engelska"
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "10kb And Smaller"
 msgstr "10kb och mindre"
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:514
 msgid "Unclassified"
 msgstr "Oklassificerad"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:205
 msgid "Name"
 msgstr "Namn"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:223
 msgid "Monitor"
 msgstr "?vervaka"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:224
 msgid "Location"
 msgstr "Plats"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:232
 msgid "Pattern"
 msgstr "M?nster"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:565
 msgid "Exclude these patterns from indexing"
 msgstr "Undanta dessa m?nster fr?n indexering"
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:566
 msgid "Only index these patterns"
 msgstr "Indexera endast dessa m?nster"
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:765
+msgid "Directory to index"
+msgstr "Katalog f?r index"
+
+#: UI/GTK2/src/prefsWindow.cc:905
 msgid "New Label"
 msgstr "Ny etikett"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "Katalog f?r index"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid ""
+"These directories will be indexed and optionally monitored for changes:"
+msgstr ""
+"Dessa kataloger kommer att bli indexerade och ?vervakade f?r ?ndringar "
+"(valfritt):"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "Google API-nyckel:"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "L?gg till"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "Nya resultat:"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr "Film?nster:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "Fr?gor:"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr "?terst?ll"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "Aktivera s?kf?rslag"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "Indexering"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "Ignorera robots.txt och Robots META-tagg"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr "Etiketter som anv?nds f?r att klassificera indexerade dokument:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr "HTTP-insamling:"
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "Ta bort"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "Allm?nt"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "Etiketter"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr "Direkt anslutning till Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr "Manuell proxykonfiguration:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr "N?tverk"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr "Etiketter som anv?nds f?r att klassificera indexerade dokument:"
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "Google API-nyckel:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "L?gg till"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "Fr?gor:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "Ta bort"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "Aktivera s?kf?rslag"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "Etiketter"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "Ignorera robots.txt och Robots META-tagg"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr ""
-"Dessa kataloger kommer att bli indexerade och ?vervakade f?r ?ndringar "
-"(valfritt):"
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "HTTP-insamling:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr "Film?nster:"
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "Nya resultat:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
-msgstr "?terst?ll"
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
+msgstr "Diverse"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "Indexering"
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+msgid "Pinot Preferences"
+msgstr "Inst?llningar f?r Pinot"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
-msgstr "Inst?llningar"
-
 #: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Per dokument"
@@ -752,6 +736,10 @@
 msgid "bytes"
 msgstr "byte"
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "Egenskaper"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "V?rdnamn"
@@ -765,12 +753,12 @@
 msgstr "Fil?ndelse"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "Titel"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
 msgstr "Url"
 
@@ -779,40 +767,44 @@
 msgstr "Katalog"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr "S?kv?g"
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
 msgstr "Spr?kkod"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "MIME-typ"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
 msgstr "MIME-klass"
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
 msgstr "Etikett"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
 msgstr "Datum"
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
 msgstr "Tid"
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
 msgstr "Storlek"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
 msgstr "Efter relevans"
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
 msgstr "Efter datum"
 
@@ -849,155 +841,216 @@
 msgstr "Fr?geparametrar"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "Betyg"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1552
+msgid "No results"
+msgstr "Inga tr?ffar"
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
 msgstr "Index"
 
-#: UI/GTK2/src/statisticsDialog.cc:117
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:187 UI/GTK2/src/statisticsDialog.cc:190
+#: UI/GTK2/src/statisticsDialog.cc:198
+msgid "Checking"
+msgstr "Kontrollerar"
+
+#: UI/GTK2/src/statisticsDialog.cc:195
 msgid "Daemon"
 msgstr "Demon"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
+#: UI/GTK2/src/statisticsDialog.cc:222 UI/GTK2/src/statisticsDialog.cc:238
 msgid "documents"
 msgstr "dokument"
 
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/statisticsDialog.cc:228 UI/GTK2/src/statisticsDialog.cc:246
+#: UI/GTK2/src/WorkerThreads.cpp:125
 msgid "Unknown error"
 msgstr "Ok?nt fel"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:253
 msgid "Viewed"
 msgstr "Visad"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:253
 msgid "results"
 msgstr "resultat"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:259
 msgid "Crawled"
 msgstr "Insamlad"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:259
 msgid "files"
 msgstr "filer"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:277
 msgid "Running under PID"
 msgstr "K?r under PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:297
 msgid "Disconnected from D-Bus"
 msgstr "Koppla fr?n D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:301
 msgid "Stopped"
 msgstr "Stoppad"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:305
 msgid "Currently not running"
 msgstr "K?r f?r tillf?llet inte"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:319
 msgid "Low disk space"
 msgstr "Lite diskutrymme kvar"
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:336
 msgid "System on battery"
 msgstr "Systemet p? batteridrift"
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:354
 msgid "Crawling"
 msgstr "Insamling"
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:391
 msgid "Errors"
 msgstr "Fel"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
 msgstr "Indexfel"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
 msgstr "Kunde inte indexera dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "Kunde inte uppdatera dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "Kunde inte avindexera dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
 msgstr "Kunde inte k?ra fr?ga p? s?kmotor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
 msgstr "Kunde inte h?mta historik f?r s?kmotor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
 msgstr "Kunde inte h?mta dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
 msgstr "Fel i fil?vervakare"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
 msgstr "Kunde inte ?ppna katalog"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
 msgstr "Indexet finns inte"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "Kunde inte skapa s?kmotor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
 msgstr "Kan inte indexera dokumenttyp"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
 msgstr "Ingen h?mtare f?r detta protokoll"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META-tagg f?rbjuder indexering"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
 msgstr "Ingen ?vervakningshanterare"
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
 msgstr "Indexeringen stoppades"
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "Kan inte indexera post h?r"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "h?ller redan p? att bli indexerad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
 msgstr "?r svartlistad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1032
 msgid "No title"
 msgstr "Ingen titel"
 
+#~ msgid "Result location is"
+#~ msgstr "Resultatplatsen ?r"
+
+#~ msgid "documents, starting at"
+#~ msgstr "dokument, b?rjar med"
+
+#~ msgid "Couldn't find query"
+#~ msgstr "Kunde inte hitta fr?ga"
+
+#~ msgid "Show Extract"
+#~ msgstr "Visa utdrag"
+
+#~ msgid "Group By"
+#~ msgstr "Gruppera efter"
+
+#~ msgid "Clear List"
+#~ msgstr "T?m lista"
+
+#~ msgid "Vie_w"
+#~ msgstr "Vi_sa"
+
+#~ msgid "View Cache"
+#~ msgstr "Visa cache"
+
+#~ msgid "_Index"
+#~ msgstr "_Index"
+
+#~ msgid "View"
+#~ msgstr "Visa"
+
+#~ msgid "_About"
+#~ msgstr "_Om"
+
+#~ msgid "_Session"
+#~ msgstr "_Session"
+
+#~ msgid "_Results"
+#~ msgstr "_Resultat"
+
+#~ msgid "General"
+#~ msgstr "Allm?nt"
+
+#~ msgid "Preferences"
+#~ msgstr "Inst?llningar"
+
 #~ msgid "Extract"
 #~ msgstr "Utdrag"
+
+#~ msgid "Export Results"
+#~ msgstr "Exportera resultat"
+
+#~ msgid "Corrected"
+#~ msgstr "R?ttad"



From fabricecolin at mail.berlios.de  Sun Jan 11 05:51:59 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 11 Jan 2009 05:51:59 +0100
Subject: [Pinot-svn] r1476 - trunk/scripts/bash
Message-ID: <200901110451.n0B4pxqP014756@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-11 05:51:52 +0100 (Sun, 11 Jan 2009)
New Revision: 1476

Modified:
   trunk/scripts/bash/pinot-cd.sh
Log:
Minor changes.


Modified: trunk/scripts/bash/pinot-cd.sh
===================================================================
--- trunk/scripts/bash/pinot-cd.sh	2009-01-11 04:46:19 UTC (rev 1475)
+++ trunk/scripts/bash/pinot-cd.sh	2009-01-11 04:51:52 UTC (rev 1476)
@@ -5,7 +5,7 @@
 
 MISSING_PROGRAM=1
 MISSING_INDEX=1
-FOUND_MATCH=0
+MATCHES_COUNT=0
 
 # Check programs we need are available
 checkprograms()
@@ -63,16 +63,16 @@
   pinot-search -l xapian "$HOME/.pinot/daemon" "type:x-directory/normal $1" 2>/dev/null | grep "file://" | sed -e "s/file:\/\/\(.*\)/\1/g" >$TEMP_FILE 2>/dev/null
 
   local RESULTS=`cat $TEMP_FILE`
-  local RESULTS_COUNT=`cat $TEMP_FILE|wc -l`
+  MATCHES_COUNT=`cat $TEMP_FILE|wc -l`
 
-  if [ $RESULTS_COUNT -eq 1 ]; then
-    FOUND_MATCH=1
+  if [ $MATCHES_COUNT -eq 1 ]; then
     echo $RESULTS
     cd "$RESULTS"
-  elif [ $RESULTS_COUNT -gt 1 ]; then
-    FOUND_MATCH=1
+  elif [ $MATCHES_COUNT -gt 1 ] && [ $2 -eq 1 ]; then
     echo "Matches for \"$1\":"
     cat $TEMP_FILE
+  elif [ $MATCHES_COUNT -eq 0 ] && [ $2 -eq 1 ]; then
+    echo "No match"
   fi
   \rm -f $TEMP_FILE >/dev/null 2>&1
 }
@@ -97,13 +97,10 @@
   # Assume the last path is the name of the final directory
   PATHS_AND_FILE_STRING=`echo $ARGS | sed -e "s/path:$LAST_ARG/file:$LAST_ARG/g"`
 
-  runsearch "$PATHS_AND_FILE_STRING"
-  if [ $FOUND_MATCH -eq 0 ]; then
+  runsearch "$PATHS_AND_FILE_STRING" 1
+  if [ $MATCHES_COUNT -eq 0 ]; then
     # That assumption doesn't seem correct
-    runsearch "$PATHS_ONLY_STRING"
-    if [ $FOUND_MATCH -eq 0 ]; then
-      echo "No match"
-    fi
+    runsearch "$PATHS_ONLY_STRING" 1
   fi
 }
 



From fabricecolin at mail.berlios.de  Sun Jan 11 06:04:32 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 11 Jan 2009 06:04:32 +0100
Subject: [Pinot-svn] r1477 - trunk/UI/GTK2/src
Message-ID: <200901110504.n0B54WtT019681@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-11 06:04:27 +0100 (Sun, 11 Jan 2009)
New Revision: 1477

Modified:
   trunk/UI/GTK2/src/ServerThreads.cpp
   trunk/UI/GTK2/src/ServerThreads.h
Log:
Partially reverted revision 1391. Indexing is delegated to other threads by
default so that the crawler is not at the mercy of a bad external filter.
The possibility of doing it inline is left in and may be useful to pinot-index
once it's made to use the same worker threads as the daemon and the UI.


Modified: trunk/UI/GTK2/src/ServerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-11 04:51:52 UTC (rev 1476)
+++ trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-11 05:04:27 UTC (rev 1477)
@@ -123,7 +123,7 @@
 DirectoryScannerThread::DirectoryScannerThread(const string &dirName, bool isSource,
 	bool fullScan, bool isReindex,
 	MonitorInterface *pMonitor, MonitorHandler *pHandler,
-	unsigned int maxLevel, bool followSymLinks) :
+	unsigned int maxLevel, bool inlineIndexing, bool followSymLinks) :
 	IndexingThread(),
 	m_dirName(dirName),
 	m_fullScan(fullScan),
@@ -133,18 +133,9 @@
 	m_sourceId(0),
 	m_currentLevel(0),
 	m_maxLevel(maxLevel),
-	m_followSymLinks(followSymLinks),
-	m_delegateIndexing(false)
+	m_inlineIndexing(inlineIndexing),
+	m_followSymLinks(followSymLinks)
 {
-	// This is not set in the configuration file
-	char *pEnvVar = getenv("PINOT_DELEGATE_INDEXING");
-	if ((pEnvVar != NULL) &&
-		(strlen(pEnvVar) > 0) &&
-		(strncasecmp(pEnvVar, "Y", 1) == 0))
-	{
-		m_delegateIndexing = true;
-	}
-
 	if (m_dirName.empty() == false)
 	{
 		CrawlHistory crawlHistory(PinotSettings::getInstance().getHistoryDatabaseName());
@@ -252,7 +243,7 @@
 		return;
 	}
 
-	if (m_delegateIndexing == false)
+	if (m_inlineIndexing == true)
 	{
 		// Reset base class members
 		m_docInfo = docInfo;

Modified: trunk/UI/GTK2/src/ServerThreads.h
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.h	2009-01-11 04:51:52 UTC (rev 1476)
+++ trunk/UI/GTK2/src/ServerThreads.h	2009-01-11 05:04:27 UTC (rev 1477)
@@ -39,7 +39,8 @@
 		DirectoryScannerThread(const std::string &dirName, bool isSource,
 			bool fullScan, bool isReindex,
 			MonitorInterface *pMonitor, MonitorHandler *pHandler,
-			unsigned int maxLevel = 0, bool followSymLinks = true);
+			unsigned int maxLevel = 0, bool inlineIndexing = false,
+			bool followSymLinks = true);
 		virtual ~DirectoryScannerThread();
 
 		virtual std::string getType(void) const;
@@ -59,8 +60,8 @@
 		unsigned int m_sourceId;
 		unsigned int m_currentLevel;
 		unsigned int m_maxLevel;
+		bool m_inlineIndexing;
 		bool m_followSymLinks;
-		bool m_delegateIndexing;
 		sigc::signal2<void, DocumentInfo, bool> m_signalFileFound;
 		std::map<std::string, time_t> m_updateCache;
 		std::stack<std::string> m_currentLinks;



From fabricecolin at mail.berlios.de  Sun Jan 11 06:20:21 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 11 Jan 2009 06:20:21 +0100
Subject: [Pinot-svn] r1478 - trunk/UI/GTK2/src
Message-ID: <200901110520.n0B5KLxn021425@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-11 06:20:13 +0100 (Sun, 11 Jan 2009)
New Revision: 1478

Modified:
   trunk/UI/GTK2/src/statisticsDialog.cc
   trunk/UI/GTK2/src/statisticsDialog.hh
Log:
Fixed get/getting stats flags.
The numbers of viewed and crawled items can be had right away without waiting
for the timer to kick in.


Modified: trunk/UI/GTK2/src/statisticsDialog.cc
===================================================================
--- trunk/UI/GTK2/src/statisticsDialog.cc	2009-01-11 05:04:27 UTC (rev 1477)
+++ trunk/UI/GTK2/src/statisticsDialog.cc	2009-01-11 05:20:13 UTC (rev 1478)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -184,10 +184,9 @@
 	row[m_statsColumns.m_name] = _("History");
 	m_viewStatIter = m_refStore->append(folderIter->children());
 	row = *m_viewStatIter;
-	row[m_statsColumns.m_name] = ustring(_("Checking"));
 	m_crawledStatIter = m_refStore->append(folderIter->children());
 	row = *m_crawledStatIter;
-	row[m_statsColumns.m_name] = ustring(_("Checking"));
+	populate_history();
 
 	// Daemon
 	m_daemonIter = m_refStore->append();
@@ -203,11 +202,29 @@
 	statisticsTreeview->collapse_row(enginesPath);
 }
 
-bool statisticsDialog::on_activity_timeout(void)
+void statisticsDialog::populate_history(void)
 {
 	CrawlHistory crawlHistory(PinotSettings::getInstance().getHistoryDatabaseName(true));
 	ViewHistory viewHistory(PinotSettings::getInstance().getHistoryDatabaseName());
 	TreeModel::Row row;
+	char countStr[64];
+
+	// Show view statistics
+	unsigned int viewCount = viewHistory.getItemsCount();
+	snprintf(countStr, 64, "%u", viewCount);
+	row = *m_viewStatIter;
+	row[m_statsColumns.m_name] = ustring(_("Viewed")) + " " + countStr + " " + _("results");
+
+	// Show crawler statistics
+	unsigned int crawledFilesCount = crawlHistory.getItemsCount(CrawlHistory::CRAWLED);
+	snprintf(countStr, 64, "%u", crawledFilesCount);
+	row = *m_crawledStatIter;
+	row[m_statsColumns.m_name] = ustring(_("Crawled")) + " " + countStr + " " + _("files");
+}
+
+bool statisticsDialog::on_activity_timeout(void)
+{
+	TreeModel::Row row;
 	std::map<unsigned int, string> sources;
 	string daemonDBusStatus;
 	char countStr[64];
@@ -246,18 +263,8 @@
 		row[m_statsColumns.m_name] = _("Unknown error");
 	}
 
-	// Show view statistics
-	unsigned int viewCount = viewHistory.getItemsCount();
-	snprintf(countStr, 64, "%u", viewCount);
-	row = *m_viewStatIter;
-	row[m_statsColumns.m_name] = ustring(_("Viewed")) + " " + countStr + " " + _("results");
+	populate_history();
 
-	// Show crawler statistics
-	unsigned int crawledFilesCount = crawlHistory.getItemsCount(CrawlHistory::CRAWLED);
-	snprintf(countStr, 64, "%u", crawledFilesCount);
-	row = *m_crawledStatIter;
-	row[m_statsColumns.m_name] = ustring(_("Crawled")) + " " + countStr + " " + _("files");
-
 	// Is the daemon still running ?
 	string pidFileName(PinotSettings::getInstance().getConfigurationDirectory() + "/pinot-dbus-daemon.pid");
 	pid_t daemonPID = 0;
@@ -280,12 +287,14 @@
 		if ((m_state.m_getStats == true) &&
 			(m_state.m_gettingStats == false))
 		{
+			m_state.m_gettingStats = true;
+
 			DaemonStatusThread *pThread = new DaemonStatusThread();
 
 			if (m_state.start_thread(pThread, false) == false)
 			{
 				delete pThread;
-				m_state.m_getStats = false;
+				m_state.m_getStats = m_state.m_gettingStats = false;
 			}
 		}
 #endif
@@ -360,6 +369,8 @@
 		m_hasCrawl = false;
 	}
 
+	CrawlHistory crawlHistory(PinotSettings::getInstance().getHistoryDatabaseName(true));
+
 	// Show errors
 	crawlHistory.getSources(sources);
 	for (std::map<unsigned int, string>::iterator sourceIter = sources.begin();
@@ -462,12 +473,6 @@
 		return;
 	}
 
-	// Any thread still running ?
-	if (m_state.get_threads_count() > 0)
-	{
-		m_state.m_gettingStats = false;
-	}
-
 	// Did the thread fail ?
 	status = pThread->getStatus();
 	if (status.empty() == false)
@@ -483,6 +488,8 @@
 #ifdef HAVE_DBUS
 	if (type == "DaemonStatusThread")
 	{
+		m_state.m_gettingStats = false;
+
 		// Did it succeed ?
 		if (success == true)
 		{

Modified: trunk/UI/GTK2/src/statisticsDialog.hh
===================================================================
--- trunk/UI/GTK2/src/statisticsDialog.hh	2009-01-11 05:04:27 UTC (rev 1477)
+++ trunk/UI/GTK2/src/statisticsDialog.hh	2009-01-11 05:20:13 UTC (rev 1478)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -72,6 +72,8 @@
 
 	void populate(void);
 
+	void populate_history(void);
+
 	bool on_activity_timeout(void);
 
 	void on_thread_end(WorkerThread *pThread);



From fabricecolin at mail.berlios.de  Sun Jan 11 11:49:23 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 11 Jan 2009 11:49:23 +0100
Subject: [Pinot-svn] r1479 - trunk/scripts/bash
Message-ID: <200901111049.n0BAnNmw030954@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-11 11:49:19 +0100 (Sun, 11 Jan 2009)
New Revision: 1479

Modified:
   trunk/scripts/bash/pinot-enum-index.sh
Log:
Make sure we only consider the document IDs after the first colon in delve's
output. Output all document IDs to urls.txt.


Modified: trunk/scripts/bash/pinot-enum-index.sh
===================================================================
--- trunk/scripts/bash/pinot-enum-index.sh	2009-01-11 05:20:13 UTC (rev 1478)
+++ trunk/scripts/bash/pinot-enum-index.sh	2009-01-11 10:49:19 UTC (rev 1479)
@@ -41,7 +41,7 @@
 rm -f "$1/urls.txt" "$1/filesizes.txt"
 
 # Get a list of documents
-DOCIDS=`$DELVE -t X-MetaSE-Doc "$1" | sed -e "s/[^0-9 ]//g"`
+DOCIDS=`$DELVE -t X-MetaSE-Doc "$1" | sed -e "s/\(.*\): \(.*\)/\2/g"`
 if [ $? != 0 ]; then
   echo "Couldn't query database at $1"
 fi
@@ -59,7 +59,7 @@
       echo $FILESIZE >> "$1/filesizes.txt"
       echo "+" >> "$1/filesizes.txt"
     fi
-    echo $FILENAME >> "$1/urls.txt"
+    echo "$DOCID $FILENAME" >> "$1/urls.txt"
   else
     # Dump documents with a scheme other than file
     URL=`$DELVE -d -r $DOCID "$1" | grep "url=" | sed -e "s/url=//g"`
@@ -70,7 +70,7 @@
           echo $FILESIZE >> "$1/filesizes.txt"
           echo "+" >> "$1/filesizes.txt"
         fi
-        echo $URL >> "$1/urls.txt"
+        echo "$DOCID $URL" >> "$1/urls.txt"
     fi
   fi
 done



From fabricecolin at mail.berlios.de  Sun Jan 11 11:50:13 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 11 Jan 2009 11:50:13 +0100
Subject: [Pinot-svn] r1480 - trunk
Message-ID: <200901111050.n0BAoDkF031038@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-11 11:50:09 +0100 (Sun, 11 Jan 2009)
New Revision: 1480

Modified:
   trunk/Makefile.am
Log:
Force the link in case the destination file already exists.


Modified: trunk/Makefile.am
===================================================================
--- trunk/Makefile.am	2009-01-11 10:49:19 UTC (rev 1479)
+++ trunk/Makefile.am	2009-01-11 10:50:09 UTC (rev 1480)
@@ -28,7 +28,7 @@
 	@help2man --no-info --name "D-Bus search and index daemon" UI/GTK2/src/pinot-dbus-daemon         >UI/GTK2/src/pinot-dbus-daemon.1
 
 install-data-local:
-	@ln -s $(bindir)/pinot $(DESTDIR)$(bindir)/pinot-prefs
+	@ln -fs $(bindir)/pinot $(DESTDIR)$(bindir)/pinot-prefs
 	@mkdir -p $(DESTDIR)$(sysconfdir)/pinot
 	$(INSTALL_DATA) $(srcdir)/Tokenize/filters/external-filters.xml $(DESTDIR)$(sysconfdir)/pinot/external-filters.xml
 	$(INSTALL_DATA) $(srcdir)/globalconfig.xml $(DESTDIR)$(sysconfdir)/pinot/globalconfig.xml



From fabricecolin at mail.berlios.de  Sun Jan 11 12:01:38 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 11 Jan 2009 12:01:38 +0100
Subject: [Pinot-svn] r1481 - in trunk: . po
Message-ID: <200901111101.n0BB1cvZ031966@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-11 12:01:29 +0100 (Sun, 11 Jan 2009)
New Revision: 1481

Modified:
   trunk/AUTHORS
   trunk/po/it.po
Log:
Updated Italian translation by Marco Bazzani.


Modified: trunk/AUTHORS
===================================================================
--- trunk/AUTHORS	2009-01-11 10:50:09 UTC (rev 1480)
+++ trunk/AUTHORS	2009-01-11 11:01:29 UTC (rev 1481)
@@ -54,7 +54,7 @@
 	Hebrew - Yaron <sh dot yaron at gmail dot com>
 	Italian - Michele Angrisano <darksun1988 at gmail dot com>
 		& Vincenzo Consales <aquarius987 at gmail dot com>>
-		& Marco Bazzani <visik7 at tin dot it>
+		& Marco Bazzani <alfred dot einstein at gmail dot com>
 	Japanese - Takeo Mizuki <???>
 	Portuguese - _PN_boy <pedro_nuno_pn at iol dot pt>
 		& Tiago Silva <???>

Modified: trunk/po/it.po
===================================================================
--- trunk/po/it.po	2009-01-11 10:50:09 UTC (rev 1480)
+++ trunk/po/it.po	2009-01-11 11:01:29 UTC (rev 1481)
@@ -4,50 +4,51 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.88\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
-"PO-Revision-Date: 2008-08-23 16:14+0000\n"
-"Last-Translator: Marco Bazzani <Unknown>\n"
+"POT-Creation-Date: 2009-01-11 14:31+0800\n"
+"PO-Revision-Date: 2009-01-10 18:59+0000\n"
+"Last-Translator: MarcoBazzani <alfred.einstein at gmail.com>\n"
 "Language-Team: Italian <it at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2009-01-11 07:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "Motori di ricerca"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
-msgstr "Utente attual"
+msgstr "Utente attuale"
 
-#. Enable these menu items unless it is not the documents index
+#. Apply this label
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
+#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
+#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
+#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
+#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1069
 msgid "My Web Pages"
-msgstr "Pagine web personali"
+msgstr "Pagine Web Personali"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
+#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
+#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
+#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
+#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1079
 msgid "My Documents"
-msgstr "Documenti personali"
+msgstr "Documenti Personali"
 
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
@@ -59,7 +60,7 @@
 
 #: UI/GTK2/src/indexDialog.cc:286
 msgid "Index location"
-msgstr "Indice di posizione"
+msgstr "Indice di Posizione"
 
 #: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
@@ -69,30 +70,30 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "Tipo:"
 
 #: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:65
 msgid "Location:"
-msgstr "Posizione:"
+msgstr "Percorso:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
 msgstr "Porta:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr "Indirizzo:"
 
 #: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
-msgstr "Indice esterno"
+msgstr "Indice Esterno"
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "Nessuno"
 
@@ -103,31 +104,31 @@
 
 #: UI/GTK2/src/importDialog_glade.cc:69
 msgid "Apply label:"
-msgstr "Applica descrizione"
+msgstr "Applica Etichetta"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "Importa URL"
 
 #: UI/GTK2/src/IndexPage.cpp:48
 msgid "Show Previous"
-msgstr "Dimostrazione Precedente"
+msgstr "Mostra Precedenti"
 
 #: UI/GTK2/src/IndexPage.cpp:54
 msgid "Show Next"
 msgstr "Mostra Seguente"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
-msgstr ""
+msgstr "Tutto"
 
 #: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
 msgstr ""
-"Non esiste un'applicazione configurata per aprire questo tipo di documento\n"
-"Prego immettere il comando per aprire questo documento."
+"Non esiste un'applicazione configurata per aprire questo tipo di documento.\n"
+"Si prega di immettere il comando per aprire questo documento."
 
 #: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
@@ -137,599 +138,583 @@
 msgid "Helper application"
 msgstr "Applicazione associata"
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "Nome da interrogare"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
-msgstr "Ultimo Eseguito"
+msgstr "Ultima Esecuzione"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "Sommario"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "Mostrare tutti i motori di ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
-msgstr ""
+msgstr "Trova i documenti che corrispondono alla stringa di ricerca."
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
-msgstr ""
+msgstr "Aggiungi un indice"
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
-msgstr ""
+msgstr "Rimuovi un indice"
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
-msgstr ""
+msgstr "Aggiungi una ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
-msgstr ""
+msgstr "Rimuovi una ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
-msgstr ""
+msgstr "Mostra i risultati della ricerca precedente"
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
-msgstr ""
+msgstr "Trova i documenti che corrispondono alla ricerca"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
-msgstr "E' consigliato aggiornare tutti le pagine web personali"
+msgstr ""
+"E' consigliato aggiornare tutti i documenti presenti nelle pagine web "
+"personali"
 
-#: UI/GTK2/src/mainWindow.cc:266
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
-msgstr ""
+msgstr "Non avvisarmi pi?"
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
-msgstr "Aggiorna"
+msgstr "Aggiornamento"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr "N/D"
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:363
 msgid "Undefined"
 msgstr "Non Definito"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
 msgid "Live query"
-msgstr "Live Query"
+msgstr "Ricerca Istantanea"
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "la posizione del risultato ?"
-
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:880
 msgid "Document location is"
 msgstr "La posizione Documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "Impossibile trovare la query"
+#: UI/GTK2/src/mainWindow.cc:1099
+msgid "Couldn't search in results"
+msgstr "Impossibile cercare nei risultati"
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1110
 msgid "In Results"
-msgstr ""
+msgstr "Nei Risultati"
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "Showing"
 msgstr "Mostrando"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1294
 msgid "of"
-msgstr "dei"
+msgstr "di"
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr "documenti, inizio a"
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "Query"
-msgstr "Richiesta"
+msgstr "Ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
 msgid "on"
-msgstr "sulla"
+msgstr "sul"
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1344
 msgid "ended"
-msgstr "conclusione"
+msgstr "concluso"
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr ""
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1499
 msgid "More Like"
-msgstr "Molti gradiscono"
+msgstr "Molti Come"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1566
 msgid "Updated label(s)"
-msgstr "Descrizione(i) aggiornata"
+msgstr "Etichetta(e) Aggiornata"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
 msgid "Updated document"
 msgstr "Documento aggiornato"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1672
 msgid "Indexed"
 msgstr "Indicizzato"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1708
 msgid "Unindexed document(s)"
 msgstr "Documento/i non Indicizzato/i"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index, name"
 msgstr "Impossibile rinominare l'indice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:3134
 msgid "is already in use"
 msgstr "? gi? in uso"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1819
 msgid "Couldn't rename index"
 msgstr "Impossibile rinominare l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1832
 msgid "Edited index"
 msgstr "Indice modificato"
 
 #: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
-msgstr ""
+msgid "Export"
+msgstr "Esporta"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2185
+msgid "Couldn't find similar documents"
+msgstr "Impossibile trovare documenti simili"
+
+#: UI/GTK2/src/mainWindow.cc:2429
 msgid "Index"
 msgstr "Indice"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2433
 msgid "doesn't exist"
 msgstr "non esiste"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2501
 msgid "Remove this document from the index ?"
 msgstr "Rimuovere questo documento dall'indice?"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2520
 msgid "Remove these documents from the index ?"
 msgstr "Rimuovere questi documenti dall'indice?"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Rimuovi dall'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2564
 msgid "A metasearch tool for the Free Desktop"
-msgstr "Un tool di ricerca per il Desktop Libero"
+msgstr "Un metamotore di ricerca per il Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2565
 msgid "Search the Web and your documents !"
 msgstr "Cerca nel Web e nei documenti !"
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2610
 msgid "Index name"
 msgstr "Nome indice"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2625
 msgid "Couldn't add index"
 msgstr "Impossibile aggiungere l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2641
 msgid "Added new index"
 msgstr "Nuovo indice aggiunto"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2676
 msgid "Couldn't remove index"
 msgstr "Impossibile rimuovere l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2868
+#: UI/GTK2/src/mainWindow.cc:2876
 msgid "No history for"
-msgstr ""
+msgstr "Nessuna cronologia per"
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
 msgid "At least one task hasn't completed yet. Quit now ?"
-msgstr "Nessuna operazione completata. Uscire comunque ?"
+msgstr "Almeno un'operazione non ? stata ancora completata. Uscire comunque?"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
 msgid "Quit"
-msgstr ""
+msgstr "Esci"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "Query name"
-msgstr "Nome Query"
+msgstr "Nome della ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3157
 msgid "Couldn't update query"
-msgstr "Impossibile aggiornare la query"
+msgstr "Impossibile aggiornare la ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3168
 msgid "Edited query"
-msgstr "Query modificata"
+msgstr "Ricerca Modificata"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3175
 msgid "Couldn't add query"
-msgstr "Impossibile aggiungere la query"
+msgstr "Impossibile aggiungere la ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3183
 msgid "Added new query"
-msgstr "Nuova query aggiunto"
+msgstr "Nuova ricerca aggiunta"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3217
 msgid "Query is not set"
-msgstr "Query non configurata"
+msgstr "Ricerca non ancora configurata"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3228
 msgid "No search engine selected"
 msgstr "Nessun motore di ricerca selezionato"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3315
 msgid "Please set the Google API key first"
 msgstr "Prima inserisci la tua Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3324
 msgid "Running query"
-msgstr "Query in esecuzione"
+msgstr "Ricerca in esecuzione"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3533
 msgid "No default application defined for type"
-msgstr "Nessuna applicazione di default ? stata definita per tipo"
+msgstr "Nessuna applicazione predefinita esistente"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
-msgstr "Query:"
+msgstr "Ricerca"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
 msgstr "Cronologia"
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
-msgstr "Queries conservati"
+msgstr "Ricerche memorizzate"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
-msgstr "Stato"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+msgid "Open Cache"
+msgstr "Apri la Cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "Motore di ricerca"
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr "Apri livello superiore"
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "Nome Host"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+msgid "_Add To Index"
+msgstr "...Aggiunto all'Indice"
 
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "Mostrare un estratto"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "Raggruppa Per"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "Pulisci llista"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "Visualizza"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "Guarda Cache"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
-msgstr "Altri risultati"
+msgstr "Altri Risultati Simili"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
-msgstr ""
+msgstr "Cerca Questo Per"
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "_Indice"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "Motore di Ricerca"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "Nome Host"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
-msgstr "Lista contenuti di"
+msgstr "Lista Contenuti Di"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "Vedi"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+msgid "Group Results By"
+msgstr "Raggruppa i Risultati Per"
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "Propriet?"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+msgid "Show Extracts"
+msgstr "Mostra Estratti"
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "_About"
+#: UI/GTK2/src/mainWindow_glade.cc:243
+msgid "Export List"
+msgstr "Esporta lista"
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "_Sessione"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "Stato"
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+msgid "_File"
+msgstr "_File"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "_Modifica"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "_Risultati"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr "_Opzioni"
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "_Aiuto"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pinot"
 
-#: UI/GTK2/src/Notebook.cpp:146
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr "Forse intendevi ?"
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
-msgstr ""
+msgstr "Chiudi"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr "Sconosciuto"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "Danese"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "Olandese"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "Inglese"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "Finlandese"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "Francese"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "Tedesco"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
-msgstr ""
+msgstr "Ungherese"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "Italiano"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "Norvegese"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "Portoghese"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
-msgstr ""
+msgstr "Romeno"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "Russo"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "Spagnolo"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr "Svedese"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
-msgstr ""
+msgstr "Turco"
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "Impossibile aprire l'indice"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "Impossibile creare una cronologia del database"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:430
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:431
 msgid "New"
 msgstr "Nuovo"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:432
 msgid "Personal"
 msgstr "Personale"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:454
 msgid "Me"
-msgstr ""
+msgstr "Io"
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:462
 msgid "Latest First"
-msgstr ""
+msgstr "Gli Ultimi All'inizio"
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:465
 msgid "Home Stuff"
-msgstr ""
+msgstr "Home Stuff"
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "With Label New"
-msgstr ""
+msgstr "Con Nuove Etichette"
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Have CJKV"
-msgstr ""
+msgstr "Ha CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:468
 msgid "In English"
-msgstr ""
+msgstr "In Inglese"
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "10kb And Smaller"
-msgstr ""
+msgstr "10kb E Pi? Piccoli"
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:514
 msgid "Unclassified"
 msgstr "Non classificato"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:205
 msgid "Name"
 msgstr "Nome"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:223
 msgid "Monitor"
 msgstr "Monitor"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:224
 msgid "Location"
 msgstr "Posizione"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:232
 msgid "Pattern"
 msgstr "Espressione"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:565
 msgid "Exclude these patterns from indexing"
-msgstr ""
+msgstr "Escludi queste espressioni dall'indice"
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:566
 msgid "Only index these patterns"
-msgstr ""
+msgstr "Indicizza solo queste espressioni"
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:765
+msgid "Directory to index"
+msgstr "Directory da Indicizzare"
+
+#: UI/GTK2/src/prefsWindow.cc:905
 msgid "New Label"
 msgstr "Nuova descrizione"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "Directory da indicizzare"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid "These directories will be indexed and optionally monitored for changes:"
+msgstr ""
+"Queste directory devono essere indicizzate e opzionalmente monitorate per "
+"cambiamenti:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "Chiave Google API:"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "aggiungi"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "Nuovi risultati:"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr "Espressioni sui File"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "Richieste:"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr "Reset"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "Abilita suggerimenti per ricerca"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "Indicizzando"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "Ignora robots.txt e Robots META tag"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr "Le etichette sono usate per classificare l'indice dei documenti:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr "HTTP crawling:"
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "Rimuovi"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "Generale"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "Etichette"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr "Connesso direttamente a Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr "Configurazione manuale del proxy:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr "Rete"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr "Le descrizioni sono usate per classificare l'indice dei documenti:"
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "Google API Key:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "aggiungi"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "Ricerche"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "Rimuovi"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "Abilita suggerimenti per ricerca"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "Descrizioni"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "Ignora robots.txt e Robots META tag"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr ""
-"Queste directory devono essere indicizzate e opzionalmente monitorate per "
-"cambiamenti:"
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "HTTP crawling:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "Nuovi risultati:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
+msgstr "Varie"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "Indicizzando"
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+msgid "Pinot Preferences"
+msgstr "Preferenze di Pinot"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
-msgstr "Preferenze"
-
 #: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Per documento"
 
 #: UI/GTK2/src/propertiesDialog.cc:365
 msgid "Export Terms"
-msgstr ""
+msgstr "Esporta Termini"
 
 #: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
@@ -749,8 +734,12 @@
 
 #: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
-msgstr ""
+msgstr "bytes"
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "Propriet?"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Nome host"
@@ -764,68 +753,72 @@
 msgstr "Estensione file"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "Titolo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
-msgstr "URL"
+msgstr "Indirizzo:"
 
 #: UI/GTK2/src/queryDialog.cc:115
 msgid "Directory"
 msgstr "Directory"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr "Percorso"
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
-msgstr "Codice di linguaggio"
+msgstr "Codice lingua"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "Tipo MIME"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
-msgstr ""
+msgstr "classe MIME"
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
-msgstr "Descrizione"
+msgstr "Etichetta"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
 msgstr "Data"
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
-msgstr ""
+msgstr "Ora"
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
-msgstr ""
+msgstr "Dimensione"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
-msgstr ""
+msgstr "Per importanza"
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
-msgstr ""
+msgstr "Per data"
 
 #: UI/GTK2/src/queryDialog_glade.cc:71
 msgid "New filter or range:"
-msgstr ""
+msgstr "Nuovo filtro o intervallo:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
-msgstr "Testo Query"
+msgstr "Stringa di Ricerca"
 
 #: UI/GTK2/src/queryDialog_glade.cc:82
 msgid "Index results with label"
-msgstr "Indice risultati con descrizione"
+msgstr "Indice dei risultati con un'etichetta"
 
 #: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
@@ -833,7 +826,7 @@
 
 #: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
-msgstr ""
+msgstr "Ordinamento:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:93
 msgid "Stemming:"
@@ -841,162 +834,216 @@
 
 #: UI/GTK2/src/queryDialog_glade.cc:94
 msgid "Only index new results"
-msgstr ""
+msgstr "Indicizza solo nuovi risultati"
 
 #: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Parametri di Ricerca"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "Punteggio"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1552
+msgid "No results"
+msgstr "Nessun risultato"
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
 msgstr "Indici"
 
-#: UI/GTK2/src/statisticsDialog.cc:117
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:197
+msgid "Checking"
+msgstr "Verifica"
+
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr "Demone"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
-msgid "documents"
-msgstr "documenti"
-
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
-msgid "Unknown error"
-msgstr "errore Sconosciuto"
-
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr "Visti"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr "risultati"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr "Analizzati"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr "files"
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr "documenti"
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "Errore sconosciuto"
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr "Avviato con PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
-msgstr ""
+msgstr "Disconnesso da D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
-msgstr ""
+msgstr "Interrotto"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr "Attualmente non in esecuzione"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
-msgstr ""
+msgstr "Spazio su disco Insufficiente"
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
-msgstr ""
+msgstr "Sistema a batteria"
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
-msgstr ""
+msgstr "Ricercando"
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "Errori"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
-msgstr ""
+msgstr "Indice errori"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
-msgstr ""
+msgstr "Impossibile indicizzare il documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "Impossibile aggiornare il documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "Impossiible rimuovere i(l) documento/i dall'indice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
-msgstr "Impossibile avviare un query sul motore di ricerca"
+msgstr "Impossibile avviare un ricerca sul motore"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
-msgstr ""
+msgstr "Impossibile recuperare la cronologia per il motore di ricerca"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
-msgstr ""
+msgstr "Impossibile recuperare il documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
-msgstr ""
+msgstr "Error nel monitoraggio dei file"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
 msgstr "Impossibile aprire la directory"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
-msgstr ""
+msgstr "L'indice non esiste"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "Impossibile creare un motore di ricerca"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
-msgstr "Impossibile indicizzare tipo di documento"
+msgstr "Impossibile indicizzare il tipo di documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
-msgstr ""
+msgstr "Nessun downloader per questo protocollo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "il Robots META tag vieta l'indicizzazione"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
-msgstr ""
+msgstr "Nessun servizio di monitoraggio"
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
-msgstr ""
+msgstr "L'indicizzazione ? stata fermata"
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "Impossibile indicizzare la mail qui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "? gia' stato indicizzato"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
-msgstr "e' blacklistato"
+msgstr "? segnato come da non indicizzare"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1032
 msgid "No title"
-msgstr "Nessun titolo"
+msgstr "Senza titolo"
 
+#~ msgid "Result location is"
+#~ msgstr "la posizione del risultato ?"
+
+#~ msgid "documents, starting at"
+#~ msgstr "documenti, inizio a"
+
+#~ msgid "Couldn't find query"
+#~ msgstr "Impossibile trovare la query"
+
+#~ msgid "Show Extract"
+#~ msgstr "Mostrare un estratto"
+
+#~ msgid "Group By"
+#~ msgstr "Raggruppa Per"
+
+#~ msgid "Clear List"
+#~ msgstr "Pulisci llista"
+
+#~ msgid "Vie_w"
+#~ msgstr "Visualizza"
+
+#~ msgid "View Cache"
+#~ msgstr "Guarda Cache"
+
+#~ msgid "_Index"
+#~ msgstr "_Indice"
+
+#~ msgid "View"
+#~ msgstr "Vedi"
+
+#~ msgid "_About"
+#~ msgstr "_About"
+
+#~ msgid "_Session"
+#~ msgstr "_Sessione"
+
+#~ msgid "_Results"
+#~ msgstr "_Risultati"
+
+#~ msgid "General"
+#~ msgstr "Generale"
+
+#~ msgid "Preferences"
+#~ msgstr "Preferenze"
+
 #~ msgid "Extract"
 #~ msgstr "Estrai"



From fabricecolin at mail.berlios.de  Mon Jan 12 15:52:24 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 12 Jan 2009 15:52:24 +0100
Subject: [Pinot-svn] r1482 - trunk/scripts/bash
Message-ID: <200901121452.n0CEqOtj028153@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-12 15:52:18 +0100 (Mon, 12 Jan 2009)
New Revision: 1482

Modified:
   trunk/scripts/bash/pinot-enum-index.sh
Log:
Don't output the document ID, it makes comparing with find's output easier.


Modified: trunk/scripts/bash/pinot-enum-index.sh
===================================================================
--- trunk/scripts/bash/pinot-enum-index.sh	2009-01-11 11:01:29 UTC (rev 1481)
+++ trunk/scripts/bash/pinot-enum-index.sh	2009-01-12 14:52:18 UTC (rev 1482)
@@ -59,7 +59,7 @@
       echo $FILESIZE >> "$1/filesizes.txt"
       echo "+" >> "$1/filesizes.txt"
     fi
-    echo "$DOCID $FILENAME" >> "$1/urls.txt"
+    echo "$FILENAME" >> "$1/urls.txt"
   else
     # Dump documents with a scheme other than file
     URL=`$DELVE -d -r $DOCID "$1" | grep "url=" | sed -e "s/url=//g"`
@@ -70,7 +70,7 @@
           echo $FILESIZE >> "$1/filesizes.txt"
           echo "+" >> "$1/filesizes.txt"
         fi
-        echo "$DOCID $URL" >> "$1/urls.txt"
+        echo "$URL" >> "$1/urls.txt"
     fi
   fi
 done



From fabricecolin at mail.berlios.de  Mon Jan 12 15:54:42 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 12 Jan 2009 15:54:42 +0100
Subject: [Pinot-svn] r1483 - trunk/IndexSearch
Message-ID: <200901121454.n0CEsgV4028390@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-12 15:54:32 +0100 (Mon, 12 Jan 2009)
New Revision: 1483

Modified:
   trunk/IndexSearch/SherlockParser.cpp
   trunk/IndexSearch/WebEngine.cpp
Log:
Moved relative URL rebase code from SherlockResponseParser::parse() to
WebEngine::processResult().


Modified: trunk/IndexSearch/SherlockParser.cpp
===================================================================
--- trunk/IndexSearch/SherlockParser.cpp	2009-01-12 14:52:18 UTC (rev 1482)
+++ trunk/IndexSearch/SherlockParser.cpp	2009-01-12 14:54:32 UTC (rev 1483)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -386,26 +386,8 @@
 
 		if (url.empty() == false)
 		{
-			Url urlObj(url);
-
-			// Is this URL relative to the search engine's domain ?
 			// FIXME: look for a interpret/baseurl tag, see https://bugzilla.mozilla.org/show_bug.cgi?id=65453
 			// FIXME: obey m_skipLocal
-			if (urlObj.getHost().empty() == true)
-			{
-				Url baseUrlObj(pResponseDoc->getLocation());
-
-				string tmpUrl = baseUrlObj.getProtocol();
-				tmpUrl += "://";
-				tmpUrl += baseUrlObj.getHost();
-				if (url[0] != '/')
-				{
-					tmpUrl += "/";
-				}
-				tmpUrl += url;
-				url = tmpUrl;
-			}
-
 			DocumentInfo result(name, url, "", "");
 			result.setExtract(extract);
 			result.setScore(pseudoScore);

Modified: trunk/IndexSearch/WebEngine.cpp
===================================================================
--- trunk/IndexSearch/WebEngine.cpp	2009-01-12 14:52:18 UTC (rev 1482)
+++ trunk/IndexSearch/WebEngine.cpp	2009-01-12 14:54:32 UTC (rev 1483)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -196,6 +196,7 @@
 		return false;
 	}
 
+	// Is this URL relative to the search engine's domain ?
 	if ((resultUrl[0] == '/') ||
 		((resultUrl.length() > 1) &&
 		(resultUrl[0] == '.') &&
@@ -216,7 +217,24 @@
 
 		resultUrl = fullResultUrl;
 	}
+	else
+	{
+		Url resultUrlObj(resultUrl);
 
+		if ((resultUrlObj.getHost().empty() == true) ||
+			(resultUrlObj.getHost() == "localhost"))
+		{
+			string fullResultUrl(queryUrlObj.getProtocol());
+
+			fullResultUrl += "://";
+			fullResultUrl += queryUrlObj.getHost();
+			fullResultUrl += "/";
+			fullResultUrl += resultUrl;
+			resultUrl = fullResultUrl;
+		}
+	}
+
+
 	Url resultUrlObj(resultUrl);
 
 	// Is the result's host name the same as the search engine's ?



From fabricecolin at mail.berlios.de  Mon Jan 12 15:56:43 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 12 Jan 2009 15:56:43 +0100
Subject: [Pinot-svn] r1484 - trunk
Message-ID: <200901121456.n0CEuhZT028722@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-12 15:56:38 +0100 (Mon, 12 Jan 2009)
New Revision: 1484

Modified:
   trunk/README
Log:
Talk about how symlinks are handled, the new tagged cd script and aliases users
may find useful.


Modified: trunk/README
===================================================================
--- trunk/README	2009-01-12 14:54:32 UTC (rev 1483)
+++ trunk/README	2009-01-12 14:56:38 UTC (rev 1484)
@@ -17,7 +17,7 @@
 12. D-Bus service
 13. Deskbar Applet plugins
 14. CJKV support
-15. Environment variables
+15. Environment variables and aliases
 16. How to reset indexes
 17. Dependencies
 
@@ -160,6 +160,11 @@
   versions are able to fully index (and monitor, if necessary) all mbox files
   found during a directory crawl, just like any other file type.
 
+  In 0.90 and newer, the daemon will skip symlinks that refer to locations
+  that have already been crawled, or locations it knows it will have to crawl.
+  When skipped, symlinks are not followed but are still indexed, with the MIME
+  type "inode/symlink".
+
   If you want to exclude any specific files or directories from indexing, use
   patterns as described in section "9. File patterns".
 
@@ -177,13 +182,11 @@
   When querying an index, things are somewhat different. Queries can be
   expressed in a very natural way, using a combination of operators, filters
   and ranges. This query syntax is the syntax supported natively by Xapian's
-  QueryParser.
-
-  The full syntax is documented at http://www.xapian.org/docs/queryparser.html
+  QueryParser and is documented at http://www.xapian.org/docs/queryparser.html
   For instance, the query "type:text/html and lang:en and (tcp near ip)" will
   look for HTML files in English that mention TCP/IP. 
 
-  Pinot supports these filters :
+  Pinot supports these query filters :
       "site" for host name, eg "site:pinot.berlios.de"
       "file" for file name, eg "file:index.html"
       "ext" for file extension, eg "ext:html"
@@ -375,18 +378,11 @@
       UI may report that the operation failed, even though it was queued for
       processing and will be acted upon by the daemon as soon as possible.
 
-  If you have dbus-send installed, you can start the daemon manually by calling
-  the GetStatistics method with
-  $ dbus-send --session --print-reply --type=method_call \
-    --dest=de.berlios.Pinot /de/berlios/Pinot de.berlios.Pinot.GetStatistics
-  and stop it by calling the Stop method with
-  $ dbus-send --session --print-reply --type=method_call \
-    --dest=de.berlios.Pinot /de/berlios/Pinot de.berlios.Pinot.Stop
-  The daemon will also exit if killed.
+  See section "15. Environment variables and aliases" for some tips on how to
+  query the D-Bus interface. A list of available D-Bus methods can be found
+  in the file pinot-dbus-daemon.xml.
 
-  For a list of available D-Bus methods, see the file pinot-dbus-daemon.xml.
 
-
 13. Deskbar Applet plugins
 
 
@@ -435,7 +431,7 @@
   by the indexer with the special filter "tokens:CJKV".
 
 
-15. Environment variables
+15. Environment variables and aliases
 
 
   Pinot tries to provide reasonable defaults for most systems, but there may be
@@ -460,10 +456,28 @@
   at the time of writing this.
   Lowering this value should decrease the amount of memory used to cache
   changes to the index. Note that pinot-dbus-daemon explicitely flushes the
-  index once it has crawled a directory (directory configured in Preferences,
-  Indexing).
+  index once it has crawled each directory configured in Preferences.
 
+  Pinot v0.90 and newer provide a "tagged cd" script that enables to change
+  a shell's current directory to the directory that matches the path elements
+  passed as parameter. For instance, after running :
+  $ alias pcd='. /usr/share/pinot/pinot-cd.sh'
+  if ~/Documents is configured for indexing in Preferences, the following
+  command would change the current directory to ~/Documents/Web/Stats :
+  $ pcd Documents Stats
+  If other directories match the given paths, pinot-cd.sh will display a list
+  of matches.
 
+  If you have dbus-send installed, you may also want to set the following
+  aliases :
+  $ alias pinot-stats='dbus-send --session --print-reply --type=method_call \
+    --dest=de.berlios.Pinot /de/berlios/Pinot de.berlios.Pinot.GetStatistics'
+  $ alias pinot-stop='dbus-send --session --print-reply --type=method_call \
+    --dest=de.berlios.Pinot /de/berlios/Pinot de.berlios.Pinot.Stop'
+  The first will start the daemon by calling its GetStatistics method, while
+  the second alias will stop it by calling the Stop method.
+
+
 16. How to reset indexes
 
 
@@ -501,7 +515,7 @@
 SQLite							3.3.1
 http://www.sqlite.org/
 
-xapian-core						1.0.3
+xapian-core						1.0.4
 http://www.xapian.org/
 
  zlib							1.2.0



From fabricecolin at mail.berlios.de  Mon Jan 12 15:58:24 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 12 Jan 2009 15:58:24 +0100
Subject: [Pinot-svn] r1485 - trunk/UI/GTK2/src
Message-ID: <200901121458.n0CEwOaQ029043@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-12 15:58:17 +0100 (Mon, 12 Jan 2009)
New Revision: 1485

Modified:
   trunk/UI/GTK2/src/ResultsTree.cpp
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/pinot.cc
Log:
More conversion fixes.
In ResultsTree::deleteResults(), make sure the "No results" row is deleted, if
present.


Modified: trunk/UI/GTK2/src/ResultsTree.cpp
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-12 14:56:38 UTC (rev 1484)
+++ trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-12 14:58:17 UTC (rev 1485)
@@ -546,6 +546,7 @@
 	{
 		ustring title(to_utf8(resultIter->getTitle(), charset));
 		ustring location(to_utf8(resultIter->getLocation(), charset));
+		ustring timestamp(to_utf8(resultIter->getTimestamp()));
 		ustring extract(to_utf8(resultIter->getExtract(), charset));
 		string groupName;
 		TreeModel::iterator groupIter;
@@ -615,7 +616,7 @@
 		// OK, add a row for this result within the group
 		TreeModel::iterator titleIter;
 		if (appendResult(title, location, (int)currentScore, rankDiff, isIndexed, wasViewed,
-			docId, resultIter->getTimestamp(), resultIter->serialize(),
+			docId, timestamp, resultIter->serialize(),
 			engineId, indexId, titleIter, groupIter, true) == true)
 		{
 #ifdef DEBUG
@@ -1034,10 +1035,11 @@
 
 		if (docId == row[m_resultsColumns.m_docId])
 		{
+			// FIXME: title, location should be converted based on the result's charset !
 			updateRow(row, result.getTitle(), result.getLocation(),
 				row[m_resultsColumns.m_score], row[m_resultsColumns.m_engines],
 				row[m_resultsColumns.m_indexes], docId,
-				result.getTimestamp(), result.serialize(),
+				to_utf8(result.getTimestamp()), result.serialize(),
 				ResultsModelColumns::ROW_RESULT,
 				row[m_resultsColumns.m_indexed], row[m_resultsColumns.m_viewed],
 				row[m_resultsColumns.m_rankDiff]);
@@ -1151,9 +1153,10 @@
 			row = *iter;
 
 			type = row[m_resultsColumns.m_resultType];
-			if ((type == ResultsModelColumns::ROW_RESULT) &&
+			if (((type == ResultsModelColumns::ROW_RESULT) &&
 				(row[m_resultsColumns.m_engines] == engineId) &&
-				(row[m_resultsColumns.m_indexes] == indexId))
+				(row[m_resultsColumns.m_indexes] == indexId)) ||
+				(type == ResultsModelColumns::ROW_OTHER))
 			{
 				TreeModel::Children::iterator nextIter = iter;
 				++nextIter;
@@ -1490,7 +1493,7 @@
 		TreeModel::Row groupRow = *groupIter;
 		updateRow(groupRow, groupName,
 			"", 0, 0, 0, 0, "", "", groupType,
-			false, false, false);
+			false, false, 0);
 
 		// Update the map
 		m_resultsGroups[groupName] = groupIter;
@@ -1547,9 +1550,8 @@
 		TreeModel::iterator childIter = m_refStore->append(groupRow.children());
 		TreeModel::Row childRow = *childIter;
 
-		updateRow(childRow, _("No results"), "", 0, 0, 0,
-			0, TimeConverter::toTimestamp(time(NULL)), "", ResultsModelColumns::ROW_OTHER,
-			false, false, 0);
+		updateRow(childRow, _("No results"), "", 0, 0, 0, 0,
+			"", "", ResultsModelColumns::ROW_OTHER, false, false, 0);
 	}
 	groupRow[m_resultsColumns.m_score] = averageScore;
 
@@ -1581,8 +1583,8 @@
 		row[m_resultsColumns.m_indexes] = indexId;
 		row[m_resultsColumns.m_docId] = docId;
 		row[m_resultsColumns.m_resultType] = resultType;
-		row[m_resultsColumns.m_timestamp] = to_utf8(timestamp);
-		row[m_resultsColumns.m_timestampTime] = TimeConverter::fromTimestamp(timestamp);
+		row[m_resultsColumns.m_timestamp] = timestamp;
+		row[m_resultsColumns.m_timestampTime] = TimeConverter::fromTimestamp(from_utf8(timestamp));
 		row[m_resultsColumns.m_serial] = serial;
 
 		row[m_resultsColumns.m_indexed] = indexed;
@@ -1648,7 +1650,7 @@
 			if (extract.empty() == false)
 			{
 				// Stop here
-				return extract;
+				return to_utf8(extract);
 			}
 		}
 	}

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2009-01-12 14:56:38 UTC (rev 1484)
+++ trunk/UI/GTK2/src/mainWindow.cc	2009-01-12 14:58:17 UTC (rev 1485)
@@ -2393,7 +2393,7 @@
 {
 	vector<DocumentInfo> documentsList;
 	set<unsigned int> docIds;
-	string indexName, queryName;
+	string indexName;
 	int width, height;
 	bool docsIndex = false, daemonIndex = false;
 
@@ -2404,8 +2404,7 @@
 	IndexPage *pIndexPage = dynamic_cast<IndexPage*>(get_current_page());
 	if (pIndexPage != NULL)
 	{
-		indexName = from_utf8(pIndexPage->getTitle());
-		queryName = from_utf8(pIndexPage->getQueryName());
+		indexName = pIndexPage->getTitle();
 		pResultsTree = pIndexPage->getTree();
 	}
 
@@ -3374,7 +3373,7 @@
 	// Spawn a new thread to browse the index
 	if (queryName.empty() == true)
 	{
-		start_thread(new IndexBrowserThread(from_utf8(indexName), m_maxDocsCount, startDoc));
+		start_thread(new IndexBrowserThread(indexName, m_maxDocsCount, startDoc));
 	}
 	else
 	{

Modified: trunk/UI/GTK2/src/pinot.cc
===================================================================
--- trunk/UI/GTK2/src/pinot.cc	2009-01-12 14:56:38 UTC (rev 1484)
+++ trunk/UI/GTK2/src/pinot.cc	2009-01-12 14:58:17 UTC (rev 1485)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -153,10 +153,7 @@
 #endif //ENABLE_NLS
 
 	// Initialize threads support before doing anything else
-	if (Glib::thread_supported() == false)
-	{
-		Glib::thread_init();
-	}
+	Glib::thread_init();
 	// Initialize the GType and the D-Bus thread system
 	g_type_init();
 #ifdef HAVE_DBUS



From fabricecolin at mail.berlios.de  Tue Jan 13 00:43:30 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 13 Jan 2009 00:43:30 +0100
Subject: [Pinot-svn] r1486 - trunk/IndexSearch/Plugins
Message-ID: <200901122343.n0CNhUC6030701@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-13 00:43:14 +0100 (Tue, 13 Jan 2009)
New Revision: 1486

Added:
   trunk/IndexSearch/Plugins/IOIDescription.xml
Removed:
   trunk/IndexSearch/Plugins/A9.src
   trunk/IndexSearch/Plugins/BitTorrent.src
Log:
Removing A9, now just a product search engine and less useful than the Amazon
API, and BitTorrent, which redirects to Ask.com.
Adding a plugin for the Internet Open Index at http://index.isc.org/


Deleted: trunk/IndexSearch/Plugins/A9.src
===================================================================
--- trunk/IndexSearch/Plugins/A9.src	2009-01-12 14:58:17 UTC (rev 1485)
+++ trunk/IndexSearch/Plugins/A9.src	2009-01-12 23:43:14 UTC (rev 1486)
@@ -1,24 +0,0 @@
-# A9 Search Plugin
-
-<SEARCH
-	version="1.0"
-	name="A9"
-	description="Amazon A9.com"
-	method="GET"
-	action="http://a9.com/"
-	routeType="The Web"
->
-
-# Append query terms to the action URL <INPUT NAME="" USER>
-<INPUT NAME="p" VALUE="0">
-# The next line sets pw to 1 + results_count/10
-<INPUTNEXT NAME="pw" FACTOR="1" VALUE="1">
-
-<INTERPRET
-resultListStart=""
-resultListEnd=""
-resultItemStart='<div class="resBlock">'
-resultItemEnd='class="site-info"'
->
-
-</SEARCH>

Deleted: trunk/IndexSearch/Plugins/BitTorrent.src
===================================================================
--- trunk/IndexSearch/Plugins/BitTorrent.src	2009-01-12 14:58:17 UTC (rev 1485)
+++ trunk/IndexSearch/Plugins/BitTorrent.src	2009-01-12 23:43:14 UTC (rev 1486)
@@ -1,23 +0,0 @@
-# BitTorrent Search Plugin
-
-<SEARCH
-	version="1.0"
-	name="BitTorrent"
-	description="bittorrent.com"
-	method="GET"
-	action="http://www.bittorrent.com/search"
-	routeType="Content"
->
-<INPUT NAME="q" USER>
-<INPUT NAME="category" VALUE="All">
-<INPUT NAME="start" VALUE="0">
-<INPUTNEXT NAME="start_result" FACTOR="10">
-
-<INTERPRET
-resultListStart='<ol id="results">'
-resultListEnd='<div id="paging">'
-resultItemStart='<li class="clear">'
-resultItemEnd='</li>'
->
-
-</SEARCH>

Added: trunk/IndexSearch/Plugins/IOIDescription.xml
===================================================================
--- trunk/IndexSearch/Plugins/IOIDescription.xml	2009-01-12 14:58:17 UTC (rev 1485)
+++ trunk/IndexSearch/Plugins/IOIDescription.xml	2009-01-12 23:43:14 UTC (rev 1486)
@@ -0,0 +1,11 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<OpenSearchDescription xmlns="http://a9.com/-/spec/opensearchdescription/1.0/">
+  <Url>http://index.isc.org//opensearch?query={searchTerms}&amp;lang=en&amp;hitsPerPage=10</Url>
+  <Format>http://a9.com/-/spec/opensearchrss/1.0/</Format>
+  <ShortName>IOI</ShortName>
+  <LongName>Internet Open Index Search Engine</LongName>
+  <Description>A 100% open index of the web</Description>
+  <Tags>The Web</Tags>
+  <SyndicationRight>open</SyndicationRight>
+  <AdultContent>false</AdultContent>
+</OpenSearchDescription>



From fabricecolin at mail.berlios.de  Tue Jan 13 15:07:02 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 13 Jan 2009 15:07:02 +0100
Subject: [Pinot-svn] r1487 - trunk/UI/GTK2/src
Message-ID: <200901131407.n0DE72OV025942@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-13 15:06:57 +0100 (Tue, 13 Jan 2009)
New Revision: 1487

Modified:
   trunk/UI/GTK2/src/ServerThreads.cpp
Log:
After resolving and scanning a symlink, don't hang around, just return or the
symlink itself won't be indexed.


Modified: trunk/UI/GTK2/src/ServerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-12 23:43:14 UTC (rev 1486)
+++ trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-13 14:06:57 UTC (rev 1487)
@@ -463,10 +463,12 @@
 			crawlHistory.insertItem(referreeLocation, CrawlHistory::CRAWL_LINK, m_sourceId, itemDate);
 
 			// Do it again, this time by stat'ing what the link refers to
-			scanEntry(entryName, crawlHistory, false);
+			bool scannedReferree = scanEntry(entryName, crawlHistory, false);
 
 			m_currentLinks.pop();
 			m_currentLinkReferrees.pop();
+
+			return scannedReferree;
 		}
 		else
 		{
@@ -564,7 +566,7 @@
 					pDirEntry = readdir(pDir);
 				}
 #ifdef DEBUG
-				cout << "DirectoryScannerThread::scanEntry: done with " << entryName << endl;
+				cout << "DirectoryScannerThread::scanEntry: leaving " << entryName << endl;
 #endif
 
 				// Close the directory



From fabricecolin at mail.berlios.de  Tue Jan 13 15:09:41 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 13 Jan 2009 15:09:41 +0100
Subject: [Pinot-svn] r1488 - trunk/scripts/bash
Message-ID: <200901131409.n0DE9ftf026251@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-13 15:09:33 +0100 (Tue, 13 Jan 2009)
New Revision: 1488

Added:
   trunk/scripts/bash/pinot-check-file.sh
Log:
A script that checks whether a file is in My Documents. Useful when run with
"find ... -exec ...".


Added: trunk/scripts/bash/pinot-check-file.sh
===================================================================
--- trunk/scripts/bash/pinot-check-file.sh	2009-01-13 14:06:57 UTC (rev 1487)
+++ trunk/scripts/bash/pinot-check-file.sh	2009-01-13 14:09:33 UTC (rev 1488)
@@ -0,0 +1,28 @@
+#!/bin/bash
+# Run this with find, eg find -L ~/Documents/ -exec pinot-check-file.sh {} \;
+if [ $# == 0 ]; then
+  echo "Usage: $0 <index>"
+  exit 1
+fi
+
+WHICH_SED=`which sed`
+if [ $? != 0 ]; then
+  echo "Couldn't find sed. Is the sed package installed ?"
+  exit 1
+fi
+WHICH_PI=`which pinot-index`
+if [ $? != 0 ]; then
+  echo "Couldn't find sed. Is the pinot package installed ?"
+  exit 1
+fi
+
+for FILE in "$@" ;
+do
+  NO_SLASH_FILE=`echo $FILE | sed -e "s/\(.*\)\/$/\1/g"`
+  pinot-index --check --db ~/.pinot/daemon/ "file://$NO_SLASH_FILE" >/dev/null 2>&1 \;
+  if [ $? != 0 ]; then
+    echo $NO_SLASH_FILE
+  fi
+done
+
+exit 0


Property changes on: trunk/scripts/bash/pinot-check-file.sh
___________________________________________________________________
Name: svn:executable
   + *



From fabricecolin at mail.berlios.de  Tue Jan 13 15:19:56 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 13 Jan 2009 15:19:56 +0100
Subject: [Pinot-svn] r1489 - trunk/po
Message-ID: <200901131419.n0DEJubx026948@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-13 15:19:50 +0100 (Tue, 13 Jan 2009)
New Revision: 1489

Modified:
   trunk/po/fr.po
   trunk/po/ja.po
Log:
Updated translations by Fr?\195?\169d?\195?\169ric Grosshans (fr) and Mizuki-san (ja).


Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2009-01-13 14:09:33 UTC (rev 1488)
+++ trunk/po/fr.po	2009-01-13 14:19:50 UTC (rev 1489)
@@ -5,48 +5,49 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.82\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
-"PO-Revision-Date: 2008-08-24 04:19+0000\n"
-"Last-Translator: FabriceColin <fabrice.colin at gmail.com>\n"
+"POT-Creation-Date: 2009-01-11 23:44+0800\n"
+"PO-Revision-Date: 2009-01-12 11:07+0000\n"
+"Last-Translator: Fr?d?ric Grosshans <frederic.grosshans at gmail.com>\n"
 "Language-Team: fr <fabricecolin at users.berlios.de>\n"
 "MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Type: text/plain; charset=utf-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2009-01-13 14:12+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "Moteurs"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
 msgstr "Utilisateur"
 
-#. Enable these menu items unless it is not the documents index
+#. Apply this label
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
+#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
+#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
+#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
+#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1069
 msgid "My Web Pages"
 msgstr "Mes Pages Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
+#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
+#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
+#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
+#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1079
 msgid "My Documents"
 msgstr "Mes Documents"
 
@@ -70,7 +71,7 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "Type:"
 
@@ -78,11 +79,11 @@
 msgid "Location:"
 msgstr "Chemin:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
 msgstr "Port:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr "Addresse:"
 
@@ -92,8 +93,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "Aucune"
 
@@ -106,7 +107,7 @@
 msgid "Apply label:"
 msgstr "Appliquer l'etiquette:"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "Importer une URL"
 
@@ -118,7 +119,7 @@
 msgid "Show Next"
 msgstr "Suivants"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
 msgstr "Tout"
 
@@ -138,591 +139,572 @@
 msgid "Helper application"
 msgstr "Application"
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "Nom de la Recherche"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
 msgstr "Derniere Utilisation"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "Sommaire"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "Montrer tous les moteurs"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
 msgstr "Trouver les documents qui correspondent"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
 msgstr "Ajouter un index"
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
 msgstr "Enlever un index"
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
 msgstr "Ajouter une recherche"
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
 msgstr "Effacer une recherche"
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
 msgstr "Montrer les resultats precedents"
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
 msgstr "Trouver les documents qui correspondent"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "Pret"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "Il est recommende de mettre a jour tous les documents de Mes Pages Web"
 
-#: UI/GTK2/src/mainWindow.cc:266
-#, fuzzy
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
-msgstr "Ne plus me prevenir"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "Mettre a Jour"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr "Inconnue"
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:363
 msgid "Undefined"
 msgstr "Indefini"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
 msgid "Live query"
 msgstr "Recherche"
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "Le chemin du resultat est"
-
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:880
 msgid "Document location is"
 msgstr "Le chemin du document is"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "N'a pas pu trouver"
+#: UI/GTK2/src/mainWindow.cc:1099
+msgid "Couldn't search in results"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1110
 msgid "In Results"
 msgstr "Dans Les Resultats"
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "Showing"
 msgstr "Montrant"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1294
 msgid "of"
 msgstr "documents,"
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr "au total, a partir de"
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "Query"
 msgstr "La recherche"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
 msgid "on"
 msgstr "sur"
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1344
 msgid "ended"
 msgstr "est terminee"
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr "Corrige"
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1499
 msgid "More Like"
 msgstr "Similaire a"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1566
 msgid "Updated label(s)"
 msgstr "Mis a jour l(es) etiquette(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
 msgid "Updated document"
 msgstr "Mis a jour le document"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1672
 msgid "Indexed"
 msgstr "Indexe"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1708
 msgid "Unindexed document(s)"
 msgstr "Desindexe le(s) document(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index, name"
 msgstr "N'a pas pu renommer l'index, le nom"
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:3134
 msgid "is already in use"
 msgstr "est deja utilise"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1819
 msgid "Couldn't rename index"
 msgstr "N'a pas pu renommer l'index"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1832
 msgid "Edited index"
 msgstr "Edite l'index"
 
 #: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
-msgstr "Exporter Les Resultats"
+msgid "Export"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2185
+msgid "Couldn't find similar documents"
+msgstr ""
+
+#: UI/GTK2/src/mainWindow.cc:2429
 msgid "Index"
 msgstr "L'index"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2433
 msgid "doesn't exist"
 msgstr "n'existe pas"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2501
 msgid "Remove this document from the index ?"
 msgstr "Enlever ce document de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2520
 msgid "Remove these documents from the index ?"
 msgstr "Enlever ces documents de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Desindexer"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2564
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Un outil de recherche pour le Bureau Libre"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2565
 msgid "Search the Web and your documents !"
 msgstr "Cherche le Web et vos documents"
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2610
 msgid "Index name"
 msgstr "Nom de l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2625
 msgid "Couldn't add index"
 msgstr "N'a pas pu ajouter l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2641
 msgid "Added new index"
 msgstr "Ajoute un nouvel index"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2676
 msgid "Couldn't remove index"
 msgstr "N'a pas pu enlever l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2868
+#: UI/GTK2/src/mainWindow.cc:2876
 msgid "No history for"
 msgstr "Pas d'historique pour"
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Au moins une tache n'est pas terminee. Quitter maintenant ?"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
 msgid "Quit"
 msgstr "Quitter"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "Query name"
 msgstr "Nom de la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3157
 msgid "Couldn't update query"
 msgstr "N'a pas pu mettre a jour la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3168
 msgid "Edited query"
 msgstr "Edite la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3175
 msgid "Couldn't add query"
 msgstr "N'a pas pu ajouter la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3183
 msgid "Added new query"
 msgstr "Ajoute une nouvelle recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3217
 msgid "Query is not set"
 msgstr "Recherche indefinie"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3228
 msgid "No search engine selected"
 msgstr "Pas de moteur selectionne"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3315
 msgid "Please set the Google API key first"
 msgstr "Configurez la clef de l'API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3324
 msgid "Running query"
 msgstr "Recherche en cours"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3533
 msgid "No default application defined for type"
 msgstr "Pas d'application definie pour le type"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
 msgstr "Recherche:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
 msgstr "Historique"
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
 msgstr "Recherches sauvegardees"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
-msgstr "Statistiques"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+msgid "Open Cache"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "Moteur"
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "Nom de Machine"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+msgid "_Add To Index"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "Montrer l'Extrait"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "Grouper Par"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "Nettoyer la Liste"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "Voir"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "Voir le Cache"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
 msgstr "Documents similaires"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
 msgstr "Chercher Cela Pour"
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "Index"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "Moteur"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "Nom de Machine"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
 msgstr "Lister le Contenu de"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "Voir"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+msgid "Group Results By"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "Proprietes"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+msgid "Show Extracts"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "A Propos"
+#: UI/GTK2/src/mainWindow_glade.cc:243
+msgid "Export List"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "Session"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "Statistiques"
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+msgid "_File"
+msgstr "_Fichier"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "Editer"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "Resultats"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "Aide"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pinot"
 
-#: UI/GTK2/src/Notebook.cpp:146
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr ""
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
 msgstr "Fermer"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr "Inconnu"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "Danois"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "Hollandais"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "Anglais"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "Finlandais"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "Francais"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "Allemand"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr "Hongrois"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "Italien"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "Norvegien"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "Portugais"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr "Roumain"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "Russe"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "Espagnol"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
-msgstr "Suedois"
+msgstr "Su?dois"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr "Turc"
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "N'a pas pu ouvrir l'index"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "N'a pas pu creer la base d'historiques"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:430
 msgid "Important"
 msgstr "Important"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:431
 msgid "New"
 msgstr "Nouveau"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:432
 msgid "Personal"
 msgstr "Personnel"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:454
 msgid "Me"
 msgstr "Moi"
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:462
 msgid "Latest First"
 msgstr "Plus Recents"
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:465
 msgid "Home Stuff"
 msgstr "Mes Trucs"
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "With Label New"
 msgstr "Avec L'Etiquette Nouveau"
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Have CJKV"
 msgstr "Avec CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:468
 msgid "In English"
 msgstr "En Anglais"
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "10kb And Smaller"
 msgstr "10ko Et Plus Petits"
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:514
 msgid "Unclassified"
 msgstr "Sans classification"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:205
 msgid "Name"
 msgstr "Nom"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:223
 msgid "Monitor"
 msgstr "Surveiller"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:224
 msgid "Location"
 msgstr "Chemin"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:232
 msgid "Pattern"
 msgstr "Motif"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:565
 msgid "Exclude these patterns from indexing"
 msgstr "Ne pas indexer ces motifs"
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:566
 msgid "Only index these patterns"
 msgstr "Indexer uniquement ces motifs"
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:765
+msgid "Directory to index"
+msgstr "Repertoire a indexer"
+
+#: UI/GTK2/src/prefsWindow.cc:905
 msgid "New Label"
 msgstr "Nouvelle Etiquette"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "Repertoire a indexer"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid "These directories will be indexed and optionally monitored for changes:"
+msgstr "Ces repertoires seront indexes automatiquement:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "Clef de l'API Google"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "Ajouter"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "Nouveaux resultats:"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr "Motifs de fichier:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "Recherches:"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr "R?initialiser"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "Suggerer des termes"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "Indexes"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "Ignorer robots.txt et le META tag Robots"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr "Les etiquettes servent a classer les documents:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr "Agent HTTP:"
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "Enlever"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "General"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "Etiquettes"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr "Connection directe a l'Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr "Configuration proxy manuelle"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr "Reseau"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr "Les etiquettes servent a classer les documents:"
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "Clef de l'API Google"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "Ajouter"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "Recherches:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "Enlever"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "Suggerer des termes"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "Etiquettes"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "Ignorer robots.txt et le META tag Robots"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr "Ces repertoires seront indexes automatiquement:"
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "Agent HTTP:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr "Motifs de fichier:"
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "Nouveaux resultats:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
-msgstr "R?initialiser"
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
+msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "Indexes"
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+msgid "Pinot Preferences"
+msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
-msgstr "Preferences"
-
 #: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Par document"
@@ -751,6 +733,10 @@
 msgid "bytes"
 msgstr "octets"
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "Proprietes"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Nom de machine"
@@ -764,12 +750,12 @@
 msgstr "Extension de fichier"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "Titre"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
 msgstr "URL"
 
@@ -778,41 +764,44 @@
 msgstr "Repertoire"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
 msgstr "Code langue"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "Type MIME"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
 msgstr "Classe MIME"
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
 msgstr "Etiquette"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
 msgstr "Date"
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
 msgstr "Heure"
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
 msgstr "Taille"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
-#, fuzzy
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
-msgstr "Par relevance"
+msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
 msgstr "Par date"
 
@@ -837,9 +826,8 @@
 msgstr "Trier par:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:93
-#, fuzzy
 msgid "Stemming:"
-msgstr "Stemming:"
+msgstr ""
 
 #: UI/GTK2/src/queryDialog_glade.cc:94
 msgid "Only index new results"
@@ -850,155 +838,215 @@
 msgstr "Parametres de la recherche"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "Score"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1553
+msgid "No results"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
 msgstr "Indexes"
 
-#: UI/GTK2/src/statisticsDialog.cc:117
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:197
+msgid "Checking"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
-msgid "documents"
-msgstr "documents"
-
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
-msgid "Unknown error"
-msgstr "Erreur inconnue"
-
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr "Visualise"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr "resultats"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr "Parcouru"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr "fichiers"
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr "documents"
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "Erreur inconnue"
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr "PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
 msgstr "D?connect? de D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
 msgstr "Arr?t?"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr "Arrete"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
 msgstr "Peu d'espace disque libre"
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr "Syst?me sur batterie"
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
 msgstr "En train de parcourir"
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "Erreurs"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
 msgstr "Erreur sur l'index"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
 msgstr "N'a pas pu indexer le document"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "N'a pas pu mettre a jour le document"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "N'a pas pu desindexer le(s) document(s)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
 msgstr "N'a pas pu lancer la recherche sur le moteur"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
 msgstr "N'a pas pu obtenir l'historique de la recherche"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
 msgstr "N'a pas pu telecharger le document"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
 msgstr "Erreur du moniteur de fichiers"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
 msgstr "N'a pas pu ouvrir le repertoire"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
 msgstr "L'index n'existe pas"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "N'a pas pu creer le moteur"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
 msgstr "Impossible d'indexer ce type de documents"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
 msgstr "Pas de brouteur pour ce protocole"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "Le META tag Robots interdit d'indexer"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
 msgstr "Pas de moniteur de fichiers disponible"
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
 msgstr "Indexation est arretee"
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "Ne peut pas indexer le courrier ici"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "est deja indexe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
 msgstr "est exclus"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1032
 msgid "No title"
 msgstr "Pas de titre"
 
+#~ msgid "Result location is"
+#~ msgstr "Le chemin du resultat est"
+
+#~ msgid "documents, starting at"
+#~ msgstr "au total, a partir de"
+
+#~ msgid "Couldn't find query"
+#~ msgstr "N'a pas pu trouver"
+
+#~ msgid "Show Extract"
+#~ msgstr "Montrer l'Extrait"
+
+#~ msgid "Group By"
+#~ msgstr "Grouper Par"
+
+#~ msgid "Clear List"
+#~ msgstr "Nettoyer la Liste"
+
+#~ msgid "Vie_w"
+#~ msgstr "Voir"
+
+#~ msgid "View Cache"
+#~ msgstr "Voir le Cache"
+
+#~ msgid "_Index"
+#~ msgstr "Index"
+
+#~ msgid "View"
+#~ msgstr "Voir"
+
+#~ msgid "_About"
+#~ msgstr "A Propos"
+
+#~ msgid "_Session"
+#~ msgstr "Session"
+
+#~ msgid "_Results"
+#~ msgstr "Resultats"
+
+#~ msgid "General"
+#~ msgstr "General"
+
+#~ msgid "Preferences"
+#~ msgstr "Preferences"
+
 #~ msgid "Extract"
 #~ msgstr "Extrait"
+
+#~ msgid "Export Results"
+#~ msgstr "Exporter Les Resultats"
+
+#~ msgid "Corrected"
+#~ msgstr "Corrige"

Modified: trunk/po/ja.po
===================================================================
--- trunk/po/ja.po	2009-01-13 14:09:33 UTC (rev 1488)
+++ trunk/po/ja.po	2009-01-13 14:19:50 UTC (rev 1489)
@@ -5,54 +5,55 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.88\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
-"PO-Revision-Date: 2008-08-23 16:13+0000\n"
-"Last-Translator: FabriceColin <fabrice.colin at gmail.com>\n"
+"POT-Creation-Date: 2009-01-11 23:44+0800\n"
+"PO-Revision-Date: 2009-01-13 00:43+0000\n"
+"Last-Translator: Takeo Mizuki <Unknown>\n"
 "Language-Team: Japanese <ja at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2009-01-13 14:12+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "??????"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
 msgstr "???????"
 
-#. Enable these menu items unless it is not the documents index
+#. Apply this label
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
+#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
+#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
+#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
+#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1069
 msgid "My Web Pages"
 msgstr "????????"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
+#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
+#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
+#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
+#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
+#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1079
 msgid "My Documents"
 msgstr "????????"
 
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
-msgstr ""
+msgstr "Served by"
 
 #: UI/GTK2/src/indexDialog.cc:124
 msgid "Local"
@@ -70,7 +71,7 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "???:"
 
@@ -78,11 +79,11 @@
 msgid "Location:"
 msgstr "??:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
 msgstr "?????:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr "????:"
 
@@ -92,8 +93,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "??"
 
@@ -106,7 +107,7 @@
 msgid "Apply label:"
 msgstr "?????"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "URL?????"
 
@@ -118,7 +119,7 @@
 msgid "Show Next"
 msgstr "????"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
 msgstr "???"
 
@@ -138,592 +139,574 @@
 msgid "Helper application"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "??"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
 msgstr "??????????????"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "?????????????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:266
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:363
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
 msgid "Live query"
 msgstr "???????"
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "??:"
-
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:880
 msgid "Document location is"
 msgstr "??????:"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "?????????????"
+#: UI/GTK2/src/mainWindow.cc:1099
+msgid "Couldn't search in results"
+msgstr "?????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1110
 msgid "In Results"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "Showing"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1294
 msgid "of"
 msgstr "of"
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr ""
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "Query"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
 msgid "on"
 msgstr "on"
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1344
 msgid "ended"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr "????"
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1499
 msgid "More Like"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1566
 msgid "Updated label(s)"
 msgstr "????????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
 msgid "Updated document"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1672
 msgid "Indexed"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1708
 msgid "Unindexed document(s)"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index, name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:3134
 msgid "is already in use"
 msgstr "??????????"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1819
 msgid "Couldn't rename index"
 msgstr "????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1832
 msgid "Edited index"
 msgstr "?????????"
 
 #: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
-msgstr "?????????"
+msgid "Export"
+msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2185
+msgid "Couldn't find similar documents"
+msgstr "????????????????????"
+
+#: UI/GTK2/src/mainWindow.cc:2429
 msgid "Index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2433
 msgid "doesn't exist"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2501
 msgid "Remove this document from the index ?"
 msgstr "????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2520
 msgid "Remove these documents from the index ?"
 msgstr "??????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2564
 msgid "A metasearch tool for the Free Desktop"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2565
 msgid "Search the Web and your documents !"
 msgstr "????????????????!"
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2610
 msgid "Index name"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2625
 msgid "Couldn't add index"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2641
 msgid "Added new index"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2676
 msgid "Couldn't remove index"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2868
+#: UI/GTK2/src/mainWindow.cc:2876
 msgid "No history for"
-msgstr ""
+msgstr "???????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr ""
 "?????????????????????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
 msgid "Quit"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "Query name"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3157
 msgid "Couldn't update query"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3168
 msgid "Edited query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3175
 msgid "Couldn't add query"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3183
 msgid "Added new query"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3217
 msgid "Query is not set"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3228
 msgid "No search engine selected"
 msgstr "????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3315
 msgid "Please set the Google API key first"
 msgstr "????Google API???????????"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3324
 msgid "Running query"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3533
 msgid "No default application defined for type"
 msgstr "??????????????????????????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
 msgstr "????:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
-msgstr "?????"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+msgid "Open Cache"
+msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "??????"
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "????"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+msgid "_Add To Index"
+msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "??????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "??????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "???????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "??(_w)"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "???????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "??????(_I)"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "??"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+msgid "Group Results By"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "?????"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+msgid "Show Extracts"
+msgstr "??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "??(_A)"
+#: UI/GTK2/src/mainWindow_glade.cc:243
+msgid "Export List"
+msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "?????(_S)"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "?????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+msgid "_File"
+msgstr "????(_F)"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "??(_E)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "??(_R)"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr "?????(_O)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "???(_H)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pinot"
 
-#: UI/GTK2/src/Notebook.cpp:146
-msgid "Close"
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
 msgstr ""
 
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
+msgid "Close"
+msgstr "???"
+
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "??????"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "?????"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "?????"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr "??????"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "?????"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "??????"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "??????"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr "??????"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "?????"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr "???????"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "????????????"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "????????????????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:430
 msgid "Important"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:431
 msgid "New"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:432
 msgid "Personal"
 msgstr "???"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:454
 msgid "Me"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:462
 msgid "Latest First"
-msgstr ""
+msgstr "??????"
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:465
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Have CJKV"
-msgstr ""
+msgstr "CJKV???"
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:468
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:514
 msgid "Unclassified"
 msgstr "???"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:205
 msgid "Name"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:223
 msgid "Monitor"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:224
 msgid "Location"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:232
 msgid "Pattern"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:565
 msgid "Exclude these patterns from indexing"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:566
 msgid "Only index these patterns"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:765
+msgid "Directory to index"
+msgstr "??????????????????"
+
+#: UI/GTK2/src/prefsWindow.cc:905
 msgid "New Label"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "??????????????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid "These directories will be indexed and optionally monitored for changes:"
+msgstr ""
+"????????????????????????????????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "Google API??:"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "????:"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr "????????:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "????:"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr "????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "??????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "??????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "robots.txt?????????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr "?????????????????????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr "HTTP??????"
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "???"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr "????????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr "????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr "??????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr "?????????????????????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "Google API??:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "????:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "??????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "???"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "robots.txt?????????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr ""
-"????????????????????????????????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "HTTP??????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr "????????:"
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "????:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
+msgstr "???"
+
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+msgid "Pinot Preferences"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "??????"
-
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
-msgstr "??"
-
 #: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "??"
@@ -752,6 +735,10 @@
 msgid "bytes"
 msgstr "???"
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "?????"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "????"
@@ -765,12 +752,12 @@
 msgstr "???????"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "????"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
 msgstr "URL"
 
@@ -779,40 +766,44 @@
 msgstr "??????"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr "??"
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
 msgstr "?????"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "MIME???"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
 msgstr "MIME???"
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
 msgstr "???"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
 msgstr "???"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
 msgstr "???"
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
 msgstr "??"
 
@@ -849,155 +840,212 @@
 msgstr "?????????"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "???"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1553
+msgid "No results"
+msgstr "????"
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
 msgstr "??????"
 
-#: UI/GTK2/src/statisticsDialog.cc:117
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:197
+msgid "Checking"
+msgstr "?????"
+
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
-msgid "documents"
-msgstr "??"
-
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
-msgid "Unknown error"
-msgstr "??????"
-
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr "????"
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr "??"
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "??????"
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr "??? PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
-msgstr ""
+msgstr "D-Bus????"
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
-msgstr ""
+msgstr "???"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr "?????"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
-msgstr ""
+msgstr "????????????"
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
-msgstr ""
+msgstr "???"
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "???"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
 msgstr "?????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
 msgstr "??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
 msgstr "???????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
 msgstr "????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
 msgstr "?????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "??????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
 msgstr "????????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
 msgstr "????????????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "????????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
 msgstr "???????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1032
 msgid "No title"
 msgstr "??????"
 
+#~ msgid "Result location is"
+#~ msgstr "??:"
+
+#~ msgid "Couldn't find query"
+#~ msgstr "?????????????"
+
+#~ msgid "Show Extract"
+#~ msgstr "??????"
+
+#~ msgid "Group By"
+#~ msgstr "??????"
+
+#~ msgid "Clear List"
+#~ msgstr "???????"
+
+#~ msgid "Vie_w"
+#~ msgstr "??(_w)"
+
+#~ msgid "View Cache"
+#~ msgstr "???????"
+
+#~ msgid "_Index"
+#~ msgstr "??????(_I)"
+
+#~ msgid "View"
+#~ msgstr "??"
+
+#~ msgid "_About"
+#~ msgstr "??(_A)"
+
+#~ msgid "_Session"
+#~ msgstr "?????(_S)"
+
+#~ msgid "_Results"
+#~ msgstr "??(_R)"
+
+#~ msgid "General"
+#~ msgstr "??"
+
+#~ msgid "Preferences"
+#~ msgstr "??"
+
 #~ msgid "Extract"
 #~ msgstr "??"
+
+#~ msgid "Export Results"
+#~ msgstr "?????????"
+
+#~ msgid "Corrected"
+#~ msgstr "????"



From fabricecolin at mail.berlios.de  Tue Jan 13 17:03:04 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 13 Jan 2009 17:03:04 +0100
Subject: [Pinot-svn] r1490 - trunk/UI/GTK2/src
Message-ID: <200901131603.n0DG34k8005948@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-13 17:02:55 +0100 (Tue, 13 Jan 2009)
New Revision: 1490

Modified:
   trunk/UI/GTK2/src/ModelColumns.cpp
   trunk/UI/GTK2/src/ModelColumns.h
   trunk/UI/GTK2/src/ResultsTree.cpp
   trunk/UI/GTK2/src/ResultsTree.h
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/propertiesDialog.cc
Log:
Conversion fixes on index names, documents serial string, language names.


Modified: trunk/UI/GTK2/src/ModelColumns.cpp
===================================================================
--- trunk/UI/GTK2/src/ModelColumns.cpp	2009-01-13 14:19:50 UTC (rev 1489)
+++ trunk/UI/GTK2/src/ModelColumns.cpp	2009-01-13 16:02:55 UTC (rev 1490)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by

Modified: trunk/UI/GTK2/src/ModelColumns.h
===================================================================
--- trunk/UI/GTK2/src/ModelColumns.h	2009-01-13 14:19:50 UTC (rev 1489)
+++ trunk/UI/GTK2/src/ModelColumns.h	2009-01-13 16:02:55 UTC (rev 1490)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -93,7 +93,7 @@
 	Gtk::TreeModelColumn<RowType> m_resultType;
 	Gtk::TreeModelColumn<Glib::ustring> m_timestamp;
 	Gtk::TreeModelColumn<time_t> m_timestampTime;
-	Gtk::TreeModelColumn<Glib::ustring> m_serial;
+	Gtk::TreeModelColumn<std::string> m_serial;
 
 };
 

Modified: trunk/UI/GTK2/src/ResultsTree.cpp
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-13 14:19:50 UTC (rev 1489)
+++ trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-13 16:02:55 UTC (rev 1490)
@@ -949,7 +949,7 @@
 			(isIndexed == false))
 		{
 			DocumentInfo current;
-			string serial(from_utf8(row[m_resultsColumns.m_serial]));
+			string serial(row[m_resultsColumns.m_serial]);
 
 			current.deserialize(serial);
 
@@ -1359,7 +1359,7 @@
 
 		set<string> engineNames, indexNames;
 		DocumentInfo result;
-		string engineName, serial(from_utf8(childRow[m_resultsColumns.m_serial]));
+		string engineName, serial(childRow[m_resultsColumns.m_serial]);
 		unsigned int engineIds = childRow[m_resultsColumns.m_engines];
 		unsigned int indexIds = childRow[m_resultsColumns.m_indexes];
 
@@ -1423,7 +1423,7 @@
 bool ResultsTree::appendResult(const ustring &text, const ustring &url,
 	int score, int rankDiff, bool isIndexed, bool wasViewed,
 	unsigned int docId, const ustring &timestamp,
-	const ustring &serial, unsigned int engineId,
+	const string &serial, unsigned int engineId,
 	unsigned int indexId, TreeModel::iterator &newRowIter,
 	const TreeModel::iterator &parentIter, bool noDuplicates)
 {
@@ -1570,7 +1570,7 @@
 //
 void ResultsTree::updateRow(TreeModel::Row &row, const ustring &text,
 	const ustring &url, int score, 	unsigned int engineId, unsigned int indexId,
-	unsigned int docId, const ustring &timestamp, const ustring &serial,
+	unsigned int docId, const ustring &timestamp, const string &serial,
 	ResultsModelColumns::RowType resultType, bool indexed, bool viewed, int rankDiff)
 {
 	try

Modified: trunk/UI/GTK2/src/ResultsTree.h
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.h	2009-01-13 14:19:50 UTC (rev 1489)
+++ trunk/UI/GTK2/src/ResultsTree.h	2009-01-13 16:02:55 UTC (rev 1490)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -158,7 +158,7 @@
 		/// Adds a new row in the results tree.
 		bool appendResult(const Glib::ustring &text, const Glib::ustring &url,
 			int score, int rankDiff, bool isIndexed, bool wasViewed,
-			unsigned int docId, const Glib::ustring &timestamp, const Glib::ustring &serial,
+			unsigned int docId, const Glib::ustring &timestamp, const std::string &serial,
 			unsigned int engineId, unsigned int indexId,
 			Gtk::TreeModel::iterator &newRowIter,
 			const Gtk::TreeModel::iterator &parentIter,
@@ -170,7 +170,7 @@
 		/// Updates a row.
 		void updateRow(Gtk::TreeModel::Row &row, const Glib::ustring &text,
 			const Glib::ustring &url, int score, unsigned int engineId, unsigned int indexId,
-			unsigned int docId, const Glib::ustring &timestamp, const Glib::ustring &serial,
+			unsigned int docId, const Glib::ustring &timestamp, const std::string &serial,
 			ResultsModelColumns::RowType resultType, bool indexed, bool viewed, int rankDiff);
 
 		/// Retrieves the extract to show for the given row.

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2009-01-13 14:19:50 UTC (rev 1489)
+++ trunk/UI/GTK2/src/mainWindow.cc	2009-01-13 16:02:55 UTC (rev 1490)
@@ -1226,14 +1226,14 @@
 	{
 		return;
 	}
+
+	string type(pThread->getType());
+	string threadStatus(pThread->getStatus());
 #ifdef DEBUG
 	cout << "mainWindow::on_thread_end: end of thread " << pThread->getId() << endl;
 #endif
 
-	// What type of thread was it ?
-	string type = pThread->getType();
 	// Did the thread fail for some reason ?
-	string threadStatus = pThread->getStatus();
 	if (threadStatus.empty() == false)
 	{
 		// Yep, it did
@@ -1265,7 +1265,7 @@
 			return;
 		}
 
-		ustring indexName = to_utf8(pListThread->getIndexName());
+		ustring indexName(pListThread->getIndexName());
 
 		// Find the page for this index
 		// It may have been closed by the user

Modified: trunk/UI/GTK2/src/propertiesDialog.cc
===================================================================
--- trunk/UI/GTK2/src/propertiesDialog.cc	2009-01-13 14:19:50 UTC (rev 1489)
+++ trunk/UI/GTK2/src/propertiesDialog.cc	2009-01-13 16:02:55 UTC (rev 1490)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -160,7 +160,7 @@
 
 	if (m_notALanguageName == true)
 	{
-		languageCombobox->append_text(to_utf8(language));
+		languageCombobox->append_text(language);
 		languageCombobox->set_active(0);
 		unknownLanguagePos = 1;
 	}
@@ -170,7 +170,7 @@
 	{
 		string languageName(Languages::getIntlName(languageNum));
 
-		languageCombobox->append_text(to_utf8(languageName));
+		languageCombobox->append_text(languageName);
 		// Is this the language we are looking for ?
 		if ((m_notALanguageName == false) &&
 			(language.empty() == false) &&



From fabricecolin at mail.berlios.de  Wed Jan 14 15:08:21 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 14 Jan 2009 15:08:21 +0100
Subject: [Pinot-svn] r1491 - trunk/IndexSearch/Xapian
Message-ID: <200901141408.n0EE8LTq002632@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-14 15:08:16 +0100 (Wed, 14 Jan 2009)
New Revision: 1491

Modified:
   trunk/IndexSearch/Xapian/XapianEngine.cpp
Log:
This expects documents to be converted to UTF-8 at indexing time, so that should
be the results' charset.


Modified: trunk/IndexSearch/Xapian/XapianEngine.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianEngine.cpp	2009-01-13 16:02:55 UTC (rev 1490)
+++ trunk/IndexSearch/Xapian/XapianEngine.cpp	2009-01-14 14:08:16 UTC (rev 1491)
@@ -573,6 +573,9 @@
 XapianEngine::XapianEngine(const string &database) :
 	SearchEngineInterface()
 {
+	// We expect documents to have been converted to UTF-8 at indexing time
+	m_charset = "UTF-8";
+
 	// If the database name ends with a slash, remove it
 	if (database[database.length() - 1] == '/')
 	{



From fabricecolin at mail.berlios.de  Wed Jan 14 15:23:14 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 14 Jan 2009 15:23:14 +0100
Subject: [Pinot-svn] r1492 - trunk/UI/GTK2/src
Message-ID: <200901141423.n0EENE82003939@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-14 15:23:09 +0100 (Wed, 14 Jan 2009)
New Revision: 1492

Modified:
   trunk/UI/GTK2/src/mainWindow.cc
Log:
When listing an index, or appending a freshly indexed document, the charset is
known to be UTF-8 so let ResultsTree::addResults() know.


Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2009-01-14 14:08:16 UTC (rev 1491)
+++ trunk/UI/GTK2/src/mainWindow.cc	2009-01-14 14:23:09 UTC (rev 1492)
@@ -1278,7 +1278,7 @@
 				const vector<DocumentInfo> &docsList = pListThread->getDocuments();
 
 				// Add the documents to the tree
-				pResultsTree->addResults("", docsList, "", false);
+				pResultsTree->addResults("", docsList, "UTF-8", false);
 
 				pIndexPage->setDocumentsCount(pListThread->getDocumentsCount());
 				pIndexPage->updateButtonsState(m_maxDocsCount);
@@ -3624,7 +3624,7 @@
 
 		// Add a row
 		docsList.push_back(docInfo);
-		pResultsTree->addResults("", docsList, "", false);
+		pResultsTree->addResults("", docsList, "UTF-8", false);
 
 		return true;
 	}



From fabricecolin at mail.berlios.de  Wed Jan 14 15:25:14 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 14 Jan 2009 15:25:14 +0100
Subject: [Pinot-svn] r1493 - trunk/UI/GTK2/src
Message-ID: <200901141425.n0EEPEk6004012@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-14 15:25:10 +0100 (Wed, 14 Jan 2009)
New Revision: 1493

Modified:
   trunk/UI/GTK2/src/ResultsTree.cpp
Log:
In ResultsTree::findResultsExtract(), the extract doesn't need to be converted,
it was converted earlier in addResults().
In appendResult(), same for the URL.


Modified: trunk/UI/GTK2/src/ResultsTree.cpp
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-14 14:23:09 UTC (rev 1492)
+++ trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-14 14:25:10 UTC (rev 1493)
@@ -368,7 +368,7 @@
 			refBuffer->set_text("");
 
 #ifdef DEBUG
-			cout << "ResultsTree::onSelectionSelect: extract for " << row[m_resultsColumns.m_text] << endl;
+			cout << "ResultsTree::onSelectionSelect: extract for " << row[m_resultsColumns.m_url] << endl;
 #endif
 			if (boldPos == ustring::npos)
 			{
@@ -727,7 +727,7 @@
 	{
 		TreeModel::Row row = *iter;
 #ifdef DEBUG
-		cout << "ResultsTree::setGroupMode: looking at " << row[m_resultsColumns.m_text] << endl;
+		cout << "ResultsTree::setGroupMode: looking at " << row[m_resultsColumns.m_url] << endl;
 #endif
 		ResultsModelColumns::RowType type = row[m_resultsColumns.m_resultType];
 		// Skip new type and other rows
@@ -1451,7 +1451,7 @@
 					childIter != children.end(); ++childIter)
 				{
 					TreeModel::Row row = *childIter;
-					if (row[m_resultsColumns.m_url] == to_utf8(url))
+					if (row[m_resultsColumns.m_url] == url)
 					{
 						// Update the engines column...
 						row[m_resultsColumns.m_engines] = row[m_resultsColumns.m_engines] | engineId;
@@ -1555,11 +1555,6 @@
 	}
 	groupRow[m_resultsColumns.m_score] = averageScore;
 
-#ifdef DEBUG
-	cout << "ResultsTree::updateGroup: group " << groupRow[m_resultsColumns.m_text]
-		<< " has score " << averageScore << endl;
-#endif
-
 	// Expand this group
 	TreeModel::Path groupPath = m_refStore->get_path(groupIter);
 	expand_row(groupPath, true);
@@ -1650,7 +1645,7 @@
 			if (extract.empty() == false)
 			{
 				// Stop here
-				return to_utf8(extract);
+				return extract;
 			}
 		}
 	}



From fabricecolin at mail.berlios.de  Wed Jan 14 15:26:29 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 14 Jan 2009 15:26:29 +0100
Subject: [Pinot-svn] r1494 - trunk/IndexSearch
Message-ID: <200901141426.n0EEQT1o004082@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-14 15:26:23 +0100 (Wed, 14 Jan 2009)
New Revision: 1494

Modified:
   trunk/IndexSearch/pinot-search.cpp
Log:
If no results, say so !


Modified: trunk/IndexSearch/pinot-search.cpp
===================================================================
--- trunk/IndexSearch/pinot-search.cpp	2009-01-14 14:25:10 UTC (rev 1493)
+++ trunk/IndexSearch/pinot-search.cpp	2009-01-14 14:26:23 UTC (rev 1494)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -381,7 +381,7 @@
 		}
 		else
 		{
-			cerr << "Couldn't get a results list !" << endl;
+			cerr << "No results" << endl;
 		}
 	}
 	else



From fabricecolin at mail.berlios.de  Fri Jan 16 15:48:00 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 16 Jan 2009 15:48:00 +0100
Subject: [Pinot-svn] r1495 - in trunk: . UI/GTK2/src
Message-ID: <200901161448.n0GEm07U003365@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-16 15:47:52 +0100 (Fri, 16 Jan 2009)
New Revision: 1495

Modified:
   trunk/README
   trunk/UI/GTK2/src/mainWindow.cc
Log:
Copyright 2009.


Modified: trunk/README
===================================================================
--- trunk/README	2009-01-14 14:26:23 UTC (rev 1494)
+++ trunk/README	2009-01-16 14:47:52 UTC (rev 1495)
@@ -1,5 +1,5 @@
 Pinot
-Copyright 2005-2008 Fabrice Colin <fabricecolin at users dot berlios dot de>
+Copyright 2005-2009 Fabrice Colin <fabricecolin at users dot berlios dot de>
 http://pinot.berlios.de/
 
 

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2009-01-14 14:26:23 UTC (rev 1494)
+++ trunk/UI/GTK2/src/mainWindow.cc	2009-01-16 14:47:52 UTC (rev 1495)
@@ -2563,7 +2563,7 @@
 
 	aboutBox.set_comments(_("A metasearch tool for the Free Desktop") + string(".\n") +
 		_("Search the Web and your documents !"));
-	aboutBox.set_copyright("(C) 2005-2008 Fabrice Colin");
+	aboutBox.set_copyright("(C) 2005-2009 Fabrice Colin");
 	aboutBox.set_name("Pinot");
 	aboutBox.set_version(VERSION);
 	aboutBox.set_website("http://pinot.berlios.de/");



From fabricecolin at mail.berlios.de  Sat Jan 17 05:16:29 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 17 Jan 2009 05:16:29 +0100
Subject: [Pinot-svn] r1496 - in trunk: . UI/GTK2/src
Message-ID: <200901170416.n0H4GT5M007472@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-17 05:16:22 +0100 (Sat, 17 Jan 2009)
New Revision: 1496

Modified:
   trunk/UI/GTK2/src/prefsWindow.cc
   trunk/pinot.desktop
Log:
Synced pinot.desktop strings with current po's.
Added to prefsWindow translatable strings from pinot-prefs.desktop even though
this window won't show them.


Modified: trunk/UI/GTK2/src/prefsWindow.cc
===================================================================
--- trunk/UI/GTK2/src/prefsWindow.cc	2009-01-16 14:47:52 UTC (rev 1495)
+++ trunk/UI/GTK2/src/prefsWindow.cc	2009-01-17 04:16:22 UTC (rev 1496)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2008 Fabrice Colin
+ *  Copyright 2008-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -145,6 +145,8 @@
 	m_state(10, this)
 {
 	Color newColour;
+	ustring desktopName(_("File Indexing and Search"));
+	ustring desktopComment(_("Configure Pinot to index your files"));
 
 	newColour.set_red(m_settings.m_newResultsColourRed);
 	newColour.set_green(m_settings.m_newResultsColourGreen);

Modified: trunk/pinot.desktop
===================================================================
--- trunk/pinot.desktop	2009-01-16 14:47:52 UTC (rev 1495)
+++ trunk/pinot.desktop	2009-01-17 04:16:22 UTC (rev 1496)
@@ -4,7 +4,8 @@
 Name[de]=Pinot Werkzeug zur Metasuche
 Name[es]=Herramienta metabuscador Pinot
 Name[fr]=Pinot Outil De Recherche
-Name[it]=Pinot Tool di ricerca
+Name[he]=??? ????????? ?????? ?????? ??????
+Name[it]=Pinot metamotore di ricerca
 Name[ja]=Pinot????????
 Name[nl]=Pinot Metazoek Tool
 Name[pt]=Mecanismo de metabusca Pinot
@@ -17,11 +18,12 @@
 Comment[de]=Durchsuchen Sie das Internet und Ihre Dokumente
 Comment[es]=Busca en el web y en sus documentos
 Comment[fr]=Cherche le Web et vos documents
+Comment[he]=????? ???????? ???????? ???
 Comment[it]=Cerca nel Web e nei documenti
 Comment[ja]=????????????????
 Comment[nl]=Zoek het web en uw documenten
 Comment[pt]=Pesquise a Web e os seus documentos
-Comment[pt_BR]=Pesquise a Web e os seus documentos
+Comment[pt_BR]=Procurar a Rede e seus documentos
 Comment[ru]=Search the Web and your documents
 Comment[sv]=S?k p? webben och i dina dokument
 Comment[zh_CN]=??????????



From fabricecolin at mail.berlios.de  Mon Jan 19 14:20:11 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 19 Jan 2009 14:20:11 +0100
Subject: [Pinot-svn] r1497 - trunk/IndexSearch/Plugins
Message-ID: <200901191320.n0JDKBEd018275@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-19 14:20:06 +0100 (Mon, 19 Jan 2009)
New Revision: 1497

Modified:
   trunk/IndexSearch/Plugins/IOIDescription.xml
Log:
Mapped hitsPerPage to {count}.


Modified: trunk/IndexSearch/Plugins/IOIDescription.xml
===================================================================
--- trunk/IndexSearch/Plugins/IOIDescription.xml	2009-01-17 04:16:22 UTC (rev 1496)
+++ trunk/IndexSearch/Plugins/IOIDescription.xml	2009-01-19 13:20:06 UTC (rev 1497)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <OpenSearchDescription xmlns="http://a9.com/-/spec/opensearchdescription/1.0/">
-  <Url>http://index.isc.org//opensearch?query={searchTerms}&amp;lang=en&amp;hitsPerPage=10</Url>
+  <Url>http://index.isc.org//opensearch?query={searchTerms}&amp;lang=en&amp;hitsPerPage={count}</Url>
   <Format>http://a9.com/-/spec/opensearchrss/1.0/</Format>
   <ShortName>IOI</ShortName>
   <LongName>Internet Open Index Search Engine</LongName>



From fabricecolin at mail.berlios.de  Mon Jan 19 14:24:15 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 19 Jan 2009 14:24:15 +0100
Subject: [Pinot-svn] r1498 - trunk/IndexSearch
Message-ID: <200901191324.n0JDOFwt018748@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-19 14:24:09 +0100 (Mon, 19 Jan 2009)
New Revision: 1498

Modified:
   trunk/IndexSearch/OpenSearchParser.cpp
   trunk/IndexSearch/PluginWebEngine.cpp
Log:
PluginWebEngine::runQuery() checks whether scrolling is possible with the
plugin, stops at the first page if it isn't.
OpenSearchParser sets m_nextIncrement to 0 to disable scrolling if none of
count, startIndex, startPage is found.


Modified: trunk/IndexSearch/OpenSearchParser.cpp
===================================================================
--- trunk/IndexSearch/OpenSearchParser.cpp	2009-01-19 13:20:06 UTC (rev 1497)
+++ trunk/IndexSearch/OpenSearchParser.cpp	2009-01-19 13:24:09 UTC (rev 1498)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -29,6 +29,8 @@
 #include <libxml++/nodes/cdatanode.h>
 
 #include "StringManip.h"
+#include "HtmlFilter.h"
+#include "FilterUtils.h"
 #include "OpenSearchParser.h"
 
 using namespace std;
@@ -257,6 +259,18 @@
 				}
 			}
 
+			// The extract may contain HTML
+			if ((extract.find("<") != string::npos) &&
+				(extract.find(">") != string::npos))
+			{
+				// Wrap the extract
+				ustring dummyHtml("<html><head><meta HTTP-EQUIV=\"content-type\" CONTENT=\"text/html\"></head><body>");
+				dummyHtml += extract;
+				dummyHtml += "</body></html>";
+
+				extract = FilterUtils::stripMarkup(dummyHtml);
+			}
+
 			DocumentInfo result(title, url, "", "");
 			result.setExtract(extract);
 			result.setScore(pseudoScore);
@@ -549,10 +563,17 @@
 	{
 		properties.m_scrolling = SearchPluginProperties::PER_PAGE;
 	}
-	else
+	else if ((properties.m_variableParameters.find(SearchPluginProperties::COUNT_PARAM) != properties.m_variableParameters.end()) ||
+		(properties.m_variableParameters.find(SearchPluginProperties::START_INDEX_PARAM) != properties.m_variableParameters.end()))
 	{
 		properties.m_scrolling = SearchPluginProperties::PER_INDEX;
 	}
+	else
+	{
+		// No scrolling
+		properties.m_nextIncrement = 0;
+		properties.m_nextBase = 0;
+	}
 
 	return new OpenSearchResponseParser(rssResponse);
 }

Modified: trunk/IndexSearch/PluginWebEngine.cpp
===================================================================
--- trunk/IndexSearch/PluginWebEngine.cpp	2009-01-19 13:20:06 UTC (rev 1497)
+++ trunk/IndexSearch/PluginWebEngine.cpp	2009-01-19 13:24:09 UTC (rev 1498)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -223,6 +223,7 @@
 	char countStr[64];
 	unsigned int maxResultsCount(queryProps.getMaximumResultsCount());
 	unsigned int currentIncrement = 0, count = 0;
+	bool firstPage = true;
 
 	m_resultsList.clear();
 	m_resultsCountEstimate = 0;
@@ -301,11 +302,12 @@
 	setQuery(queryProps);
 
 #ifdef DEBUG
-	cout << "PluginWebEngine::runQuery: querying " << m_properties.m_name << endl;
+	cout << "PluginWebEngine::runQuery: querying " << m_properties.m_longName << endl;
 #endif
 	while (count < maxResultsCount)
 	{
 		string pageQuery(formattedQuery);
+		bool canScroll = false;
 
 		// How do we scroll ?
 		if (m_properties.m_scrolling == SearchPluginProperties::PER_INDEX)
@@ -320,6 +322,7 @@
 				pageQuery += "=";
 				snprintf(countStr, 64, "%u", maxResultsCount);
 				pageQuery += countStr;
+				canScroll = true;
 			}
 
 			paramIter = m_properties.m_variableParameters.find(SearchPluginProperties::START_INDEX_PARAM);
@@ -332,6 +335,7 @@
 				pageQuery += "=";
 				snprintf(countStr, 64, "%u", count + m_properties.m_nextBase);
 				pageQuery += countStr;
+				canScroll = true;
 			}
 		}
 		else
@@ -346,9 +350,20 @@
 				pageQuery += "=";
 				snprintf(countStr, 64, "%u", currentIncrement + m_properties.m_nextBase);
 				pageQuery += countStr;
+				canScroll = true;
 			}
 		}
 
+		if ((firstPage == false) &&
+			(canScroll == false))
+		{
+#ifdef DEBUG
+			cout << "PluginWebEngine::runQuery: can't scroll to the next page of results" << endl;
+#endif
+			break;
+		}
+
+		firstPage = false;
 		if (getPage(pageQuery, queryProps.getMaximumResultsCount()) == false)
 		{
 			break;



From fabricecolin at mail.berlios.de  Mon Jan 19 15:01:17 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 19 Jan 2009 15:01:17 +0100
Subject: [Pinot-svn] r1499 - trunk/UI/GTK2/src
Message-ID: <200901191401.n0JE1HAi024437@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-19 15:01:12 +0100 (Mon, 19 Jan 2009)
New Revision: 1499

Modified:
   trunk/UI/GTK2/src/mainWindow.cc
Log:
Repopulate the index menu after editing an index properties in case the name
changed.


Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2009-01-19 13:24:09 UTC (rev 1498)
+++ trunk/UI/GTK2/src/mainWindow.cc	2009-01-19 14:01:12 UTC (rev 1499)
@@ -1827,6 +1827,8 @@
 
 		// Refresh the engines list
 		m_pEnginesTree->populate();
+		// ...and the index menu
+		populate_indexMenu();
 	}
 
 	set_status(_("Edited index"));



From fabricecolin at mail.berlios.de  Mon Jan 19 15:03:39 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 19 Jan 2009 15:03:39 +0100
Subject: [Pinot-svn] r1500 - trunk/IndexSearch/Xapian
Message-ID: <200901191403.n0JE3dak024634@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-19 15:03:28 +0100 (Mon, 19 Jan 2009)
New Revision: 1500

Modified:
   trunk/IndexSearch/Xapian/XapianDatabase.cpp
   trunk/IndexSearch/Xapian/XapianDatabase.h
   trunk/IndexSearch/Xapian/XapianDatabaseFactory.cpp
   trunk/IndexSearch/Xapian/XapianDatabaseFactory.h
Log:
The factory doesn't serve objects once closeAll() is called.
Lock databases before deleting them, processing merged databases first.


Modified: trunk/IndexSearch/Xapian/XapianDatabase.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianDatabase.cpp	2009-01-19 14:01:12 UTC (rev 1499)
+++ trunk/IndexSearch/Xapian/XapianDatabase.cpp	2009-01-19 14:03:28 UTC (rev 1500)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -191,6 +191,7 @@
 	{
 		Url urlObj(m_databaseName);
 
+		// FIXME: in newer versions, the remote backend supports writing
 		if (m_readOnly == false)
 		{
 			cerr << "XapianDatabase::openDatabase: remote databases " << m_databaseName << " are read-only" << endl;
@@ -376,6 +377,25 @@
 	return m_isOpen;
 }
 
+/// Returns true if the database is a merge of other databases.
+bool XapianDatabase::isMerge(void) const
+{
+	return m_merge;
+}
+
+/// Returns false if the database isn't opened in write mode.
+bool XapianDatabase::isWritable(void) const
+{
+	if ((m_isOpen == false) ||
+		(m_readOnly == true) ||
+		(m_merge == true))
+	{
+		return false;
+	}
+
+	return true;
+}
+
 /// Returns false if the database was of an obsolete format.
 bool XapianDatabase::wasObsoleteFormat(void) const
 {
@@ -434,14 +454,15 @@
 			// Lock both indexes
 			Xapian::Database *pFirstDatabase = m_pFirst->readLock();
 			Xapian::Database *pSecondDatabase = m_pSecond->readLock();
-			// Copy the first one
-			m_pDatabase = new Xapian::Database(*pFirstDatabase);
-			// Add the second index to it
-			if (pSecondDatabase != NULL)
+			if ((pFirstDatabase != NULL) &&
+				(pSecondDatabase != NULL))
 			{
+				// Copy the first one
+				m_pDatabase = new Xapian::Database(*pFirstDatabase);
+				// Add the second index to it
 				m_pDatabase->add_database(*pSecondDatabase);
+				// Until unlock() is called, both indexes are read locked
 			}
-			// Until unlock() is called, both indexes are read locked
 
 			return m_pDatabase;
 		}

Modified: trunk/IndexSearch/Xapian/XapianDatabase.h
===================================================================
--- trunk/IndexSearch/Xapian/XapianDatabase.h	2009-01-19 14:01:12 UTC (rev 1499)
+++ trunk/IndexSearch/Xapian/XapianDatabase.h	2009-01-19 14:03:28 UTC (rev 1500)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -42,6 +42,12 @@
 		/// Returns false if the database couldn't be opened.
 		bool isOpen(void) const;
 
+		/// Returns true if the database is a merge of other databases.
+		bool isMerge(void) const;
+
+		/// Returns false if the database isn't opened in write mode.
+		bool isWritable(void) const;
+
 		/// Returns true if the database supports spelling.
 		bool withSpelling(void);
 

Modified: trunk/IndexSearch/Xapian/XapianDatabaseFactory.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianDatabaseFactory.cpp	2009-01-19 14:01:12 UTC (rev 1499)
+++ trunk/IndexSearch/Xapian/XapianDatabaseFactory.cpp	2009-01-19 14:03:28 UTC (rev 1500)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -28,6 +28,7 @@
 
 pthread_mutex_t XapianDatabaseFactory::m_mutex = PTHREAD_MUTEX_INITIALIZER;
 map<string, XapianDatabase *> XapianDatabaseFactory::m_databases;
+bool XapianDatabaseFactory::m_closed = false;
 
 XapianDatabaseFactory::XapianDatabaseFactory()
 {
@@ -41,6 +42,11 @@
 bool XapianDatabaseFactory::mergeDatabases(const string &name,
 	XapianDatabase *pFirst, XapianDatabase *pSecond)
 {
+	if (m_closed == true)
+	{
+		return false;
+	}
+
 	map<string, XapianDatabase *>::iterator dbIter = m_databases.find(name);
 	if (dbIter != m_databases.end())
 	{
@@ -70,7 +76,8 @@
 {
 	XapianDatabase *pDb = NULL;
 
-	if (location.empty() == true)
+	if ((m_closed == true) ||
+		(location.empty() == true))
 	{
 		return NULL;
 	}
@@ -132,20 +139,66 @@
 	}
 
 	// Lock the map
+	// FIXME: another thread may have a database and try and lock it after the loop below deletes it
 	if (pthread_mutex_lock(&m_mutex) != 0)
 	{
 		return;
 	}
+	m_closed = true;
 
+	// Close merged databases first
 	std::map<std::string, XapianDatabase *>::iterator dbIter = m_databases.begin();
 	while (dbIter != m_databases.end())
 	{
 		XapianDatabase *pDb = dbIter->second;
+
+		if (pDb->isMerge() == false)
+		{
+			++dbIter;
+			continue;
+		}
+
+		std::map<std::string, XapianDatabase *>::iterator nextIter = dbIter;
+		++nextIter;
+#ifdef DEBUG
+		cout << "XapianDatabaseFactory::closeAll: closing " << dbIter->first << endl;
+#endif
+
+		// Remove from the map
 		dbIter->second = NULL;
+		m_databases.erase(dbIter);
+
+		Xapian::Database *pIndex = pDb->readLock();
+		pDb->unlock();
+		// Close the database
+		delete pDb;
+
+		dbIter = nextIter;
+	}
+	// Now close all other databases
+	dbIter = m_databases.begin();
+	while (dbIter != m_databases.end())
+	{
+		XapianDatabase *pDb = dbIter->second;
+		Xapian::Database *pIndex = NULL;
 #ifdef DEBUG
 		cout << "XapianDatabaseFactory::closeAll: closing " << dbIter->first << endl;
 #endif
+
+		// Remove from the map
+		dbIter->second = NULL;
 		m_databases.erase(dbIter);
+
+		if (pDb->isWritable() == true)
+		{
+			pIndex = pDb->writeLock();
+		}
+		else
+		{
+			pIndex = pDb->readLock();
+		}
+		pDb->unlock();
+		// Close the database
 		delete pDb;
 
 		dbIter = m_databases.begin();

Modified: trunk/IndexSearch/Xapian/XapianDatabaseFactory.h
===================================================================
--- trunk/IndexSearch/Xapian/XapianDatabaseFactory.h	2009-01-19 14:01:12 UTC (rev 1499)
+++ trunk/IndexSearch/Xapian/XapianDatabaseFactory.h	2009-01-19 14:03:28 UTC (rev 1500)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -45,6 +45,7 @@
 	protected:
 		static pthread_mutex_t m_mutex;
 		static std::map<std::string, XapianDatabase *> m_databases;
+		static bool m_closed;
 
 		XapianDatabaseFactory();
 



From fabricecolin at mail.berlios.de  Thu Jan 22 14:19:20 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Thu, 22 Jan 2009 14:19:20 +0100
Subject: [Pinot-svn] r1501 - trunk/UI/GTK2/src
Message-ID: <200901221319.n0MDJKkO014736@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-22 14:19:16 +0100 (Thu, 22 Jan 2009)
New Revision: 1501

Modified:
   trunk/UI/GTK2/src/prefsWindow.cc
Log:
No need to switch tabs on first run as Indexing is now the first tab.


Modified: trunk/UI/GTK2/src/prefsWindow.cc
===================================================================
--- trunk/UI/GTK2/src/prefsWindow.cc	2009-01-19 14:03:28 UTC (rev 1500)
+++ trunk/UI/GTK2/src/prefsWindow.cc	2009-01-22 13:19:16 UTC (rev 1501)
@@ -244,14 +244,6 @@
 		apiKeyEntry->hide();
 	}
 
-	// Show The Indexing tab on first run
-	if ((m_settings.isFirstRun() == true) &&
-		(prefsNotebook != NULL) &&
-		(prefsNotebook->get_n_pages() > 3))
-	{
-		prefsNotebook->set_current_page(3);
-	}
-
 	// Connect to threads' finished signal
 	m_state.connect();
 



From fabricecolin at mail.berlios.de  Thu Jan 22 14:22:24 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Thu, 22 Jan 2009 14:22:24 +0100
Subject: [Pinot-svn] r1502 - trunk/UI/GTK2/src
Message-ID: <200901221322.n0MDMOB9014953@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-22 14:22:13 +0100 (Thu, 22 Jan 2009)
New Revision: 1502

Modified:
   trunk/UI/GTK2/src/EnginesTree.cpp
   trunk/UI/GTK2/src/PinotSettings.cpp
   trunk/UI/GTK2/src/PinotSettings.h
   trunk/UI/GTK2/src/ResultsTree.cpp
   trunk/UI/GTK2/src/WorkerThreads.cpp
   trunk/UI/GTK2/src/WorkerThreads.h
   trunk/UI/GTK2/src/indexDialog.cc
   trunk/UI/GTK2/src/mainWindow.cc
Log:
The PinotSettings::IndexProperties encapsulates an index properties and
side-steps issues experienced with manipulating and looking up index names in
non-Latin locales.


Modified: trunk/UI/GTK2/src/EnginesTree.cpp
===================================================================
--- trunk/UI/GTK2/src/EnginesTree.cpp	2009-01-22 13:19:16 UTC (rev 1501)
+++ trunk/UI/GTK2/src/EnginesTree.cpp	2009-01-22 13:22:13 UTC (rev 1502)
@@ -303,8 +303,8 @@
 		std::set<ModuleProperties>::const_iterator engineIter = engines.begin();
 		for (; engineIter != engines.end(); ++engineIter)
 		{
-			string engineType(engineIter->m_name);
-			string engineName(engineIter->m_longName);
+			ustring engineType(to_utf8(engineIter->m_name));
+			ustring engineName(to_utf8(engineIter->m_longName));
 
 			if (ModuleFactory::isSupported(engineType, true) == true)
 			{
@@ -315,8 +315,8 @@
 			TreeModel::iterator iter = m_refStore->append(folderIter->children());
 			row = *iter;
 
-			row[m_enginesColumns.m_name] = to_utf8(engineName);
-			row[m_enginesColumns.m_engineName] = to_utf8(engineType);
+			row[m_enginesColumns.m_name] = engineName;
+			row[m_enginesColumns.m_engineName] = engineType;
 			row[m_enginesColumns.m_option] = engineIter->m_option;
 			row[m_enginesColumns.m_type] = EnginesModelColumns::WEB_ENGINE;
 #ifdef DEBUG
@@ -348,23 +348,21 @@
 	}
 
 	// Local engines
-	std::map<std::string, std::string>::const_iterator indexIter = m_settings.getIndexes().begin();
-	for (; indexIter != m_settings.getIndexes().end(); ++indexIter)
+	for (set<PinotSettings::IndexProperties>::const_iterator indexIter = m_settings.getIndexes().begin();
+		indexIter != m_settings.getIndexes().end(); ++indexIter)
 	{
-		ustring indexName(indexIter->first);
 		EnginesModelColumns::EngineType indexType = EnginesModelColumns::INDEX_ENGINE;
 
-		if ((indexName == _("My Web Pages")) ||
-			(indexName == _("My Documents")))
+		if (indexIter->m_internal == true)
 		{
 			indexType = EnginesModelColumns::INTERNAL_INDEX_ENGINE;
 		}
 
 		TreeModel::iterator iter = m_refStore->append(localIter->children());
 		TreeModel::Row childRow = *iter;
-		childRow[m_enginesColumns.m_name] = indexName;
+		childRow[m_enginesColumns.m_name] = indexIter->m_name;
 		childRow[m_enginesColumns.m_engineName] = m_settings.m_defaultBackend;
-		childRow[m_enginesColumns.m_option] = indexIter->second;
+		childRow[m_enginesColumns.m_option] = indexIter->m_location;
 		childRow[m_enginesColumns.m_type] = indexType;
 	}
 

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-22 13:19:16 UTC (rev 1501)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-22 13:22:13 UTC (rev 1502)
@@ -318,8 +318,7 @@
 	m_cacheProtocols.clear();
 
 	m_firstRun = false;
-	m_indexNames.clear();
-	m_indexIds.clear();
+	m_indexes.clear();
 	m_indexCount = 0;
 	m_engines.clear();
 	m_engineIds.clear();
@@ -421,8 +420,8 @@
 	}
 
 	// Internal indices
-	addIndex(_("My Web Pages"), m_docsIndexLocation);
-	addIndex(_("My Documents"), m_daemonIndexLocation);
+	addIndex(_("My Web Pages"), m_docsIndexLocation, true);
+	addIndex(_("My Documents"), m_daemonIndexLocation, true);
 
 	if (m_firstRun == true)
 	{
@@ -547,7 +546,7 @@
 	return true;
 }
 
-bool PinotSettings::loadConfiguration(const std::string &fileName, bool isGlobal)
+bool PinotSettings::loadConfiguration(const string &fileName, bool isGlobal)
 {
 	struct stat fileStat;
 	bool success = true;
@@ -821,7 +820,7 @@
 	if ((indexName.empty() == false) &&
 		(indexLocation.empty() == false))
 	{
-		addIndex(indexName, indexLocation);
+		addIndex(indexName, indexLocation, false);
 	}
 
 	return true;
@@ -1496,11 +1495,9 @@
 			addChildElement(pElem, "expandqueries", (m_expandQueries ? "YES" : "NO"));
 			addChildElement(pElem, "showengines", (m_showEngines ? "YES" : "NO"));
 			// User-defined indexes
-			for (map<string, string>::iterator indexIter = m_indexNames.begin(); indexIter != m_indexNames.end(); ++indexIter)
+			for (set<IndexProperties>::iterator indexIter = m_indexes.begin(); indexIter != m_indexes.end(); ++indexIter)
 			{
-				string indexName = indexIter->first;
-
-				if (isInternalIndex(indexName) == true)
+				if (indexIter->m_internal == true)
 				{
 					continue;
 				}
@@ -1510,8 +1507,8 @@
 				{
 					return false;
 				}
-				addChildElement(pElem, "name", indexIter->first);
-				addChildElement(pElem, "location", indexIter->second);
+				addChildElement(pElem, "name", indexIter->m_name);
+				addChildElement(pElem, "location", indexIter->m_location);
 			}
 			// Engine channels
 			for (map<string, bool>::iterator channelIter = m_engineChannels.begin();
@@ -1656,63 +1653,34 @@
 	return true;
 }
 
-/// Returns the indexes map, keyed by name.
-const map<string, string> &PinotSettings::getIndexes(void) const
+/// Returns the indexes set.
+const set<PinotSettings::IndexProperties> &PinotSettings::getIndexes(void) const
 {
-	return m_indexNames;
+	return m_indexes;
 }
 
-/// Returns true if the given index is internal.
-bool PinotSettings::isInternalIndex(const string &name) const
-{
-	if ((name == _("My Web Pages")) ||
-		(name == _("My Documents")))
-	{
-		return true;
-	}
-
-	return false;		
-}
-
 /// Adds a new index.
-bool PinotSettings::addIndex(const string &name, const string &location)
+bool PinotSettings::addIndex(const ustring &name, const string &location, bool isInternal)
 {
-	map<string, string>::iterator namesMapIter = m_indexNames.find(name);
-	if (namesMapIter == m_indexNames.end())
-	{
-		// Okay, no such index exists
-		m_indexIds[1 << m_indexCount] = name;
-		m_indexNames[name] = location;
+	unsigned int indexId(1 << m_indexCount);
+	m_indexes.insert(IndexProperties(name, location, indexId, isInternal));
 #ifdef DEBUG
-		cout << "PinotSettings::addIndex: index " << m_indexCount << " is " << name << endl;
+	cout << "PinotSettings::addIndex: index " << m_indexCount << " is " << name << " with ID " << indexId << endl;
 #endif
-		++m_indexCount;
+	++m_indexCount;
 
-		return true;
-	}
-
-	return false;
+	return true;
 }
 
 /// Removes an index.
-bool PinotSettings::removeIndex(const string &name)
+bool PinotSettings::removeIndex(const IndexProperties &indexProps)
 {
 	// Remove from the names map
-	map<string, string>::iterator namesMapIter = m_indexNames.find(name);
-	if (namesMapIter != m_indexNames.end())
+	set<IndexProperties>::iterator namesMapIter = m_indexes.find(indexProps);
+	if (namesMapIter != m_indexes.end())
 	{
-		m_indexNames.erase(namesMapIter);
+		m_indexes.erase(namesMapIter);
 
-		// Remove from the IDs map
-		for (map<unsigned int, string>::iterator idsMapIter = m_indexIds.begin();
-			idsMapIter != m_indexIds.end(); ++idsMapIter)
-		{
-			if (idsMapIter->second == name)
-			{
-				m_indexIds.erase(idsMapIter);
-			}
-		}
-
 		return true;
 	}
 
@@ -1722,49 +1690,47 @@
 /// Clears the indexes map.
 void PinotSettings::clearIndexes(void)
 {
-	// Clear both maps, reinsert the internal index
-	m_indexNames.clear();
-	m_indexIds.clear();
+	// Clear and reinsert the internal indexes
+	m_indexes.clear();
 	m_indexCount = 0;
-	addIndex(_("My Web Pages"), m_docsIndexLocation);
-	addIndex(_("My Documents"), m_daemonIndexLocation);
+	addIndex(_("My Web Pages"), m_docsIndexLocation, true);
+	addIndex(_("My Documents"), m_daemonIndexLocation, true);
 }
 
-/// Returns an ID that identifies the given index.
-unsigned int PinotSettings::getIndexIdByName(const std::string &name)
+/// Returns properties of the given index.
+PinotSettings::IndexProperties PinotSettings::getIndexPropertiesByName(const string &name) const
 {
 	unsigned int indexId = 0;
 
-	for (map<unsigned int, string>::iterator mapIter = m_indexIds.begin();
-		mapIter != m_indexIds.end(); ++mapIter)
+	for (set<IndexProperties>::const_iterator propsIter = m_indexes.begin();
+		propsIter != m_indexes.end(); ++propsIter)
 	{
-		if (mapIter->second == name)
+		if (propsIter->m_name == name)
 		{
-			indexId = mapIter->first;
-			break;
+			return *propsIter;
 		}
 	}
 
-	return indexId;
+	return IndexProperties();
 }
 
-/// Returns an ID that identifies the given index.
-unsigned int PinotSettings::getIndexIdByLocation(const std::string &location)
+/// Returns properties of the given index.
+PinotSettings::IndexProperties PinotSettings::getIndexPropertiesByLocation(const string &location) const
 {
-	for (map<string, string>::iterator mapIter = m_indexNames.begin();
-		mapIter != m_indexNames.end(); ++mapIter)
+	for (set<IndexProperties>::const_iterator propsIter = m_indexes.begin();
+		propsIter != m_indexes.end(); ++propsIter)
 	{
-		if (mapIter->second == location)
+		if (propsIter->m_location == location)
 		{
-			return getIndexIdByName(mapIter->first);
+			return *propsIter;
 		}
 	}
 
-	return 0;
+	return IndexProperties();
 }
 
 /// Returns the name(s) for the given ID.
-void PinotSettings::getIndexNames(unsigned int id, std::set<std::string> &names)
+void PinotSettings::getIndexNames(unsigned int id, set<string> &names)
 {
 	names.clear();
 
@@ -1779,14 +1745,17 @@
 	{
 		if (id & indexId)
 		{
-			map<unsigned int, string>::iterator mapIter = m_indexIds.find(indexId);
-			if (mapIter != m_indexIds.end())
+			for (set<IndexProperties>::const_iterator propsIter = m_indexes.begin();
+				propsIter != m_indexes.end(); ++propsIter)
 			{
+				if (propsIter->m_id == indexId)
+				{
 #ifdef DEBUG
-				cout << "PinotSettings::getIndexNames: index " << indexId << " is " << mapIter->second << endl;
+					cout << "PinotSettings::getIndexNames: index " << indexId << " is " << propsIter->m_name << endl;
 #endif
-				// Get the associated name
-				names.insert(mapIter->second);
+					// Get the associated name
+					names.insert(propsIter->m_name);
+				}
 			}
 		}
 		// Shift to the right
@@ -2123,3 +2092,78 @@
 
 	return false;
 }
+
+PinotSettings::IndexProperties::IndexProperties() :
+	m_id(0),
+	m_internal(false)
+{
+}
+
+PinotSettings::IndexProperties::IndexProperties(const ustring &name,
+	const string &location, unsigned int id, bool isInternal) :
+	m_name(name),
+	m_location(location),
+	m_id(id),
+	m_internal(isInternal)
+{
+}
+
+PinotSettings::IndexProperties::IndexProperties(const IndexProperties &other) :
+	m_name(other.m_name),
+	m_location(other.m_location),
+	m_id(other.m_id),
+	m_internal(other.m_internal)
+{
+}
+
+PinotSettings::IndexProperties::~IndexProperties()
+{
+}
+
+PinotSettings::IndexProperties& PinotSettings::IndexProperties::operator=(const IndexProperties &other)
+{
+	if (this != &other)
+	{
+		m_name = other.m_name;
+		m_location = other.m_location;
+		m_id = other.m_id;
+		m_internal = other.m_internal;
+	}
+
+	return *this;
+}
+
+bool PinotSettings::IndexProperties::operator<(const IndexProperties &other) const
+{
+	if (m_id < other.m_id)
+	{
+		return true;
+	}
+	else if (m_id == other.m_id)
+	{
+		if (m_name < other.m_name)
+		{
+			return true;
+		}
+	}
+#ifdef DEBUG
+	cout << "PinotSettings::IndexProperties::operator<: " << m_id << "/" << m_name
+		<< " more than " << other.m_id << "/" << other.m_name << endl;
+#endif
+
+	return false;
+}
+
+bool PinotSettings::IndexProperties::operator==(const IndexProperties &other) const
+{
+	if (m_id == other.m_id)
+	{
+		return true;
+	}
+#ifdef DEBUG
+	cout << "PinotSettings::IndexProperties::operator==: " << m_id << "/" << m_name
+		<< " not equal to " << other.m_id << "/" << other.m_name << endl;
+#endif
+
+	return false;
+}

Modified: trunk/UI/GTK2/src/PinotSettings.h
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.h	2009-01-22 13:19:16 UTC (rev 1501)
+++ trunk/UI/GTK2/src/PinotSettings.h	2009-01-22 13:22:13 UTC (rev 1502)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -41,6 +41,27 @@
 
 		typedef enum { SAVE_PREFS = 0, SAVE_CONFIG } SaveWhat;
 
+		class IndexProperties
+		{
+			public:
+				IndexProperties();
+				IndexProperties(const Glib::ustring &name,
+		                        const std::string &location,
+					unsigned int id, bool isInternal);
+				IndexProperties(const IndexProperties &other);
+				virtual ~IndexProperties();
+
+				IndexProperties& operator=(const IndexProperties &other);
+				bool operator<(const IndexProperties &other) const;
+				bool operator==(const IndexProperties &other) const;
+
+				Glib::ustring m_name;
+				std::string m_location;
+				unsigned int m_id;
+				bool m_internal;
+
+		};
+
 		static PinotSettings &getInstance(void);
 
 		static bool enableClientMode(bool enable);
@@ -65,26 +86,24 @@
 
 		bool save(SaveWhat what);
 
-		/// Returns the indexes map, keyed by name.
-		const std::map<std::string, std::string> &getIndexes(void) const;
+		/// Returns the indexes set.
+		const std::set<IndexProperties> &getIndexes(void) const;
 
-		/// Returns true if the given index is internal.
-		bool isInternalIndex(const string &name) const;
-
 		/// Adds a new index.
-		bool addIndex(const std::string &name, const std::string &location);
+		bool addIndex(const Glib::ustring &name, const std::string &location,
+			bool isInternal = false);
 
 		/// Removes an index.
-		bool removeIndex(const std::string &name);
+		bool removeIndex(const IndexProperties &indexProps);
 
 		/// Clears the indexes map.
 		void clearIndexes(void);
 
-		/// Returns an ID that identifies the given index.
-		unsigned int getIndexIdByName(const std::string &name);
+		/// Returns properties of the given index.
+		IndexProperties getIndexPropertiesByName(const std::string &name) const;
 
-		/// Returns an ID that identifies the given index.
-		unsigned int getIndexIdByLocation(const std::string &location);
+		/// Returns properties of the given index.
+		IndexProperties getIndexPropertiesByLocation(const std::string &location) const;
 
 		/// Returns the name(s) for the given ID.
 		void getIndexNames(unsigned int id, std::set<std::string> &names);
@@ -190,8 +209,7 @@
 		static PinotSettings m_instance;
 		static bool m_clientMode;
 		bool m_firstRun;
-		std::map<std::string, std::string> m_indexNames;
-		std::map<unsigned int, std::string> m_indexIds;
+		std::set<IndexProperties> m_indexes;
 		unsigned int m_indexCount;
 		std::set<ModuleProperties> m_engines;
 		std::map<unsigned int, std::string> m_engineIds;

Modified: trunk/UI/GTK2/src/ResultsTree.cpp
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-22 13:19:16 UTC (rev 1501)
+++ trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-22 13:22:13 UTC (rev 1502)
@@ -491,11 +491,11 @@
 		if (engineId == 0)
 		{
 			// Chances are this engine is an index
-			std::map<string, string>::const_iterator mapIter = m_settings.getIndexes().find(engineName);
-			if (mapIter != m_settings.getIndexes().end())
+			PinotSettings::IndexProperties indexProps = m_settings.getIndexPropertiesByName(engineName);
+			if (indexProps.m_location.empty() == false)
 			{
 				// Yes, it is
-				indexId = m_settings.getIndexIdByName(engineName);
+				indexId = indexProps.m_id;
 				engineId = m_settings.getEngineId(m_settings.m_defaultBackend);
 #ifdef DEBUG
 				cout << "ResultsTree::addResults: engine is index " << engineName << " " << indexId << " " << engineId << endl;
@@ -600,7 +600,7 @@
 
 		++count;
 
-		// We already got indexId from PinotSettings::getIndexIdByName()
+		// We already got indexId from PinotSettings
 		unsigned int docIndexId = 0;
 		unsigned int docId = resultIter->getIsIndexed(docIndexId);
 		bool isIndexed = false;
@@ -806,7 +806,7 @@
 						// Erase this
 						engineNames.erase(backendIter);
 #ifdef DEBUG
-						cout << "ResultsTree::setGroupMode: row is for index(es)" << indexIds << endl;
+						cout << "ResultsTree::setGroupMode: row is for index(es) " << indexIds << endl;
 #endif
 
 						// Add entries for each index name so that we can loop once on engine names
@@ -833,8 +833,8 @@
 						if (engineId == 0)
 						{
 							// This is actually an index, not an engine...
-							indexId = m_settings.getIndexIdByName(engineName);
-							if (indexId > 0)
+							PinotSettings::IndexProperties indexProps = m_settings.getIndexPropertiesByName(engineName);
+							if (indexProps.m_location.empty() == false)
 							{
 								engineId = m_settings.getEngineId(m_settings.m_defaultBackend);
 							}
@@ -962,12 +962,13 @@
 				// Any internal index in there ?
 				for (set<string>::iterator indexIter = indexNames.begin(); indexIter != indexNames.end(); ++indexIter)
 				{
-					if  (m_settings.isInternalIndex(*indexIter) == true)
+					PinotSettings::IndexProperties indexProps = m_settings.getIndexPropertiesByName(*indexIter);
+					if (indexProps.m_internal == true)
 					{
 #ifdef DEBUG
 						cout << "ResultsTree::getSelection: result in internal index " << *indexIter << endl;
 #endif
-						current.setIsIndexed(m_settings.getIndexIdByName(*indexIter), row[m_resultsColumns.m_docId]);
+						current.setIsIndexed(indexProps.m_id, row[m_resultsColumns.m_docId]);
 						break;
 					}
 				}
@@ -1124,11 +1125,11 @@
 	if (engineId == 0)
 	{
 		// Chances are this engine is an index
-		std::map<string, string>::const_iterator mapIter = m_settings.getIndexes().find(engineName);
-		if (mapIter != m_settings.getIndexes().end())
+		PinotSettings::IndexProperties indexProps = m_settings.getIndexPropertiesByName(engineName);
+		if (indexProps.m_location.empty() == false)
 		{
 			// Yes, it is
-			indexId = m_settings.getIndexIdByName(engineName);
+			indexId = indexProps.m_id;
 			engineId = m_settings.getEngineId(m_settings.m_defaultBackend);
 		}
 	}

Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2009-01-22 13:19:16 UTC (rev 1501)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2009-01-22 13:22:13 UTC (rev 1502)
@@ -747,9 +747,10 @@
 	return foundItem;
 }
 
-ListerThread::ListerThread(const string &indexName, unsigned int startDoc) :
+ListerThread::ListerThread(const PinotSettings::IndexProperties &indexProps,
+	unsigned int startDoc) :
 	WorkerThread(),
-	m_indexName(indexName),
+	m_indexProps(indexProps),
 	m_startDoc(startDoc),
 	m_documentsCount(0)
 {
@@ -764,9 +765,9 @@
 	return "ListerThread";
 }
 
-string ListerThread::getIndexName(void) const
+PinotSettings::IndexProperties ListerThread::getIndexProperties(void) const
 {
-	return m_indexName;
+	return m_indexProps;
 }
 
 unsigned int ListerThread::getStartDoc(void) const
@@ -784,9 +785,9 @@
 	return m_documentsCount;
 }
 
-IndexBrowserThread::IndexBrowserThread(const string &indexName,
+IndexBrowserThread::IndexBrowserThread(const PinotSettings::IndexProperties &indexProps,
 	unsigned int maxDocsCount, unsigned int startDoc) :
-	ListerThread(indexName, startDoc),
+	ListerThread(indexProps, startDoc),
 	m_maxDocsCount(maxDocsCount)
 {
 }
@@ -801,22 +802,20 @@
 	set<string> docLabels;
 	unsigned int numDocs = 0;
 
-	const map<string, string> &indexesMap = PinotSettings::getInstance().getIndexes();
-	map<string, string>::const_iterator mapIter = indexesMap.find(m_indexName);
-	if (mapIter == indexesMap.end())
+	if (m_indexProps.m_location.empty() == true)
 	{
 		m_errorNum = UNKNOWN_INDEX;
-		m_errorParam = m_indexName;
+		m_errorParam = m_indexProps.m_name.c_str();
 		return;
 	}
 
 	// Get the index at that location
-	IndexInterface *pIndex = PinotSettings::getInstance().getIndex(mapIter->second);
+	IndexInterface *pIndex = PinotSettings::getInstance().getIndex(m_indexProps.m_location);
 	if ((pIndex == NULL) ||
 		(pIndex->isGood() == false))
 	{
 		m_errorNum = INDEX_ERROR;
-		m_errorParam = mapIter->second;
+		m_errorParam = m_indexProps.m_location;
 		if (pIndex != NULL)
 		{
 			delete pIndex;
@@ -842,7 +841,6 @@
 	m_documentsList.clear();
 	m_documentsList.reserve(m_maxDocsCount);
 
-	unsigned int indexId = PinotSettings::getInstance().getIndexIdByName(m_indexName);
 	for (set<unsigned int>::iterator iter = docIDList.begin(); iter != docIDList.end(); ++iter)
 	{
 		unsigned int docId = (*iter);
@@ -861,7 +859,7 @@
 			{
 				docInfo.setType("text/html");
 			}
-			docInfo.setIsIndexed(indexId, docId);
+			docInfo.setIsIndexed(m_indexProps.m_id, docId);
 
 			// Insert that document
 			m_documentsList.push_back(docInfo);
@@ -874,21 +872,38 @@
 	delete pIndex;
 }
 
+QueryingThread::QueryingThread(const PinotSettings::IndexProperties &indexProps,
+	const QueryProperties &queryProps, unsigned int startDoc, bool listingIndex) :
+	ListerThread(indexProps, startDoc),
+	m_engineName(PinotSettings::getInstance().m_defaultBackend),
+	m_engineDisplayableName(indexProps.m_name),
+	m_engineOption(indexProps.m_location),
+	m_queryProps(queryProps),
+	m_listingIndex(listingIndex),
+	m_correctedSpelling(false),
+	m_isLive(true)
+{
+#ifdef DEBUG
+	cout << "QueryingThread: engine " << m_engineName << ", " << m_engineOption
+		<< ", mode " << m_listingIndex << endl;
+#endif
+}
+
 QueryingThread::QueryingThread(const string &engineName, const string &engineDisplayableName,
 	const string &engineOption, const QueryProperties &queryProps,
-	unsigned int startDoc, bool listingIndex) :
-	ListerThread(engineDisplayableName, startDoc),
+	unsigned int startDoc) :
+	ListerThread(PinotSettings::IndexProperties(engineDisplayableName, engineOption, 0, false), startDoc),
 	m_engineName(engineName),
 	m_engineDisplayableName(engineDisplayableName),
 	m_engineOption(engineOption),
 	m_queryProps(queryProps),
-	m_listingIndex(listingIndex),
+	m_listingIndex(false),
 	m_correctedSpelling(false),
 	m_isLive(true)
 {
 #ifdef DEBUG
 	cout << "QueryingThread: engine " << m_engineName << ", " << m_engineOption
-		<< ", mode " << m_listingIndex << endl;
+		<< ", mode 0" << endl;
 #endif
 }
 
@@ -977,22 +992,27 @@
 	return false;
 }
 
-EngineQueryThread::EngineQueryThread(const string &engineName, const string &engineDisplayableName,
-	const string &engineOption, const QueryProperties &queryProps,
-	unsigned int startDoc, bool listingIndex) :
-	QueryingThread(engineName, engineDisplayableName, engineOption, queryProps, startDoc, listingIndex)
+EngineQueryThread::EngineQueryThread(const PinotSettings::IndexProperties &indexProps,
+	const QueryProperties &queryProps, unsigned int startDoc, bool listingIndex) :
+	QueryingThread(indexProps, queryProps, startDoc, listingIndex)
 {
 }
 
-EngineQueryThread::EngineQueryThread(const string &engineName, const string &engineDisplayableName,
-	const string &engineOption, const QueryProperties &queryProps,
-	const set<string> &limitToDocsSet, unsigned int startDoc) :
-	QueryingThread(engineName, engineDisplayableName, engineOption, queryProps, startDoc, false)
+EngineQueryThread::EngineQueryThread(const PinotSettings::IndexProperties &indexProps,
+	const QueryProperties &queryProps, const set<string> &limitToDocsSet,
+	unsigned int startDoc) :
+	QueryingThread(indexProps, queryProps, startDoc, false)
 {
 	copy(limitToDocsSet.begin(), limitToDocsSet.end(),
 		inserter(m_limitToDocsSet, m_limitToDocsSet.begin()));
 }
 
+EngineQueryThread::EngineQueryThread(const string &engineName, const string &engineDisplayableName,
+	const string &engineOption, const QueryProperties &queryProps, unsigned int startDoc) :
+	QueryingThread(engineName, engineDisplayableName, engineOption, queryProps, startDoc)
+{
+}
+
 EngineQueryThread::~EngineQueryThread()
 {
 }
@@ -1012,7 +1032,7 @@
 		if ((m_engineOption == settings.m_docsIndexLocation) ||
 			(m_engineOption == settings.m_daemonIndexLocation))
 		{
-			indexId = settings.getIndexIdByLocation(m_engineOption);
+			indexId = settings.getIndexPropertiesByLocation(m_engineOption).m_id;
 			isIndexQuery = true;
 		}
 	}
@@ -1066,7 +1086,7 @@
 			docId = pDocsIndex->hasDocument(location);
 			if (docId > 0)
 			{
-				indexId = settings.getIndexIdByName(_("My Web Pages"));
+				indexId = settings.getIndexPropertiesByName(_("My Web Pages")).m_id;
 			}
 		}
 		if ((pDaemonIndex != NULL) &&
@@ -1076,7 +1096,7 @@
 			docId = pDaemonIndex->hasDocument(location);
 			if (docId > 0)
 			{
-				indexId = settings.getIndexIdByName(_("My Documents"));
+				indexId = settings.getIndexPropertiesByName(_("My Documents")).m_id;
 			}
 		}
 
@@ -1197,7 +1217,7 @@
 		else
 		{
 			processResults(resultsList,
-				PinotSettings::getInstance().getIndexIdByName(m_engineDisplayableName));
+				PinotSettings::getInstance().getIndexPropertiesByName(m_engineDisplayableName).m_id);
 		}
 
 		// Don't spellcheck if the query was modified in any way
@@ -1219,7 +1239,7 @@
 
 EngineHistoryThread::EngineHistoryThread(const string &engineDisplayableName,
 	const QueryProperties &queryProps, unsigned int maxDocsCount) :
-	QueryingThread("", engineDisplayableName, "", queryProps, 0, false),
+	QueryingThread("", engineDisplayableName, "", queryProps, 0),
 	m_maxDocsCount(maxDocsCount)
 {
 	// Results are converted to UTF-8 prior to insertion in the history database
@@ -1780,7 +1800,9 @@
 
 				// The document properties may have changed
 				pIndex->getDocumentInfo(m_docId, m_docInfo);
-				m_docInfo.setIsIndexed(PinotSettings::getInstance().getIndexIdByLocation(m_indexLocation), m_docId);
+				m_docInfo.setIsIndexed(
+					PinotSettings::getInstance().getIndexPropertiesByLocation(m_indexLocation).m_id,
+					m_docId);
 			}
 		}
 	}
@@ -1908,10 +1930,10 @@
 	delete pIndex;
 }
 
-UpdateDocumentThread::UpdateDocumentThread(const string &indexName, unsigned int docId,
+UpdateDocumentThread::UpdateDocumentThread(const PinotSettings::IndexProperties &indexProps, unsigned int docId,
 	const DocumentInfo &docInfo, bool updateLabels) :
 	WorkerThread(),
-	m_indexName(indexName),
+	m_indexProps(indexProps),
 	m_docId(docId),
 	m_docInfo(docInfo),
 	m_updateLabels(updateLabels)
@@ -1927,9 +1949,9 @@
 	return "UpdateDocumentThread";
 }
 
-string UpdateDocumentThread::getIndexName(void) const
+PinotSettings::IndexProperties UpdateDocumentThread::getIndexProperties(void) const
 {
-	return m_indexName;
+	return m_indexProps;
 }
 
 unsigned int UpdateDocumentThread::getDocumentID(void) const
@@ -1946,22 +1968,20 @@
 {
 	if (m_done == false)
 	{
-		const map<string, string> &indexesMap = PinotSettings::getInstance().getIndexes();
-		map<string, string>::const_iterator mapIter = indexesMap.find(m_indexName);
-		if (mapIter == indexesMap.end())
+		if (m_indexProps.m_location.empty() == true)
 		{
 			m_errorNum = UNKNOWN_INDEX;
-			m_errorParam = m_indexName;
+			m_errorParam = m_indexProps.m_name.c_str();
 			return;
 		}
 
 		// Get the index at that location
-		IndexInterface *pIndex = PinotSettings::getInstance().getIndex(mapIter->second);
+		IndexInterface *pIndex = PinotSettings::getInstance().getIndex(m_indexProps.m_location);
 		if ((pIndex == NULL) ||
 			(pIndex->isGood() == false))
 		{
 			m_errorNum = INDEX_ERROR;
-			m_errorParam = mapIter->second;
+			m_errorParam = m_indexProps.m_location;
 			if (pIndex != NULL)
 			{
 				delete pIndex;

Modified: trunk/UI/GTK2/src/WorkerThreads.h
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.h	2009-01-22 13:19:16 UTC (rev 1501)
+++ trunk/UI/GTK2/src/WorkerThreads.h	2009-01-22 13:22:13 UTC (rev 1502)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005-2008 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -173,12 +173,13 @@
 class ListerThread : public WorkerThread
 {
 	public:
-		ListerThread(const std::string &indexName, unsigned int startDoc);
+		ListerThread(const PinotSettings::IndexProperties &indexProps,
+			unsigned int startDoc);
 		~ListerThread();
 
 		std::string getType(void) const;
 
-		std::string getIndexName(void) const;
+		PinotSettings::IndexProperties getIndexProperties(void) const;
 
 		unsigned int getStartDoc(void) const;
 
@@ -187,7 +188,7 @@
 		unsigned int getDocumentsCount(void) const;
 
 	protected:
-		std::string m_indexName;
+		PinotSettings::IndexProperties m_indexProps;
 		unsigned int m_startDoc;
 		std::vector<DocumentInfo> m_documentsList;
 		unsigned int m_documentsCount;
@@ -201,8 +202,8 @@
 class IndexBrowserThread : public ListerThread
 {
 	public:
-		IndexBrowserThread(const std::string &indexName, unsigned int maxDocsCount,
-			unsigned int startDoc = 0);
+		IndexBrowserThread(const PinotSettings::IndexProperties &indexProps,
+			unsigned int maxDocsCount, unsigned int startDoc = 0);
 		~IndexBrowserThread();
 
 		std::string getLabelName(void) const;
@@ -221,9 +222,12 @@
 class QueryingThread : public ListerThread
 {
 	public:
+		QueryingThread(const PinotSettings::IndexProperties &indexProps,
+			const QueryProperties &queryProps, unsigned int startDoc = 0,
+			bool listingIndex = false);
 		QueryingThread(const std::string &engineName, const std::string &engineDisplayableName,
 			const std::string &engineOption, const QueryProperties &queryProps,
-			unsigned int startDoc = 0, bool listingIndex = false);
+			unsigned int startDoc = 0);
 		virtual ~QueryingThread();
 
 		virtual std::string getType(void) const;
@@ -257,12 +261,15 @@
 class EngineQueryThread : public QueryingThread
 {
 	public:
+		EngineQueryThread(const PinotSettings::IndexProperties &indexProps,
+			const QueryProperties &queryProps, unsigned int startDoc = 0,
+			bool listingIndex = false);
+		EngineQueryThread(const PinotSettings::IndexProperties &indexProps,
+			const QueryProperties &queryProps,
+			const std::set<std::string> &limitToDocsSet, unsigned int startDoc = 0);
 		EngineQueryThread(const std::string &engineName, const std::string &engineDisplayableName,
 			const std::string &engineOption, const QueryProperties &queryProps,
-			unsigned int startDoc = 0, bool listingIndex = false);
-		EngineQueryThread(const std::string &engineName, const std::string &engineDisplayableName,
-			const std::string &engineOption, const QueryProperties &queryProps,
-			const std::set<std::string> &limitToDocsSet, unsigned int startDoc = 0);
+			unsigned int startDoc = 0);
 		virtual ~EngineQueryThread();
 
 	protected:
@@ -449,20 +456,21 @@
 {
 	public:
 		// Update a document's properties
-		UpdateDocumentThread(const std::string &indexName, unsigned int docId,
-			const DocumentInfo &docInfo, bool updateLabels);
+		UpdateDocumentThread(const PinotSettings::IndexProperties &indexProps,
+			unsigned int docId, const DocumentInfo &docInfo,
+			bool updateLabels);
 		virtual ~UpdateDocumentThread();
 
 		virtual std::string getType(void) const;
 
-		std::string getIndexName(void) const;
+		PinotSettings::IndexProperties getIndexProperties(void) const;
 
 		unsigned int getDocumentID(void) const;
 
 		const DocumentInfo &getDocumentInfo(void) const;
 
 	protected:
-		std::string m_indexName;
+		PinotSettings::IndexProperties m_indexProps;
 		unsigned int m_docId;
 		DocumentInfo m_docInfo;
 		bool m_updateLabels;

Modified: trunk/UI/GTK2/src/indexDialog.cc
===================================================================
--- trunk/UI/GTK2/src/indexDialog.cc	2009-01-22 13:19:16 UTC (rev 1501)
+++ trunk/UI/GTK2/src/indexDialog.cc	2009-01-22 13:22:13 UTC (rev 1502)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -250,15 +250,19 @@
 #endif
 
 	// Look up that index name in the map
-	const std::map<string, string> &indexesMap = settings.getIndexes();
-	std::map<string, string>::const_iterator indexIter = indexesMap.find(from_utf8(name));
-	if (indexIter != indexesMap.end())
+	const set<PinotSettings::IndexProperties> &indexes = settings.getIndexes();
+	for (set<PinotSettings::IndexProperties>::const_iterator indexIter = indexes.begin();
+		indexIter != indexes.end(); ++indexIter)
 	{
-		// This name is in use
-		m_badName = true;
+		if (indexIter->m_name == name)
+		{
+			// This name is in use
+			m_badName = true;
 #ifdef DEBUG
-		cout << "indexDialog::on_indexOkbutton_clicked: name in use" << endl;
+			cout << "indexDialog::on_indexOkbutton_clicked: name in use" << endl;
 #endif
+			break;
+		}
 	}
 
 	if ((m_editIndex == true) &&

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2009-01-22 13:19:16 UTC (rev 1501)
+++ trunk/UI/GTK2/src/mainWindow.cc	2009-01-22 13:22:13 UTC (rev 1502)
@@ -332,7 +332,7 @@
 		TreeModel::Row row = *iter;
 		set<time_t> latestRuns;
 		string queryName(queryIter->first);
-		string lastRun;
+		ustring lastRun;
 		time_t lastRunTime = 0;
 
 		if ((queryHistory.getLatestRuns(queryName, "", 1, latestRuns) == false) ||
@@ -343,15 +343,11 @@
 		else
 		{
 			lastRunTime = *(latestRuns.begin());
-			lastRun = TimeConverter::toTimestamp(lastRunTime);
-#ifdef DEBUG
-			cout << "mainWindow::populate_queryTreeview: latest run of "
-				<< queryName << " is " << lastRun << "/" << lastRunTime << endl;
-#endif
+			lastRun = to_utf8(TimeConverter::toTimestamp(lastRunTime));
 		}
 
 		row[m_queryColumns.m_name] = to_utf8(queryName);
-		row[m_queryColumns.m_lastRun] = to_utf8(lastRun);
+		row[m_queryColumns.m_lastRun] = lastRun;
 		row[m_queryColumns.m_lastRunTime] = lastRunTime;
 		ustring summary(queryIter->second.getFreeQuery());
 		if (summary.empty() == false)
@@ -460,11 +456,11 @@
 
 	sigc::slot1<void, ustring> indexSlot = sigc::mem_fun(*this, &mainWindow::on_index_changed);
 
-	std::map<std::string, std::string> indexes = m_settings.getIndexes();
-	for (std::map<std::string, std::string>::const_iterator indexIter = indexes.begin();
+	set<PinotSettings::IndexProperties> indexes = m_settings.getIndexes();
+	for (set<PinotSettings::IndexProperties>::const_iterator indexIter = indexes.begin();
 		indexIter != indexes.end(); ++indexIter)
 	{
-		ustring indexName(indexIter->first);
+		ustring indexName(indexIter->m_name);
 
 		m_pIndexMenu->items().push_back(Menu_Helpers::MenuElem(indexName));
 		MenuItem &menuItem = m_pIndexMenu->items().back();
@@ -1104,24 +1100,21 @@
 
 	if (locations.empty() == false)
 	{
-		std::map<std::string, std::string> indexes = m_settings.getIndexes();
 		ustring queryName(queryProps.getName());
 
 		queryProps.setName(queryName + " " + _("In Results"));
 		queryProps.setModified(true);
 
 		// Spawn new threads
-		std::map<std::string, std::string>::const_iterator indexIter = indexes.find(_("My Documents"));
-		if (indexIter != indexes.end())
+		PinotSettings::IndexProperties indexProps(m_settings.getIndexPropertiesByName(_("My Documents")));
+		if (indexProps.m_location.empty() == false)
 		{
-			start_thread(new EngineQueryThread(m_settings.m_defaultBackend, indexIter->first,
-				indexIter->second, queryProps, locations));
+			start_thread(new EngineQueryThread(indexProps, queryProps, locations));
 		}
-		indexIter = indexes.find(_("My Web Pages"));
-		if (indexIter != indexes.end())
+		indexProps = m_settings.getIndexPropertiesByName(_("My Web Pages"));
+		if (indexProps.m_location.empty() == false)
 		{
-			start_thread(new EngineQueryThread(m_settings.m_defaultBackend, indexIter->first,
-				indexIter->second, queryProps, locations));
+			start_thread(new EngineQueryThread(indexProps, queryProps, locations));
 		}
 	}
 }
@@ -1265,11 +1258,10 @@
 			return;
 		}
 
-		ustring indexName(pListThread->getIndexName());
-
 		// Find the page for this index
 		// It may have been closed by the user
-		IndexPage *pIndexPage = dynamic_cast<IndexPage*>(get_page(indexName, NotebookPageBox::INDEX_PAGE));
+		PinotSettings::IndexProperties indexProps(pListThread->getIndexProperties());
+		IndexPage *pIndexPage = dynamic_cast<IndexPage*>(get_page(indexProps.m_name, NotebookPageBox::INDEX_PAGE));
 		if (pIndexPage != NULL)
 		{
 			ResultsTree *pResultsTree = pIndexPage->getTree();
@@ -1372,7 +1364,7 @@
 				if ((indexResults == QueryProperties::ALL_RESULTS) || (isNewResult == true))
 				{
 					if ((docId == 0) ||
-						(indexId != m_settings.getIndexIdByName(_("My Documents"))))
+						(indexId != m_settings.getIndexPropertiesByName(_("My Documents")).m_id))
 					{
 						// This document will be indexed or updated
 						docsToIndex.insert(*resultIter);
@@ -1382,11 +1374,11 @@
 					(labels.empty() == false))
 				{
 					// Apply this label
-					if (indexId == m_settings.getIndexIdByName(_("My Web Pages")))
+					if (indexId == m_settings.getIndexPropertiesByName(_("My Web Pages")).m_id)
 					{
 						docsIds.insert(docId);
 					}
-					else if (indexId == m_settings.getIndexIdByName(_("My Documents")))
+					else if (indexId == m_settings.getIndexPropertiesByName(_("My Documents")).m_id)
 					{
 						daemonIds.insert(docId);
 					}
@@ -1735,7 +1727,8 @@
 			return;
 		}
 
-		IndexPage *pIndexPage = dynamic_cast<IndexPage*>(get_page(pUpdateThread->getIndexName(), NotebookPageBox::INDEX_PAGE));
+		PinotSettings::IndexProperties indexProps(pUpdateThread->getIndexProperties());
+		IndexPage *pIndexPage = dynamic_cast<IndexPage*>(get_page(indexProps.m_name, NotebookPageBox::INDEX_PAGE));
 		if (pIndexPage != NULL)
 		{
 			ResultsTree *pResultsTree = pIndexPage->getTree();
@@ -1793,8 +1786,8 @@
 	if ((indexName != indexBox.getName()) ||
 		(location != indexBox.getLocation()))
 	{
-		ustring newName = indexBox.getName();
-		ustring newLocation = indexBox.getLocation();
+		ustring newName(indexBox.getName());
+		ustring newLocation(indexBox.getLocation());
 
 		// Is the name okay ?
 		if (indexBox.badName() == true)
@@ -1812,9 +1805,8 @@
 
 		// The only way to edit an index right now is to remove it
 		// first, then add it again
-		if ((m_settings.removeIndex(from_utf8(indexName)) == false) ||
-			(m_settings.addIndex(from_utf8(newName),
-				from_utf8(newLocation)) == false))
+		if ((m_settings.removeIndex(m_settings.getIndexPropertiesByName(indexName)) == false) ||
+			(m_settings.addIndex(newName, from_utf8(newLocation)) == false))
 		{
 			ustring statusText = _("Couldn't rename index");
 			statusText += " ";
@@ -2424,9 +2416,8 @@
 		return;
 	}
 
-	const std::map<string, string> &indexesMap = m_settings.getIndexes();
-	std::map<string, string>::const_iterator mapIter = indexesMap.find(indexName);
-	if (mapIter == indexesMap.end())
+	PinotSettings::IndexProperties indexProps(m_settings.getIndexPropertiesByName(indexName));
+	if (indexProps.m_location.empty() == true)
 	{
 		ustring statusText = _("Index");
 		statusText += " ";
@@ -2448,7 +2439,7 @@
 
 	// Let the user set the labels
 	get_size(width, height);
-	propertiesDialog propertiesBox(mapIter->second, documentsList);
+	propertiesDialog propertiesBox(indexProps.m_location, documentsList);
 	propertiesBox.setHeight(height / 2);
 	propertiesBox.show();
 	// What labels will this show ?
@@ -2468,7 +2459,7 @@
 		// ... only if something was modified
 		if (propertiesBox.changedInfo() == true)
 		{
-			start_thread(new UpdateDocumentThread(indexName, docId, *docIter, false));
+			start_thread(new UpdateDocumentThread(indexProps, docId, *docIter, false));
 		}
 
 		docIds.insert(docId);
@@ -2621,8 +2612,7 @@
 	}
 
 	// Add the new index
-	if (m_settings.addIndex(from_utf8(name),
-			from_utf8(location)) == false)
+	if (m_settings.addIndex(name, from_utf8(location)) == false)
 	{
 		ustring statusText = _("Couldn't add index");
 		statusText += " ";
@@ -2669,15 +2659,15 @@
 	EnginesModelColumns::EngineType engineType = engineRow[engineColumns.m_type];
 	if (engineType == EnginesModelColumns::INDEX_ENGINE)
 	{
-		ustring name = engineRow[engineColumns.m_name];
+		ustring indexName(engineRow[engineColumns.m_name]);
 
 		// Remove it
 		// FIXME: ask for confirmation ?
-		if (m_settings.removeIndex(from_utf8(name)) == false)
+		if (m_settings.removeIndex(m_settings.getIndexPropertiesByName(indexName)) == false)
 		{
 			ustring statusText = _("Couldn't remove index");
 			statusText += " ";
-			statusText += name;
+			statusText += indexName;
 
 			// An error occured
 			set_status(statusText);
@@ -3037,6 +3027,9 @@
 {
 	NotebookPageBox *pNotebookPage = NULL;
 
+#ifdef DEBUG
+	cout << "mainWindow::get_page: looking for " << title << " " << type << endl;
+#endif
 	if (m_state.read_lock_lists() == true)
 	{
 		for (int pageNum = 0; pageNum < m_pNotebook->get_n_pages(); ++pageNum)
@@ -3048,7 +3041,8 @@
 				if (pNotebookPage != NULL)
 				{
 #ifdef DEBUG
-					cout << "mainWindow::get_page: " << pNotebookPage->getTitle() << endl;
+					cout << "mainWindow::get_page: " << pNotebookPage->getTitle()
+						<< " " << pNotebookPage->getType() << endl;
 #endif
 					if ((title == pNotebookPage->getTitle()) &&
 						(type == pNotebookPage->getType()))
@@ -3372,10 +3366,19 @@
 		}
 	}
 
+	PinotSettings::IndexProperties indexProps(m_settings.getIndexPropertiesByName(indexName));
+	if (indexProps.m_location.empty() == true)
+	{
+#ifdef DEBUG
+		cout << "mainWindow::browse_index: couldn't find index " << indexName << endl;
+#endif
+		return;
+	}
+
 	// Spawn a new thread to browse the index
 	if (queryName.empty() == true)
 	{
-		start_thread(new IndexBrowserThread(indexName, m_maxDocsCount, startDoc));
+		start_thread(new IndexBrowserThread(indexProps, m_maxDocsCount, startDoc));
 	}
 	else
 	{
@@ -3390,16 +3393,7 @@
 			queryProps.setMaximumResultsCount(m_maxDocsCount);
 
 			// ... and the index
-			const std::map<string, string> &indexesMap = m_settings.getIndexes();
-			std::map<string, string>::const_iterator mapIter = indexesMap.find(indexName);
-			if (mapIter != indexesMap.end())
-			{
-				start_thread(new EngineQueryThread(m_settings.m_defaultBackend, from_utf8(indexName),
-					mapIter->second, queryProps, startDoc, true));
-			}
-#ifdef DEBUG
-			else cout << "mainWindow::browse_index: couldn't find index " << indexName << endl;
-#endif
+			start_thread(new EngineQueryThread(indexProps, queryProps, startDoc, true));
 		}
 #ifdef DEBUG
 		else cout << "mainWindow::browse_index: couldn't find query " << queryName << endl;



From fabricecolin at mail.berlios.de  Thu Jan 22 14:52:43 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Thu, 22 Jan 2009 14:52:43 +0100
Subject: [Pinot-svn] r1503 - trunk/UI/GTK2/src
Message-ID: <200901221352.n0MDqh3M017623@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-22 14:52:38 +0100 (Thu, 22 Jan 2009)
New Revision: 1503

Modified:
   trunk/UI/GTK2/src/PinotSettings.cpp
Log:
Try and load prefs.xml first: if that fails, load the old config.xml, if it
works then load ui.xml. This fixes the issue where the daemon would fail to
load settings on its first Reload.
Save backend and googleapikey in prefs.xml.
Copy the UI's history over to the daemon's if the first exists and the second
doesn't.


Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-22 13:22:13 UTC (rev 1502)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-22 13:52:38 UTC (rev 1503)
@@ -251,11 +251,13 @@
 	string daemonHistoryDatabase(getConfigurationDirectory());
 	struct stat fileStat;
 
-	// We only need to copy the UI's over to the daemon's history if it doesn't exist
 	uiHistoryDatabase += "/history";
 	daemonHistoryDatabase += "/history-daemon";
-	if ((stat(daemonHistoryDatabase.c_str(), &fileStat) != 0) ||
-		(!S_ISREG(fileStat.st_mode)))
+
+	// Copy the UI's over to the daemon's history if it doesn't exist
+	if ((stat(uiHistoryDatabase.c_str(), &fileStat) == 0) &&
+		((stat(daemonHistoryDatabase.c_str(), &fileStat) != 0) ||
+		(!S_ISREG(fileStat.st_mode))))
 	{
 		string output;
 
@@ -351,8 +353,8 @@
 	// Load settings ?
 	if (m_firstRun == false)
 	{
-		if ((loadConfiguration(getFileName(true), false) == false) ||
-			(loadConfiguration(getFileName(false), false) == false))
+		// Load 0.90 preferences first
+		if (loadConfiguration(getFileName(false), false) == false)
 		{
 			fileName = getConfigurationDirectory() + "/config.xml";
 
@@ -371,7 +373,10 @@
 				m_firstRun = true;
 			}
 		}
-
+		else
+		{
+			loadConfiguration(getFileName(true), false);
+		}
 	}
 
 	if (what == LOAD_ALL)
@@ -1474,8 +1479,6 @@
 		if (what == SAVE_CONFIG)
 		{
 			addChildElement(pRootElem, "warnaboutversion", (m_warnAboutVersion ? "YES" : "NO"));
-			addChildElement(pRootElem, "backend", m_defaultBackend);
-			addChildElement(pRootElem, "googleapikey", m_googleAPIKey);
 			// User interface position and size
 			pElem = pRootElem->add_child("ui");
 			if (pElem == NULL)
@@ -1560,6 +1563,8 @@
 		}
 		if (what == SAVE_PREFS)
 		{
+			addChildElement(pRootElem, "backend", m_defaultBackend);
+			addChildElement(pRootElem, "googleapikey", m_googleAPIKey);
 			// Labels
 			for (set<string>::iterator labelIter = m_labels.begin(); labelIter != m_labels.end(); ++labelIter)
 			{



From fabricecolin at mail.berlios.de  Thu Jan 22 15:24:57 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Thu, 22 Jan 2009 15:24:57 +0100
Subject: [Pinot-svn] r1504 - trunk/UI/GTK2/src
Message-ID: <200901221424.n0MEOvKF019996@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-22 15:24:53 +0100 (Thu, 22 Jan 2009)
New Revision: 1504

Modified:
   trunk/UI/GTK2/src/PinotSettings.cpp
Log:
Fix previous check-in.


Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-22 13:52:38 UTC (rev 1503)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-22 14:24:53 UTC (rev 1504)
@@ -354,7 +354,7 @@
 	if (m_firstRun == false)
 	{
 		// Load 0.90 preferences first
-		if (loadConfiguration(getFileName(false), false) == false)
+		if (loadConfiguration(getFileName(true), false) == false)
 		{
 			fileName = getConfigurationDirectory() + "/config.xml";
 
@@ -375,7 +375,7 @@
 		}
 		else
 		{
-			loadConfiguration(getFileName(true), false);
+			loadConfiguration(getFileName(false), false);
 		}
 	}
 
@@ -1644,6 +1644,9 @@
 				addChildElement(pElem, "value", editableIter->second);
 			}
 		}
+#ifdef DEBUG
+		cout << "PinotSettings::save: saving to " << getFileName(prefsOrUI) << endl;
+#endif
 
 		// Save to file
 		doc.write_to_file_formatted(getFileName(prefsOrUI));
@@ -2151,10 +2154,6 @@
 			return true;
 		}
 	}
-#ifdef DEBUG
-	cout << "PinotSettings::IndexProperties::operator<: " << m_id << "/" << m_name
-		<< " more than " << other.m_id << "/" << other.m_name << endl;
-#endif
 
 	return false;
 }
@@ -2165,10 +2164,6 @@
 	{
 		return true;
 	}
-#ifdef DEBUG
-	cout << "PinotSettings::IndexProperties::operator==: " << m_id << "/" << m_name
-		<< " not equal to " << other.m_id << "/" << other.m_name << endl;
-#endif
 
 	return false;
 }



From fabricecolin at mail.berlios.de  Sat Jan 24 04:32:25 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 24 Jan 2009 04:32:25 +0100
Subject: [Pinot-svn] r1505 - trunk/IndexSearch
Message-ID: <200901240332.n0O3WPB2016503@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-24 04:32:13 +0100 (Sat, 24 Jan 2009)
New Revision: 1505

Modified:
   trunk/IndexSearch/OpenSearchParser.cpp
   trunk/IndexSearch/OpenSearchParser.h
   trunk/IndexSearch/PluginParsers.h
   trunk/IndexSearch/PluginWebEngine.cpp
   trunk/IndexSearch/SherlockParser.cpp
   trunk/IndexSearch/SherlockParser.h
   trunk/IndexSearch/WebEngine.cpp
Log:
The response parsers have a go at determining the charset.


Modified: trunk/IndexSearch/OpenSearchParser.cpp
===================================================================
--- trunk/IndexSearch/OpenSearchParser.cpp	2009-01-22 14:24:53 UTC (rev 1504)
+++ trunk/IndexSearch/OpenSearchParser.cpp	2009-01-24 03:32:13 UTC (rev 1505)
@@ -29,7 +29,6 @@
 #include <libxml++/nodes/cdatanode.h>
 
 #include "StringManip.h"
-#include "HtmlFilter.h"
 #include "FilterUtils.h"
 #include "OpenSearchParser.h"
 
@@ -87,7 +86,7 @@
 }
 
 bool OpenSearchResponseParser::parse(const ::Document *pResponseDoc, vector<DocumentInfo> &resultsList,
-	unsigned int &totalResults, unsigned int &firstResultIndex) const
+	unsigned int &totalResults, unsigned int &firstResultIndex, string &charset) const
 {
 	float pseudoScore = 100;
 	unsigned int contentLen = 0;
@@ -123,6 +122,15 @@
 			return false;
 		}
 
+		ustring encoding(pDocument->get_encoding());
+		if (encoding.empty() == false)
+		{
+			charset = encoding;
+#ifdef DEBUG
+			cout << "OpenSearchResponseParser::parse: response charset is " << charset << endl;
+#endif
+		}
+
 		Node *pNode = pDocument->get_root_node();
 		Element *pRootElem = dynamic_cast<Element *>(pNode);
 		if (pRootElem == NULL)

Modified: trunk/IndexSearch/OpenSearchParser.h
===================================================================
--- trunk/IndexSearch/OpenSearchParser.h	2009-01-22 14:24:53 UTC (rev 1504)
+++ trunk/IndexSearch/OpenSearchParser.h	2009-01-24 03:32:13 UTC (rev 1505)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -33,7 +33,8 @@
 
 		/// Parses the response; false if not all could be parsed.
 		virtual bool parse(const Document *pResponseDoc, std::vector<DocumentInfo> &resultsList,
-			unsigned int &totalResults, unsigned int &firstResultIndex) const;
+			unsigned int &totalResults, unsigned int &firstResultIndex,
+			std::string &charset) const;
 
 	protected:
 		bool m_rssResponse;

Modified: trunk/IndexSearch/PluginParsers.h
===================================================================
--- trunk/IndexSearch/PluginParsers.h	2009-01-22 14:24:53 UTC (rev 1504)
+++ trunk/IndexSearch/PluginParsers.h	2009-01-24 03:32:13 UTC (rev 1505)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -35,7 +35,8 @@
 
 		/// Parses the response; false if not all could be parsed.
 		virtual bool parse(const Document *pResponseDoc, std::vector<DocumentInfo> &resultsList,
-			unsigned int &totalResults, unsigned int &firstResultIndex) const = 0;
+			unsigned int &totalResults, unsigned int &firstResultIndex,
+			std::string &charset) const = 0;
 
 	protected:
 		ResponseParserInterface()

Modified: trunk/IndexSearch/PluginWebEngine.cpp
===================================================================
--- trunk/IndexSearch/PluginWebEngine.cpp	2009-01-22 14:24:53 UTC (rev 1504)
+++ trunk/IndexSearch/PluginWebEngine.cpp	2009-01-24 03:32:13 UTC (rev 1505)
@@ -106,8 +106,17 @@
 	pageBackup.close();
 #endif
 
+	string responseCharset;
 	bool success = m_pResponseParser->parse(pResponseDoc, m_resultsList,
-		maxResultsCount, m_properties.m_nextBase);
+		maxResultsCount, m_properties.m_nextBase, responseCharset);
+	if (m_charset.empty() == true)
+	{
+		m_charset = responseCharset;
+#ifdef DEBUG
+		cout << "PluginWebEngine::getPage: page charset is " << m_charset << endl;
+#endif
+	}
+
 	vector<DocumentInfo>::iterator resultIter = m_resultsList.begin();
 	while (resultIter != m_resultsList.end())
 	{

Modified: trunk/IndexSearch/SherlockParser.cpp
===================================================================
--- trunk/IndexSearch/SherlockParser.cpp	2009-01-22 14:24:53 UTC (rev 1504)
+++ trunk/IndexSearch/SherlockParser.cpp	2009-01-24 03:32:13 UTC (rev 1505)
@@ -220,7 +220,7 @@
 }
 
 bool SherlockResponseParser::parse(const Document *pResponseDoc, vector<DocumentInfo> &resultsList,
-	unsigned int &totalResults, unsigned int &firstResultIndex) const
+	unsigned int &totalResults, unsigned int &firstResultIndex, string &charset) const
 {
 	float pseudoScore = 100;
 	unsigned int contentLen = 0;
@@ -233,6 +233,22 @@
 		return false;
 	}
 
+	// Can we get the charset ?
+	Dijon::HtmlFilter htmlFilter("text/html");
+	if (FilterUtils::feedFilter(*pResponseDoc, &htmlFilter) == true)
+	{
+		const map<string, string> &metaData = htmlFilter.get_meta_data();
+		map<string, string>::const_iterator charsetIter = metaData.find("charset");
+
+		if (charsetIter != metaData.end())
+		{
+			charset = charsetIter->second;
+#ifdef DEBUG
+			cout << "SherlockResponseParser::parse: response charset is " << charset << endl;
+#endif
+		}
+	}
+
 	// These two are the minimum we need
 	if ((m_resultItemStart.empty() == true) ||
 		(m_resultItemEnd.empty() == true))

Modified: trunk/IndexSearch/SherlockParser.h
===================================================================
--- trunk/IndexSearch/SherlockParser.h	2009-01-22 14:24:53 UTC (rev 1504)
+++ trunk/IndexSearch/SherlockParser.h	2009-01-24 03:32:13 UTC (rev 1505)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -35,7 +35,8 @@
 
 		/// Parses the response; false if not all could be parsed.
 		virtual bool parse(const Document *pResponseDoc, std::vector<DocumentInfo> &resultsList,
-			unsigned int &totalResults, unsigned int &firstResultIndex) const;
+			unsigned int &totalResults, unsigned int &firstResultIndex,
+			std::string &charset) const;
 
 		std::string m_resultListStart;
 		std::string m_resultListEnd;

Modified: trunk/IndexSearch/WebEngine.cpp
===================================================================
--- trunk/IndexSearch/WebEngine.cpp	2009-01-22 14:24:53 UTC (rev 1504)
+++ trunk/IndexSearch/WebEngine.cpp	2009-01-24 03:32:13 UTC (rev 1505)
@@ -25,7 +25,6 @@
 
 #include "StringManip.h"
 #include "Url.h"
-#include "HtmlFilter.h"
 #include "DownloaderFactory.h"
 #include "FilterUtils.h"
 #include "CJKVTokenizer.h"
@@ -36,6 +35,7 @@
 using std::endl;
 using std::string;
 using std::set;
+using std::map;
 using std::vector;
 
 class TermHighlighter : public Dijon::CJKVTokenizer::TokensHandler
@@ -156,25 +156,10 @@
 		if (pos != string::npos)
 		{
 			m_charset = StringManip::removeQuotes(contentType.substr(pos + 8));
-		}
-		if (m_charset.empty() == true)
-		{
-			Dijon::HtmlFilter htmlFilter("text/html");
-
-			if (FilterUtils::feedFilter(*pDoc, &htmlFilter) == true)
-			{
-				const map<string, string> &metaData = htmlFilter.get_meta_data();
-				map<string, string>::const_iterator charsetIter = metaData.find("charset");
-
-				if (charsetIter != metaData.end())
-				{
-					m_charset = charsetIter->second;
-				}
-			}
-		}
 #ifdef DEBUG
-		cout << "WebEngine::downloadPage: charset is " << m_charset << endl;
+			cout << "WebEngine::downloadPage: page charset is " << m_charset << endl;
 #endif
+		}
 	}
 
 	return pDoc;
@@ -303,7 +288,7 @@
 }
 
 /// Specifies values for editable parameters.
-void WebEngine::setEditableValues(const std::map<std::string, std::string> &editableValues)
+void WebEngine::setEditableValues(const map<string, string> &editableValues)
 {
 	m_editableValues = editableValues;
 }



From fabricecolin at mail.berlios.de  Sat Jan 24 04:37:18 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 24 Jan 2009 04:37:18 +0100
Subject: [Pinot-svn] r1506 - trunk/UI/GTK2/src
Message-ID: <200901240337.n0O3bIb0016633@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-24 04:37:09 +0100 (Sat, 24 Jan 2009)
New Revision: 1506

Modified:
   trunk/UI/GTK2/src/PinotUtils.cpp
   trunk/UI/GTK2/src/ResultsTree.cpp
Log:
In PinotUtils, catch Glib::Error and unknown exceptions whenever converting.
Minor edit to DEBUG messages in ResultsTree.


Modified: trunk/UI/GTK2/src/PinotUtils.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotUtils.cpp	2009-01-24 03:32:13 UTC (rev 1505)
+++ trunk/UI/GTK2/src/PinotUtils.cpp	2009-01-24 03:37:09 UTC (rev 1506)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -228,7 +228,7 @@
 			return locale_to_utf8(text);
 		}
 	}
-	catch (ConvertError &ce)
+	catch (Error &ce)
 	{
 #ifdef DEBUG
 		cout << "to_utf8: cannot convert from " << charset << ": " << ce.what() << endl;
@@ -238,6 +238,12 @@
 			return to_utf8(text);
 		}
 	}
+	catch (...)
+	{
+#ifdef DEBUG
+		cout << "to_utf8: unknown exception" << endl;
+#endif
+	}
 
 	return "";
 }
@@ -249,12 +255,18 @@
 	{
 		return locale_from_utf8(text);
 	}
-	catch (ConvertError &ce)
+	catch (Error &ce)
 	{
 #ifdef DEBUG
 		cout << "from_utf8: " << ce.what() << endl;
 #endif
 	}
+	catch (...)
+	{
+#ifdef DEBUG
+		cout << "from_utf8: unknown exception" << endl;
+#endif
+	}
 
 	return "";
 }

Modified: trunk/UI/GTK2/src/ResultsTree.cpp
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-24 03:32:13 UTC (rev 1505)
+++ trunk/UI/GTK2/src/ResultsTree.cpp	2009-01-24 03:37:09 UTC (rev 1506)
@@ -537,7 +537,8 @@
 		}
 	}
 #ifdef DEBUG
-	cout << "ResultsTree::addResults: " << resultsList.size() << " results, second last run " << secondLastRunTime << endl;
+	cout << "ResultsTree::addResults: " << resultsList.size() << " results with charset " << charset
+		<< ", second last run " << secondLastRunTime << endl;
 #endif
 
 	// Look at the results list
@@ -622,7 +623,7 @@
 #ifdef DEBUG
 			cout << "ResultsTree::addResults: added row for result " << count
 				<< ", " << currentScore << ", " << isIndexed << " " << docId
-				<< " " << indexId << " " << resultIter->getTimestamp() << endl;
+				<< " " << indexId << endl;
 #endif
 
 			if (groupIter)



From fabricecolin at mail.berlios.de  Sat Jan 24 08:14:56 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 24 Jan 2009 08:14:56 +0100
Subject: [Pinot-svn] r1507 - trunk/IndexSearch/Xapian
Message-ID: <200901240714.n0O7EuHX015265@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-24 08:14:47 +0100 (Sat, 24 Jan 2009)
New Revision: 1507

Modified:
   trunk/IndexSearch/Xapian/XapianEngine.cpp
   trunk/IndexSearch/Xapian/XapianIndex.cpp
Log:
Changed error messages.


Modified: trunk/IndexSearch/Xapian/XapianEngine.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianEngine.cpp	2009-01-24 03:37:09 UTC (rev 1506)
+++ trunk/IndexSearch/Xapian/XapianEngine.cpp	2009-01-24 07:14:47 UTC (rev 1507)
@@ -992,7 +992,7 @@
 	}
 	catch (const Xapian::Error &error)
 	{
-		cerr << "XapianEngine::queryDatabase: " << error.get_type() << ": " << error.get_msg() << endl;
+		cerr << "Couldn't run query: " << error.get_type() << ": " << error.get_msg() << endl;
 	}
 	cout << "Ran query \"" << queryProps.getFreeQuery() << "\" in " << timer.stop() << " ms" << endl;
 
@@ -1048,7 +1048,7 @@
 	}
 	catch (const Xapian::Error &error)
 	{
-		cerr << "XapianEngine::queryDatabase: " << error.get_type() << ": " << error.get_msg() << endl;
+		cerr << "Couldn't run query: " << error.get_type() << ": " << error.get_msg() << endl;
 	}
 
 	// Be tolerant of errors as long as we got some results
@@ -1146,6 +1146,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, true);
 	if (pDatabase == NULL)
 	{
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -1211,7 +1212,7 @@
 	}
 	catch (const Xapian::Error &error)
 	{
-		cerr << "XapianEngine::runQuery: " << error.get_type() << ": " << error.get_msg() << endl;
+		cerr << "Couldn't run query: " << error.get_type() << ": " << error.get_msg() << endl;
 	}
 	pDatabase->unlock();
 

Modified: trunk/IndexSearch/Xapian/XapianIndex.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianIndex.cpp	2009-01-24 03:37:09 UTC (rev 1506)
+++ trunk/IndexSearch/Xapian/XapianIndex.cpp	2009-01-24 07:14:47 UTC (rev 1507)
@@ -248,7 +248,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return 0;
 	}
 
@@ -927,7 +927,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -978,7 +978,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return "";
 	}
 
@@ -1017,7 +1017,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -1069,7 +1069,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -1112,7 +1112,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return 0;
 	}
 
@@ -1151,7 +1151,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -1298,7 +1298,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -1347,7 +1347,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -1395,7 +1395,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -1458,7 +1458,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -1526,7 +1526,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return 0;
 	}
 
@@ -1578,7 +1578,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return 0;
 	}
 
@@ -1634,7 +1634,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return 0;
 	}
 
@@ -1667,7 +1667,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return 0;
 	}
 
@@ -1743,7 +1743,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -1816,7 +1816,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -1901,7 +1901,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -1949,7 +1949,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -2020,7 +2020,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -2053,7 +2053,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 
@@ -2067,7 +2067,7 @@
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName, false, true);
 	if (pDatabase == NULL)
 	{
-		cerr << "Bad index " << m_databaseName << endl;
+		cerr << "Couldn't get index " << m_databaseName << endl;
 		return false;
 	}
 



From fabricecolin at mail.berlios.de  Sat Jan 24 08:51:31 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 24 Jan 2009 08:51:31 +0100
Subject: [Pinot-svn] r1508 - trunk/UI/GTK2/src
Message-ID: <200901240751.n0O7pVNb017055@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-24 08:51:23 +0100 (Sat, 24 Jan 2009)
New Revision: 1508

Modified:
   trunk/UI/GTK2/src/prefsWindow.cc
   trunk/UI/GTK2/src/prefsWindow.hh
Log:
If the StartDaemon thread didn't run, save preferences when closed.


Modified: trunk/UI/GTK2/src/prefsWindow.cc
===================================================================
--- trunk/UI/GTK2/src/prefsWindow.cc	2009-01-24 07:14:47 UTC (rev 1507)
+++ trunk/UI/GTK2/src/prefsWindow.cc	2009-01-24 07:51:23 UTC (rev 1508)
@@ -130,7 +130,8 @@
 };
 
 prefsWindow::InternalState::InternalState(unsigned int maxIndexThreads, prefsWindow *pWindow) :
-        ThreadsManager(PinotSettings::getInstance().m_docsIndexLocation, maxIndexThreads)
+        ThreadsManager(PinotSettings::getInstance().m_docsIndexLocation, maxIndexThreads),
+	m_savedPrefs(false)
 {
         m_onThreadEndSignal.connect(sigc::mem_fun(*pWindow, &prefsWindow::on_thread_end));
 }
@@ -259,7 +260,11 @@
 
 prefsWindow::~prefsWindow()
 {
-	m_state.disconnect();
+	if (m_state.m_savedPrefs == false)
+	{
+		// Save the settings
+		PinotSettings::getInstance().save(PinotSettings::SAVE_PREFS);
+	}
 }
 
 void prefsWindow::updateLabelRow(const ustring &path_string, const ustring &text)
@@ -336,14 +341,22 @@
 	{
 		populate_labelsTreeview();
 	}
-	else if ((type == "StartDaemonThread") ||
-		(type == "LabelUpdateThread"))
+	else if (type == "StartDaemonThread")
 	{
+		m_state.m_savedPrefs = true;
+
 		if (threadsCount == 0)
 		{
 			canQuit = true;
 		}
 	}
+	else if (type == "LabelUpdateThread")
+	{
+		if (threadsCount == 0)
+		{
+			canQuit = true;
+		}
+	}
 
 	// Delete the thread
 	delete pThread;

Modified: trunk/UI/GTK2/src/prefsWindow.hh
===================================================================
--- trunk/UI/GTK2/src/prefsWindow.hh	2009-01-24 07:14:47 UTC (rev 1507)
+++ trunk/UI/GTK2/src/prefsWindow.hh	2009-01-24 07:51:23 UTC (rev 1508)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2008 Fabrice Colin
+ *  Copyright 2008-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -61,6 +61,8 @@
 			prefsWindow *pWindow);
 		~InternalState();
 
+		bool m_savedPrefs;
+
 	} m_state;
 
 	virtual void on_prefsCancelbutton_clicked();



From fabricecolin at mail.berlios.de  Sat Jan 24 09:04:36 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 24 Jan 2009 09:04:36 +0100
Subject: [Pinot-svn] r1509 - trunk/scripts/bash
Message-ID: <200901240804.n0O84aZO017855@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-24 09:04:24 +0100 (Sat, 24 Jan 2009)
New Revision: 1509

Modified:
   trunk/scripts/bash/pinot-cd.sh
   trunk/scripts/bash/pinot-check-file.sh
   trunk/scripts/bash/pinot-enum-index.sh
Log:
Cosmetic changes.


Modified: trunk/scripts/bash/pinot-cd.sh
===================================================================
--- trunk/scripts/bash/pinot-cd.sh	2009-01-24 07:51:23 UTC (rev 1508)
+++ trunk/scripts/bash/pinot-cd.sh	2009-01-24 08:04:24 UTC (rev 1509)
@@ -115,7 +115,7 @@
 checkindex
 
 if [ $# == 0 ]; then
-  echo "Usage: pinot-cd.sh path1 path2..."
+  echo "Usage: $0 PATH1 PATH2..."
 elif [ "$MISSING_PROGRAM" == 0 ] || [ "$MISSING_INDEX" == 0 ]; then
   if [ $# -eq 1 ] && [ "$1" == "-" ] && [ ! -z "$OLDPWD" ]; then
     cd "$OLDPWD"

Modified: trunk/scripts/bash/pinot-check-file.sh
===================================================================
--- trunk/scripts/bash/pinot-check-file.sh	2009-01-24 07:51:23 UTC (rev 1508)
+++ trunk/scripts/bash/pinot-check-file.sh	2009-01-24 08:04:24 UTC (rev 1509)
@@ -1,7 +1,7 @@
 #!/bin/bash
 # Run this with find, eg find -L ~/Documents/ -exec pinot-check-file.sh {} \;
 if [ $# == 0 ]; then
-  echo "Usage: $0 <index>"
+  echo "Usage: $0 FILE"
   exit 1
 fi
 

Modified: trunk/scripts/bash/pinot-enum-index.sh
===================================================================
--- trunk/scripts/bash/pinot-enum-index.sh	2009-01-24 07:51:23 UTC (rev 1508)
+++ trunk/scripts/bash/pinot-enum-index.sh	2009-01-24 08:04:24 UTC (rev 1509)
@@ -3,7 +3,7 @@
 # and gives an estimate of how much disk space those take.
 
 if [ $# == 0 ]; then
-  echo "Usage: $0 <index>"
+  echo "Usage: $0 INDEX"
   exit 1
 fi
 



From fabricecolin at mail.berlios.de  Sat Jan 24 09:56:50 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 24 Jan 2009 09:56:50 +0100
Subject: [Pinot-svn] r1510 - trunk/po
Message-ID: <200901240856.n0O8uoPE020960@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-24 09:56:29 +0100 (Sat, 24 Jan 2009)
New Revision: 1510

Modified:
   trunk/po/de.po
   trunk/po/es.po
   trunk/po/fr.po
   trunk/po/he.po
   trunk/po/it.po
   trunk/po/ja.po
   trunk/po/nl.po
   trunk/po/pt.po
   trunk/po/pt_BR.po
   trunk/po/ru.po
   trunk/po/sv.po
   trunk/po/zh_CN.po
   trunk/po/zh_TW.po
Log:
Current translations.


Modified: trunk/po/de.po
===================================================================
--- trunk/po/de.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/de.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -4,51 +4,26 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
-"PO-Revision-Date: 2008-09-09 11:25+0000\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"PO-Revision-Date: 2008-09-22 12:23+0000\n"
 "Last-Translator: Gena Haltmair <Unknown>\n"
 "Language-Team: German <de at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2008-11-15 08:36+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "Suchmaschinen"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
 msgstr "Aktueller Benutzer"
 
-#. Enable these menu items unless it is not the documents index
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
-msgid "My Web Pages"
-msgstr "Meine Webseiten"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
-msgid "My Documents"
-msgstr "Meine Dokumente"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr "Zugestellt von"
@@ -57,7 +32,7 @@
 msgid "Local"
 msgstr "Lokal"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "Index Verzeichnis"
 
@@ -69,7 +44,7 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "Typ:"
 
@@ -77,11 +52,11 @@
 msgid "Location:"
 msgstr "Ort:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
 msgstr "Port:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr "Adresse:"
 
@@ -91,8 +66,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "Keine"
 
@@ -105,7 +80,7 @@
 msgid "Apply label:"
 msgstr "Kategorie hinzuf?gen:"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "URL importieren"
 
@@ -117,7 +92,7 @@
 msgid "Show Next"
 msgstr "Weiter"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
 msgstr "Alle"
 
@@ -137,210 +112,228 @@
 msgid "Helper application"
 msgstr "Anwendung"
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "Suchanfrage"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
 msgstr "Zuletzt ausgef?hrt"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "?bersicht"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "Alle Suchmaschinen anzeigen"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
 msgstr "Finde Dokumente, die der Suchanfrage entsprechen"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
 msgstr "Index hinzuf?gen"
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
 msgstr "Index entfernen"
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
 msgstr "Suchanfrage hinzuf?gen"
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
 msgstr "Suchanfrage entfernen"
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
 msgstr "Vorhergehende Ergebnisse der Suchanfrage anzeigen"
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
 msgstr "Suche"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "Bereit"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "Es wird empfohlen alle Dokumente in Meine Webseiten zu aktualisieren"
 
-#: UI/GTK2/src/mainWindow.cc:266
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
 msgstr "Warnung ausblenden"
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "Aktualisieren"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr "N/V"
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "Unbestimmt"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Suche"
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "Ergebnis gefindet sich in"
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "Meine Webseiten"
 
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "Meine Dokumente"
+
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "Dokoment befindet sich in"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "Nichts gefunden"
+#: UI/GTK2/src/mainWindow.cc:1095
+#, fuzzy
+msgid "Couldn't search in results"
+msgstr "Suchmaschine konnte nicht angelegt werden"
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr "Ergebnisse"
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "Anzeigen"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr "von"
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr "Dokumenten, beginnend bei"
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "Suche"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr "am"
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "beendet"
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr "Verbessert"
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "Mehr davon"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "Aktualisierte Kategorie(n)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "Dokument aktualisiert"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "Indiziert"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "Nicht indizierte(s) Dokument(e)"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "Index konnte nicht umbenannt werden, Name"
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "wird bereits benutzt"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "Index konnte nicht umbenannt werden"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "Ge?nderter Index"
 
-#: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
+#: UI/GTK2/src/mainWindow.cc:2134
+#, fuzzy
+msgid "Export"
 msgstr "Ergebnisse exportieren"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2179
+#, fuzzy
+msgid "Couldn't find similar documents"
+msgstr "Dokument konnte nicht indiziert werden"
+
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "Index"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "existiert nicht"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "Soll dieses Dokument aus dem Index entfernt werden?"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "Sollen diese Dokumente aus dem Index entfernt werden?"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Indizierung entfernen"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Ein Werkzeug zur Metasuche f?r den Freien Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "Durchsuchen Sie das Internet und Ihre Dokumente !"
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "Indexbezeichnung"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "Konnte Index nicht hinzuf?gen"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "Neuer Index hinzugef?gt"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "Konnte Index nicht entfernen"
 
@@ -348,380 +341,386 @@
 msgid "No history for"
 msgstr "Kein Verlauf vorhanden f?r"
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr ""
 "Mindestens ein Vorgang wurde noch nicht abgeschlossen. Jetzt trotzdem "
 "beenden?"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr "Beenden"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "Nache der Suchanfrage"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "Suchanfrage konnte nicht aktualisiert werden"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "Ge?nderte Suchanfrage"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "Suchanfrage konnte nicht hinzugef?gt werden"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "Neue Suchanfrage hinzugef?gt"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "Keine Suchanfrage eingestellt"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "Keine Suchmaschine ausgew?hlt"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "Bitte geben Sie zuerst den Google API-Schl?ssel ein"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "Suche l?uft"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "Keine Standardanwendung f?r Typ angegeben"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
 msgstr "Suchanfrage:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
 msgstr "Verlauf"
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
 msgstr "Gespeicherte Suchanfragen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
-msgstr "Status"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+#, fuzzy
+msgid "Open Cache"
+msgstr "Zwischenspeicher ansehen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "Suchmaschine"
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "Rechnername"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+#, fuzzy
+msgid "_Add To Index"
+msgstr "Index hinzuf?gen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "Auszug anzeigen"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "Gruppieren nach"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "Liste l?schen"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "_Anzeigen"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "Zwischenspeicher ansehen"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
 msgstr "Mehr davon"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
 msgstr "Suchmaschinen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "_Index"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "Suchmaschine"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "Rechnername"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
 msgstr "Liste Inhalte von"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "Ansicht"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+#, fuzzy
+msgid "Group Results By"
+msgstr "Gruppieren nach"
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "Eigenschaften"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+#, fuzzy
+msgid "Show Extracts"
+msgstr "Auszug anzeigen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "_?ber"
+#: UI/GTK2/src/mainWindow_glade.cc:243
+#, fuzzy
+msgid "Export List"
+msgstr "Ergebnisse exportieren"
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "_Sitzung"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "Status"
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+#, fuzzy
+msgid "_File"
+msgstr "Titel"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "_Bearbeiten"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "_Ergebnisse"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "_Hilfe"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pinot"
 
-#: UI/GTK2/src/Notebook.cpp:146
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr ""
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
 msgstr "Schliessen"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr "Unbekannt"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "D?nisch"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "Niederl?nisch"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "Englisch"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "Finnisch"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "Franz?sisch"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "Deutsch"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr "Ungarisch"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "Italienisch"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "Norwegisch"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "Portugiesisch"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr "Rum?nisch"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "Russisch"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "Spanisch"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr "Schwedisch"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr "T?rkisch"
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "Konnte Index nicht ?ffnen"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "Konnte Verlaufsdatenbank nicht anlegen"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "Wichtig"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "Neu"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "Pers?nlich"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr "Ich"
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr "Letze zuerst"
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr "Eigene Dateien"
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr "Kategorie \"Neu\""
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr "Hat CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
-msgstr ""
+msgstr "Auf Englisch"
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr "10kb und kleiner"
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "nicht klassifiziert"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "Name"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "?berwachen"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "Ort"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "Dateiendung"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr "Dateien mit folgenden Dateiendungen von der Indizierungs ausschliessen"
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr "Nur Dateien mit diesen Dateiendungen indizieren"
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:759
+msgid "Directory to index"
+msgstr "Zu indizierendes Verzeichnis"
+
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "Neue Kategorie"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "Zu indizierendes Verzeichnis"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid "These directories will be indexed and optionally monitored for changes:"
+msgstr ""
+"Diese Verzeichnisse werden indiziert und optional auf ?nderungen ?berwacht:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "Google API-Schl?ssel:"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "Hinzuf?gen"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "Neue Ergebnisse:"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr "Dateiendungen:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "Abfragen:"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr "Zur?cksetzen"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "Aktiviere Suchwortvorschl?ge"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "Indizieren"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "robots.txt und Robots META-Tag ignorieren"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr "Folgende Dokumente in der Kategorie:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr "HTTP Crawling:"
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "Entfernen"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "Allgemein"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "Kategorien"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr "Direkte Verbindung zum Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr "Manuele Proxy-Einstellungen:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr "Netzwerk"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr "Folgende Dokumente in der Kategorie:"
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "Google API-Schl?ssel:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "Hinzuf?gen"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "Abfragen:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "Entfernen"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "Aktiviere Suchwortvorschl?ge"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "Kategorien"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "robots.txt und Robots META-Tag ignorieren"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr ""
-"Diese Verzeichnisse werden indiziert und optional auf ?nderungen ?berwacht:"
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "HTTP Crawling:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr "Dateiendungen:"
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "Neue Ergebnisse:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "Indizieren"
-
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+#, fuzzy
+msgid "Pinot Preferences"
 msgstr "Einstellungen"
 
 #: UI/GTK2/src/propertiesDialog.cc:105
@@ -752,6 +751,10 @@
 msgid "bytes"
 msgstr "Bytes"
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "Eigenschaften"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Rechnername"
@@ -765,12 +768,12 @@
 msgstr "Dateiendung"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "Titel"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
 msgstr "URL"
 
@@ -779,40 +782,44 @@
 msgstr "Verzeichnis"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
 msgstr "Sprachcode"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "MIME-Typ"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
 msgstr "MIME-Klasse"
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
 msgstr "Kategorie"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
 msgstr "Datum"
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
 msgstr "Zeit"
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
 msgstr "Gr??e"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
 msgstr "Nach Relevanz"
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
 msgstr "Nach Datum"
 
@@ -842,162 +849,169 @@
 
 #: UI/GTK2/src/queryDialog_glade.cc:94
 msgid "Only index new results"
-msgstr ""
+msgstr "Nur neue Ergebnisse kategorisieren"
 
 #: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
 msgstr "Suchanfrage Parameter"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "Relevanz"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1555
+#, fuzzy
+msgid "No results"
+msgstr "Ergebnisse"
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
 msgstr "Indizes"
 
-#: UI/GTK2/src/statisticsDialog.cc:117
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:197
+msgid "Checking"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr "D?mon"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
-msgid "documents"
-msgstr "Dokumente"
-
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
-msgid "Unknown error"
-msgstr "Unbekannter Fehler"
-
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr "Angesehen"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr "Ergebnisse"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr "Gesammelt"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr "Dateien"
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr "Dokumente"
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "Unbekannter Fehler"
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr "L?uft unter PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
 msgstr "Nicht verbunden mit D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
 msgstr "Angehalten"
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr "L?uft derzeit nicht"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
 msgstr "Wenig Speicherplatz"
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr "Batteriebetrieb"
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
-msgstr ""
+msgstr "Durchsuchen"
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "Fehler"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
 msgstr "Indizierungsfehler"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
 msgstr "Dokument konnte nicht indiziert werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "Dokument konnte nicht aktualisiert werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "Dokument(e) konnte(n) nicht aus dem Index entfernt werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
 msgstr "Suchanfrange konnte nicht in der Suchmasche ausgef?hrt werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
 msgstr "Konnte Verlaufsdatenbank nicht anlegen"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
 msgstr "Dokument konnte nicht aktualisiert werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
 msgstr "Fehler bei der Datei?berwachung"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
 msgstr "Verzeichnis konnte nicht ge?ffnet werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
 msgstr "Index existiert nicht"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "Suchmaschine konnte nicht angelegt werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
 msgstr "Kann Dokumenttyp nicht indizieren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
 msgstr "Kein Downloadprogramm f?r dieses Protokoll vorhanden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META-Tag verbietet das Indizieren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
 msgstr "Kein ?berwachungsprogramm vorhanden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
 msgstr "Indizierung angehalten"
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "E-Mail kann hier nicht indiziert werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "bereits indiziert"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
 msgstr "auf Blacklist gesetzt"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "Kein Titel"
-
-#~ msgid "Extract"
-#~ msgstr "Auslesen"

Modified: trunk/po/es.po
===================================================================
--- trunk/po/es.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/es.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -5,51 +5,26 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
 "PO-Revision-Date: 2008-08-23 16:14+0000\n"
 "Last-Translator: Jesus Tramullas <jesus at tramullas.com>\n"
 "Language-Team: es <fabricecolin at users.berlios.de>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2008-11-15 08:36+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "Motores de b?squeda"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
 msgstr "Usuario"
 
-#. Enable these menu items unless it is not the documents index
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
-msgid "My Web Pages"
-msgstr "Mis Paginas Web"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
-msgid "My Documents"
-msgstr "Mis documentos"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr "Servido por"
@@ -58,7 +33,7 @@
 msgid "Local"
 msgstr "Local"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "Localizaci?n del ?ndice"
 
@@ -70,7 +45,7 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "Tipo:"
 
@@ -78,11 +53,11 @@
 msgid "Location:"
 msgstr "Localizaci?n:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
 msgstr "Puerto:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr "Direcci?n"
 
@@ -92,8 +67,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "Ninguno"
 
@@ -106,7 +81,7 @@
 msgid "Apply label:"
 msgstr "Etiqueta aplicada:"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "Importar una URL"
 
@@ -118,7 +93,7 @@
 msgid "Show Next"
 msgstr "Mostrar siguientes"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
 msgstr "Todos"
 
@@ -138,210 +113,228 @@
 msgid "Helper application"
 msgstr "Aplicaci?n de ayuda"
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "Nombre de la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
 msgstr "?ltima ejecuci?n"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "Sumario"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "Mostrar todos los motores de b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
 msgstr "Encontrar documentos que contengan la expresi?n de b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
 msgstr "A?adir ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
 msgstr "Borrar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
 msgstr "A?adir una b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
 msgstr "Borrar una b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
 msgstr "Mostrar los resultados de la b?squeda previa"
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
 msgstr "Encontrar documentos que cumplan la expresi?n de b?squeda"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "Preparado"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "Se recomienda actualizar todos los documentos en Mis P?ginas Web"
 
-#: UI/GTK2/src/mainWindow.cc:266
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
 msgstr "No avisar de nuevo"
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "Actualizar"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr "Desconocido"
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "Indefinido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "B?squeda activa"
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "La localizaci?n del resultado es"
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "Mis Paginas Web"
 
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "Mis documentos"
+
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "La localizaci?n del documento es"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "No se pudo a?adir la b?squeda"
+#: UI/GTK2/src/mainWindow.cc:1095
+#, fuzzy
+msgid "Couldn't search in results"
+msgstr "No se pudo crear el motor de b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr "En resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "Mostrando"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr "documentos"
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr "documentos comenzando en"
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "B?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr "en"
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "finalizado"
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr "Corregido"
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "M?s como"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "Etiqueta(s) actualizada(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "Documento actualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "Indizado"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "Documento(s) no indizado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "No se pudo renombrar ?ndice, nombre"
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "ya est? en uso"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "No se pudo renombrar el ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
-msgstr "Exportar resultados"
+#: UI/GTK2/src/mainWindow.cc:2134
+#, fuzzy
+msgid "Export"
+msgstr "Exportar t?rminos"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2179
+#, fuzzy
+msgid "Couldn't find similar documents"
+msgstr "No se pudo indizar el documento"
+
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "no existe"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "?Borrar este documento del ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "?Borrar este documento del ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Des-indizar"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Una herramienta metabuscador para el escritorio libre"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "Busca en el web y en sus documentos"
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "Nombre del ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "No se pudo a?adir el ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "A?adido un nuevo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "No se pudo borrar el ?ndice"
 
@@ -349,377 +342,383 @@
 msgid "No history for"
 msgstr "No hay hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Al menos una tarea no ha finalizado. ?Parar ahora?"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr "Salir"
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "Nombre la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "No se pudo actualizar la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "B?squeda editada"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "No se pudo a?adir la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "A?adida una nueva b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "B?squeda no definida"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "Motor de b?squeda no seleccionado"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "Por favor, primero configure el API de Google"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "Ejecutando la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "No hay aplicaci?n predefinida para el tipo"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
 msgstr "B?squeda:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
 msgstr "Hist?rico de b?squeda"
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
 msgstr "B?squedas guardadas"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
-msgstr "Estatus"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+#, fuzzy
+msgid "Open Cache"
+msgstr "Ver la cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "Motor de b?squeda"
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "Nombre del servidor"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+#, fuzzy
+msgid "_Add To Index"
+msgstr "A?adir ?ndice"
 
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "Mostrar extra?dos"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "Agrupar por"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "Limpiar la lista"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "Ver"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "Ver la cache"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
 msgstr "Documentos similares"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
 msgstr "Buscar en"
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "?ndice"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "Motor de b?squeda"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "Nombre del servidor"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
 msgstr "Listar el contenido de"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "Ver"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+#, fuzzy
+msgid "Group Results By"
+msgstr "Agrupar por"
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "Propiedades"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+#, fuzzy
+msgid "Show Extracts"
+msgstr "Mostrar extra?dos"
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "Sobre"
+#: UI/GTK2/src/mainWindow_glade.cc:243
+#, fuzzy
+msgid "Export List"
+msgstr "Exportar resultados"
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "Sesi?n"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "Estatus"
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+#, fuzzy
+msgid "_File"
+msgstr "T?tulo"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "Editar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "Resultados"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "Ayuda"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pinot"
 
-#: UI/GTK2/src/Notebook.cpp:146
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr ""
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
 msgstr ""
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr "Desconocido"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "Dan?s"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "Holand?s"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "Ingl?s"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "Finland?s"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "Franc?s"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "Alem?n"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "Italiano"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "Noruego"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr "Rumano"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "Ruso"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "Espa?ol"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr "Sueco"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr "Turco"
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "No se pudo abrir el ?ndice"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "No se pudo crear la base de datos del hist?rico"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "Nuevo"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "Personal"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr "Yo"
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "No clasificado"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "Nombre"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "Supervisar"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "Localizaci?n"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "Patron"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr "Excluir de la indizacion estos patrones"
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr "Indizar s?lo estos patrones"
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:759
+msgid "Directory to index"
+msgstr "Carpeta a indexar"
+
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "Nueva etiqueta"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "Carpeta a indexar"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid "These directories will be indexed and optionally monitored for changes:"
+msgstr "Estas carpetas van a estar indexar autom?ticamente"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "Clave del API de Google"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "A?adir"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "Nuevos resultados:"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr "Patrones de fichero"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "B?squedas:"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "Activar sugerencia de t?rminos de b?squeda"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "?ndices"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "Ignorar robots.txt y la etiqueta META Robots"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr "Las etiquetas se usan para clasificar los documentos indizados:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr "Agente HTTP:"
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "Borrar"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "General"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "Etiquetas"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr "Conexi?n directa a Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr "Configuraci?n manual del proxy:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr "Red"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr "Las etiquetas se usan para clasificar los documentos indizados:"
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "Clave del API de Google"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "A?adir"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "B?squedas:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "Borrar"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "Activar sugerencia de t?rminos de b?squeda"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "Etiquetas"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "Ignorar robots.txt y la etiqueta META Robots"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr "Estas carpetas van a estar indexar autom?ticamente"
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "Agente HTTP:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr "Patrones de fichero"
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "Nuevos resultados:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "?ndices"
-
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+#, fuzzy
+msgid "Pinot Preferences"
 msgstr "Preferencias"
 
 #: UI/GTK2/src/propertiesDialog.cc:105
@@ -750,6 +749,10 @@
 msgid "bytes"
 msgstr "bytes"
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "Propiedades"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "Nombre de servidor"
@@ -763,12 +766,12 @@
 msgstr "Extensi?n del archivo"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "T?tulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
 msgstr "URL"
 
@@ -777,40 +780,44 @@
 msgstr "Carpeta"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
 msgstr "Codigo de idioma"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "Tipo MIME"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
 msgstr "Tipo MIME"
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
 msgstr "Etiqueta"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
 msgstr "Date"
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
 msgstr "Tiempo"
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
 msgstr "Tama?o:"
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
 msgstr "Por relevancia"
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
 msgstr "Por fecha"
 
@@ -847,155 +854,162 @@
 msgstr "Par?metros de b?squeda"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "Cuenta"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1555
+#, fuzzy
+msgid "No results"
+msgstr "resultados"
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
 msgstr "?ndices"
 
-#: UI/GTK2/src/statisticsDialog.cc:117
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:197
+msgid "Checking"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
-msgid "documents"
-msgstr "documentos"
-
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
-msgid "Unknown error"
-msgstr "Error desconocido"
-
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr "Ver"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr "resultados"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr "Capturado"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr "archivos"
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr "documentos"
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "Error desconocido"
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr "Ejecut?ndose bajo PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr "No se ejecuta actualmente"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "Errores"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
 msgstr "Error en el ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
 msgstr "No se pudo indizar el documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "No se pudo actualizar el documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "No se pudo des-indizar lo(s) documento(s)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
 msgstr "No se pudo ejecutar la b?squeda contra el motor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
 msgstr "No se pudo recuperar el hist?rico de b?squedas de este motor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
 msgstr "No se pudo recuperar el documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
 msgstr "Error del monitor de ficheros"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
 msgstr "No se pudo abrir el directorio"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
 msgstr "No existe el ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "No se pudo crear el motor de b?squeda"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
 msgstr "No se pudo indizar el tipo de documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
 msgstr "No hay recuperador para este protocolo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "La etiqueta META Robots proh?be la indizaci?n"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
 msgstr "No hay monitorizaci?n"
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
 msgstr "La indizaci?n se ha detenido"
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "No se pudo indizar el buzon de correo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "ya est? indizado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
 msgstr "ya excluido"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "Sin t?tulo"
-
-#~ msgid "Extract"
-#~ msgstr "Extra?dos"

Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/fr.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.82\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-11 23:44+0800\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
 "PO-Revision-Date: 2009-01-12 11:07+0000\n"
 "Last-Translator: Fr?d?ric Grosshans <frederic.grosshans at gmail.com>\n"
 "Language-Team: fr <fabricecolin at users.berlios.de>\n"
@@ -25,32 +25,6 @@
 msgid "Current User"
 msgstr "Utilisateur"
 
-#. Apply this label
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
-#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
-#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
-#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
-#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
-#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
-#: UI/GTK2/src/WorkerThreads.cpp:1069
-msgid "My Web Pages"
-msgstr "Mes Pages Web"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
-#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
-#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
-#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
-#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
-#: UI/GTK2/src/WorkerThreads.cpp:1079
-msgid "My Documents"
-msgstr "Mes Documents"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr "Servi par"
@@ -59,7 +33,7 @@
 msgid "Local"
 msgstr "Local"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "Chemin de l'index"
 
@@ -195,7 +169,7 @@
 
 #: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
-msgstr ""
+msgstr "Ne plus me prevenir"
 
 #: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
@@ -205,187 +179,211 @@
 msgid "N/A"
 msgstr "Inconnue"
 
-#: UI/GTK2/src/mainWindow.cc:363
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "Indefini"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Recherche"
 
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "Mes Pages Web"
+
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "Mes Documents"
+
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:880
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "Le chemin du document is"
 
-#: UI/GTK2/src/mainWindow.cc:1099
+#: UI/GTK2/src/mainWindow.cc:1095
 msgid "Couldn't search in results"
-msgstr ""
+msgstr "N'a pas pu chercher dans les resultats"
 
-#: UI/GTK2/src/mainWindow.cc:1110
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr "Dans Les Resultats"
 
-#: UI/GTK2/src/mainWindow.cc:1286
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "Montrant"
 
-#: UI/GTK2/src/mainWindow.cc:1294
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr "documents,"
 
-#: UI/GTK2/src/mainWindow.cc:1336
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "La recherche"
 
-#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr "sur"
 
-#: UI/GTK2/src/mainWindow.cc:1344
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "est terminee"
 
-#: UI/GTK2/src/mainWindow.cc:1499
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "Similaire a"
 
-#: UI/GTK2/src/mainWindow.cc:1566
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "Mis a jour l(es) etiquette(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "Mis a jour le document"
 
-#: UI/GTK2/src/mainWindow.cc:1672
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "Indexe"
 
-#: UI/GTK2/src/mainWindow.cc:1708
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "Desindexe le(s) document(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "N'a pas pu renommer l'index, le nom"
 
-#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "est deja utilise"
 
-#: UI/GTK2/src/mainWindow.cc:1819
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "N'a pas pu renommer l'index"
 
-#: UI/GTK2/src/mainWindow.cc:1832
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "Edite l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2140
+#: UI/GTK2/src/mainWindow.cc:2134
 msgid "Export"
-msgstr ""
+msgstr "Exporter"
 
-#: UI/GTK2/src/mainWindow.cc:2185
+#: UI/GTK2/src/mainWindow.cc:2179
 msgid "Couldn't find similar documents"
-msgstr ""
+msgstr "N'a pas pu trouver de documents similaires"
 
-#: UI/GTK2/src/mainWindow.cc:2429
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "L'index"
 
-#: UI/GTK2/src/mainWindow.cc:2433
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "n'existe pas"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "Enlever ce document de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "Enlever ces documents de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Desindexer"
 
-#: UI/GTK2/src/mainWindow.cc:2564
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Un outil de recherche pour le Bureau Libre"
 
-#: UI/GTK2/src/mainWindow.cc:2565
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "Cherche le Web et vos documents"
 
-#: UI/GTK2/src/mainWindow.cc:2610
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "Nom de l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2625
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "N'a pas pu ajouter l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2641
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "Ajoute un nouvel index"
 
-#: UI/GTK2/src/mainWindow.cc:2676
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "N'a pas pu enlever l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2876
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "Pas d'historique pour"
 
-#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Au moins une tache n'est pas terminee. Quitter maintenant ?"
 
-#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr "Quitter"
 
-#: UI/GTK2/src/mainWindow.cc:3130
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "Nom de la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "N'a pas pu mettre a jour la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "Edite la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3175
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "N'a pas pu ajouter la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3183
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "Ajoute une nouvelle recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3217
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "Recherche indefinie"
 
-#: UI/GTK2/src/mainWindow.cc:3228
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "Pas de moteur selectionne"
 
-#: UI/GTK2/src/mainWindow.cc:3315
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "Configurez la clef de l'API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3324
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "Recherche en cours"
 
-#: UI/GTK2/src/mainWindow.cc:3533
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "Pas d'application definie pour le type"
 
@@ -403,15 +401,15 @@
 
 #: UI/GTK2/src/mainWindow_glade.cc:165
 msgid "Open Cache"
-msgstr ""
+msgstr "Ouvrir Le Cache"
 
 #: UI/GTK2/src/mainWindow_glade.cc:168
 msgid "Open Parent"
-msgstr ""
+msgstr "Ouvrir Le Parent"
 
 #: UI/GTK2/src/mainWindow_glade.cc:174
 msgid "_Add To Index"
-msgstr ""
+msgstr "Ajouter A L'Index"
 
 #: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
@@ -435,15 +433,15 @@
 
 #: UI/GTK2/src/mainWindow_glade.cc:231
 msgid "Group Results By"
-msgstr ""
+msgstr "Grouper Les Resultats Par"
 
 #: UI/GTK2/src/mainWindow_glade.cc:234
 msgid "Show Extracts"
-msgstr ""
+msgstr "Montrer Les Extraits"
 
 #: UI/GTK2/src/mainWindow_glade.cc:243
 msgid "Export List"
-msgstr ""
+msgstr "Exporter La Liste"
 
 #: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
 #: UI/GTK2/src/statisticsDialog_glade.cc:86
@@ -460,7 +458,7 @@
 
 #: UI/GTK2/src/mainWindow_glade.cc:261
 msgid "_Options"
-msgstr ""
+msgstr "Options"
 
 #: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
@@ -472,7 +470,7 @@
 
 #: UI/GTK2/src/Notebook.cpp:84
 msgid "Did you mean ?"
-msgstr ""
+msgstr "Vouliez vous dire ?"
 
 #: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
@@ -552,79 +550,87 @@
 msgstr "N'a pas pu creer la base d'historiques"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "Important"
 
-#: UI/GTK2/src/PinotSettings.cpp:431
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "Nouveau"
 
-#: UI/GTK2/src/PinotSettings.cpp:432
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "Personnel"
 
-#: UI/GTK2/src/PinotSettings.cpp:454
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr "Moi"
 
-#: UI/GTK2/src/PinotSettings.cpp:462
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr "Plus Recents"
 
-#: UI/GTK2/src/PinotSettings.cpp:465
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr "Mes Trucs"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr "Avec L'Etiquette Nouveau"
 
-#: UI/GTK2/src/PinotSettings.cpp:467
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr "Avec CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:468
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr "En Anglais"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr "10ko Et Plus Petits"
 
-#: UI/GTK2/src/PinotSettings.cpp:514
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "Sans classification"
 
-#: UI/GTK2/src/prefsWindow.cc:205
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr "Recherche de Fichiers"
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr "Configurez Pinot pour indexer vos fichiers"
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "Nom"
 
-#: UI/GTK2/src/prefsWindow.cc:223
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "Surveiller"
 
-#: UI/GTK2/src/prefsWindow.cc:224
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "Chemin"
 
-#: UI/GTK2/src/prefsWindow.cc:232
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "Motif"
 
-#: UI/GTK2/src/prefsWindow.cc:565
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr "Ne pas indexer ces motifs"
 
-#: UI/GTK2/src/prefsWindow.cc:566
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr "Indexer uniquement ces motifs"
 
-#: UI/GTK2/src/prefsWindow.cc:765
+#: UI/GTK2/src/prefsWindow.cc:759
 msgid "Directory to index"
 msgstr "Repertoire a indexer"
 
-#: UI/GTK2/src/prefsWindow.cc:905
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "Nouvelle Etiquette"
 
@@ -699,11 +705,11 @@
 
 #: UI/GTK2/src/prefsWindow_glade.cc:149
 msgid "Miscellaneous"
-msgstr ""
+msgstr "Divers"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:523
 msgid "Pinot Preferences"
-msgstr ""
+msgstr "Preferences Pinot"
 
 #: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
@@ -765,7 +771,7 @@
 
 #: UI/GTK2/src/queryDialog.cc:116
 msgid "Path"
-msgstr ""
+msgstr "Chemin"
 
 #: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
@@ -799,7 +805,7 @@
 #. Sort order
 #: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
-msgstr ""
+msgstr "Par score"
 
 #: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
@@ -827,7 +833,7 @@
 
 #: UI/GTK2/src/queryDialog_glade.cc:93
 msgid "Stemming:"
-msgstr ""
+msgstr "Racines:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:94
 msgid "Only index new results"
@@ -842,9 +848,9 @@
 msgid "Score"
 msgstr "Score"
 
-#: UI/GTK2/src/ResultsTree.cpp:1553
+#: UI/GTK2/src/ResultsTree.cpp:1555
 msgid "No results"
-msgstr ""
+msgstr "Pas de resultats"
 
 #: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
@@ -853,7 +859,7 @@
 #: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
 #: UI/GTK2/src/statisticsDialog.cc:197
 msgid "Checking"
-msgstr ""
+msgstr "Verification en cours"
 
 #: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
@@ -993,60 +999,6 @@
 msgid "is blacklisted"
 msgstr "est exclus"
 
-#: UI/GTK2/src/WorkerThreads.cpp:1032
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "Pas de titre"
-
-#~ msgid "Result location is"
-#~ msgstr "Le chemin du resultat est"
-
-#~ msgid "documents, starting at"
-#~ msgstr "au total, a partir de"
-
-#~ msgid "Couldn't find query"
-#~ msgstr "N'a pas pu trouver"
-
-#~ msgid "Show Extract"
-#~ msgstr "Montrer l'Extrait"
-
-#~ msgid "Group By"
-#~ msgstr "Grouper Par"
-
-#~ msgid "Clear List"
-#~ msgstr "Nettoyer la Liste"
-
-#~ msgid "Vie_w"
-#~ msgstr "Voir"
-
-#~ msgid "View Cache"
-#~ msgstr "Voir le Cache"
-
-#~ msgid "_Index"
-#~ msgstr "Index"
-
-#~ msgid "View"
-#~ msgstr "Voir"
-
-#~ msgid "_About"
-#~ msgstr "A Propos"
-
-#~ msgid "_Session"
-#~ msgstr "Session"
-
-#~ msgid "_Results"
-#~ msgstr "Resultats"
-
-#~ msgid "General"
-#~ msgstr "General"
-
-#~ msgid "Preferences"
-#~ msgstr "Preferences"
-
-#~ msgid "Extract"
-#~ msgstr "Extrait"
-
-#~ msgid "Export Results"
-#~ msgstr "Exporter Les Resultats"
-
-#~ msgid "Corrected"
-#~ msgstr "Corrige"

Modified: trunk/po/he.po
===================================================================
--- trunk/po/he.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/he.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot\n"
-"Report-Msgid-Bugs-To: FULL NAME <EMAIL at ADDRESS>\n"
-"POT-Creation-Date: 2009-01-11 00:47+0800\n"
+"Project-Id-Version: pinot 0.90\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
 "PO-Revision-Date: 2009-01-10 16:34+0000\n"
 "Last-Translator: Yaron <sh.yaron at gmail.com>\n"
 "Language-Team: Hebrew <he at li.org>\n"
@@ -25,32 +25,6 @@
 msgid "Current User"
 msgstr "????? ?????"
 
-#. Apply this label
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
-#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
-#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
-#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
-#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
-#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
-#: UI/GTK2/src/WorkerThreads.cpp:1069
-msgid "My Web Pages"
-msgstr "????? ???????? ???"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
-#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
-#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
-#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
-#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
-#: UI/GTK2/src/WorkerThreads.cpp:1079
-msgid "My Documents"
-msgstr "??????? ???"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr "???? ?? ???"
@@ -59,7 +33,7 @@
 msgid "Local"
 msgstr "?????"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "????? ???????"
 
@@ -205,187 +179,211 @@
 msgid "N/A"
 msgstr "?? ????"
 
-#: UI/GTK2/src/mainWindow.cc:363
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "?? ?????"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "?????? ???"
 
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "????? ???????? ???"
+
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "??????? ???"
+
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:880
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "????? ????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:1099
+#: UI/GTK2/src/mainWindow.cc:1095
 msgid "Couldn't search in results"
 msgstr "?? ???? ???? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1110
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:1286
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1294
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1336
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1344
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1499
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "??? ???"
 
-#: UI/GTK2/src/mainWindow.cc:1566
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "?????/?? ???????/??"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1672
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "???? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1708
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "????/?? ?????/? ????/?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "?? ???? ????? ?? ??????, ??"
 
-#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "??? ???? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1819
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "?? ???? ????? ?? ?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1832
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "??????? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2140
+#: UI/GTK2/src/mainWindow.cc:2134
 msgid "Export"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2185
+#: UI/GTK2/src/mainWindow.cc:2179
 msgid "Couldn't find similar documents"
 msgstr "?? ???? ????? ?????? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:2429
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2433
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "?? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "??? ????? ???? ?? ???????? ?"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "??? ????? ?????? ??? ?????????"
 
-#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "???? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:2564
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "??? ????????? ?????? ?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2565
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "????? ???????? ???????? ??? !"
 
-#: UI/GTK2/src/mainWindow.cc:2610
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2625
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "?? ???? ?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2641
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "???? ?????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:2676
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "?? ???? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2876
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "??? ???????? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "????? ????? ??? ?? ?????? ?????. ???? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3130
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "?? ???? ????? ?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "??????? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:3175
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "?? ???? ?????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3183
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "????? ?????? ????"
 
-#: UI/GTK2/src/mainWindow.cc:3217
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "??????? ?? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3228
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "?? ???? ???? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:3315
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "??? ???? ?? ???? ??API ?? ???? ?????"
 
-#: UI/GTK2/src/mainWindow.cc:3324
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "??????? ???"
 
-#: UI/GTK2/src/mainWindow.cc:3533
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "?? ????? ????? ?????? ???? ????"
 
@@ -552,85 +550,92 @@
 msgstr ""
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:431
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:432
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:454
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:462
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:465
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:467
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:468
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:514
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:205
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:223
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:224
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:232
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:565
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:566
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:765
+#: UI/GTK2/src/prefsWindow.cc:759
 msgid "Directory to index"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:905
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr ""
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid ""
-"These directories will be indexed and optionally monitored for changes:"
+msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 
 #: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
@@ -843,7 +848,7 @@
 msgid "Score"
 msgstr ""
 
-#: UI/GTK2/src/ResultsTree.cpp:1552
+#: UI/GTK2/src/ResultsTree.cpp:1555
 msgid "No results"
 msgstr ""
 
@@ -852,70 +857,69 @@
 msgstr ""
 
 #: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
-#: UI/GTK2/src/statisticsDialog.cc:187 UI/GTK2/src/statisticsDialog.cc:190
-#: UI/GTK2/src/statisticsDialog.cc:198
+#: UI/GTK2/src/statisticsDialog.cc:197
 msgid "Checking"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:195
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:222 UI/GTK2/src/statisticsDialog.cc:238
-msgid "documents"
-msgstr ""
-
-#: UI/GTK2/src/statisticsDialog.cc:228 UI/GTK2/src/statisticsDialog.cc:246
-#: UI/GTK2/src/WorkerThreads.cpp:125
-msgid "Unknown error"
-msgstr ""
-
-#: UI/GTK2/src/statisticsDialog.cc:253
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:253
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:259
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:259
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr ""
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr ""
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:277
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:297
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:301
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:305
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:319
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:336
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:354
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:391
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr ""
 
@@ -995,6 +999,6 @@
 msgid "is blacklisted"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:1032
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr ""

Modified: trunk/po/it.po
===================================================================
--- trunk/po/it.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/it.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.88\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-11 14:31+0800\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
 "PO-Revision-Date: 2009-01-10 18:59+0000\n"
 "Last-Translator: MarcoBazzani <alfred.einstein at gmail.com>\n"
 "Language-Team: Italian <it at li.org>\n"
@@ -24,32 +24,6 @@
 msgid "Current User"
 msgstr "Utente attuale"
 
-#. Apply this label
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
-#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
-#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
-#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
-#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
-#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
-#: UI/GTK2/src/WorkerThreads.cpp:1069
-msgid "My Web Pages"
-msgstr "Pagine Web Personali"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
-#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
-#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
-#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
-#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
-#: UI/GTK2/src/WorkerThreads.cpp:1079
-msgid "My Documents"
-msgstr "Documenti Personali"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr "Fornito da"
@@ -58,7 +32,7 @@
 msgid "Local"
 msgstr "Locale"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "Indice di Posizione"
 
@@ -206,187 +180,211 @@
 msgid "N/A"
 msgstr "N/D"
 
-#: UI/GTK2/src/mainWindow.cc:363
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "Non Definito"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Ricerca Istantanea"
 
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "Pagine Web Personali"
+
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "Documenti Personali"
+
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:880
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "La posizione Documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:1099
+#: UI/GTK2/src/mainWindow.cc:1095
 msgid "Couldn't search in results"
 msgstr "Impossibile cercare nei risultati"
 
-#: UI/GTK2/src/mainWindow.cc:1110
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr "Nei Risultati"
 
-#: UI/GTK2/src/mainWindow.cc:1286
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "Mostrando"
 
-#: UI/GTK2/src/mainWindow.cc:1294
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr "di"
 
-#: UI/GTK2/src/mainWindow.cc:1336
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "Ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr "sul"
 
-#: UI/GTK2/src/mainWindow.cc:1344
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "concluso"
 
-#: UI/GTK2/src/mainWindow.cc:1499
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "Molti Come"
 
-#: UI/GTK2/src/mainWindow.cc:1566
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "Etichetta(e) Aggiornata"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "Documento aggiornato"
 
-#: UI/GTK2/src/mainWindow.cc:1672
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "Indicizzato"
 
-#: UI/GTK2/src/mainWindow.cc:1708
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "Documento/i non Indicizzato/i"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "Impossibile rinominare l'indice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "? gi? in uso"
 
-#: UI/GTK2/src/mainWindow.cc:1819
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "Impossibile rinominare l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:1832
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "Indice modificato"
 
-#: UI/GTK2/src/mainWindow.cc:2140
+#: UI/GTK2/src/mainWindow.cc:2134
 msgid "Export"
 msgstr "Esporta"
 
-#: UI/GTK2/src/mainWindow.cc:2185
+#: UI/GTK2/src/mainWindow.cc:2179
 msgid "Couldn't find similar documents"
 msgstr "Impossibile trovare documenti simili"
 
-#: UI/GTK2/src/mainWindow.cc:2429
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "Indice"
 
-#: UI/GTK2/src/mainWindow.cc:2433
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "non esiste"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "Rimuovere questo documento dall'indice?"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "Rimuovere questi documenti dall'indice?"
 
-#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Rimuovi dall'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2564
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Un metamotore di ricerca per il Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2565
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "Cerca nel Web e nei documenti !"
 
-#: UI/GTK2/src/mainWindow.cc:2610
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "Nome indice"
 
-#: UI/GTK2/src/mainWindow.cc:2625
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "Impossibile aggiungere l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2641
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "Nuovo indice aggiunto"
 
-#: UI/GTK2/src/mainWindow.cc:2676
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "Impossibile rimuovere l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2876
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "Nessuna cronologia per"
 
-#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Almeno un'operazione non ? stata ancora completata. Uscire comunque?"
 
-#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr "Esci"
 
-#: UI/GTK2/src/mainWindow.cc:3130
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "Nome della ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "Impossibile aggiornare la ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "Ricerca Modificata"
 
-#: UI/GTK2/src/mainWindow.cc:3175
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "Impossibile aggiungere la ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:3183
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "Nuova ricerca aggiunta"
 
-#: UI/GTK2/src/mainWindow.cc:3217
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "Ricerca non ancora configurata"
 
-#: UI/GTK2/src/mainWindow.cc:3228
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "Nessun motore di ricerca selezionato"
 
-#: UI/GTK2/src/mainWindow.cc:3315
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "Prima inserisci la tua Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3324
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "Ricerca in esecuzione"
 
-#: UI/GTK2/src/mainWindow.cc:3533
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "Nessuna applicazione predefinita esistente"
 
@@ -553,79 +551,87 @@
 msgstr "Impossibile creare una cronologia del database"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:431
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "Nuovo"
 
-#: UI/GTK2/src/PinotSettings.cpp:432
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "Personale"
 
-#: UI/GTK2/src/PinotSettings.cpp:454
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr "Io"
 
-#: UI/GTK2/src/PinotSettings.cpp:462
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr "Gli Ultimi All'inizio"
 
-#: UI/GTK2/src/PinotSettings.cpp:465
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr "Home Stuff"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr "Con Nuove Etichette"
 
-#: UI/GTK2/src/PinotSettings.cpp:467
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr "Ha CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:468
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr "In Inglese"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr "10kb E Pi? Piccoli"
 
-#: UI/GTK2/src/PinotSettings.cpp:514
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "Non classificato"
 
-#: UI/GTK2/src/prefsWindow.cc:205
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "Nome"
 
-#: UI/GTK2/src/prefsWindow.cc:223
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "Monitor"
 
-#: UI/GTK2/src/prefsWindow.cc:224
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "Posizione"
 
-#: UI/GTK2/src/prefsWindow.cc:232
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "Espressione"
 
-#: UI/GTK2/src/prefsWindow.cc:565
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr "Escludi queste espressioni dall'indice"
 
-#: UI/GTK2/src/prefsWindow.cc:566
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr "Indicizza solo queste espressioni"
 
-#: UI/GTK2/src/prefsWindow.cc:765
+#: UI/GTK2/src/prefsWindow.cc:759
 msgid "Directory to index"
 msgstr "Directory da Indicizzare"
 
-#: UI/GTK2/src/prefsWindow.cc:905
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "Nuova descrizione"
 
@@ -845,7 +851,7 @@
 msgid "Score"
 msgstr "Punteggio"
 
-#: UI/GTK2/src/ResultsTree.cpp:1552
+#: UI/GTK2/src/ResultsTree.cpp:1555
 msgid "No results"
 msgstr "Nessun risultato"
 
@@ -996,54 +1002,6 @@
 msgid "is blacklisted"
 msgstr "? segnato come da non indicizzare"
 
-#: UI/GTK2/src/WorkerThreads.cpp:1032
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "Senza titolo"
-
-#~ msgid "Result location is"
-#~ msgstr "la posizione del risultato ?"
-
-#~ msgid "documents, starting at"
-#~ msgstr "documenti, inizio a"
-
-#~ msgid "Couldn't find query"
-#~ msgstr "Impossibile trovare la query"
-
-#~ msgid "Show Extract"
-#~ msgstr "Mostrare un estratto"
-
-#~ msgid "Group By"
-#~ msgstr "Raggruppa Per"
-
-#~ msgid "Clear List"
-#~ msgstr "Pulisci llista"
-
-#~ msgid "Vie_w"
-#~ msgstr "Visualizza"
-
-#~ msgid "View Cache"
-#~ msgstr "Guarda Cache"
-
-#~ msgid "_Index"
-#~ msgstr "_Indice"
-
-#~ msgid "View"
-#~ msgstr "Vedi"
-
-#~ msgid "_About"
-#~ msgstr "_About"
-
-#~ msgid "_Session"
-#~ msgstr "_Sessione"
-
-#~ msgid "_Results"
-#~ msgstr "_Risultati"
-
-#~ msgid "General"
-#~ msgstr "Generale"
-
-#~ msgid "Preferences"
-#~ msgstr "Preferenze"
-
-#~ msgid "Extract"
-#~ msgstr "Estrai"

Modified: trunk/po/ja.po
===================================================================
--- trunk/po/ja.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/ja.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.88\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-11 23:44+0800\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
 "PO-Revision-Date: 2009-01-13 00:43+0000\n"
 "Last-Translator: Takeo Mizuki <Unknown>\n"
 "Language-Team: Japanese <ja at li.org>\n"
@@ -25,32 +25,6 @@
 msgid "Current User"
 msgstr "???????"
 
-#. Apply this label
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
-#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
-#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
-#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
-#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
-#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
-#: UI/GTK2/src/WorkerThreads.cpp:1069
-msgid "My Web Pages"
-msgstr "????????"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
-#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
-#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
-#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
-#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
-#: UI/GTK2/src/WorkerThreads.cpp:1079
-msgid "My Documents"
-msgstr "????????"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr "Served by"
@@ -59,7 +33,7 @@
 msgid "Local"
 msgstr "????"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "????????????"
 
@@ -205,188 +179,212 @@
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:363
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "???????"
 
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "????????"
+
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "????????"
+
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:880
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "??????:"
 
-#: UI/GTK2/src/mainWindow.cc:1099
+#: UI/GTK2/src/mainWindow.cc:1095
 msgid "Couldn't search in results"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1110
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1286
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1294
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr "of"
 
-#: UI/GTK2/src/mainWindow.cc:1336
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr "on"
 
-#: UI/GTK2/src/mainWindow.cc:1344
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1499
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:1566
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "????????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:1672
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1708
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "??????????"
 
-#: UI/GTK2/src/mainWindow.cc:1819
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1832
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:2140
+#: UI/GTK2/src/mainWindow.cc:2134
 msgid "Export"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2185
+#: UI/GTK2/src/mainWindow.cc:2179
 msgid "Couldn't find similar documents"
 msgstr "????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2429
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2433
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "??????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:2564
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2565
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "????????????????!"
 
-#: UI/GTK2/src/mainWindow.cc:2610
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:2625
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2641
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2676
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2876
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "???????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr ""
 "?????????????????????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:3130
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3175
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3183
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:3217
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3228
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3315
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "????Google API???????????"
 
-#: UI/GTK2/src/mainWindow.cc:3324
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3533
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "??????????????????????????????"
 
@@ -553,79 +551,87 @@
 msgstr "????????????????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:431
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:432
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "???"
 
-#: UI/GTK2/src/PinotSettings.cpp:454
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:462
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr "??????"
 
-#: UI/GTK2/src/PinotSettings.cpp:465
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:467
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr "CJKV???"
 
-#: UI/GTK2/src/PinotSettings.cpp:468
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:514
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "???"
 
-#: UI/GTK2/src/prefsWindow.cc:205
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "??"
 
-#: UI/GTK2/src/prefsWindow.cc:223
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "????"
 
-#: UI/GTK2/src/prefsWindow.cc:224
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "??"
 
-#: UI/GTK2/src/prefsWindow.cc:232
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "????"
 
-#: UI/GTK2/src/prefsWindow.cc:565
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/prefsWindow.cc:566
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/prefsWindow.cc:765
+#: UI/GTK2/src/prefsWindow.cc:759
 msgid "Directory to index"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/prefsWindow.cc:905
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "?????"
 
@@ -844,7 +850,7 @@
 msgid "Score"
 msgstr "???"
 
-#: UI/GTK2/src/ResultsTree.cpp:1553
+#: UI/GTK2/src/ResultsTree.cpp:1555
 msgid "No results"
 msgstr "????"
 
@@ -995,57 +1001,6 @@
 msgid "is blacklisted"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:1032
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "??????"
-
-#~ msgid "Result location is"
-#~ msgstr "??:"
-
-#~ msgid "Couldn't find query"
-#~ msgstr "?????????????"
-
-#~ msgid "Show Extract"
-#~ msgstr "??????"
-
-#~ msgid "Group By"
-#~ msgstr "??????"
-
-#~ msgid "Clear List"
-#~ msgstr "???????"
-
-#~ msgid "Vie_w"
-#~ msgstr "??(_w)"
-
-#~ msgid "View Cache"
-#~ msgstr "???????"
-
-#~ msgid "_Index"
-#~ msgstr "??????(_I)"
-
-#~ msgid "View"
-#~ msgstr "??"
-
-#~ msgid "_About"
-#~ msgstr "??(_A)"
-
-#~ msgid "_Session"
-#~ msgstr "?????(_S)"
-
-#~ msgid "_Results"
-#~ msgstr "??(_R)"
-
-#~ msgid "General"
-#~ msgstr "??"
-
-#~ msgid "Preferences"
-#~ msgstr "??"
-
-#~ msgid "Extract"
-#~ msgstr "??"
-
-#~ msgid "Export Results"
-#~ msgstr "?????????"
-
-#~ msgid "Corrected"
-#~ msgstr "????"

Modified: trunk/po/nl.po
===================================================================
--- trunk/po/nl.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/nl.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.88\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-11 00:47+0800\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
 "PO-Revision-Date: 2009-01-10 20:38+0000\n"
 "Last-Translator: JW <jw00000 at gmail.com>\n"
 "Language-Team: Dutch <nl at li.org>\n"
@@ -24,32 +24,6 @@
 msgid "Current User"
 msgstr "Huidige gebruiker"
 
-#. Apply this label
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
-#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
-#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
-#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
-#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
-#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
-#: UI/GTK2/src/WorkerThreads.cpp:1069
-msgid "My Web Pages"
-msgstr "Mijn webpagina's"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
-#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
-#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
-#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
-#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
-#: UI/GTK2/src/WorkerThreads.cpp:1079
-msgid "My Documents"
-msgstr "Mijn documenten"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr "Geserveerd door"
@@ -58,7 +32,7 @@
 msgid "Local"
 msgstr "Lokaal"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "Index locatie"
 
@@ -205,187 +179,211 @@
 msgid "N/A"
 msgstr "NVT"
 
-#: UI/GTK2/src/mainWindow.cc:363
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "Niet gedefinieerd"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Rechtstreekse query"
 
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "Mijn webpagina's"
+
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "Mijn documenten"
+
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:880
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "Documentlocatie is"
 
-#: UI/GTK2/src/mainWindow.cc:1099
+#: UI/GTK2/src/mainWindow.cc:1095
 msgid "Couldn't search in results"
 msgstr "Kon niet zoeken in resultaten"
 
-#: UI/GTK2/src/mainWindow.cc:1110
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr "In de resultaten"
 
-#: UI/GTK2/src/mainWindow.cc:1286
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "Aan het tonen"
 
-#: UI/GTK2/src/mainWindow.cc:1294
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr "van"
 
-#: UI/GTK2/src/mainWindow.cc:1336
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "Query"
 
-#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr "op"
 
-#: UI/GTK2/src/mainWindow.cc:1344
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "Beeindigd"
 
-#: UI/GTK2/src/mainWindow.cc:1499
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "Meer zoals"
 
-#: UI/GTK2/src/mainWindow.cc:1566
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "Vernieuwde na(a)m(en)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "Vernieuwd document"
 
-#: UI/GTK2/src/mainWindow.cc:1672
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "Geindexeerd"
 
-#: UI/GTK2/src/mainWindow.cc:1708
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "Niet geindexeerd(e) document(en)"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "Kon index niet hernoemen, naam"
 
-#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "is reeds in gebruik"
 
-#: UI/GTK2/src/mainWindow.cc:1819
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "Kon index niet hernoemen"
 
-#: UI/GTK2/src/mainWindow.cc:1832
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "Bewerkte index"
 
-#: UI/GTK2/src/mainWindow.cc:2140
+#: UI/GTK2/src/mainWindow.cc:2134
 msgid "Export"
 msgstr "Exporteren"
 
-#: UI/GTK2/src/mainWindow.cc:2185
+#: UI/GTK2/src/mainWindow.cc:2179
 msgid "Couldn't find similar documents"
 msgstr "Niet gevonden in gelijkaardige documenten"
 
-#: UI/GTK2/src/mainWindow.cc:2429
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "Inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2433
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "bestaat niet"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "Verwijder dit document uit de inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "Verwijder deze documenten uit de inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "De-indexeren"
 
-#: UI/GTK2/src/mainWindow.cc:2564
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Een metazoek tool voor de Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2565
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "Zoek het web en uw documenten!"
 
-#: UI/GTK2/src/mainWindow.cc:2610
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "Naam inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2625
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "Kon inhoudsopgave niet toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:2641
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "Nieuwe inhoudsopgave toegevoegd"
 
-#: UI/GTK2/src/mainWindow.cc:2676
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "Kon inhoudsopgave niet verwijderen"
 
-#: UI/GTK2/src/mainWindow.cc:2876
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "Geen geschiedenis voor"
 
-#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Tenminste een taak is nog niet gereed. Nu stoppen?"
 
-#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr "Afsluiten"
 
-#: UI/GTK2/src/mainWindow.cc:3130
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "Naam query"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "Kon query niet actualiseren"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "Bewerkte query"
 
-#: UI/GTK2/src/mainWindow.cc:3175
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "Kon query niet toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:3183
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "Nieuwe query toegevoegd"
 
-#: UI/GTK2/src/mainWindow.cc:3217
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "Query niet vastgelegd"
 
-#: UI/GTK2/src/mainWindow.cc:3228
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "Geen zoekmachine geselecteerd"
 
-#: UI/GTK2/src/mainWindow.cc:3315
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "Geef eerst de Google API sleutel in"
 
-#: UI/GTK2/src/mainWindow.cc:3324
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "Lopende query"
 
-#: UI/GTK2/src/mainWindow.cc:3533
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "Geen standaard toepassing gedefinieerd voor het type"
 
@@ -552,85 +550,92 @@
 msgstr "Kon historische database niet maken"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "Belangrijk"
 
-#: UI/GTK2/src/PinotSettings.cpp:431
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "Nieuw"
 
-#: UI/GTK2/src/PinotSettings.cpp:432
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "Persoonlijk"
 
-#: UI/GTK2/src/PinotSettings.cpp:454
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr "Ik"
 
-#: UI/GTK2/src/PinotSettings.cpp:462
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr "Laatste eerst"
 
-#: UI/GTK2/src/PinotSettings.cpp:465
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr "Dingen uit persoonlijke map"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr "Met het label 'Nieuw'"
 
-#: UI/GTK2/src/PinotSettings.cpp:467
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr "Met CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:468
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr "In het Engels"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr "10kb en kleiner"
 
-#: UI/GTK2/src/PinotSettings.cpp:514
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "Niet geclassificeerd"
 
-#: UI/GTK2/src/prefsWindow.cc:205
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "Naam"
 
-#: UI/GTK2/src/prefsWindow.cc:223
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "Observeren"
 
-#: UI/GTK2/src/prefsWindow.cc:224
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "Locatie"
 
-#: UI/GTK2/src/prefsWindow.cc:232
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "Patroon"
 
-#: UI/GTK2/src/prefsWindow.cc:565
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr "Deze patronen niet indexeren"
 
-#: UI/GTK2/src/prefsWindow.cc:566
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr "Enkel deze patronen indexeren"
 
-#: UI/GTK2/src/prefsWindow.cc:765
+#: UI/GTK2/src/prefsWindow.cc:759
 msgid "Directory to index"
 msgstr "Directory naar inhoudsopgave"
 
-#: UI/GTK2/src/prefsWindow.cc:905
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "Nieuwe naam"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid ""
-"These directories will be indexed and optionally monitored for changes:"
+msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Deze directories zullen geindexeerd worden en optioneel bijgewerkt worden "
 "bij veranderingen:"
@@ -846,7 +851,7 @@
 msgid "Score"
 msgstr "Score"
 
-#: UI/GTK2/src/ResultsTree.cpp:1552
+#: UI/GTK2/src/ResultsTree.cpp:1555
 msgid "No results"
 msgstr "Geen resultaten"
 
@@ -855,70 +860,69 @@
 msgstr "Indexen"
 
 #: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
-#: UI/GTK2/src/statisticsDialog.cc:187 UI/GTK2/src/statisticsDialog.cc:190
-#: UI/GTK2/src/statisticsDialog.cc:198
+#: UI/GTK2/src/statisticsDialog.cc:197
 msgid "Checking"
 msgstr "Controleren"
 
-#: UI/GTK2/src/statisticsDialog.cc:195
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:222 UI/GTK2/src/statisticsDialog.cc:238
-msgid "documents"
-msgstr "documenten"
-
-#: UI/GTK2/src/statisticsDialog.cc:228 UI/GTK2/src/statisticsDialog.cc:246
-#: UI/GTK2/src/WorkerThreads.cpp:125
-msgid "Unknown error"
-msgstr "Onbekende fout."
-
-#: UI/GTK2/src/statisticsDialog.cc:253
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr "Weergegeven"
 
-#: UI/GTK2/src/statisticsDialog.cc:253
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr "resultaten"
 
-#: UI/GTK2/src/statisticsDialog.cc:259
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr "Gecrawld"
 
-#: UI/GTK2/src/statisticsDialog.cc:259
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr "bestanden"
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr "documenten"
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "Onbekende fout."
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:277
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr "Wordt uitgevoerd on het PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:297
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
 msgstr "Losgekoppeld van D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:301
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
 msgstr "Gestopt"
 
-#: UI/GTK2/src/statisticsDialog.cc:305
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr "Wordt momenteel niet uitgevoerd"
 
-#: UI/GTK2/src/statisticsDialog.cc:319
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
 msgstr "Weinig schijfruimte"
 
-#: UI/GTK2/src/statisticsDialog.cc:336
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr "Systeem op batterij"
 
-#: UI/GTK2/src/statisticsDialog.cc:354
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
 msgstr "Aan het crawlen"
 
-#: UI/GTK2/src/statisticsDialog.cc:391
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "Fouten"
 
@@ -998,60 +1002,6 @@
 msgid "is blacklisted"
 msgstr "staat op blacklist"
 
-#: UI/GTK2/src/WorkerThreads.cpp:1032
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "Geen titel"
-
-#~ msgid "Result location is"
-#~ msgstr "Uitvoerlocatie is"
-
-#~ msgid "documents, starting at"
-#~ msgstr "documenten, beginnend bij"
-
-#~ msgid "Couldn't find query"
-#~ msgstr "Kon query niet vinden"
-
-#~ msgid "Show Extract"
-#~ msgstr "Toon uittreksel"
-
-#~ msgid "Group By"
-#~ msgstr "Groeperen op"
-
-#~ msgid "Clear List"
-#~ msgstr "Lijst opschonen"
-
-#~ msgid "Vie_w"
-#~ msgstr "_Toon"
-
-#~ msgid "View Cache"
-#~ msgstr "Toon cache"
-
-#~ msgid "_Index"
-#~ msgstr "_Index"
-
-#~ msgid "View"
-#~ msgstr "Toon"
-
-#~ msgid "_About"
-#~ msgstr "_Over"
-
-#~ msgid "_Session"
-#~ msgstr "_Sessie"
-
-#~ msgid "_Results"
-#~ msgstr "_Resultaten"
-
-#~ msgid "General"
-#~ msgstr "Algemeen"
-
-#~ msgid "Preferences"
-#~ msgstr "Voorkeuren"
-
-#~ msgid "Extract"
-#~ msgstr "Uitpakken"
-
-#~ msgid "Export Results"
-#~ msgstr "Resultaten exporteren"
-
-#~ msgid "Corrected"
-#~ msgstr "Gecorrigeerd"

Modified: trunk/po/pt.po
===================================================================
--- trunk/po/pt.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/pt.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.88\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-11 00:47+0800\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
 "PO-Revision-Date: 2009-01-10 22:28+0000\n"
 "Last-Translator: _PN_boy <pedro_nuno_pn at iol.pt>\n"
 "Language-Team: Portuguese <pt at li.org>\n"
@@ -24,32 +24,6 @@
 msgid "Current User"
 msgstr "Utilizador Actual"
 
-#. Apply this label
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
-#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
-#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
-#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
-#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
-#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
-#: UI/GTK2/src/WorkerThreads.cpp:1069
-msgid "My Web Pages"
-msgstr "As minhas p?ginas Web"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
-#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
-#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
-#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
-#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
-#: UI/GTK2/src/WorkerThreads.cpp:1079
-msgid "My Documents"
-msgstr "Os Meus Documentos"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr "Servido por"
@@ -58,7 +32,7 @@
 msgid "Local"
 msgstr "Local"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "Localiza??o do index"
 
@@ -190,8 +164,7 @@
 
 #: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
-msgstr ""
-"A actualizar todos os documentos nas Minhas P?ginas Web ? recomendado"
+msgstr "A actualizar todos os documentos nas Minhas P?ginas Web ? recomendado"
 
 #: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
@@ -205,187 +178,211 @@
 msgid "N/A"
 msgstr "N/D"
 
-#: UI/GTK2/src/mainWindow.cc:363
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "Indefinido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Consulta activa"
 
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "As minhas p?ginas Web"
+
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "Os Meus Documentos"
+
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:880
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "A localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:1099
+#: UI/GTK2/src/mainWindow.cc:1095
 msgid "Couldn't search in results"
 msgstr "N?o foi poss?vel pesquisar nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1110
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr "Nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1286
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "Visualizando"
 
-#: UI/GTK2/src/mainWindow.cc:1294
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1336
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "Pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr "activar"
 
-#: UI/GTK2/src/mainWindow.cc:1344
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "terminado"
 
-#: UI/GTK2/src/mainWindow.cc:1499
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "Mais identico"
 
-#: UI/GTK2/src/mainWindow.cc:1566
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "Documento actualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1672
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1708
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear o ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1819
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1832
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2140
+#: UI/GTK2/src/mainWindow.cc:2134
 msgid "Export"
 msgstr "Exportar"
 
-#: UI/GTK2/src/mainWindow.cc:2185
+#: UI/GTK2/src/mainWindow.cc:2179
 msgid "Couldn't find similar documents"
 msgstr "N?o foi poss?vel encontrar documentos semelhantes"
 
-#: UI/GTK2/src/mainWindow.cc:2429
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2433
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "Remover este documento do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "Remover estes documentos do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2564
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca para o Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2565
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "Pesquise a Web e os seus documentos"
 
-#: UI/GTK2/src/mainWindow.cc:2610
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2625
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2641
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2676
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "N?o foi possivel remover o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2876
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "Nenhum hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa ainda n?o foi concluida. Sair agora?"
 
-#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr "Sair"
 
-#: UI/GTK2/src/mainWindow.cc:3130
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel actualizar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3175
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3183
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3217
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "Consulta n?o foi actualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3228
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa seleccionado"
 
-#: UI/GTK2/src/mainWindow.cc:3315
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "Primeiro escolha a tecla para a API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3324
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "A executar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3533
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "Nenhuma aplica??o associada ao tipo"
 
@@ -552,85 +549,92 @@
 msgstr "N?o foi poss?vel criar base de dados do hist?rico"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:431
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "Novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:432
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:454
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr "Eu"
 
-#: UI/GTK2/src/PinotSettings.cpp:462
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr "Primeiro os ?ltimos"
 
-#: UI/GTK2/src/PinotSettings.cpp:465
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr "Coisas do direct?rio pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr "Com r?tulo novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:467
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr "Tem CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:468
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr "Em ingl?s"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr "10kb e menor"
 
-#: UI/GTK2/src/PinotSettings.cpp:514
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "N?o classificado"
 
-#: UI/GTK2/src/prefsWindow.cc:205
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "Nome :"
 
-#: UI/GTK2/src/prefsWindow.cc:223
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "Supervisar"
 
-#: UI/GTK2/src/prefsWindow.cc:224
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "Localiza??o"
 
-#: UI/GTK2/src/prefsWindow.cc:232
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "Padr?o:"
 
-#: UI/GTK2/src/prefsWindow.cc:565
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr "Excluir estes padr?es da indexa??o"
 
-#: UI/GTK2/src/prefsWindow.cc:566
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr "Indexar somente estes padr?es"
 
-#: UI/GTK2/src/prefsWindow.cc:765
+#: UI/GTK2/src/prefsWindow.cc:759
 msgid "Directory to index"
 msgstr "Direct?rio a indexar"
 
-#: UI/GTK2/src/prefsWindow.cc:905
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "Novo t?tulo"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid ""
-"These directories will be indexed and optionally monitored for changes:"
+msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Direct?rios que ser?o indexados e opcionalmente ser?o monitorizadas as "
 "altera??es:"
@@ -845,7 +849,7 @@
 msgid "Score"
 msgstr "Pontua??o"
 
-#: UI/GTK2/src/ResultsTree.cpp:1552
+#: UI/GTK2/src/ResultsTree.cpp:1555
 msgid "No results"
 msgstr "Sem resultados"
 
@@ -854,70 +858,69 @@
 msgstr "?ndices"
 
 #: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
-#: UI/GTK2/src/statisticsDialog.cc:187 UI/GTK2/src/statisticsDialog.cc:190
-#: UI/GTK2/src/statisticsDialog.cc:198
+#: UI/GTK2/src/statisticsDialog.cc:197
 msgid "Checking"
 msgstr "A verificar"
 
-#: UI/GTK2/src/statisticsDialog.cc:195
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:222 UI/GTK2/src/statisticsDialog.cc:238
-msgid "documents"
-msgstr "documentos"
-
-#: UI/GTK2/src/statisticsDialog.cc:228 UI/GTK2/src/statisticsDialog.cc:246
-#: UI/GTK2/src/WorkerThreads.cpp:125
-msgid "Unknown error"
-msgstr "Erro desconhecido"
-
-#: UI/GTK2/src/statisticsDialog.cc:253
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr "Visualizado"
 
-#: UI/GTK2/src/statisticsDialog.cc:253
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr "resultados"
 
-#: UI/GTK2/src/statisticsDialog.cc:259
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr "Recolhido"
 
-#: UI/GTK2/src/statisticsDialog.cc:259
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr "ficheiros"
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr "documentos"
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "Erro desconhecido"
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:277
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr "A correr com o PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:297
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
 msgstr "Desligado do D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:301
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
 msgstr "Parado"
 
-#: UI/GTK2/src/statisticsDialog.cc:305
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr "Presentemente n?o est? a correr"
 
-#: UI/GTK2/src/statisticsDialog.cc:319
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
 msgstr "Pouco espa?o no disco"
 
-#: UI/GTK2/src/statisticsDialog.cc:336
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr "A usar a bateria"
 
-#: UI/GTK2/src/statisticsDialog.cc:354
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
 msgstr "A recolher"
 
-#: UI/GTK2/src/statisticsDialog.cc:391
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "Erros"
 
@@ -997,54 +1000,6 @@
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:1032
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "Sem t?tulo"
-
-#~ msgid "Result location is"
-#~ msgstr "A localiza??o do resultado ?"
-
-#~ msgid "documents, starting at"
-#~ msgstr "documentos, come?ando em"
-
-#~ msgid "Couldn't find query"
-#~ msgstr "N?o foi poss?vel encontrar a consulta"
-
-#~ msgid "Show Extract"
-#~ msgstr "Mostrar extracto"
-
-#~ msgid "Group By"
-#~ msgstr "Agrupar Por"
-
-#~ msgid "Clear List"
-#~ msgstr "Limpar Lista"
-
-#~ msgid "Vie_w"
-#~ msgstr "M_ostrar"
-
-#~ msgid "View Cache"
-#~ msgstr "Ver Cache"
-
-#~ msgid "_Index"
-#~ msgstr "?nd_ice"
-
-#~ msgid "View"
-#~ msgstr "Visualizar"
-
-#~ msgid "_About"
-#~ msgstr "_Sobre"
-
-#~ msgid "_Session"
-#~ msgstr "_Sess?o"
-
-#~ msgid "_Results"
-#~ msgstr "_Resultados"
-
-#~ msgid "General"
-#~ msgstr "Geral"
-
-#~ msgid "Preferences"
-#~ msgstr "Prefer?ncias"
-
-#~ msgid "Extract"
-#~ msgstr "Extrair"

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/pt_BR.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.88\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-11 00:47+0800\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
 "PO-Revision-Date: 2009-01-10 23:12+0000\n"
 "Last-Translator: Henrique P. Machado <zehrique at gmail.com>\n"
 "Language-Team: Portuguese (Brazil) <pt_BR at li.org>\n"
@@ -24,32 +24,6 @@
 msgid "Current User"
 msgstr "Usu?rio atual"
 
-#. Apply this label
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
-#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
-#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
-#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
-#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
-#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
-#: UI/GTK2/src/WorkerThreads.cpp:1069
-msgid "My Web Pages"
-msgstr "Minhas P?ginas Web"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
-#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
-#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
-#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
-#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
-#: UI/GTK2/src/WorkerThreads.cpp:1079
-msgid "My Documents"
-msgstr "Meus Documentos"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr "Servido por"
@@ -58,7 +32,7 @@
 msgid "Local"
 msgstr "Local"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "Localiza??o do ?ndice"
 
@@ -204,187 +178,211 @@
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:363
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "N?o definido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Query ativa"
 
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "Minhas P?ginas Web"
+
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "Meus Documentos"
+
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:880
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "Localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:1099
+#: UI/GTK2/src/mainWindow.cc:1095
 msgid "Couldn't search in results"
 msgstr "N?o foi poss?vel pesquisar nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1110
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr "Nos resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1286
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "Exibindo"
 
-#: UI/GTK2/src/mainWindow.cc:1294
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1336
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "Consulta"
 
-#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr "no"
 
-#: UI/GTK2/src/mainWindow.cc:1344
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "finalizada"
 
-#: UI/GTK2/src/mainWindow.cc:1499
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "Mais pr?xima"
 
-#: UI/GTK2/src/mainWindow.cc:1566
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "Documento atualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1672
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1708
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexidado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1819
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1832
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2140
+#: UI/GTK2/src/mainWindow.cc:2134
 msgid "Export"
 msgstr "Exportar"
 
-#: UI/GTK2/src/mainWindow.cc:2185
+#: UI/GTK2/src/mainWindow.cc:2179
 msgid "Couldn't find similar documents"
 msgstr "N?o foi poss?vel achar documentos similares"
 
-#: UI/GTK2/src/mainWindow.cc:2429
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2433
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "Remover documento do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "Remover documentos do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2564
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca gr?tis para Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2565
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "Procurar a Rede e seus documentos!"
 
-#: UI/GTK2/src/mainWindow.cc:2610
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2625
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2641
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2676
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "N?o foi poss?vel remover ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2876
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "Nenhum hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa n?o terminou ainda. Sair assim mesmo?"
 
-#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr "Sair"
 
-#: UI/GTK2/src/mainWindow.cc:3130
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel atualizar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3175
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3183
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3217
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "Consulta n?o foi atualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3228
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa selecionado"
 
-#: UI/GTK2/src/mainWindow.cc:3315
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "Primeiro informe a tecla para Google API"
 
-#: UI/GTK2/src/mainWindow.cc:3324
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "Executando consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3533
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "Aplica??o associada ao tipo n?o definida"
 
@@ -551,85 +549,92 @@
 msgstr "N?o foi poss?vel criar base de hist?rico"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:431
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "Novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:432
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:454
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr "Eu"
 
-#: UI/GTK2/src/PinotSettings.cpp:462
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr "Primeiro dos ?ltimos"
 
-#: UI/GTK2/src/PinotSettings.cpp:465
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr "Coisas do Usu?rio"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr "Com r?tulo novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:467
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr "Tem CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:468
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr "Em ingl?s"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr "1kb e menor"
 
-#: UI/GTK2/src/PinotSettings.cpp:514
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "N?o classificado"
 
-#: UI/GTK2/src/prefsWindow.cc:205
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "Nome"
 
-#: UI/GTK2/src/prefsWindow.cc:223
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "Monitor"
 
-#: UI/GTK2/src/prefsWindow.cc:224
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "Localiza??o"
 
-#: UI/GTK2/src/prefsWindow.cc:232
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "Conjunto"
 
-#: UI/GTK2/src/prefsWindow.cc:565
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr "Excluir esses padr?es da indexa??o"
 
-#: UI/GTK2/src/prefsWindow.cc:566
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr "Indexar somente esses padr?es"
 
-#: UI/GTK2/src/prefsWindow.cc:765
+#: UI/GTK2/src/prefsWindow.cc:759
 msgid "Directory to index"
 msgstr "Diret?rio do ?ndice"
 
-#: UI/GTK2/src/prefsWindow.cc:905
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "Novo t?tulo"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid ""
-"These directories will be indexed and optionally monitored for changes:"
+msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Estes diret?rios ter?o ?ndices e ter?o suas mudan?as opcionalmente "
 "monitoradas:"
@@ -844,7 +849,7 @@
 msgid "Score"
 msgstr "Pontua??o"
 
-#: UI/GTK2/src/ResultsTree.cpp:1552
+#: UI/GTK2/src/ResultsTree.cpp:1555
 msgid "No results"
 msgstr "Nenhum resultado"
 
@@ -853,70 +858,69 @@
 msgstr "?ndices"
 
 #: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
-#: UI/GTK2/src/statisticsDialog.cc:187 UI/GTK2/src/statisticsDialog.cc:190
-#: UI/GTK2/src/statisticsDialog.cc:198
+#: UI/GTK2/src/statisticsDialog.cc:197
 msgid "Checking"
 msgstr "Verificando"
 
-#: UI/GTK2/src/statisticsDialog.cc:195
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:222 UI/GTK2/src/statisticsDialog.cc:238
-msgid "documents"
-msgstr "documentos"
-
-#: UI/GTK2/src/statisticsDialog.cc:228 UI/GTK2/src/statisticsDialog.cc:246
-#: UI/GTK2/src/WorkerThreads.cpp:125
-msgid "Unknown error"
-msgstr "Erro desconhecido"
-
-#: UI/GTK2/src/statisticsDialog.cc:253
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr "Visto"
 
-#: UI/GTK2/src/statisticsDialog.cc:253
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr "resultados"
 
-#: UI/GTK2/src/statisticsDialog.cc:259
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr "Rastreado"
 
-#: UI/GTK2/src/statisticsDialog.cc:259
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr "arquivos"
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr "documentos"
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "Erro desconhecido"
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:277
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr "Executando com PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:297
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
 msgstr "Desconectado do D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:301
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
 msgstr "Parado"
 
-#: UI/GTK2/src/statisticsDialog.cc:305
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr "N?o executando atualmente"
 
-#: UI/GTK2/src/statisticsDialog.cc:319
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
 msgstr "Pouco espa?o em disco"
 
-#: UI/GTK2/src/statisticsDialog.cc:336
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr "Sistema na bateria"
 
-#: UI/GTK2/src/statisticsDialog.cc:354
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
 msgstr "Rastreando"
 
-#: UI/GTK2/src/statisticsDialog.cc:391
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "Erros"
 
@@ -996,57 +1000,6 @@
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:1032
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "Sem t?tulo"
-
-#~ msgid "Result location is"
-#~ msgstr "Local resultante ?"
-
-#~ msgid "documents, starting at"
-#~ msgstr "documentos, come?am no"
-
-#~ msgid "Couldn't find query"
-#~ msgstr "N?o foi poss?vel encontrar consulta"
-
-#~ msgid "Show Extract"
-#~ msgstr "Mostrar extrato"
-
-#~ msgid "Group By"
-#~ msgstr "Agrupar por"
-
-#~ msgid "Clear List"
-#~ msgstr "Limpar lista"
-
-#~ msgid "Vie_w"
-#~ msgstr "Exibir"
-
-#~ msgid "View Cache"
-#~ msgstr "Exibir cache"
-
-#~ msgid "_Index"
-#~ msgstr "_?ndice"
-
-#~ msgid "View"
-#~ msgstr "Visualizar"
-
-#~ msgid "_About"
-#~ msgstr "_Sobre"
-
-#~ msgid "_Session"
-#~ msgstr "_Sess?o"
-
-#~ msgid "_Results"
-#~ msgstr "_Resultados"
-
-#~ msgid "General"
-#~ msgstr "Geral"
-
-#~ msgid "Preferences"
-#~ msgstr "Prefer?ncias"
-
-#~ msgid "Extract"
-#~ msgstr "Extrair"
-
-#~ msgid "Corrected"
-#~ msgstr "Corrigido"

Modified: trunk/po/ru.po
===================================================================
--- trunk/po/ru.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/ru.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -4,51 +4,26 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
 "PO-Revision-Date: 2008-08-23 16:14+0000\n"
 "Last-Translator: Sergey Vostrikov <s.vostrikov at gmail.com>\n"
 "Language-Team: Russian <ru at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2008-11-15 08:36+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "????????? ??????"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
 msgstr "??????? ????????????"
 
-#. Enable these menu items unless it is not the documents index
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
-msgid "My Web Pages"
-msgstr "??? web-????????"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
-msgid "My Documents"
-msgstr "??? ?????????"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr ""
@@ -57,7 +32,7 @@
 msgid "Local"
 msgstr ""
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "????????? ??????????????"
 
@@ -69,7 +44,7 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "???:"
 
@@ -77,11 +52,11 @@
 msgid "Location:"
 msgstr "??????????:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
 msgstr "????:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr ""
 
@@ -91,8 +66,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "???"
 
@@ -105,7 +80,7 @@
 msgid "Apply label:"
 msgstr "????????? ?????:"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "?????? URL"
 
@@ -117,7 +92,7 @@
 msgid "Show Next"
 msgstr "???????? ?????????"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
 msgstr ""
 
@@ -135,210 +110,228 @@
 msgid "Helper application"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
 msgstr "????????? ?????????"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "??????"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "??? ????????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:266
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr ""
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "???????? ??????"
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "??????? ?"
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "??? web-????????"
 
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "??? ?????????"
+
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "???????????? ?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "?????????? ????? ??????"
+#: UI/GTK2/src/mainWindow.cc:1095
+#, fuzzy
+msgid "Couldn't search in results"
+msgstr "?? ??????? ??????? ????????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr "??????????, ??????? ?"
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "?????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr ""
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "????????? ????? (??)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "??????????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "?????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "?? ????????????? ??????????"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "?????????? ????????????? ??????, ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "??? ????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "?????????? ????????????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "?????????????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
-msgstr ""
+#: UI/GTK2/src/mainWindow.cc:2134
+#, fuzzy
+msgid "Export"
+msgstr "??????????"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2179
+#, fuzzy
+msgid "Couldn't find similar documents"
+msgstr "?????????? ??????????????? ????????(?)"
+
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "??????? ???????? ?? ??????? ?"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "??????? ??? ????????? ?? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "?????????? ?????????? ??? ?????????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "???????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "???????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "?????????? ??????? ??????"
 
@@ -346,378 +339,383 @@
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?? ??????? ???? ???? ?????? ??? ?? ?????????. ????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "???????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "?????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "???????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "?????? ?? ??????????"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "?? ???? ????????? ??????? ?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "??????????, ??????? ????????????? ???? Google API"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "?????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "?? ???? ?????????? ?? ????????? ?? ?????????? ??? ???? ??????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
 msgstr "??????:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
 msgstr "??????????? ???????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+#, fuzzy
+msgid "Open Cache"
+msgstr "???????? ????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "????????? ??????"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+#, fuzzy
+msgid "_Add To Index"
+msgstr "???????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "??? ?????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "???????? ????????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "???????????? ??"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "???????? ??????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "_???"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "???????? ????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
 msgstr "????????? ?? ????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "_??????"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "????????? ??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "??? ?????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
 msgstr "?????? ???????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "???"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+#, fuzzy
+msgid "Group Results By"
+msgstr "???????????? ??"
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "????????"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+#, fuzzy
+msgid "Show Extracts"
+msgstr "???????? ????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "? ?????????..."
+#: UI/GTK2/src/mainWindow_glade.cc:243
+msgid "Export List"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "_??????"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+#, fuzzy
+msgid "_File"
+msgstr "????????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "_??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "_?????????"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pinot"
 
-#: UI/GTK2/src/Notebook.cpp:146
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr ""
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
 msgstr ""
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "???????"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "??????????"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "???????"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "????????"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "??????????"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "?????????????"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "???????"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "?????????"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr "????????"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "?????????? ??????? ??????"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "?? ??????? ??????? ???? ?????? ???????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "?????"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "???????"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "??????"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "??????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "???"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:759
+msgid "Directory to index"
+msgstr "????? ??? ??????????????"
+
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "????? ?????"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "????? ??? ??????????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid "These directories will be indexed and optionally monitored for changes:"
+msgstr ""
+"??? ???????? ????? ??????????????? ? ????????????? ??? ???????? ?????????:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "???? Google API:"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "????? ??????????:"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "???????:"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "????????? ?????? ???????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "??????????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "???????????? robots.txt ? Robots META ???"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr "?????, ???????????? ??? ????????????? ??????????, ????????????? :"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr "HTTP ????????????:"
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "?????"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr "?????, ???????????? ??? ????????????? ??????????, ????????????? :"
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "???? Google API:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "???????:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "???????"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "????????? ?????? ???????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "?????"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "???????????? robots.txt ? Robots META ???"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr ""
-"??? ???????? ????? ??????????????? ? ????????????? ??? ???????? ?????????:"
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "HTTP ????????????:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "????? ??????????:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "??????????????"
-
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+#, fuzzy
+msgid "Pinot Preferences"
 msgstr "?????????"
 
 #: UI/GTK2/src/propertiesDialog.cc:105
@@ -748,6 +746,10 @@
 msgid "bytes"
 msgstr ""
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "????????"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "??? ????"
@@ -761,12 +763,12 @@
 msgstr "?????????? ?????"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "????????"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
 msgstr "URL"
 
@@ -775,40 +777,44 @@
 msgstr "???????? ??????????"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
 msgstr "??? ?????"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "??? MIME"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
 msgstr "?????"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
 msgstr ""
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
 msgstr ""
 
@@ -845,155 +851,162 @@
 msgstr "????????? ???????"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1555
+#, fuzzy
+msgid "No results"
+msgstr "????? ??????????:"
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:117
-msgid "Daemon"
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:197
+msgid "Checking"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
-msgid "documents"
+#: UI/GTK2/src/statisticsDialog.cc:194
+msgid "Daemon"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
-msgid "Unknown error"
-msgstr ""
-
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr ""
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr ""
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "?????????? ???????? ????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "?????????? ??????????????? ????????(?)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
 msgstr "?? ??????? ????????? ?????? ? ????????? ???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
 msgstr "?????????? ??????? ???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "?? ??????? ??????? ????????? ???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
 msgstr "?????????? ????????????? ?????? ??? ??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "META-???? ??????? ????????? ??????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
 msgstr "??? ???????? ???????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "?????? ????????????? ????? ?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "??? ??????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
 msgstr "??????????? ? ?????? ??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "??? ????????"
-
-#~ msgid "Extract"
-#~ msgstr "??????????"

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/sv.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.88\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-11 00:47+0800\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
 "PO-Revision-Date: 2009-01-10 19:04+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
@@ -25,32 +25,6 @@
 msgid "Current User"
 msgstr "Aktuell anv?ndare"
 
-#. Apply this label
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:357 UI/GTK2/src/mainWindow.cc:848
-#: UI/GTK2/src/mainWindow.cc:1120 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1545 UI/GTK2/src/mainWindow.cc:1548
-#: UI/GTK2/src/mainWindow.cc:1649 UI/GTK2/src/mainWindow.cc:1685
-#: UI/GTK2/src/mainWindow.cc:1707 UI/GTK2/src/mainWindow.cc:2412
-#: UI/GTK2/src/PinotSettings.cpp:424 UI/GTK2/src/PinotSettings.cpp:1668
-#: UI/GTK2/src/PinotSettings.cpp:1729 UI/GTK2/src/statisticsDialog.cc:157
-#: UI/GTK2/src/WorkerThreads.cpp:1069
-msgid "My Web Pages"
-msgstr "Mina webbsidor"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:358 UI/GTK2/src/mainWindow.cc:851
-#: UI/GTK2/src/mainWindow.cc:1114 UI/GTK2/src/mainWindow.cc:1375
-#: UI/GTK2/src/mainWindow.cc:1389 UI/GTK2/src/mainWindow.cc:1556
-#: UI/GTK2/src/mainWindow.cc:1559 UI/GTK2/src/mainWindow.cc:2416
-#: UI/GTK2/src/PinotSettings.cpp:425 UI/GTK2/src/PinotSettings.cpp:1669
-#: UI/GTK2/src/PinotSettings.cpp:1730 UI/GTK2/src/statisticsDialog.cc:163
-#: UI/GTK2/src/WorkerThreads.cpp:1079
-msgid "My Documents"
-msgstr "Mina dokument"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr "Erbjuds av"
@@ -59,7 +33,7 @@
 msgid "Local"
 msgstr "Lokal"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "Indexplats"
 
@@ -205,187 +179,211 @@
 msgid "N/A"
 msgstr "-"
 
-#: UI/GTK2/src/mainWindow.cc:363
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "Odefinierad"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:602 UI/GTK2/src/mainWindow.cc:2787
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Levande fr?ga"
 
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "Mina webbsidor"
+
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "Mina dokument"
+
 #. Show the URL of the first document in the status bar
-#: UI/GTK2/src/mainWindow.cc:880
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "Dokumentplatsen ?r"
 
-#: UI/GTK2/src/mainWindow.cc:1099
+#: UI/GTK2/src/mainWindow.cc:1095
 msgid "Couldn't search in results"
 msgstr "Kunde inte s?ka i resultat"
 
-#: UI/GTK2/src/mainWindow.cc:1110
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr "I resultat"
 
-#: UI/GTK2/src/mainWindow.cc:1286
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "Visar"
 
-#: UI/GTK2/src/mainWindow.cc:1294
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr "av"
 
-#: UI/GTK2/src/mainWindow.cc:1336
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "Fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:1340 UI/GTK2/src/mainWindow.cc:3328
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr "p?"
 
-#: UI/GTK2/src/mainWindow.cc:1344
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "slutade"
 
-#: UI/GTK2/src/mainWindow.cc:1499
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "Kanske mer som"
 
-#: UI/GTK2/src/mainWindow.cc:1566
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "Uppdaterade etikett(er)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1659 UI/GTK2/src/mainWindow.cc:1747
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "Uppdaterade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1672
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "Indexerade"
 
-#: UI/GTK2/src/mainWindow.cc:1708
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "Ej indexerade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "Kunde inte byta namn p? index, namn"
 
-#: UI/GTK2/src/mainWindow.cc:1806 UI/GTK2/src/mainWindow.cc:2614
-#: UI/GTK2/src/mainWindow.cc:3134
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "anv?nds redan"
 
-#: UI/GTK2/src/mainWindow.cc:1819
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "Kunde inte byta namn p? index"
 
-#: UI/GTK2/src/mainWindow.cc:1832
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "Redigerade index"
 
-#: UI/GTK2/src/mainWindow.cc:2140
+#: UI/GTK2/src/mainWindow.cc:2134
 msgid "Export"
 msgstr "Exportera"
 
-#: UI/GTK2/src/mainWindow.cc:2185
+#: UI/GTK2/src/mainWindow.cc:2179
 msgid "Couldn't find similar documents"
 msgstr "Kunde inte hitta liknande dokument"
 
-#: UI/GTK2/src/mainWindow.cc:2429
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "Index"
 
-#: UI/GTK2/src/mainWindow.cc:2433
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "finns inte"
 
-#: UI/GTK2/src/mainWindow.cc:2501
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "Ta bort detta dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "Ta bort dessa dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2525 UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "Avindexera"
 
-#: UI/GTK2/src/mainWindow.cc:2564
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Ett metas?kningsverktyg f?r Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2565
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "S?k p? webben och i dina dokument!"
 
-#: UI/GTK2/src/mainWindow.cc:2610
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "Indexnamn"
 
-#: UI/GTK2/src/mainWindow.cc:2625
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "Kunde inte l?gga till index"
 
-#: UI/GTK2/src/mainWindow.cc:2641
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "Lade till nytt index"
 
-#: UI/GTK2/src/mainWindow.cc:2676
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "Kunde inte ta bort index"
 
-#: UI/GTK2/src/mainWindow.cc:2876
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "Ingen historik f?r"
 
-#: UI/GTK2/src/mainWindow.cc:2948 UI/GTK2/src/prefsWindow.cc:953
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?tminstone en uppgift har inte f?rdigst?llts ?n. Avsluta nu?"
 
-#: UI/GTK2/src/mainWindow.cc:2950 UI/GTK2/src/prefsWindow.cc:955
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr "Avsluta"
 
-#: UI/GTK2/src/mainWindow.cc:3130
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "Fr?genamn"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "Kunde inte uppdatera fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "Redigerade fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3175
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "Kunde inte l?gga till fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3183
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "Lade till ny fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3217
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "Fr?gan ?r inte inst?lld"
 
-#: UI/GTK2/src/mainWindow.cc:3228
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "Ingen s?kmotor vald"
 
-#: UI/GTK2/src/mainWindow.cc:3315
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "St?ll in Google API-nyckeln f?rst"
 
-#: UI/GTK2/src/mainWindow.cc:3324
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "K?r fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3533
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "Inget standardprogram definierat f?r typen"
 
@@ -552,85 +550,92 @@
 msgstr "Kunde inte skapa historikdatabas"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "Viktigt"
 
-#: UI/GTK2/src/PinotSettings.cpp:431
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "Ny"
 
-#: UI/GTK2/src/PinotSettings.cpp:432
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "Personlig"
 
-#: UI/GTK2/src/PinotSettings.cpp:454
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr "Jag"
 
-#: UI/GTK2/src/PinotSettings.cpp:462
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr "Senaste f?rst"
 
-#: UI/GTK2/src/PinotSettings.cpp:465
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr "Personliga saker"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr "Med etiketten Ny"
 
-#: UI/GTK2/src/PinotSettings.cpp:467
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr "Har CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:468
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr "P? engelska"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr "10kb och mindre"
 
-#: UI/GTK2/src/PinotSettings.cpp:514
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "Oklassificerad"
 
-#: UI/GTK2/src/prefsWindow.cc:205
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "Namn"
 
-#: UI/GTK2/src/prefsWindow.cc:223
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "?vervaka"
 
-#: UI/GTK2/src/prefsWindow.cc:224
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "Plats"
 
-#: UI/GTK2/src/prefsWindow.cc:232
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "M?nster"
 
-#: UI/GTK2/src/prefsWindow.cc:565
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr "Undanta dessa m?nster fr?n indexering"
 
-#: UI/GTK2/src/prefsWindow.cc:566
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr "Indexera endast dessa m?nster"
 
-#: UI/GTK2/src/prefsWindow.cc:765
+#: UI/GTK2/src/prefsWindow.cc:759
 msgid "Directory to index"
 msgstr "Katalog f?r index"
 
-#: UI/GTK2/src/prefsWindow.cc:905
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "Ny etikett"
 
 #: UI/GTK2/src/prefsWindow_glade.cc:69
-msgid ""
-"These directories will be indexed and optionally monitored for changes:"
+msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Dessa kataloger kommer att bli indexerade och ?vervakade f?r ?ndringar "
 "(valfritt):"
@@ -845,7 +850,7 @@
 msgid "Score"
 msgstr "Betyg"
 
-#: UI/GTK2/src/ResultsTree.cpp:1552
+#: UI/GTK2/src/ResultsTree.cpp:1555
 msgid "No results"
 msgstr "Inga tr?ffar"
 
@@ -854,70 +859,69 @@
 msgstr "Index"
 
 #: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
-#: UI/GTK2/src/statisticsDialog.cc:187 UI/GTK2/src/statisticsDialog.cc:190
-#: UI/GTK2/src/statisticsDialog.cc:198
+#: UI/GTK2/src/statisticsDialog.cc:197
 msgid "Checking"
 msgstr "Kontrollerar"
 
-#: UI/GTK2/src/statisticsDialog.cc:195
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr "Demon"
 
-#: UI/GTK2/src/statisticsDialog.cc:222 UI/GTK2/src/statisticsDialog.cc:238
-msgid "documents"
-msgstr "dokument"
-
-#: UI/GTK2/src/statisticsDialog.cc:228 UI/GTK2/src/statisticsDialog.cc:246
-#: UI/GTK2/src/WorkerThreads.cpp:125
-msgid "Unknown error"
-msgstr "Ok?nt fel"
-
-#: UI/GTK2/src/statisticsDialog.cc:253
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr "Visad"
 
-#: UI/GTK2/src/statisticsDialog.cc:253
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr "resultat"
 
-#: UI/GTK2/src/statisticsDialog.cc:259
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr "Insamlad"
 
-#: UI/GTK2/src/statisticsDialog.cc:259
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr "filer"
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr "dokument"
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "Ok?nt fel"
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:277
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr "K?r under PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:297
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
 msgstr "Koppla fr?n D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:301
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
 msgstr "Stoppad"
 
-#: UI/GTK2/src/statisticsDialog.cc:305
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr "K?r f?r tillf?llet inte"
 
-#: UI/GTK2/src/statisticsDialog.cc:319
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
 msgstr "Lite diskutrymme kvar"
 
-#: UI/GTK2/src/statisticsDialog.cc:336
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr "Systemet p? batteridrift"
 
-#: UI/GTK2/src/statisticsDialog.cc:354
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
 msgstr "Insamling"
 
-#: UI/GTK2/src/statisticsDialog.cc:391
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "Fel"
 
@@ -997,60 +1001,6 @@
 msgid "is blacklisted"
 msgstr "?r svartlistad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:1032
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "Ingen titel"
-
-#~ msgid "Result location is"
-#~ msgstr "Resultatplatsen ?r"
-
-#~ msgid "documents, starting at"
-#~ msgstr "dokument, b?rjar med"
-
-#~ msgid "Couldn't find query"
-#~ msgstr "Kunde inte hitta fr?ga"
-
-#~ msgid "Show Extract"
-#~ msgstr "Visa utdrag"
-
-#~ msgid "Group By"
-#~ msgstr "Gruppera efter"
-
-#~ msgid "Clear List"
-#~ msgstr "T?m lista"
-
-#~ msgid "Vie_w"
-#~ msgstr "Vi_sa"
-
-#~ msgid "View Cache"
-#~ msgstr "Visa cache"
-
-#~ msgid "_Index"
-#~ msgstr "_Index"
-
-#~ msgid "View"
-#~ msgstr "Visa"
-
-#~ msgid "_About"
-#~ msgstr "_Om"
-
-#~ msgid "_Session"
-#~ msgstr "_Session"
-
-#~ msgid "_Results"
-#~ msgstr "_Resultat"
-
-#~ msgid "General"
-#~ msgstr "Allm?nt"
-
-#~ msgid "Preferences"
-#~ msgstr "Inst?llningar"
-
-#~ msgid "Extract"
-#~ msgstr "Utdrag"
-
-#~ msgid "Export Results"
-#~ msgstr "Exportera resultat"
-
-#~ msgid "Corrected"
-#~ msgstr "R?ttad"

Modified: trunk/po/zh_CN.po
===================================================================
--- trunk/po/zh_CN.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/zh_CN.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -4,51 +4,26 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
-"PO-Revision-Date: 2008-09-13 15:57+0000\n"
-"Last-Translator: Aron Xu <Unknown>\n"
-"Language-Team: Simplified Chinese <zh_CN at li.org>\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"PO-Revision-Date: 2008-11-01 03:08+0000\n"
+"Last-Translator: rainofchaos <rainofchaos at gmail.com>\n"
+"Language-Team: LANGUAGE <LL at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2008-11-15 08:36+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "????"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
 msgstr "??????"
 
-#. Enable these menu items unless it is not the documents index
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
-msgid "My Web Pages"
-msgstr "????"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
-msgid "My Documents"
-msgstr "????"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr ""
@@ -57,7 +32,7 @@
 msgid "Local"
 msgstr "???"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "????"
 
@@ -69,7 +44,7 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "???"
 
@@ -77,11 +52,11 @@
 msgid "Location:"
 msgstr "???"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
-msgstr "????"
+msgstr "???"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr "???"
 
@@ -91,8 +66,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "?"
 
@@ -105,7 +80,7 @@
 msgid "Apply label:"
 msgstr "????"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "??URL"
 
@@ -117,7 +92,7 @@
 msgid "Show Next"
 msgstr "???????"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
 msgstr "???"
 
@@ -135,210 +110,227 @@
 msgid "Helper application"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "??"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "???????????????"
 
-#: UI/GTK2/src/mainWindow.cc:266
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr ""
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "?????"
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "????"
 
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "????"
+
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "????????"
+#: UI/GTK2/src/mainWindow.cc:1095
+#, fuzzy
+msgid "Couldn't search in results"
+msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr "??????"
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr ""
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "?????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
+#: UI/GTK2/src/mainWindow.cc:2134
+msgid "Export"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2179
+#, fuzzy
+msgid "Couldn't find similar documents"
+msgstr "?????????"
+
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Free Desktop ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "??????"
 
@@ -346,377 +338,382 @@
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "????Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
-msgstr "??"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+#, fuzzy
+msgid "Open Cache"
+msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "????"
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "????"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+#, fuzzy
+msgid "_Add To Index"
+msgstr "??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "???"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "??(_w)"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "??(_I)"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "??"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+#, fuzzy
+msgid "Group Results By"
+msgstr "???"
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "??"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+#, fuzzy
+msgid "Show Extracts"
+msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "??(_A)"
+#: UI/GTK2/src/mainWindow_glade.cc:243
+msgid "Export List"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "????(_S)"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "??"
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+#, fuzzy
+msgid "_File"
+msgstr "??"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "??(_E)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "??(_R)"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "?? (_H)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pinot"
 
-#: UI/GTK2/src/Notebook.cpp:146
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr ""
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
 msgstr ""
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr "?????"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "??????"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "?????????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "???"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "???"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr "?????????"
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr "????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:759
+msgid "Directory to index"
+msgstr "?????"
+
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "?????"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid "These directories will be indexed and optionally monitored for changes:"
+msgstr "??????????????????????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "Google API key:"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "?????"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "???????"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "??robot.txt?meta??"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr "??????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr "?????"
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr "????proxy"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr "??????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "Google API key:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "??robot.txt?meta??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr "??????????????????????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "??"
-
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+#, fuzzy
+msgid "Pinot Preferences"
 msgstr "???"
 
 #: UI/GTK2/src/propertiesDialog.cc:105
@@ -747,6 +744,10 @@
 msgid "bytes"
 msgstr ""
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "??"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "????"
@@ -760,12 +761,12 @@
 msgstr "???"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "??"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
 msgstr "??"
 
@@ -774,40 +775,44 @@
 msgstr "??"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
 msgstr "????"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "MIME ??"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
 msgstr "MIME class"
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
 msgstr "??"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
 msgstr ""
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
 msgstr ""
 
@@ -844,152 +849,162 @@
 msgstr "?????"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1555
+#, fuzzy
+msgid "No results"
+msgstr "??"
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:117
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:197
+msgid "Checking"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
-msgid "documents"
-msgstr "??"
-
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
-msgid "Unknown error"
-msgstr "???????"
-
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr "??"
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr "??"
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "???????"
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr "?????????"
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr "??????"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "??"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "?????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
 msgstr "??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
 msgstr "????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "Robots?meta???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
 msgstr "?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "???"

Modified: trunk/po/zh_TW.po
===================================================================
--- trunk/po/zh_TW.po	2009-01-24 08:04:24 UTC (rev 1509)
+++ trunk/po/zh_TW.po	2009-01-24 08:56:29 UTC (rev 1510)
@@ -1,55 +1,30 @@
 # Traditional Chinese translation for pinot
 # Copyright (c) 2007 Rosetta Contributors and Canonical Ltd 2007
 # This file is distributed under the same license as the pinot package.
-# FIRST AUTHOR <EMAIL at ADDRESS>, 2007.
+# Yung-chung Lin <henearkrxern at gmail.com>, 2007.
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.89\n"
+"Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-08-23 23:22+0800\n"
+"POT-Creation-Date: 2009-01-24 12:35+0800\n"
 "PO-Revision-Date: 2008-08-23 16:15+0000\n"
 "Last-Translator: Yung-chung Lin <henearkrxern at gmail.com>\n"
 "Language-Team: Traditional Chinese <zh_TW at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-09-20 06:56+0000\n"
+"X-Launchpad-Export-Date: 2008-11-15 08:36+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:97
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:171
 msgid "Search Engines"
 msgstr "????"
 
-#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/EnginesTree.cpp:250
 msgid "Current User"
 msgstr "??????"
 
-#. Enable these menu items unless it is not the documents index
-#. Add a row to the index tree
-#. Allow this only for internal indexes
-#. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
-#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
-#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
-#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
-#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
-#: UI/GTK2/src/PinotSettings.cpp:353 UI/GTK2/src/PinotSettings.cpp:1574
-#: UI/GTK2/src/PinotSettings.cpp:1630 UI/GTK2/src/statisticsDialog.cc:87
-#: UI/GTK2/src/WorkerThreads.cpp:1011
-msgid "My Web Pages"
-msgstr "????"
-
-#. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
-#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
-#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:354
-#: UI/GTK2/src/PinotSettings.cpp:1575 UI/GTK2/src/PinotSettings.cpp:1631
-#: UI/GTK2/src/statisticsDialog.cc:91 UI/GTK2/src/WorkerThreads.cpp:1021
-msgid "My Documents"
-msgstr "????"
-
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
 msgstr ""
@@ -58,7 +33,7 @@
 msgid "Local"
 msgstr "???"
 
-#: UI/GTK2/src/indexDialog.cc:286
+#: UI/GTK2/src/indexDialog.cc:290
 msgid "Index location"
 msgstr "????"
 
@@ -70,7 +45,7 @@
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsWindow_glade.cc:128
 msgid "Type:"
 msgstr "???"
 
@@ -78,11 +53,11 @@
 msgid "Location:"
 msgstr "???"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsWindow_glade.cc:129
 msgid "Port:"
 msgstr "????"
 
-#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsWindow_glade.cc:125
 msgid "Address:"
 msgstr "???"
 
@@ -92,8 +67,8 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
-#: UI/GTK2/src/queryDialog.cc:156
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:141
+#: UI/GTK2/src/queryDialog.cc:157
 msgid "None"
 msgstr "?"
 
@@ -106,7 +81,7 @@
 msgid "Apply label:"
 msgstr "????"
 
-#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
+#: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:240
 msgid "Import URL"
 msgstr "??URL"
 
@@ -118,7 +93,7 @@
 msgid "Show Next"
 msgstr "???????"
 
-#: UI/GTK2/src/IndexPage.cpp:188
+#: UI/GTK2/src/IndexPage.cpp:180
 msgid "All"
 msgstr "???"
 
@@ -136,210 +111,227 @@
 msgid "Helper application"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:167
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Query Name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:172
+#: UI/GTK2/src/mainWindow.cc:181
 msgid "Last Run"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:177
+#: UI/GTK2/src/mainWindow.cc:186
 msgid "Summary"
 msgstr "??"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:220
+#: UI/GTK2/src/mainWindow.cc:229
 msgid "Show all search engines"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:230
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:231
 msgid "Add an index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:223
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Remove an index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:224
+#: UI/GTK2/src/mainWindow.cc:233
 msgid "Add a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:225
+#: UI/GTK2/src/mainWindow.cc:234
 msgid "Remove a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:226
+#: UI/GTK2/src/mainWindow.cc:235
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:227
+#: UI/GTK2/src/mainWindow.cc:236
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:246
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Ready"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:267
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "???????????????"
 
-#: UI/GTK2/src/mainWindow.cc:266
+#: UI/GTK2/src/mainWindow.cc:275
 msgid "Don't warn me again"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:283 UI/GTK2/src/mainWindow_glade.cc:177
 msgid "Update"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:330
+#: UI/GTK2/src/mainWindow.cc:341
 msgid "N/A"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:350
+#: UI/GTK2/src/mainWindow.cc:359
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
+#: UI/GTK2/src/mainWindow.cc:598 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr ""
 
-#. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:793
-msgid "Result location is"
-msgstr "??????"
+#. Apply this label
+#. Add a row to the index tree
+#. Allow this only for internal indexes
+#. Internal indices
+#: UI/GTK2/src/mainWindow.cc:844 UI/GTK2/src/mainWindow.cc:1114
+#: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
+#: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
+#: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
+#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/WorkerThreads.cpp:1089
+msgid "My Web Pages"
+msgstr "????"
 
-#. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:875
+#. Spawn new threads
+#: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
+#: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/WorkerThreads.cpp:1099
+msgid "My Documents"
+msgstr "????"
+
+#. Show the URL of the first document in the status bar
+#: UI/GTK2/src/mainWindow.cc:876
 msgid "Document location is"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
-msgid "Couldn't find query"
-msgstr "???????"
+#: UI/GTK2/src/mainWindow.cc:1095
+#, fuzzy
+msgid "Couldn't search in results"
+msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:1075
+#: UI/GTK2/src/mainWindow.cc:1105
 msgid "In Results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1265
+#: UI/GTK2/src/mainWindow.cc:1278
 msgid "Showing"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1270
+#: UI/GTK2/src/mainWindow.cc:1286
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1275
-msgid "documents, starting at"
-msgstr "??????"
-
-#: UI/GTK2/src/mainWindow.cc:1317
+#: UI/GTK2/src/mainWindow.cc:1328
 msgid "Query"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
+#: UI/GTK2/src/mainWindow.cc:1332 UI/GTK2/src/mainWindow.cc:3324
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1325
+#: UI/GTK2/src/mainWindow.cc:1336
 msgid "ended"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1331
-msgid "Corrected"
-msgstr ""
-
-#: UI/GTK2/src/mainWindow.cc:1485
+#: UI/GTK2/src/mainWindow.cc:1491
 msgid "More Like"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1552
+#: UI/GTK2/src/mainWindow.cc:1558
 msgid "Updated label(s)"
 msgstr "?????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
+#: UI/GTK2/src/mainWindow.cc:1651 UI/GTK2/src/mainWindow.cc:1740
 msgid "Updated document"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1649
+#: UI/GTK2/src/mainWindow.cc:1664
 msgid "Indexed"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1685
+#: UI/GTK2/src/mainWindow.cc:1700
 msgid "Unindexed document(s)"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1785
+#: UI/GTK2/src/mainWindow.cc:1795
 msgid "Couldn't rename index, name"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:1799 UI/GTK2/src/mainWindow.cc:2607
+#: UI/GTK2/src/mainWindow.cc:3130
 msgid "is already in use"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1802
+#: UI/GTK2/src/mainWindow.cc:1811
 msgid "Couldn't rename index"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1815
+#: UI/GTK2/src/mainWindow.cc:1826
 msgid "Edited index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2140
-msgid "Export Results"
+#: UI/GTK2/src/mainWindow.cc:2134
+msgid "Export"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2179
+#, fuzzy
+msgid "Couldn't find similar documents"
+msgstr "?????????"
+
+#: UI/GTK2/src/mainWindow.cc:2422
 msgid "Index"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:2416
+#: UI/GTK2/src/mainWindow.cc:2426
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2487
+#: UI/GTK2/src/mainWindow.cc:2494
 msgid "Remove this document from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2506
+#: UI/GTK2/src/mainWindow.cc:2513
 msgid "Remove these documents from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2518 UI/GTK2/src/mainWindow_glade.cc:180
 msgid "Unindex"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2553
+#: UI/GTK2/src/mainWindow.cc:2557
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Free Desktop ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2554
+#: UI/GTK2/src/mainWindow.cc:2558
 msgid "Search the Web and your documents !"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2599
+#: UI/GTK2/src/mainWindow.cc:2603
 msgid "Index name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2614
+#: UI/GTK2/src/mainWindow.cc:2617
 msgid "Couldn't add index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2630
+#: UI/GTK2/src/mainWindow.cc:2633
 msgid "Added new index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2665
+#: UI/GTK2/src/mainWindow.cc:2668
 msgid "Couldn't remove index"
 msgstr "??????"
 
@@ -347,377 +339,382 @@
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2984
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2986
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3169
+#: UI/GTK2/src/mainWindow.cc:3126
 msgid "Query name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:3196
+#: UI/GTK2/src/mainWindow.cc:3153
 msgid "Couldn't update query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3207
+#: UI/GTK2/src/mainWindow.cc:3164
 msgid "Edited query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3214
+#: UI/GTK2/src/mainWindow.cc:3171
 msgid "Couldn't add query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3222
+#: UI/GTK2/src/mainWindow.cc:3179
 msgid "Added new query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3256
+#: UI/GTK2/src/mainWindow.cc:3213
 msgid "Query is not set"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3267
+#: UI/GTK2/src/mainWindow.cc:3224
 msgid "No search engine selected"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3354
+#: UI/GTK2/src/mainWindow.cc:3311
 msgid "Please set the Google API key first"
 msgstr "????Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3363
+#: UI/GTK2/src/mainWindow.cc:3320
 msgid "Running query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3576
+#: UI/GTK2/src/mainWindow.cc:3529
 msgid "No default application defined for type"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:126
+#: UI/GTK2/src/mainWindow_glade.cc:129
 msgid "Query:"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:110
+#: UI/GTK2/src/mainWindow_glade.cc:140 UI/GTK2/src/statisticsDialog.cc:184
 msgid "History"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:142
+#: UI/GTK2/src/mainWindow_glade.cc:145
 msgid "Stored queries"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:55
-#: UI/GTK2/src/statisticsDialog_glade.cc:86
-msgid "Status"
-msgstr "??"
+#: UI/GTK2/src/mainWindow_glade.cc:165
+#, fuzzy
+msgid "Open Cache"
+msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:176
-msgid "Search Engine"
-msgstr "????"
+#: UI/GTK2/src/mainWindow_glade.cc:168
+msgid "Open Parent"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:179
-msgid "Host Name"
-msgstr "????"
+#: UI/GTK2/src/mainWindow_glade.cc:174
+#, fuzzy
+msgid "_Add To Index"
+msgstr "??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:182
-msgid "Show Extract"
-msgstr "????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:185
-msgid "Group By"
-msgstr "???"
-
-#: UI/GTK2/src/mainWindow_glade.cc:191
-msgid "Clear List"
-msgstr "????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:197
-msgid "Vie_w"
-msgstr "??(_w)"
-
-#: UI/GTK2/src/mainWindow_glade.cc:200
-msgid "View Cache"
-msgstr "????"
-
-#: UI/GTK2/src/mainWindow_glade.cc:203
+#: UI/GTK2/src/mainWindow_glade.cc:186
 msgid "More Like This"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:206
+#: UI/GTK2/src/mainWindow_glade.cc:189
 msgid "Search This For"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
-msgid "_Index"
-msgstr "??(_I)"
+#: UI/GTK2/src/mainWindow_glade.cc:222
+msgid "Search Engine"
+msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:212
+#: UI/GTK2/src/mainWindow_glade.cc:225
+msgid "Host Name"
+msgstr "????"
+
+#: UI/GTK2/src/mainWindow_glade.cc:228
 msgid "List Contents Of"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:221
-msgid "View"
-msgstr "??"
+#: UI/GTK2/src/mainWindow_glade.cc:231
+#, fuzzy
+msgid "Group Results By"
+msgstr "???"
 
-#: UI/GTK2/src/mainWindow_glade.cc:230
-#: UI/GTK2/src/propertiesDialog_glade.cc:224
-msgid "Properties"
-msgstr "??"
+#: UI/GTK2/src/mainWindow_glade.cc:234
+#, fuzzy
+msgid "Show Extracts"
+msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:233
-msgid "_About"
-msgstr "??(_A)"
+#: UI/GTK2/src/mainWindow_glade.cc:243
+msgid "Export List"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:236
-msgid "_Session"
-msgstr "????(_S)"
+#: UI/GTK2/src/mainWindow_glade.cc:249 UI/GTK2/src/statisticsDialog.cc:121
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
+msgid "Status"
+msgstr "??"
 
-#: UI/GTK2/src/mainWindow_glade.cc:239
+#: UI/GTK2/src/mainWindow_glade.cc:255
+#, fuzzy
+msgid "_File"
+msgstr "??"
+
+#: UI/GTK2/src/mainWindow_glade.cc:258
 msgid "_Edit"
 msgstr "??(_E)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:242
-msgid "_Results"
-msgstr "??(_R)"
+#: UI/GTK2/src/mainWindow_glade.cc:261
+msgid "_Options"
+msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:248
+#: UI/GTK2/src/mainWindow_glade.cc:264
 msgid "_Help"
 msgstr "??(_H)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:377
+#: UI/GTK2/src/mainWindow_glade.cc:393
 msgid "Pinot"
 msgstr "Pinot"
 
-#: UI/GTK2/src/Notebook.cpp:146
+#: UI/GTK2/src/Notebook.cpp:84
+msgid "Did you mean ?"
+msgstr ""
+
+#: UI/GTK2/src/Notebook.cpp:95 UI/GTK2/src/Notebook.cpp:236
 msgid "Close"
 msgstr ""
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:442
+#: UI/GTK2/src/pinot.cc:258 UI/GTK2/src/pinot-dbus-daemon.cc:443
 msgid "Unknown"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:443
+#: UI/GTK2/src/pinot.cc:259 UI/GTK2/src/pinot-dbus-daemon.cc:444
 msgid "Danish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:444
+#: UI/GTK2/src/pinot.cc:260 UI/GTK2/src/pinot-dbus-daemon.cc:445
 msgid "Dutch"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:445
+#: UI/GTK2/src/pinot.cc:261 UI/GTK2/src/pinot-dbus-daemon.cc:446
 msgid "English"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:446
+#: UI/GTK2/src/pinot.cc:262 UI/GTK2/src/pinot-dbus-daemon.cc:447
 msgid "Finnish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:447
+#: UI/GTK2/src/pinot.cc:263 UI/GTK2/src/pinot-dbus-daemon.cc:448
 msgid "French"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:448
+#: UI/GTK2/src/pinot.cc:264 UI/GTK2/src/pinot-dbus-daemon.cc:449
 msgid "German"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:449
+#: UI/GTK2/src/pinot.cc:265 UI/GTK2/src/pinot-dbus-daemon.cc:450
 msgid "Hungarian"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:450
+#: UI/GTK2/src/pinot.cc:266 UI/GTK2/src/pinot-dbus-daemon.cc:451
 msgid "Italian"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:451
+#: UI/GTK2/src/pinot.cc:267 UI/GTK2/src/pinot-dbus-daemon.cc:452
 msgid "Norwegian"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:452
+#: UI/GTK2/src/pinot.cc:268 UI/GTK2/src/pinot-dbus-daemon.cc:453
 msgid "Portuguese"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:453
+#: UI/GTK2/src/pinot.cc:269 UI/GTK2/src/pinot-dbus-daemon.cc:454
 msgid "Romanian"
 msgstr "?????"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:454
+#: UI/GTK2/src/pinot.cc:270 UI/GTK2/src/pinot-dbus-daemon.cc:455
 msgid "Russian"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:249 UI/GTK2/src/pinot-dbus-daemon.cc:455
+#: UI/GTK2/src/pinot.cc:271 UI/GTK2/src/pinot-dbus-daemon.cc:456
 msgid "Spanish"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:250 UI/GTK2/src/pinot-dbus-daemon.cc:456
+#: UI/GTK2/src/pinot.cc:272 UI/GTK2/src/pinot-dbus-daemon.cc:457
 msgid "Swedish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:457
+#: UI/GTK2/src/pinot.cc:273 UI/GTK2/src/pinot-dbus-daemon.cc:458
 msgid "Turkish"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:272
+#: UI/GTK2/src/pinot.cc:299
 msgid "Couldn't open index"
 msgstr "??????"
 
-#: UI/GTK2/src/pinot.cc:293
+#: UI/GTK2/src/pinot.cc:320
 msgid "Couldn't create history database"
 msgstr "?????????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:359
+#: UI/GTK2/src/PinotSettings.cpp:434
 msgid "Important"
 msgstr "???"
 
-#: UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "New"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:361
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "Personal"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:382
+#: UI/GTK2/src/PinotSettings.cpp:458
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:389
+#: UI/GTK2/src/PinotSettings.cpp:466
 msgid "Latest First"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:392
+#: UI/GTK2/src/PinotSettings.cpp:469
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:393
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:394
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "Have CJKV"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:395
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:396
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1342
+#: UI/GTK2/src/PinotSettings.cpp:518
 msgid "Unclassified"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:105
+#: UI/GTK2/src/prefsWindow.cc:148
+msgid "File Indexing and Search"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:149
+msgid "Configure Pinot to index your files"
+msgstr ""
+
+#: UI/GTK2/src/prefsWindow.cc:207
 msgid "Name"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:113
+#: UI/GTK2/src/prefsWindow.cc:225
 msgid "Monitor"
 msgstr "???"
 
-#: UI/GTK2/src/prefsDialog.cc:114
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Location"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:122
+#: UI/GTK2/src/prefsWindow.cc:234
 msgid "Pattern"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:390
+#: UI/GTK2/src/prefsWindow.cc:559
 msgid "Exclude these patterns from indexing"
 msgstr "?????????"
 
-#: UI/GTK2/src/prefsDialog.cc:391
+#: UI/GTK2/src/prefsWindow.cc:560
 msgid "Only index these patterns"
 msgstr "????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:557
+#: UI/GTK2/src/prefsWindow.cc:759
+msgid "Directory to index"
+msgstr "?????"
+
+#: UI/GTK2/src/prefsWindow.cc:899
 msgid "New Label"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:598
-msgid "Directory to index"
-msgstr "?????"
+#: UI/GTK2/src/prefsWindow_glade.cc:69
+msgid "These directories will be indexed and optionally monitored for changes:"
+msgstr "??????????????????????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:65
-msgid "Google API key:"
-msgstr "Google API key:"
+#: UI/GTK2/src/prefsWindow_glade.cc:74 UI/GTK2/src/prefsWindow_glade.cc:90
+#: UI/GTK2/src/prefsWindow_glade.cc:106
+msgid "Add"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:68
-msgid "New results:"
-msgstr "?????"
+#: UI/GTK2/src/prefsWindow_glade.cc:82
+msgid "File patterns:"
+msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
-msgid "Queries:"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:95
+msgid "Reset"
+msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
-msgid "Enable search terms suggestion"
-msgstr "???????"
+#: UI/GTK2/src/prefsWindow_glade.cc:100
+msgid "Indexing"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:72
-msgid "Ignore robots.txt and Robots META tag"
-msgstr "??robot.txt?meta??"
+#: UI/GTK2/src/prefsWindow_glade.cc:101
+msgid "Labels are used to classify indexed documents:"
+msgstr "??????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
-msgid "HTTP crawling:"
-msgstr "?????"
+#: UI/GTK2/src/prefsWindow_glade.cc:112
+msgid "Remove"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:76
-msgid "General"
-msgstr "???"
+#: UI/GTK2/src/prefsWindow_glade.cc:120 UI/GTK2/src/propertiesDialog.cc:56
+msgid "Labels"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:78
+#: UI/GTK2/src/prefsWindow_glade.cc:122
 msgid "Direct connection to the Internet"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsWindow_glade.cc:123
 msgid "Manual proxy configuration:"
 msgstr "????proxy"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:92
+#: UI/GTK2/src/prefsWindow_glade.cc:136
 msgid "Network"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
-msgid "Labels are used to classify indexed documents:"
-msgstr "??????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:137
+msgid "Google API key:"
+msgstr "Google API key:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
-#: UI/GTK2/src/prefsDialog_glade.cc:134
-msgid "Add"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:140
+msgid "Queries:"
+msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:104
-msgid "Remove"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:141
+msgid "Enable search terms suggestion"
+msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
-msgid "Labels"
-msgstr "??"
+#: UI/GTK2/src/prefsWindow_glade.cc:143
+msgid "Ignore robots.txt and Robots META tag"
+msgstr "??robot.txt?meta??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113
-msgid "These directories will be indexed and optionally monitored for changes:"
-msgstr "??????????????????????????"
+#: UI/GTK2/src/prefsWindow_glade.cc:144
+msgid "HTTP crawling:"
+msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:126
-msgid "File patterns:"
-msgstr ""
+#: UI/GTK2/src/prefsWindow_glade.cc:146
+msgid "New results:"
+msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:139
-msgid "Reset"
+#: UI/GTK2/src/prefsWindow_glade.cc:149
+msgid "Miscellaneous"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
-msgid "Indexing"
-msgstr "??"
-
-#: UI/GTK2/src/prefsDialog_glade.cc:512
-msgid "Preferences"
+#: UI/GTK2/src/prefsWindow_glade.cc:523
+#, fuzzy
+msgid "Pinot Preferences"
 msgstr "????"
 
 #: UI/GTK2/src/propertiesDialog.cc:105
@@ -748,6 +745,10 @@
 msgid "bytes"
 msgstr ""
 
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
+msgid "Properties"
+msgstr "??"
+
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
 msgstr "????"
@@ -761,12 +762,12 @@
 msgstr "???"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:141
 msgid "Title"
 msgstr "??"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:151
 msgid "URL"
 msgstr "??"
 
@@ -775,40 +776,44 @@
 msgstr "??"
 
 #: UI/GTK2/src/queryDialog.cc:116
+msgid "Path"
+msgstr ""
+
+#: UI/GTK2/src/queryDialog.cc:117
 msgid "Language code"
 msgstr "????"
 
-#: UI/GTK2/src/queryDialog.cc:117
+#: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME type"
 msgstr "MIME ??"
 
-#: UI/GTK2/src/queryDialog.cc:118
+#: UI/GTK2/src/queryDialog.cc:119
 msgid "MIME class"
 msgstr "MIME class"
 
-#: UI/GTK2/src/queryDialog.cc:119
+#: UI/GTK2/src/queryDialog.cc:120
 msgid "Label"
 msgstr "??"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
+#: UI/GTK2/src/queryDialog.cc:123 UI/GTK2/src/ResultsTree.cpp:159
 msgid "Date"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/queryDialog.cc:124
 msgid "Time"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:124
+#: UI/GTK2/src/queryDialog.cc:125
 msgid "Size"
 msgstr ""
 
 #. Sort order
-#: UI/GTK2/src/queryDialog.cc:128
+#: UI/GTK2/src/queryDialog.cc:129
 msgid "By relevance"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog.cc:129
+#: UI/GTK2/src/queryDialog.cc:130
 msgid "By date"
 msgstr ""
 
@@ -845,152 +850,162 @@
 msgstr "?????"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:131
+#: UI/GTK2/src/ResultsTree.cpp:130
 msgid "Score"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:84
+#: UI/GTK2/src/ResultsTree.cpp:1555
+#, fuzzy
+msgid "No results"
+msgstr "??"
+
+#: UI/GTK2/src/statisticsDialog.cc:154
 msgid "Indexes"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:117
+#: UI/GTK2/src/statisticsDialog.cc:160 UI/GTK2/src/statisticsDialog.cc:166
+#: UI/GTK2/src/statisticsDialog.cc:197
+msgid "Checking"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:194
 msgid "Daemon"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
-msgid "documents"
-msgstr "??"
-
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
-#: UI/GTK2/src/WorkerThreads.cpp:126
-msgid "Unknown error"
-msgstr "???????"
-
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "Viewed"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:216
 msgid "results"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Crawled"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "files"
 msgstr "??"
 
+#: UI/GTK2/src/statisticsDialog.cc:239 UI/GTK2/src/statisticsDialog.cc:255
+msgid "documents"
+msgstr "??"
+
+#: UI/GTK2/src/statisticsDialog.cc:245 UI/GTK2/src/statisticsDialog.cc:263
+#: UI/GTK2/src/WorkerThreads.cpp:125
+msgid "Unknown error"
+msgstr "???????"
+
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:200
+#: UI/GTK2/src/statisticsDialog.cc:284
 msgid "Running under PID"
 msgstr "?????????"
 
-#: UI/GTK2/src/statisticsDialog.cc:221
+#: UI/GTK2/src/statisticsDialog.cc:306
 msgid "Disconnected from D-Bus"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:225
+#: UI/GTK2/src/statisticsDialog.cc:310
 msgid "Stopped"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:229
+#: UI/GTK2/src/statisticsDialog.cc:314
 msgid "Currently not running"
 msgstr "???????"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:328
 msgid "Low disk space"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:260
+#: UI/GTK2/src/statisticsDialog.cc:345
 msgid "System on battery"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:278
+#: UI/GTK2/src/statisticsDialog.cc:363
 msgid "Crawling"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:313
+#: UI/GTK2/src/statisticsDialog.cc:402
 msgid "Errors"
 msgstr "??"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:92
 msgid "Index error"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:94
 msgid "Couldn't index document"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
 msgstr "?????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
 msgstr "??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:102
 msgid "Couldn't get history for search engine"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:104
 msgid "Couldn't retrieve document"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:110
 msgid "Index doesn't exist"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
 msgstr "????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
 msgstr "????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
 msgstr "Robots?meta???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:418
+#: UI/GTK2/src/WorkerThreads.cpp:420
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:431
+#: UI/GTK2/src/WorkerThreads.cpp:433
 msgid "Can't index mail here"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:452 UI/GTK2/src/WorkerThreads.cpp:717
+#: UI/GTK2/src/WorkerThreads.cpp:454 UI/GTK2/src/WorkerThreads.cpp:729
 msgid "is already being indexed"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:462
+#: UI/GTK2/src/WorkerThreads.cpp:464
 msgid "is blacklisted"
 msgstr "?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/WorkerThreads.cpp:1052
 msgid "No title"
 msgstr "???"



From fabricecolin at mail.berlios.de  Mon Jan 26 04:38:46 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 26 Jan 2009 04:38:46 +0100
Subject: [Pinot-svn] r1511 - in trunk: SQL Tokenize UI/GTK2/src
Message-ID: <200901260338.n0Q3ckwA018977@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-26 04:38:35 +0100 (Mon, 26 Jan 2009)
New Revision: 1511

Modified:
   trunk/SQL/ActionQueue.cpp
   trunk/SQL/ActionQueue.h
   trunk/Tokenize/FilterUtils.cpp
   trunk/UI/GTK2/src/pinot-dbus-daemon.cc
Log:
FilterUrils::isSupportedType() could return false for supported types. This
could lead to some documents content not being indexed.
In pinot-dbus-daemon, actions queued by a previous instance of the daemon were
cleared and the corresponding files would never get indexed.


Modified: trunk/SQL/ActionQueue.cpp
===================================================================
--- trunk/SQL/ActionQueue.cpp	2009-01-24 08:56:29 UTC (rev 1510)
+++ trunk/SQL/ActionQueue.cpp	2009-01-26 03:38:35 UTC (rev 1511)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -115,7 +115,7 @@
 
 	// Is there already an item for this URL ?
 	SQLResults *results = executeStatement("SELECT Url FROM ActionQueue \
-		WHERE QueueId='%q' AND Url='%q'",
+		WHERE QueueId='%q' AND Url='%q';",
 		m_queueId.c_str(), Url::escapeUrl(url).c_str());
 	if (results != NULL)
 	{
@@ -197,7 +197,7 @@
 	bool success = false;
 
 	SQLResults *results = executeStatement("SELECT Type, Info FROM ActionQueue \
-		WHERE QueueId='%q' ORDER BY Date DESC LIMIT 1",
+		WHERE QueueId='%q' ORDER BY Date DESC LIMIT 1;",
 		m_queueId.c_str());
 	if (results != NULL)
 	{
@@ -219,6 +219,30 @@
 	return success;
 }
 
+/// Returns the number of items of a particular type.
+unsigned int ActionQueue::getItemsCount(ActionType type)
+{
+	unsigned int count = 0;
+
+	SQLResults *results = executeStatement("SELECT COUNT(*) FROM ActionQueue \
+		WHERE Type='%q';",
+		typeToText(type).c_str());
+	if (results != NULL)
+	{
+		SQLRow *row = results->nextRow();
+		if (row != NULL)
+		{
+			count = atoi(row->getColumn(0).c_str());
+
+			delete row;
+		}
+
+		delete results;
+	}
+
+	return count;
+}
+
 /// Expires items older than the given date.
 bool ActionQueue::expireItems(time_t expiryDate)
 {

Modified: trunk/SQL/ActionQueue.h
===================================================================
--- trunk/SQL/ActionQueue.h	2009-01-24 08:56:29 UTC (rev 1510)
+++ trunk/SQL/ActionQueue.h	2009-01-26 03:38:35 UTC (rev 1511)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2005,2006 Fabrice Colin
+ *  Copyright 2005-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -43,6 +43,9 @@
 		/// Pops and deletes the oldest item.
 		bool popItem(ActionType &type, DocumentInfo &docInfo);
 
+		/// Returns the number of items of a particular type.
+		unsigned int getItemsCount(ActionType type);
+
 		/// Expires items older than the given date.
 		bool expireItems(time_t expiryDate);
 

Modified: trunk/Tokenize/FilterUtils.cpp
===================================================================
--- trunk/Tokenize/FilterUtils.cpp	2009-01-24 08:56:29 UTC (rev 1510)
+++ trunk/Tokenize/FilterUtils.cpp	2009-01-26 03:38:35 UTC (rev 1511)
@@ -1,5 +1,5 @@
 /*
- *  Copyright 2007-2008 Fabrice Colin
+ *  Copyright 2007-2009 Fabrice Colin
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -129,34 +129,35 @@
 		return true;
 	}
 
-	if (Dijon::FilterFactory::isSupportedType(mimeType) == false)
+	if (Dijon::FilterFactory::isSupportedType(mimeType) == true)
 	{
-		set<string> parentTypes;
+		return true;
+	}
 
-		if (m_types.empty() == true)
-		{
-			Dijon::FilterFactory::getSupportedTypes(m_types);
-		}
+	if (m_types.empty() == true)
+	{
+		Dijon::FilterFactory::getSupportedTypes(m_types);
+	}
 
-		// Try that type's parents
-		MIMEScanner::getParentTypes(mimeType, m_types, parentTypes);
-		for (set<string>::const_iterator parentIter = parentTypes.begin();
-			parentIter != parentTypes.end(); ++parentIter)
+	// Try that type's parents
+	set<string> parentTypes;
+	MIMEScanner::getParentTypes(mimeType, m_types, parentTypes);
+	for (set<string>::const_iterator parentIter = parentTypes.begin();
+		parentIter != parentTypes.end(); ++parentIter)
+	{
+		if (Dijon::FilterFactory::isSupportedType(*parentIter) == true)
 		{
-			if (Dijon::FilterFactory::isSupportedType(*parentIter) == true)
-			{
-				// Add an alias
-				m_typeAliases[mimeType] = *parentIter;
-				return true;
-			}
+			// Add an alias
+			m_typeAliases[mimeType] = *parentIter;
+			return true;
 		}
+	}
 #ifdef DEBUG
-		cout << "FilterUtils::isSupportedType: no valid parent for " << mimeType << endl;
+	cout << "FilterUtils::isSupportedType: no valid parent for " << mimeType << endl;
 #endif
 
-		// This type has no valid parent
-		m_typeAliases[mimeType] = UNSUPPORTED_TYPE;
-	}
+	// This type has no valid parent
+	m_typeAliases[mimeType] = UNSUPPORTED_TYPE;
 
 	return false;
 }

Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.cc
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2009-01-24 08:56:29 UTC (rev 1510)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2009-01-26 03:38:35 UTC (rev 1511)
@@ -508,9 +508,13 @@
 		QueryHistory queryHistory(historyDatabase);
 		ViewHistory viewHistory(historyDatabase);
 		time_t timeNow = time(NULL);
+		unsigned int actionsCount = actionQueue.getItemsCount(ActionQueue::INDEX);
 
-		// Expire all actions left from last time
-		actionQueue.expireItems(timeNow);
+		// Don't expire actions left from last time
+		actionsCount += actionQueue.getItemsCount(ActionQueue::UNINDEX);
+		cout << actionsCount << " actions left" << endl;
+
+		// Expire the rest
 		queryHistory.expireItems(timeNow);
 		viewHistory.expireItems(timeNow);
 	}



From fabricecolin at mail.berlios.de  Mon Jan 26 15:21:14 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 26 Jan 2009 15:21:14 +0100
Subject: [Pinot-svn] r1512 - trunk/UI/GTK2/src
Message-ID: <200901261421.n0QELEoF008185@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-26 15:21:07 +0100 (Mon, 26 Jan 2009)
New Revision: 1512

Modified:
   trunk/UI/GTK2/src/ServerThreads.cpp
Log:
When interrupted, don't set the current entry's status to CRAWLED.
Delete any CRAWLING entries the previous instance didn't have time to process
and has left in.


Modified: trunk/UI/GTK2/src/ServerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-26 03:38:35 UTC (rev 1511)
+++ trunk/UI/GTK2/src/ServerThreads.cpp	2009-01-26 14:21:07 UTC (rev 1512)
@@ -483,19 +483,16 @@
 
 	// Is this item in the database already ?
 	itemExists = crawlHistory.hasItem(location, itemStatus, itemDate);
-	if (itemExists == true)
+	if (itemExists == false)
 	{
-		if (m_fullScan == true)
-		{
-			// Change the status from TO_CRAWL to CRAWLING
-			crawlHistory.updateItem(location, CrawlHistory::CRAWLING, itemDate);
-		}
-	}
-	else
-	{
 		// Record it
 		crawlHistory.insertItem(location, CrawlHistory::CRAWLING, m_sourceId, itemDate);
 	}
+	else if (m_fullScan == true)
+	{
+		// Change the status from TO_CRAWL to CRAWLING
+		crawlHistory.updateItem(location, CrawlHistory::CRAWLING, itemDate);
+	}
 
 	// If stat'ing didn't fail, see if it's a file or a directory
 	if ((entryStatus == 0) &&
@@ -600,11 +597,20 @@
 		(itemDate >= fileStat.st_mtime))
 	{
 		// No, it wasn't
+#ifdef DEBUG
+		cout << "DirectoryScannerThread::scanEntry: not reporting " << location
+			<< ", status " << itemStatus << endl;
+#endif
 		reportFile = false;
 	}
 
+	if (m_done == true)
+	{
+		// Don't record or report the file
+		reportFile = false;
+	}
 	// Did an error occur ?
-	if (entryStatus != 0)
+	else if (entryStatus != 0)
 	{
 		time_t timeNow = time(NULL);
 
@@ -671,6 +677,8 @@
 	// Remove errors and links
 	crawlHistory.deleteItems(m_sourceId, CrawlHistory::CRAWL_ERROR);
 	crawlHistory.deleteItems(m_sourceId, CrawlHistory::CRAWL_LINK);
+	// ...and entries the previous instance didn't have time to crawl
+	crawlHistory.deleteItems(m_sourceId, CrawlHistory::CRAWLING);
 
 	if (m_fullScan == true)
 	{



From fabricecolin at mail.berlios.de  Mon Jan 26 16:23:44 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Mon, 26 Jan 2009 16:23:44 +0100
Subject: [Pinot-svn] r1513 - trunk/UI/GTK2/src
Message-ID: <200901261523.n0QFNiE7013238@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-26 16:23:37 +0100 (Mon, 26 Jan 2009)
New Revision: 1513

Modified:
   trunk/UI/GTK2/src/PinotSettings.cpp
Log:
Use default labels, queries, blacklist... if ui.xml wasn't loaded.


Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-26 14:21:07 UTC (rev 1512)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2009-01-26 15:23:37 UTC (rev 1513)
@@ -332,6 +332,7 @@
 bool PinotSettings::load(LoadWhat what)
 {
 	string fileName;
+	bool loadedUIConfiguration = false;
 
 	if ((what == LOAD_ALL) ||
 		(what == LOAD_GLOBAL))
@@ -375,7 +376,7 @@
 		}
 		else
 		{
-			loadConfiguration(getFileName(false), false);
+			loadedUIConfiguration = loadConfiguration(getFileName(false), false);
 		}
 	}
 
@@ -428,7 +429,7 @@
 	addIndex(_("My Web Pages"), m_docsIndexLocation, true);
 	addIndex(_("My Documents"), m_daemonIndexLocation, true);
 
-	if (m_firstRun == true)
+	if (loadedUIConfiguration == false)
 	{
 		// Add default labels
 		m_labels.insert(_("Important"));



From fabricecolin at mail.berlios.de  Tue Jan 27 11:06:58 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 27 Jan 2009 11:06:58 +0100
Subject: [Pinot-svn] r1514 - trunk/Collect
Message-ID: <200901271006.n0RA6w45028502@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-27 11:06:54 +0100 (Tue, 27 Jan 2009)
New Revision: 1514

Modified:
   trunk/Collect/DownloaderFactory.cpp
Log:
HTTP downloaders supports HTTPS too.


Modified: trunk/Collect/DownloaderFactory.cpp
===================================================================
--- trunk/Collect/DownloaderFactory.cpp	2009-01-26 15:23:37 UTC (rev 1513)
+++ trunk/Collect/DownloaderFactory.cpp	2009-01-27 10:06:54 UTC (rev 1514)
@@ -43,7 +43,8 @@
 	DownloaderInterface *pDownloader = NULL;
 
 	// Choice by protocol
-	if (protocol == "http")
+	if ((protocol == "http") ||
+		(protocol == "https"))
 	{
 #ifdef USE_NEON
 		pDownloader = new NeonDownloader();



From fabricecolin at mail.berlios.de  Tue Jan 27 11:07:56 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 27 Jan 2009 11:07:56 +0100
Subject: [Pinot-svn] r1515 - trunk/IndexSearch
Message-ID: <200901271007.n0RA7uDi028774@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-27 11:07:51 +0100 (Tue, 27 Jan 2009)
New Revision: 1515

Modified:
   trunk/IndexSearch/pinot-index.cpp
Log:
Fix stupid "loop on unknown protocol" loop.


Modified: trunk/IndexSearch/pinot-index.cpp
===================================================================
--- trunk/IndexSearch/pinot-index.cpp	2009-01-27 10:06:54 UTC (rev 1514)
+++ trunk/IndexSearch/pinot-index.cpp	2009-01-27 10:07:51 UTC (rev 1515)
@@ -261,6 +261,9 @@
 				cerr << "Couldn't obtain downloader for protocol " << thisUrl.getProtocol() << endl;
 
 				success = false;
+
+				// Next
+				++optind;
 				continue;
 			}
 



From fabricecolin at mail.berlios.de  Tue Jan 27 11:08:48 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 27 Jan 2009 11:08:48 +0100
Subject: [Pinot-svn] r1516 - in trunk: IndexSearch UI/GTK2/src
Message-ID: <200901271008.n0RA8mDq029171@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-27 11:08:40 +0100 (Tue, 27 Jan 2009)
New Revision: 1516

Modified:
   trunk/IndexSearch/pinot-index.1
   trunk/IndexSearch/pinot-label.1
   trunk/IndexSearch/pinot-search.1
   trunk/UI/GTK2/src/pinot-dbus-daemon.1
   trunk/UI/GTK2/src/pinot.1
Log:
Updated manual pages.


Modified: trunk/IndexSearch/pinot-index.1
===================================================================
--- trunk/IndexSearch/pinot-index.1	2009-01-27 10:07:51 UTC (rev 1515)
+++ trunk/IndexSearch/pinot-index.1	2009-01-27 10:08:40 UTC (rev 1516)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-INDEX "1" "August 2008" "pinot-index - pinot 0.88" "User Commands"
+.TH PINOT-INDEX "1" "January 2009" "pinot-index - pinot 0.90" "User Commands"
 .SH NAME
 pinot-index \- Index documents from the command-line
 .SH SYNOPSIS

Modified: trunk/IndexSearch/pinot-label.1
===================================================================
--- trunk/IndexSearch/pinot-label.1	2009-01-27 10:07:51 UTC (rev 1515)
+++ trunk/IndexSearch/pinot-label.1	2009-01-27 10:08:40 UTC (rev 1516)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-LABEL "1" "August 2008" "pinot-label - pinot 0.88" "User Commands"
+.TH PINOT-LABEL "1" "January 2009" "pinot-label - pinot 0.90" "User Commands"
 .SH NAME
 pinot-label \- Label files from the command-line
 .SH SYNOPSIS

Modified: trunk/IndexSearch/pinot-search.1
===================================================================
--- trunk/IndexSearch/pinot-search.1	2009-01-27 10:07:51 UTC (rev 1515)
+++ trunk/IndexSearch/pinot-search.1	2009-01-27 10:08:40 UTC (rev 1516)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-SEARCH "1" "August 2008" "pinot-search - pinot 0.88" "User Commands"
+.TH PINOT-SEARCH "1" "January 2009" "pinot-search - pinot 0.90" "User Commands"
 .SH NAME
 pinot-search \- Query search engines from the command-line
 .SH SYNOPSIS
@@ -9,9 +9,15 @@
 pinot\-search \- Query search engines from the command\-line
 .SH OPTIONS
 .TP
+\fB\-d\fR, \fB\-\-datefirst\fR
+sort by date then by relevance
+.TP
 \fB\-h\fR, \fB\-\-help\fR
 display this help and exit
 .TP
+\fB\-l\fR, \fB\-\-locationonly\fR
+only show the location of each result
+.TP
 \fB\-m\fR, \fB\-\-max\fR
 maximum number of results (default 10)
 .TP
@@ -45,7 +51,7 @@
 \fB\-u\fR, \fB\-\-xesamul\fR
 query input is a file containing Xesam UL
 .PP
-Supported search engine types are : 'googleapi' 'opensearch' 'sherlock' 'xapian' 'xesam'
+Supported search engine types are : 'opensearch' 'sherlock' 'xapian'
 .SH EXAMPLES
 pinot\-search opensearch /usr/share/pinot/engines/KrustyDescription.xml "clowns"
 .PP

Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.1
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.1	2009-01-27 10:07:51 UTC (rev 1515)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.1	2009-01-27 10:08:40 UTC (rev 1516)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-DBUS-DAEMON "1" "August 2008" "pinot-dbus-daemon - pinot 0.88" "User Commands"
+.TH PINOT-DBUS-DAEMON "1" "January 2009" "pinot-dbus-daemon - pinot 0.90" "User Commands"
 .SH NAME
 pinot-dbus-daemon \- D-Bus search and index daemon
 .SH SYNOPSIS

Modified: trunk/UI/GTK2/src/pinot.1
===================================================================
--- trunk/UI/GTK2/src/pinot.1	2009-01-27 10:07:51 UTC (rev 1515)
+++ trunk/UI/GTK2/src/pinot.1	2009-01-27 10:08:40 UTC (rev 1516)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT "1" "August 2008" "pinot - pinot 0.88" "User Commands"
+.TH PINOT "1" "January 2009" "pinot - pinot 0.90" "User Commands"
 .SH NAME
 pinot \- A metasearch tool for the Free Desktop
 .SH SYNOPSIS
@@ -12,6 +12,9 @@
 \fB\-h\fR, \fB\-\-help\fR
 display this help and exit
 .TP
+\fB\-p\fR, \fB\-\-preferences\fR
+show preferences and exit
+.TP
 \fB\-v\fR, \fB\-\-version\fR
 output version information and exit
 .SH "REPORTING BUGS"



From fabricecolin at mail.berlios.de  Tue Jan 27 11:41:34 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 27 Jan 2009 11:41:34 +0100
Subject: [Pinot-svn] r1517 - trunk/UI/GTK2/src
Message-ID: <200901271041.n0RAfYiD000747@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-27 11:41:28 +0100 (Tue, 27 Jan 2009)
New Revision: 1517

Modified:
   trunk/UI/GTK2/src/WorkerThreads.cpp
Log:
Only skip downloading for "reliably" typed local files, not remote documents.


Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2009-01-27 10:08:40 UTC (rev 1516)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2009-01-27 10:41:28 UTC (rev 1517)
@@ -1598,9 +1598,10 @@
 	{
 		m_docInfo.setType(MIMEScanner::scanUrl(thisUrl));
 	}
-	else
+	else if (thisUrl.isLocal() == true)
 	{
 		// There's a good chance the supplied type is accurate
+		// if the document is a local file
 		reliableType = true;
 	}
 



From fabricecolin at mail.berlios.de  Tue Jan 27 14:58:59 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Tue, 27 Jan 2009 14:58:59 +0100
Subject: [Pinot-svn] r1518 - trunk/scripts/bash
Message-ID: <200901271358.n0RDwxh3016229@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-27 14:58:53 +0100 (Tue, 27 Jan 2009)
New Revision: 1518

Modified:
   trunk/scripts/bash/pinot-cd.sh
Log:
If the arguments have a slash anywhere, pass them all to cd.


Modified: trunk/scripts/bash/pinot-cd.sh
===================================================================
--- trunk/scripts/bash/pinot-cd.sh	2009-01-27 10:41:28 UTC (rev 1517)
+++ trunk/scripts/bash/pinot-cd.sh	2009-01-27 13:58:53 UTC (rev 1518)
@@ -120,7 +120,12 @@
   if [ $# -eq 1 ] && [ "$1" == "-" ] && [ ! -z "$OLDPWD" ]; then
     cd "$OLDPWD"
   else
-    preparequery $@
+    IS_FULL_PATH=`echo "$@" | grep "/"`
+    if [ ! -z "$IS_FULL_PATH" ]; then
+      cd $@
+    else
+      preparequery $@
+    fi
   fi
 fi
 



From fabricecolin at mail.berlios.de  Wed Jan 28 14:10:15 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 28 Jan 2009 14:10:15 +0100
Subject: [Pinot-svn] r1519 - trunk/IndexSearch
Message-ID: <200901281310.n0SDAFgg004283@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-28 14:10:10 +0100 (Wed, 28 Jan 2009)
New Revision: 1519

Modified:
   trunk/IndexSearch/OpenSearchParser.cpp
Log:
In PER_INDEX mode, there's no increment to apply since the desired number of
results is requested in one call.


Modified: trunk/IndexSearch/OpenSearchParser.cpp
===================================================================
--- trunk/IndexSearch/OpenSearchParser.cpp	2009-01-27 13:58:53 UTC (rev 1518)
+++ trunk/IndexSearch/OpenSearchParser.cpp	2009-01-28 13:10:10 UTC (rev 1519)
@@ -565,16 +565,17 @@
 	}
 
 	// Scrolling
-	properties.m_nextIncrement = 1;
 	properties.m_nextBase = 1;
 	if (properties.m_variableParameters.find(SearchPluginProperties::START_PAGE_PARAM) != properties.m_variableParameters.end())
 	{
 		properties.m_scrolling = SearchPluginProperties::PER_PAGE;
+		properties.m_nextIncrement = 1;
 	}
 	else if ((properties.m_variableParameters.find(SearchPluginProperties::COUNT_PARAM) != properties.m_variableParameters.end()) ||
 		(properties.m_variableParameters.find(SearchPluginProperties::START_INDEX_PARAM) != properties.m_variableParameters.end()))
 	{
 		properties.m_scrolling = SearchPluginProperties::PER_INDEX;
+		properties.m_nextIncrement = 0;
 	}
 	else
 	{



From fabricecolin at mail.berlios.de  Wed Jan 28 15:36:34 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 28 Jan 2009 15:36:34 +0100
Subject: [Pinot-svn] r1520 - trunk
Message-ID: <200901281436.n0SEaYcs013971@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-28 15:36:27 +0100 (Wed, 28 Jan 2009)
New Revision: 1520

Modified:
   trunk/README
   trunk/TODO
Log:
Minor change to the README. Removed some items from, added a lot more to the TODO.


Modified: trunk/README
===================================================================
--- trunk/README	2009-01-28 13:10:10 UTC (rev 1519)
+++ trunk/README	2009-01-28 14:36:27 UTC (rev 1520)
@@ -460,13 +460,13 @@
 
   Pinot v0.90 and newer provide a "tagged cd" script that enables to change
   a shell's current directory to the directory that matches the path elements
-  passed as parameter. For instance, after running :
+  passed as parameter. For instance, after setting :
   $ alias pcd='. /usr/share/pinot/pinot-cd.sh'
   if ~/Documents is configured for indexing in Preferences, the following
   command would change the current directory to ~/Documents/Web/Stats :
   $ pcd Documents Stats
   If other directories match the given paths, pinot-cd.sh will display a list
-  of matches.
+  of matches. Future work will focus on disambiguation.
 
   If you have dbus-send installed, you may also want to set the following
   aliases :

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2009-01-28 13:10:10 UTC (rev 1519)
+++ trunk/TODO	2009-01-28 14:36:27 UTC (rev 1520)
@@ -25,8 +25,6 @@
 - Office filter with libgst
 - TeX filter
 - HtmlFilter to look for META tags Author, Creator, Publisher and CreationDate
-- Filters should have a version number so that new versions force reindexing documents of the
- given type
 - XmlFilter is slow-ish, rewrite file parsing with the TextReader interface
 - Filters should at least return errno when they fail
 
@@ -50,15 +48,15 @@
 - Make sure Description files' SyndicationRight is not private or closed
 - getCloseTerms() should be a search engine method so that WebEngine can use plugins'
  suggestions Url field (http://developer.mozilla.org/en/docs/Supporting_search_suggestions_in_search_plugins)
-- pinot-search should be able to run stored queries, as found in the configuration file
 - Filters with CJKV should work better; supporting quoting would help, eg title:"??"
+- Check Mozdex plugin once it's back up
+- Add a plugin for http://arxiv.org/find
 
 Index
 - Play around with the XAPIAN_FLUSH_THRESHOLD env var
 - MD5 hash to determine on updates whether documents have changed, as done by omindex
 - Allow to access remote Xapian indexes tunneled through ssh with xapian-progsrv,
   and make sure ssh will ask passwords with /usr/libexec/openssh/ssh-askpass
-- Index xattrs if any
 - Index Nautilus metadata (http://linuxboxadmin.com/articles/nautilus.php)
 - Reverse terms so that left wildcards can be applied ?
 - XapianIndex could do with some common code refactoring
@@ -66,10 +64,8 @@
 - After indexing or updating a document, a call to getDocumentInfo() shouldn't be necessary
 - Labels and the rest of DocumentInfo are handled separately, they shouldn't be
 - Indexes have no knowledge of indexId's
-- Send a signal when crawling is done so that the UI can reopen the index
 - Be ready to catch DatabaseModifiedError exceptions and reopen the index
-- Associate URIs or IDs to labels to avoid expensive find and replace operations when they are renamed
-- Force reindexing on 0.90 to make sure all CJKV fixes are taken advantage of
+- Think about security issues, especially when indexes are shared, based on http://plg.uwaterloo.ca/~claclark/fast2005.pdf
 
 Mail
 - Find out what kind of locking scheme Mozilla uses (POSIX lock ?) and use that
@@ -87,7 +83,11 @@
 - Prefer ustring to string whenever possible
 - Queue unindexing too
 - Follow updates to Xesam specs
-- Preserve user set metadata on reindexing
+- Send a signal when crawling is done so that the UI can reopen the index
+- The daemon should ask for permission before reindexing, especially if the corpus is large
+- What does a first run mean for the daemon ? ie no configuration file
+- Daemon should use worker threads' doWork() instead of duplicating code
+- Only crawl newly added locations when the configuration changes
 
 UI
 - Show which threads are running, what they are doing, and allow to stop them
@@ -100,13 +100,35 @@
 - When viewing or indexing a result, all rows for that same URL should be updated with
  the Viewed or Indexed icons (the latter after IndexingThread returns)
 - Make use of GTKmm 2.10 StatusIcon
-- UI doesn't show documents indexed by the daemon the very first time it's run,
- at least until it's restarted
 - Unknown exceptions in IndexingThread or elsewhere should be logged as errors
 - Delete all temporary files when exiting
 - Query expansion should be interactive
 - Default cache provider should be configurable
-- Reorganize menus so that More Like This, Search This For etc... are available
- on all documents, whether a result or from an index
 - Offer to index newly mounted volumes
+- UI doesn't show documents indexed by the daemon the very first time it's run,
+ at least until it's restarted
+- Status dialog to show time of latest update 
+- Unique preferences
+- Use gtk2 2.14's gtk_show_uri()
+- Reload settings after preferences exit
+- Changing set group by mode a few times will show index results under engine "xapian", why ?
+- getIndexNames() to return ustring's
+- Always call getIndexPropertiesByName() with a ustring, store engine names as ustring's
 
+v0.90
+- Filters should have a version number so that new versions only reindex documents
+ of the given type
+- Queries should be cancellable
+- Queries should return the top N results first, then the rest
+- D-Bus (Simple)Query shouldn't let the bus connection time out before replying
+- Live and stored queries shouldn't cap on the number of results but the number of results per page
+- For each query group in the results list, show Next and Previous buttons to page through results
+- Browse mode to be merged with the new search and page mode
+- The query builder for stored queries should be available for live queries too
+- PinotSettings and threads to be moved outside of UI
+- CLI programs shouldn't require details about backends, should know indexes by name and
+ know their backends
+- pinot-search should be able to run stored queries found in the configuration file
+- pinot-index should be able to index directories recursively, as done by the daemon
+- Command-line tools to work with relative paths
+



From fabricecolin at mail.berlios.de  Wed Jan 28 15:38:26 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 28 Jan 2009 15:38:26 +0100
Subject: [Pinot-svn] r1521 - trunk
Message-ID: <200901281438.n0SEcQ9w014252@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-28 15:38:21 +0100 (Wed, 28 Jan 2009)
New Revision: 1521

Modified:
   trunk/NEWS
   trunk/configure.in
Log:
Changes in this release.
Upped the version number. Force an upgrade of old indexes.


Modified: trunk/NEWS
===================================================================
--- trunk/NEWS	2009-01-28 14:36:27 UTC (rev 1520)
+++ trunk/NEWS	2009-01-28 14:38:21 UTC (rev 1521)
@@ -1,3 +1,81 @@
+2009/01/29 version_0_9_0
+General :
+ - builds with MingW
+ - patch by Martin Michlmayr to fix gcc 4.4 build errors
+Tokenize :
+ - skip mbox messages flagged deleted by Evolution
+ - patch by Adel Gadllah to build with gmime 2.4
+ - catch conversions errors to/from unsupported charsets
+ - fixed handling of Unicode space and punctuation code points
+Collect :
+ - look for the extended attribute user.mime_type on local files
+ - HTTP downloaders can do POST
+Monitor :
+ - check /proc/sys/fs/inotify/max_user_watches and set aside 1k watches for
+  other applications if possible
+ - patch by Adrian Bunk to fix inotify support with recent kernel headers
+Search :
+ - better rebasing of results' URLs
+ - dropped A9 and BitTorrent plugins
+ - added plugin for the Internet Open Index
+ - fixed various issues with getting more than one results page from Web engines 
+ - support for HTML extracts in OpenSearch Response
+Xapian :
+ - some terms were not always highlighted in the abstract
+ - support for the "path:" operator
+ - fix to always return the total results estimate
+ - don't index the title without prefix as if it were in the text body, but
+  let queries search across both text body and title. The "title" filter
+  still allows searching titles exclusively. Requires Xapian >= 1.0.4.
+ - always add a term for "dir:/"
+ - MIME type terms don't include any charset specification, as intended
+ - remove the original query's terms, stopwords, infrequent terms or similar
+  terms if the stemming language is set from More Like queries
+ - close all databases in an orderly manner
+Search :
+ - pinot-search has a "sort by date first" mode
+Scripts :
+ - pinot-cd.sh implements a "tagged cd"
+ - pinot-check-file.sh simplifies determining if a file is in My Documents
+Deskbar :
+ - pinot-module.py uses the new Query method, supports deskbar v2.24 snippets
+Daemon :
+ - user-set metadata, including labels, is saved and restored when reindexing
+ - D-Bus method RenameLabel obsoleted
+ - D-Bus method Query replaces SimpleQuery and allows querying the same engines
+  as the UI
+ - skip symlinks that refer to places that have been crawled or will be crawled
+ - if the daemon was interrupted while crawling, some files would never be indexed
+ - indexes created with version < 0.90 will be automatically upgraded
+UI :
+ - spelling suggestions are shown inline, above results. Upon selecting one and
+  clicking the Yes button, a new query based on the selected suggestion will be
+  created.
+ - restructured menus
+ - queries' Index Results option updatea documents already in My Web Pages. This
+  doesn't apply to those in My Documents
+ - on More Like This, selected documents are indexed to My Web Pages if necessary
+ - both results and index lists can be exported to CSV or XML
+ - Open Parent opens the directory a file is in
+ - say "No results" instead of showing a blank results list
+ - when viewing a document and GIO is used, make sure we consider the default
+  application(s) first
+ - support for the "path:" operator
+ - preferences can be open independantly with "pinot -p" or "pinot-prefs"
+ - smoother status window
+ - the List Contents Of menu wasn't refreshed after editing an index' name
+ - automatic migration of pre-0.90 configuration
+ - larger default blacklist
+ - updated Simplified Chinese translation by rainofchaos
+ - updated Dutch translation by JW
+ - updated French translation by Fr?d?ric Grosshans
+ - updated German translation by Gena Haltmair
+ - updated Japanese translation by Takeo Mizuki
+ - updated Brazilian Portuguese translation by Henrique P. Machado
+ - updated Portuguese translation by _PN_boy
+ - updated Swedish translation by Daniel Nylander
+ - new Hebrew translation by Yaron
+
 2008/09/20 version_0_8_9
 Xapian :
  - indexing and searching are now diacritics insensitive by default, thanks
@@ -8,6 +86,7 @@
  - better abstracts for short queries
 Daemon :
  - fixed indexing of plain text and XML files, following changes made in 0.88
+ - indexes created with version < 0.89 will be automatically upgraded
 UI :
  - fixed boolean operators in spelling suggestions, broken in 0.88
  - spelling suggestion doesn't suggest the same thing over and over again
@@ -292,7 +371,7 @@
   made to convert text to UTF-8 yet, so this depends on document formats
   and encodings
  - preliminary support for spelling corrections, without user feedback
- - index directories are tagged as cache directories that they are skipped
+ - index directories are tagged as cache directories so that they are skipped
   by "tar --exclude-caches"
  - preserve documents' title if possible, use user-specified title on import
 Search :

Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2009-01-28 14:36:27 UTC (rev 1520)
+++ trunk/configure.in	2009-01-28 14:38:21 UTC (rev 1521)
@@ -2,7 +2,7 @@
 # using glademm V2.6.0
 
 AC_PREREQ(2.50)
-AC_INIT(pinot, 0.89,[fabricecolin at users.berlios.de])
+AC_INIT(pinot, 0.90,[fabricecolin at users.berlios.de])
 AM_INIT_AUTOMAKE
 AC_CONFIG_HEADERS(config.h)
 
@@ -16,7 +16,7 @@
 AM_PROG_LIBTOOL
 
 dnl An index with a version older than this should be upgraded
-AC_DEFINE_UNQUOTED(PINOT_INDEX_MIN_VERSION,"0.89",
+AC_DEFINE_UNQUOTED(PINOT_INDEX_MIN_VERSION,"0.90",
     [Minimum index version])
 
 dnl gettext support



From fabricecolin at mail.berlios.de  Wed Jan 28 15:40:04 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 28 Jan 2009 15:40:04 +0100
Subject: [Pinot-svn] r1523 - trunk
Message-ID: <200901281440.n0SEe4Fw014588@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-28 15:39:57 +0100 (Wed, 28 Jan 2009)
New Revision: 1523

Modified:
   trunk/ChangeLog-dijon
Log:
Changes in Dijon.


Modified: trunk/ChangeLog-dijon
===================================================================
--- trunk/ChangeLog-dijon	2009-01-28 14:39:04 UTC (rev 1522)
+++ trunk/ChangeLog-dijon	2009-01-28 14:39:57 UTC (rev 1523)
@@ -1,4 +1,109 @@
 ------------------------------------------------------------------------
+r132 | fabricecolin | 2009-01-11 12:53:43 +0800 (Sun, 11 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/filters/external-filters.xml
+
+Get pdftotext to output UTF-8 text.
+
+------------------------------------------------------------------------
+r131 | fabricecolin | 2009-01-08 19:25:00 +0800 (Thu, 08 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/cjkv/CJKVTokenizer.cc
+
+Treat all punctuation as space.
+
+------------------------------------------------------------------------
+r130 | fabricecolin | 2008-12-31 21:42:29 +0800 (Wed, 31 Dec 2008) | 3 lines
+Changed paths:
+   M /trunk/filters/GMimeMboxFilter.cc
+
+Patch for gmime 2.4 support by Adel Gadllah.
+If GMIME_ENABLE_RFC2047_WORKAROUNDS is defined, assume gmime 2.4.
+
+------------------------------------------------------------------------
+r129 | fabricecolin | 2008-12-31 21:11:39 +0800 (Wed, 31 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/cjkv/CJKVTokenizer.cc
+
+Less DEBUG.
+
+------------------------------------------------------------------------
+r128 | fabricecolin | 2008-12-16 21:37:52 +0800 (Tue, 16 Dec 2008) | 3 lines
+Changed paths:
+   M /trunk/cjkv/CJKVTokenizer.cc
+
+In _unicode_to_char(), convert all Unicode spaces including the "non-breaking
+space" character at code point 160 to a single character.
+
+------------------------------------------------------------------------
+r127 | fabricecolin | 2008-12-13 13:38:05 +0800 (Sat, 13 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/ExifImageFilter.cc
+
+Fix previous commit.
+
+------------------------------------------------------------------------
+r126 | fabricecolin | 2008-12-13 13:36:00 +0800 (Sat, 13 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/ExifImageFilter.cc
+
+If strptime() isn't available, attempt to parse EXIF_TAG_DATE_TIME bit by bit.
+
+------------------------------------------------------------------------
+r125 | fabricecolin | 2008-12-07 12:58:29 +0800 (Sun, 07 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/FilterFactory.cc
+   M /trunk/filters/HtmlFilter.cc
+   M /trunk/xesam/XapianQueryBuilder.cc
+
+Include config.h before checking any of the "HAVE_" ifdef's.
+
+------------------------------------------------------------------------
+r124 | fabricecolin | 2008-12-06 09:22:40 +0800 (Sat, 06 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/TagLibMusicFilter.cc
+
+GCC 4.4 patch by Martin Michlmayr (Debian bug #504908).
+
+------------------------------------------------------------------------
+r123 | fabricecolin | 2008-12-02 23:59:34 +0800 (Tue, 02 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/xesam/XapianQueryBuilder.cc
+
+Support for the date field is conditioned by strptime().
+
+------------------------------------------------------------------------
+r122 | fabricecolin | 2008-12-01 21:03:18 +0800 (Mon, 01 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/ExternalFilter.cc
+   M /trunk/filters/Filter.h
+   M /trunk/filters/FilterFactory.cc
+   M /trunk/filters/GMimeMboxFilter.cc
+
+Portability fixes, brought up when compiling with MingW.
+
+------------------------------------------------------------------------
+r121 | fabricecolin | 2008-11-08 13:39:58 +0800 (Sat, 08 Nov 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/GMimeMboxFilter.cc
+
+Look out for the X-Evolution header.
+
+------------------------------------------------------------------------
+r120 | fabricecolin | 2008-10-18 18:31:54 +0800 (Sat, 18 Oct 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/ExternalFilter.cc
+
+Get CDATA online. In run_command(), expect several %s. 
+
+------------------------------------------------------------------------
+r119 | fabricecolin | 2008-09-30 21:54:59 +0800 (Tue, 30 Sep 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/ExifImageFilter.cc
+
+The conversion specifier %z is a GNU extension to strftime().
+
+------------------------------------------------------------------------
 r117 | fabricecolin | 2008-09-16 22:05:12 +0800 (Tue, 16 Sep 2008) | 2 lines
 Changed paths:
    M /trunk/filters/FilterFactory.cc



From fabricecolin at mail.berlios.de  Wed Jan 28 15:43:41 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 28 Jan 2009 15:43:41 +0100
Subject: [Pinot-svn] r1525 - trunk
Message-ID: <200901281443.n0SEhfKZ015585@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-28 15:43:35 +0100 (Wed, 28 Jan 2009)
New Revision: 1525

Modified:
   trunk/ChangeLog
Log:
Even more current log :-)


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-01-28 14:41:03 UTC (rev 1524)
+++ trunk/ChangeLog	2009-01-28 14:43:35 UTC (rev 1525)
@@ -1,4 +1,54 @@
 ------------------------------------------------------------------------
+r1524 | fabricecolin | 2009-01-28 22:41:03 +0800 (Wed, 28 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/ChangeLog
+
+Current log.
+
+------------------------------------------------------------------------
+r1523 | fabricecolin | 2009-01-28 22:39:57 +0800 (Wed, 28 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/ChangeLog-dijon
+
+Changes in Dijon.
+
+------------------------------------------------------------------------
+r1522 | fabricecolin | 2009-01-28 22:39:04 +0800 (Wed, 28 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/po/de.po
+   M /trunk/po/es.po
+   M /trunk/po/fr.po
+   M /trunk/po/he.po
+   M /trunk/po/it.po
+   M /trunk/po/ja.po
+   M /trunk/po/nl.po
+   M /trunk/po/pt.po
+   M /trunk/po/pt_BR.po
+   M /trunk/po/ru.po
+   M /trunk/po/sv.po
+   M /trunk/po/zh_CN.po
+   M /trunk/po/zh_TW.po
+
+Current translations.
+
+------------------------------------------------------------------------
+r1521 | fabricecolin | 2009-01-28 22:38:21 +0800 (Wed, 28 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/NEWS
+   M /trunk/configure.in
+
+Changes in this release.
+Upped the version number. Force an upgrade of old indexes.
+
+------------------------------------------------------------------------
+r1520 | fabricecolin | 2009-01-28 22:36:27 +0800 (Wed, 28 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/README
+   M /trunk/TODO
+
+Minor change to the README. Removed some items from, added a lot more to the TODO.
+
+------------------------------------------------------------------------
 r1519 | fabricecolin | 2009-01-28 21:10:10 +0800 (Wed, 28 Jan 2009) | 3 lines
 Changed paths:
    M /trunk/IndexSearch/OpenSearchParser.cpp



From fabricecolin at mail.berlios.de  Wed Jan 28 15:39:22 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 28 Jan 2009 15:39:22 +0100
Subject: [Pinot-svn] r1522 - trunk/po
Message-ID: <200901281439.n0SEdMbh014457@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-28 15:39:04 +0100 (Wed, 28 Jan 2009)
New Revision: 1522

Modified:
   trunk/po/de.po
   trunk/po/es.po
   trunk/po/fr.po
   trunk/po/he.po
   trunk/po/it.po
   trunk/po/ja.po
   trunk/po/nl.po
   trunk/po/pt.po
   trunk/po/pt_BR.po
   trunk/po/ru.po
   trunk/po/sv.po
   trunk/po/zh_CN.po
   trunk/po/zh_TW.po
Log:
Current translations.


Modified: trunk/po/de.po
===================================================================
--- trunk/po/de.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/de.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2008-09-22 12:23+0000\n"
 "Last-Translator: Gena Haltmair <Unknown>\n"
 "Language-Team: German <de at li.org>\n"
@@ -195,8 +195,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "Meine Webseiten"
@@ -205,8 +205,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "Meine Dokumente"
@@ -341,13 +341,13 @@
 msgid "No history for"
 msgstr "Kein Verlauf vorhanden f?r"
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr ""
 "Mindestens ein Vorgang wurde noch nicht abgeschlossen. Jetzt trotzdem "
 "beenden?"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Beenden"
 
@@ -560,87 +560,87 @@
 msgstr "Konnte Verlaufsdatenbank nicht anlegen"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "Wichtig"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "Neu"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "Pers?nlich"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr "Ich"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr "Letze zuerst"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr "Eigene Dateien"
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr "Kategorie \"Neu\""
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr "Hat CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr "Auf Englisch"
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr "10kb und kleiner"
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "nicht klassifiziert"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "Name"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "?berwachen"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "Ort"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "Dateiendung"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr "Dateien mit folgenden Dateiendungen von der Indizierungs ausschliessen"
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr "Nur Dateien mit diesen Dateiendungen indizieren"
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "Zu indizierendes Verzeichnis"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "Neue Kategorie"
 

Modified: trunk/po/es.po
===================================================================
--- trunk/po/es.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/es.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2008-08-23 16:14+0000\n"
 "Last-Translator: Jesus Tramullas <jesus at tramullas.com>\n"
 "Language-Team: es <fabricecolin at users.berlios.de>\n"
@@ -196,8 +196,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "Mis Paginas Web"
@@ -206,8 +206,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "Mis documentos"
@@ -342,11 +342,11 @@
 msgid "No history for"
 msgstr "No hay hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Al menos una tarea no ha finalizado. ?Parar ahora?"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Salir"
 
@@ -559,87 +559,87 @@
 msgstr "No se pudo crear la base de datos del hist?rico"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "Nuevo"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "Personal"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr "Yo"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "No clasificado"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "Nombre"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "Supervisar"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "Localizaci?n"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "Patron"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr "Excluir de la indizacion estos patrones"
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr "Indizar s?lo estos patrones"
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "Carpeta a indexar"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "Nueva etiqueta"
 

Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/fr.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2009-01-12 11:07+0000\n"
 "Last-Translator: Fr?d?ric Grosshans <frederic.grosshans at gmail.com>\n"
 "Language-Team: fr <fabricecolin at users.berlios.de>\n"
@@ -196,8 +196,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "Mes Pages Web"
@@ -206,8 +206,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "Mes Documents"
@@ -339,11 +339,11 @@
 msgid "No history for"
 msgstr "Pas d'historique pour"
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Au moins une tache n'est pas terminee. Quitter maintenant ?"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Quitter"
 
@@ -550,87 +550,87 @@
 msgstr "N'a pas pu creer la base d'historiques"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "Important"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "Nouveau"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "Personnel"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr "Moi"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr "Plus Recents"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr "Mes Trucs"
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr "Avec L'Etiquette Nouveau"
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr "Avec CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr "En Anglais"
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr "10ko Et Plus Petits"
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "Sans classification"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr "Recherche de Fichiers"
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr "Configurez Pinot pour indexer vos fichiers"
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "Nom"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "Surveiller"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "Chemin"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "Motif"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr "Ne pas indexer ces motifs"
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr "Indexer uniquement ces motifs"
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "Repertoire a indexer"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "Nouvelle Etiquette"
 

Modified: trunk/po/he.po
===================================================================
--- trunk/po/he.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/he.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2009-01-10 16:34+0000\n"
 "Last-Translator: Yaron <sh.yaron at gmail.com>\n"
 "Language-Team: Hebrew <he at li.org>\n"
@@ -196,8 +196,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "????? ???????? ???"
@@ -206,8 +206,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "??????? ???"
@@ -339,11 +339,11 @@
 msgid "No history for"
 msgstr "??? ???????? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "????? ????? ??? ?? ?????? ?????. ???? ????"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "?????"
 
@@ -550,87 +550,87 @@
 msgstr ""
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr ""
 

Modified: trunk/po/it.po
===================================================================
--- trunk/po/it.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/it.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2009-01-10 18:59+0000\n"
 "Last-Translator: MarcoBazzani <alfred.einstein at gmail.com>\n"
 "Language-Team: Italian <it at li.org>\n"
@@ -197,8 +197,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "Pagine Web Personali"
@@ -207,8 +207,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "Documenti Personali"
@@ -340,11 +340,11 @@
 msgid "No history for"
 msgstr "Nessuna cronologia per"
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Almeno un'operazione non ? stata ancora completata. Uscire comunque?"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Esci"
 
@@ -551,87 +551,87 @@
 msgstr "Impossibile creare una cronologia del database"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "Nuovo"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "Personale"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr "Io"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr "Gli Ultimi All'inizio"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr "Home Stuff"
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr "Con Nuove Etichette"
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr "Ha CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr "In Inglese"
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr "10kb E Pi? Piccoli"
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "Non classificato"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "Nome"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "Monitor"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "Posizione"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "Espressione"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr "Escludi queste espressioni dall'indice"
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr "Indicizza solo queste espressioni"
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "Directory da Indicizzare"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "Nuova descrizione"
 

Modified: trunk/po/ja.po
===================================================================
--- trunk/po/ja.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/ja.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2009-01-13 00:43+0000\n"
 "Last-Translator: Takeo Mizuki <Unknown>\n"
 "Language-Team: Japanese <ja at li.org>\n"
@@ -196,8 +196,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "????????"
@@ -206,8 +206,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "????????"
@@ -339,12 +339,12 @@
 msgid "No history for"
 msgstr "???????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr ""
 "?????????????????????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "??"
 
@@ -551,87 +551,87 @@
 msgstr "????????????????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "???"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr "??????"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr "CJKV???"
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "???"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "??"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "????"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "??"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "????"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "?????"
 

Modified: trunk/po/nl.po
===================================================================
--- trunk/po/nl.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/nl.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2009-01-10 20:38+0000\n"
 "Last-Translator: JW <jw00000 at gmail.com>\n"
 "Language-Team: Dutch <nl at li.org>\n"
@@ -196,8 +196,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "Mijn webpagina's"
@@ -206,8 +206,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "Mijn documenten"
@@ -339,11 +339,11 @@
 msgid "No history for"
 msgstr "Geen geschiedenis voor"
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Tenminste een taak is nog niet gereed. Nu stoppen?"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Afsluiten"
 
@@ -550,87 +550,87 @@
 msgstr "Kon historische database niet maken"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "Belangrijk"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "Nieuw"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "Persoonlijk"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr "Ik"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr "Laatste eerst"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr "Dingen uit persoonlijke map"
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr "Met het label 'Nieuw'"
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr "Met CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr "In het Engels"
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr "10kb en kleiner"
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "Niet geclassificeerd"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "Naam"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "Observeren"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "Locatie"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "Patroon"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr "Deze patronen niet indexeren"
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr "Enkel deze patronen indexeren"
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "Directory naar inhoudsopgave"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "Nieuwe naam"
 

Modified: trunk/po/pt.po
===================================================================
--- trunk/po/pt.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/pt.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2009-01-10 22:28+0000\n"
 "Last-Translator: _PN_boy <pedro_nuno_pn at iol.pt>\n"
 "Language-Team: Portuguese <pt at li.org>\n"
@@ -195,8 +195,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "As minhas p?ginas Web"
@@ -205,8 +205,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "Os Meus Documentos"
@@ -338,11 +338,11 @@
 msgid "No history for"
 msgstr "Nenhum hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa ainda n?o foi concluida. Sair agora?"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Sair"
 
@@ -549,87 +549,87 @@
 msgstr "N?o foi poss?vel criar base de dados do hist?rico"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "Novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr "Eu"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr "Primeiro os ?ltimos"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr "Coisas do direct?rio pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr "Com r?tulo novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr "Tem CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr "Em ingl?s"
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr "10kb e menor"
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "N?o classificado"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "Nome :"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "Supervisar"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "Localiza??o"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "Padr?o:"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr "Excluir estes padr?es da indexa??o"
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr "Indexar somente estes padr?es"
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "Direct?rio a indexar"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "Novo t?tulo"
 

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/pt_BR.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2009-01-10 23:12+0000\n"
 "Last-Translator: Henrique P. Machado <zehrique at gmail.com>\n"
 "Language-Team: Portuguese (Brazil) <pt_BR at li.org>\n"
@@ -195,8 +195,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "Minhas P?ginas Web"
@@ -205,8 +205,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "Meus Documentos"
@@ -338,11 +338,11 @@
 msgid "No history for"
 msgstr "Nenhum hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa n?o terminou ainda. Sair assim mesmo?"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Sair"
 
@@ -549,87 +549,87 @@
 msgstr "N?o foi poss?vel criar base de hist?rico"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "Novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr "Eu"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr "Primeiro dos ?ltimos"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr "Coisas do Usu?rio"
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr "Com r?tulo novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr "Tem CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr "Em ingl?s"
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr "1kb e menor"
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "N?o classificado"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "Nome"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "Monitor"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "Localiza??o"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "Conjunto"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr "Excluir esses padr?es da indexa??o"
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr "Indexar somente esses padr?es"
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "Diret?rio do ?ndice"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "Novo t?tulo"
 

Modified: trunk/po/ru.po
===================================================================
--- trunk/po/ru.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/ru.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2008-08-23 16:14+0000\n"
 "Last-Translator: Sergey Vostrikov <s.vostrikov at gmail.com>\n"
 "Language-Team: Russian <ru at li.org>\n"
@@ -193,8 +193,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "??? web-????????"
@@ -203,8 +203,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "??? ?????????"
@@ -339,11 +339,11 @@
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?? ??????? ???? ???? ?????? ??? ?? ?????????. ????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr ""
 
@@ -555,87 +555,87 @@
 msgstr "?? ??????? ??????? ???? ?????? ???????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "?????"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "???????"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "??????"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "??????????????"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "???"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "????? ??? ??????????????"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "????? ?????"
 

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/sv.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2009-01-10 19:04+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
@@ -196,8 +196,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "Mina webbsidor"
@@ -206,8 +206,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "Mina dokument"
@@ -339,11 +339,11 @@
 msgid "No history for"
 msgstr "Ingen historik f?r"
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?tminstone en uppgift har inte f?rdigst?llts ?n. Avsluta nu?"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr "Avsluta"
 
@@ -550,87 +550,87 @@
 msgstr "Kunde inte skapa historikdatabas"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "Viktigt"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "Ny"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "Personlig"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr "Jag"
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr "Senaste f?rst"
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr "Personliga saker"
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr "Med etiketten Ny"
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr "Har CJKV"
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr "P? engelska"
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr "10kb och mindre"
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "Oklassificerad"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "Namn"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "?vervaka"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "Plats"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "M?nster"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr "Undanta dessa m?nster fr?n indexering"
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr "Indexera endast dessa m?nster"
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "Katalog f?r index"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "Ny etikett"
 

Modified: trunk/po/zh_CN.po
===================================================================
--- trunk/po/zh_CN.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/zh_CN.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2008-11-01 03:08+0000\n"
 "Last-Translator: rainofchaos <rainofchaos at gmail.com>\n"
 "Language-Team: LANGUAGE <LL at li.org>\n"
@@ -193,8 +193,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "????"
@@ -203,8 +203,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "????"
@@ -338,11 +338,11 @@
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr ""
 
@@ -554,87 +554,87 @@
 msgstr "?????????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "???"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "????"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "??"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "???"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "??"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "??"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr "?????????"
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr "????????????"
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "????"
 

Modified: trunk/po/zh_TW.po
===================================================================
--- trunk/po/zh_TW.po	2009-01-28 14:38:21 UTC (rev 1521)
+++ trunk/po/zh_TW.po	2009-01-28 14:39:04 UTC (rev 1522)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: pinot 0.90\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-01-24 12:35+0800\n"
+"POT-Creation-Date: 2009-01-28 23:35+0800\n"
 "PO-Revision-Date: 2008-08-23 16:15+0000\n"
 "Last-Translator: Yung-chung Lin <henearkrxern at gmail.com>\n"
 "Language-Team: Traditional Chinese <zh_TW at li.org>\n"
@@ -194,8 +194,8 @@
 #: UI/GTK2/src/mainWindow.cc:1377 UI/GTK2/src/mainWindow.cc:1537
 #: UI/GTK2/src/mainWindow.cc:1540 UI/GTK2/src/mainWindow.cc:1641
 #: UI/GTK2/src/mainWindow.cc:1677 UI/GTK2/src/mainWindow.cc:1699
-#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:428
-#: UI/GTK2/src/PinotSettings.cpp:1704 UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/mainWindow.cc:2406 UI/GTK2/src/PinotSettings.cpp:429
+#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:157
 #: UI/GTK2/src/WorkerThreads.cpp:1089
 msgid "My Web Pages"
 msgstr "????"
@@ -204,8 +204,8 @@
 #: UI/GTK2/src/mainWindow.cc:847 UI/GTK2/src/mainWindow.cc:1109
 #: UI/GTK2/src/mainWindow.cc:1367 UI/GTK2/src/mainWindow.cc:1381
 #: UI/GTK2/src/mainWindow.cc:1548 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:429
-#: UI/GTK2/src/PinotSettings.cpp:1705 UI/GTK2/src/statisticsDialog.cc:163
+#: UI/GTK2/src/mainWindow.cc:2410 UI/GTK2/src/PinotSettings.cpp:430
+#: UI/GTK2/src/PinotSettings.cpp:1706 UI/GTK2/src/statisticsDialog.cc:163
 #: UI/GTK2/src/WorkerThreads.cpp:1099
 msgid "My Documents"
 msgstr "????"
@@ -339,11 +339,11 @@
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:947
+#: UI/GTK2/src/mainWindow.cc:2940 UI/GTK2/src/prefsWindow.cc:960
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:949
+#: UI/GTK2/src/mainWindow.cc:2942 UI/GTK2/src/prefsWindow.cc:962
 msgid "Quit"
 msgstr ""
 
@@ -555,87 +555,87 @@
 msgstr "?????????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:434
+#: UI/GTK2/src/PinotSettings.cpp:435
 msgid "Important"
 msgstr "???"
 
-#: UI/GTK2/src/PinotSettings.cpp:435
+#: UI/GTK2/src/PinotSettings.cpp:436
 msgid "New"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:436
+#: UI/GTK2/src/PinotSettings.cpp:437
 msgid "Personal"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:458
+#: UI/GTK2/src/PinotSettings.cpp:459
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:466
+#: UI/GTK2/src/PinotSettings.cpp:467
 msgid "Latest First"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:469
+#: UI/GTK2/src/PinotSettings.cpp:470
 msgid "Home Stuff"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:470
+#: UI/GTK2/src/PinotSettings.cpp:471
 msgid "With Label New"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:471
+#: UI/GTK2/src/PinotSettings.cpp:472
 msgid "Have CJKV"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:472
+#: UI/GTK2/src/PinotSettings.cpp:473
 msgid "In English"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:473
+#: UI/GTK2/src/PinotSettings.cpp:474
 msgid "10kb And Smaller"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:518
+#: UI/GTK2/src/PinotSettings.cpp:519
 msgid "Unclassified"
 msgstr "????"
 
-#: UI/GTK2/src/prefsWindow.cc:148
+#: UI/GTK2/src/prefsWindow.cc:149
 msgid "File Indexing and Search"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:149
+#: UI/GTK2/src/prefsWindow.cc:150
 msgid "Configure Pinot to index your files"
 msgstr ""
 
-#: UI/GTK2/src/prefsWindow.cc:207
+#: UI/GTK2/src/prefsWindow.cc:208
 msgid "Name"
 msgstr "??"
 
-#: UI/GTK2/src/prefsWindow.cc:225
+#: UI/GTK2/src/prefsWindow.cc:226
 msgid "Monitor"
 msgstr "???"
 
-#: UI/GTK2/src/prefsWindow.cc:226
+#: UI/GTK2/src/prefsWindow.cc:227
 msgid "Location"
 msgstr "??"
 
-#: UI/GTK2/src/prefsWindow.cc:234
+#: UI/GTK2/src/prefsWindow.cc:235
 msgid "Pattern"
 msgstr "??"
 
-#: UI/GTK2/src/prefsWindow.cc:559
+#: UI/GTK2/src/prefsWindow.cc:572
 msgid "Exclude these patterns from indexing"
 msgstr "?????????"
 
-#: UI/GTK2/src/prefsWindow.cc:560
+#: UI/GTK2/src/prefsWindow.cc:573
 msgid "Only index these patterns"
 msgstr "????????????"
 
-#: UI/GTK2/src/prefsWindow.cc:759
+#: UI/GTK2/src/prefsWindow.cc:772
 msgid "Directory to index"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsWindow.cc:899
+#: UI/GTK2/src/prefsWindow.cc:912
 msgid "New Label"
 msgstr "????"
 



From fabricecolin at mail.berlios.de  Wed Jan 28 15:41:14 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 28 Jan 2009 15:41:14 +0100
Subject: [Pinot-svn] r1524 - trunk
Message-ID: <200901281441.n0SEfEpd014870@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-28 15:41:03 +0100 (Wed, 28 Jan 2009)
New Revision: 1524

Modified:
   trunk/ChangeLog
Log:
Current log.


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-01-28 14:39:57 UTC (rev 1523)
+++ trunk/ChangeLog	2009-01-28 14:41:03 UTC (rev 1524)
@@ -1,4 +1,1411 @@
 ------------------------------------------------------------------------
+r1519 | fabricecolin | 2009-01-28 21:10:10 +0800 (Wed, 28 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/OpenSearchParser.cpp
+
+In PER_INDEX mode, there's no increment to apply since the desired number of
+results is requested in one call.
+
+------------------------------------------------------------------------
+r1518 | fabricecolin | 2009-01-27 21:58:53 +0800 (Tue, 27 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/scripts/bash/pinot-cd.sh
+
+If the arguments have a slash anywhere, pass them all to cd.
+
+------------------------------------------------------------------------
+r1517 | fabricecolin | 2009-01-27 18:41:28 +0800 (Tue, 27 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+
+Only skip downloading for "reliably" typed local files, not remote documents.
+
+------------------------------------------------------------------------
+r1516 | fabricecolin | 2009-01-27 18:08:40 +0800 (Tue, 27 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/pinot-index.1
+   M /trunk/IndexSearch/pinot-label.1
+   M /trunk/IndexSearch/pinot-search.1
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.1
+   M /trunk/UI/GTK2/src/pinot.1
+
+Updated manual pages.
+
+------------------------------------------------------------------------
+r1515 | fabricecolin | 2009-01-27 18:07:51 +0800 (Tue, 27 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/pinot-index.cpp
+
+Fix stupid "loop on unknown protocol" loop.
+
+------------------------------------------------------------------------
+r1514 | fabricecolin | 2009-01-27 18:06:54 +0800 (Tue, 27 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/Collect/DownloaderFactory.cpp
+
+HTTP downloaders supports HTTPS too.
+
+------------------------------------------------------------------------
+r1513 | fabricecolin | 2009-01-26 23:23:37 +0800 (Mon, 26 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+
+Use default labels, queries, blacklist... if ui.xml wasn't loaded.
+
+------------------------------------------------------------------------
+r1512 | fabricecolin | 2009-01-26 22:21:07 +0800 (Mon, 26 Jan 2009) | 4 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+
+When interrupted, don't set the current entry's status to CRAWLED.
+Delete any CRAWLING entries the previous instance didn't have time to process
+and has left in.
+
+------------------------------------------------------------------------
+r1511 | fabricecolin | 2009-01-26 11:38:35 +0800 (Mon, 26 Jan 2009) | 5 lines
+Changed paths:
+   M /trunk/SQL/ActionQueue.cpp
+   M /trunk/SQL/ActionQueue.h
+   M /trunk/Tokenize/FilterUtils.cpp
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+
+FilterUrils::isSupportedType() could return false for supported types. This
+could lead to some documents content not being indexed.
+In pinot-dbus-daemon, actions queued by a previous instance of the daemon were
+cleared and the corresponding files would never get indexed.
+
+------------------------------------------------------------------------
+r1510 | fabricecolin | 2009-01-24 16:56:29 +0800 (Sat, 24 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/po/de.po
+   M /trunk/po/es.po
+   M /trunk/po/fr.po
+   M /trunk/po/he.po
+   M /trunk/po/it.po
+   M /trunk/po/ja.po
+   M /trunk/po/nl.po
+   M /trunk/po/pt.po
+   M /trunk/po/pt_BR.po
+   M /trunk/po/ru.po
+   M /trunk/po/sv.po
+   M /trunk/po/zh_CN.po
+   M /trunk/po/zh_TW.po
+
+Current translations.
+
+------------------------------------------------------------------------
+r1509 | fabricecolin | 2009-01-24 16:04:24 +0800 (Sat, 24 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/scripts/bash/pinot-cd.sh
+   M /trunk/scripts/bash/pinot-check-file.sh
+   M /trunk/scripts/bash/pinot-enum-index.sh
+
+Cosmetic changes.
+
+------------------------------------------------------------------------
+r1508 | fabricecolin | 2009-01-24 15:51:23 +0800 (Sat, 24 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/prefsWindow.cc
+   M /trunk/UI/GTK2/src/prefsWindow.hh
+
+If the StartDaemon thread didn't run, save preferences when closed.
+
+------------------------------------------------------------------------
+r1507 | fabricecolin | 2009-01-24 15:14:47 +0800 (Sat, 24 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+
+Changed error messages.
+
+------------------------------------------------------------------------
+r1506 | fabricecolin | 2009-01-24 11:37:09 +0800 (Sat, 24 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotUtils.cpp
+   M /trunk/UI/GTK2/src/ResultsTree.cpp
+
+In PinotUtils, catch Glib::Error and unknown exceptions whenever converting.
+Minor edit to DEBUG messages in ResultsTree.
+
+------------------------------------------------------------------------
+r1505 | fabricecolin | 2009-01-24 11:32:13 +0800 (Sat, 24 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/OpenSearchParser.cpp
+   M /trunk/IndexSearch/OpenSearchParser.h
+   M /trunk/IndexSearch/PluginParsers.h
+   M /trunk/IndexSearch/PluginWebEngine.cpp
+   M /trunk/IndexSearch/SherlockParser.cpp
+   M /trunk/IndexSearch/SherlockParser.h
+   M /trunk/IndexSearch/WebEngine.cpp
+
+The response parsers have a go at determining the charset.
+
+------------------------------------------------------------------------
+r1504 | fabricecolin | 2009-01-22 22:24:53 +0800 (Thu, 22 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+
+Fix previous check-in.
+
+------------------------------------------------------------------------
+r1503 | fabricecolin | 2009-01-22 21:52:38 +0800 (Thu, 22 Jan 2009) | 7 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+
+Try and load prefs.xml first: if that fails, load the old config.xml, if it
+works then load ui.xml. This fixes the issue where the daemon would fail to
+load settings on its first Reload.
+Save backend and googleapikey in prefs.xml.
+Copy the UI's history over to the daemon's if the first exists and the second
+doesn't.
+
+------------------------------------------------------------------------
+r1502 | fabricecolin | 2009-01-22 21:22:13 +0800 (Thu, 22 Jan 2009) | 4 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/EnginesTree.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.h
+   M /trunk/UI/GTK2/src/ResultsTree.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.h
+   M /trunk/UI/GTK2/src/indexDialog.cc
+   M /trunk/UI/GTK2/src/mainWindow.cc
+
+The PinotSettings::IndexProperties encapsulates an index properties and
+side-steps issues experienced with manipulating and looking up index names in
+non-Latin locales.
+
+------------------------------------------------------------------------
+r1501 | fabricecolin | 2009-01-22 21:19:16 +0800 (Thu, 22 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/prefsWindow.cc
+
+No need to switch tabs on first run as Indexing is now the first tab.
+
+------------------------------------------------------------------------
+r1500 | fabricecolin | 2009-01-19 22:03:28 +0800 (Mon, 19 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianDatabase.cpp
+   M /trunk/IndexSearch/Xapian/XapianDatabase.h
+   M /trunk/IndexSearch/Xapian/XapianDatabaseFactory.cpp
+   M /trunk/IndexSearch/Xapian/XapianDatabaseFactory.h
+
+The factory doesn't serve objects once closeAll() is called.
+Lock databases before deleting them, processing merged databases first.
+
+------------------------------------------------------------------------
+r1499 | fabricecolin | 2009-01-19 22:01:12 +0800 (Mon, 19 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/mainWindow.cc
+
+Repopulate the index menu after editing an index properties in case the name
+changed.
+
+------------------------------------------------------------------------
+r1498 | fabricecolin | 2009-01-19 21:24:09 +0800 (Mon, 19 Jan 2009) | 5 lines
+Changed paths:
+   M /trunk/IndexSearch/OpenSearchParser.cpp
+   M /trunk/IndexSearch/PluginWebEngine.cpp
+
+PluginWebEngine::runQuery() checks whether scrolling is possible with the
+plugin, stops at the first page if it isn't.
+OpenSearchParser sets m_nextIncrement to 0 to disable scrolling if none of
+count, startIndex, startPage is found.
+
+------------------------------------------------------------------------
+r1497 | fabricecolin | 2009-01-19 21:20:06 +0800 (Mon, 19 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/Plugins/IOIDescription.xml
+
+Mapped hitsPerPage to {count}.
+
+------------------------------------------------------------------------
+r1496 | fabricecolin | 2009-01-17 12:16:22 +0800 (Sat, 17 Jan 2009) | 4 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/prefsWindow.cc
+   M /trunk/pinot.desktop
+
+Synced pinot.desktop strings with current po's.
+Added to prefsWindow translatable strings from pinot-prefs.desktop even though
+this window won't show them.
+
+------------------------------------------------------------------------
+r1495 | fabricecolin | 2009-01-16 22:47:52 +0800 (Fri, 16 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/README
+   M /trunk/UI/GTK2/src/mainWindow.cc
+
+Copyright 2009.
+
+------------------------------------------------------------------------
+r1494 | fabricecolin | 2009-01-14 22:26:23 +0800 (Wed, 14 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/pinot-search.cpp
+
+If no results, say so !
+
+------------------------------------------------------------------------
+r1493 | fabricecolin | 2009-01-14 22:25:10 +0800 (Wed, 14 Jan 2009) | 4 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ResultsTree.cpp
+
+In ResultsTree::findResultsExtract(), the extract doesn't need to be converted,
+it was converted earlier in addResults().
+In appendResult(), same for the URL.
+
+------------------------------------------------------------------------
+r1492 | fabricecolin | 2009-01-14 22:23:09 +0800 (Wed, 14 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/mainWindow.cc
+
+When listing an index, or appending a freshly indexed document, the charset is
+known to be UTF-8 so let ResultsTree::addResults() know.
+
+------------------------------------------------------------------------
+r1491 | fabricecolin | 2009-01-14 22:08:16 +0800 (Wed, 14 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+
+This expects documents to be converted to UTF-8 at indexing time, so that should
+be the results' charset.
+
+------------------------------------------------------------------------
+r1490 | fabricecolin | 2009-01-14 00:02:55 +0800 (Wed, 14 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ModelColumns.cpp
+   M /trunk/UI/GTK2/src/ModelColumns.h
+   M /trunk/UI/GTK2/src/ResultsTree.cpp
+   M /trunk/UI/GTK2/src/ResultsTree.h
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/propertiesDialog.cc
+
+Conversion fixes on index names, documents serial string, language names.
+
+------------------------------------------------------------------------
+r1489 | fabricecolin | 2009-01-13 22:19:50 +0800 (Tue, 13 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/po/fr.po
+   M /trunk/po/ja.po
+
+Updated translations by Fr?d?ric Grosshans (fr) and Mizuki-san (ja).
+
+------------------------------------------------------------------------
+r1488 | fabricecolin | 2009-01-13 22:09:33 +0800 (Tue, 13 Jan 2009) | 3 lines
+Changed paths:
+   A /trunk/scripts/bash/pinot-check-file.sh
+
+A script that checks whether a file is in My Documents. Useful when run with
+"find ... -exec ...".
+
+------------------------------------------------------------------------
+r1487 | fabricecolin | 2009-01-13 22:06:57 +0800 (Tue, 13 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+
+After resolving and scanning a symlink, don't hang around, just return or the
+symlink itself won't be indexed.
+
+------------------------------------------------------------------------
+r1486 | fabricecolin | 2009-01-13 07:43:14 +0800 (Tue, 13 Jan 2009) | 4 lines
+Changed paths:
+   D /trunk/IndexSearch/Plugins/A9.src
+   D /trunk/IndexSearch/Plugins/BitTorrent.src
+   A /trunk/IndexSearch/Plugins/IOIDescription.xml
+
+Removing A9, now just a product search engine and less useful than the Amazon
+API, and BitTorrent, which redirects to Ask.com.
+Adding a plugin for the Internet Open Index at http://index.isc.org/
+
+------------------------------------------------------------------------
+r1485 | fabricecolin | 2009-01-12 22:58:17 +0800 (Mon, 12 Jan 2009) | 4 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ResultsTree.cpp
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/pinot.cc
+
+More conversion fixes.
+In ResultsTree::deleteResults(), make sure the "No results" row is deleted, if
+present.
+
+------------------------------------------------------------------------
+r1484 | fabricecolin | 2009-01-12 22:56:38 +0800 (Mon, 12 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/README
+
+Talk about how symlinks are handled, the new tagged cd script and aliases users
+may find useful.
+
+------------------------------------------------------------------------
+r1483 | fabricecolin | 2009-01-12 22:54:32 +0800 (Mon, 12 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/SherlockParser.cpp
+   M /trunk/IndexSearch/WebEngine.cpp
+
+Moved relative URL rebase code from SherlockResponseParser::parse() to
+WebEngine::processResult().
+
+------------------------------------------------------------------------
+r1482 | fabricecolin | 2009-01-12 22:52:18 +0800 (Mon, 12 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/scripts/bash/pinot-enum-index.sh
+
+Don't output the document ID, it makes comparing with find's output easier.
+
+------------------------------------------------------------------------
+r1481 | fabricecolin | 2009-01-11 19:01:29 +0800 (Sun, 11 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/AUTHORS
+   M /trunk/po/it.po
+
+Updated Italian translation by Marco Bazzani.
+
+------------------------------------------------------------------------
+r1480 | fabricecolin | 2009-01-11 18:50:09 +0800 (Sun, 11 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/Makefile.am
+
+Force the link in case the destination file already exists.
+
+------------------------------------------------------------------------
+r1479 | fabricecolin | 2009-01-11 18:49:19 +0800 (Sun, 11 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/scripts/bash/pinot-enum-index.sh
+
+Make sure we only consider the document IDs after the first colon in delve's
+output. Output all document IDs to urls.txt.
+
+------------------------------------------------------------------------
+r1478 | fabricecolin | 2009-01-11 13:20:13 +0800 (Sun, 11 Jan 2009) | 4 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/statisticsDialog.cc
+   M /trunk/UI/GTK2/src/statisticsDialog.hh
+
+Fixed get/getting stats flags.
+The numbers of viewed and crawled items can be had right away without waiting
+for the timer to kick in.
+
+------------------------------------------------------------------------
+r1477 | fabricecolin | 2009-01-11 13:04:27 +0800 (Sun, 11 Jan 2009) | 5 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/ServerThreads.h
+
+Partially reverted revision 1391. Indexing is delegated to other threads by
+default so that the crawler is not at the mercy of a bad external filter.
+The possibility of doing it inline is left in and may be useful to pinot-index
+once it's made to use the same worker threads as the daemon and the UI.
+
+------------------------------------------------------------------------
+r1476 | fabricecolin | 2009-01-11 12:51:52 +0800 (Sun, 11 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/scripts/bash/pinot-cd.sh
+
+Minor changes.
+
+------------------------------------------------------------------------
+r1475 | fabricecolin | 2009-01-11 12:46:19 +0800 (Sun, 11 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/AUTHORS
+   M /trunk/po/he.po
+   M /trunk/po/nl.po
+   M /trunk/po/pt.po
+   M /trunk/po/pt_BR.po
+   M /trunk/po/sv.po
+
+Updated translations by Yaron (he), JW (nl), Henrique P. Machado (pt_BR),
+_PN_boy (pt) and Daniel Nylander (se).
+
+------------------------------------------------------------------------
+r1474 | fabricecolin | 2009-01-11 00:16:14 +0800 (Sun, 11 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+
+Delete CRAWL_LINK items before the crawl, not after.
+
+------------------------------------------------------------------------
+r1473 | fabricecolin | 2009-01-10 23:25:42 +0800 (Sat, 10 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/pinot-prefs.desktop
+
+Added X-GNOME-PersonalSettings to Categories.
+
+------------------------------------------------------------------------
+r1472 | fabricecolin | 2009-01-10 23:24:26 +0800 (Sat, 10 Jan 2009) | 12 lines
+Changed paths:
+   M /trunk/SQL/CrawlHistory.cpp
+   M /trunk/SQL/CrawlHistory.h
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/ServerThreads.h
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+
+Don't skip outright locations that already have a CrawlHistory entry, this would
+prevent resuming gracefully if the previous indexing run stopped before
+completion.
+Keep track of symlinks we follow, and skip those that refer to locations that
+have been crawled (they have a CrawlHistory entry of any type) or that we know
+will be crawled because they are under an indexable location. Once a symlink is
+followed, if we end up back in one of the indexable locations, symlinks found
+there will be skipped.
+Skipped symlinks are indexed on their own with MIME type "inode/symlink".
+In IndexingThread, avoid downloading unnecessarily documents for which an
+unsupported MIME type is supplied by the caller.
+
+------------------------------------------------------------------------
+r1471 | fabricecolin | 2009-01-10 22:50:55 +0800 (Sat, 10 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+
+Don't attempt removing unprefixed title terms in removeCommonTerms(). While
+older versions create those terms, 0.90 will trigger or request a reindex.
+
+------------------------------------------------------------------------
+r1470 | fabricecolin | 2009-01-10 15:23:41 +0800 (Sat, 10 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/Tokenize/TextConverter.cpp
+
+Protect against exceptions thrown by Glib::IConv.
+Catch Glib::Error and unknown exceptions whenever converting.
+
+------------------------------------------------------------------------
+r1469 | fabricecolin | 2009-01-09 20:03:47 +0800 (Fri, 09 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+   M /trunk/Utils/DocumentInfo.cpp
+
+Don't remove the charset declaration from the type. XapianIndex makes sure only
+the type is indexed with prefix T.
+
+------------------------------------------------------------------------
+r1468 | fabricecolin | 2009-01-09 20:01:20 +0800 (Fri, 09 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/Makefile.am
+
+Fixed pinot_label_LDADD.
+
+------------------------------------------------------------------------
+r1467 | fabricecolin | 2009-01-08 19:41:28 +0800 (Thu, 08 Jan 2009) | 3 lines
+Changed paths:
+   M /trunk/AUTHORS
+
+Suggestions from John Werden, translations by Fr?d?ric Grosshans (fr) and
+Yaron (he).
+
+------------------------------------------------------------------------
+r1466 | fabricecolin | 2009-01-07 00:09:40 +0800 (Wed, 07 Jan 2009) | 9 lines
+Changed paths:
+   M /trunk/SQL/CrawlHistory.cpp
+   M /trunk/SQL/CrawlHistory.h
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.h
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+
+Keep track of what's being crawled. Read symlinks, resolve where they point to
+and skip those that point to places that have already been crawled, or places
+we know will be crawled.
+This should prevent from following symlinks that point to the directory they are
+in, as well as crawling the same files twice even though some perfectly fine
+symlinks won't be followed.
+Removed unused PinotSettings::TimestampedItem, made sure IndexableLocation's
+"is source" flag is set.
+
+------------------------------------------------------------------------
+r1465 | fabricecolin | 2009-01-03 02:37:35 +0800 (Sat, 03 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/mainWindow.cc
+
+Disable the properties menuitem when nothing is selected.
+
+------------------------------------------------------------------------
+r1464 | fabricecolin | 2009-01-02 20:56:27 +0800 (Fri, 02 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/EnginesTree.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+   M /trunk/UI/GTK2/src/ResultsTree.cpp
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/queryDialog.cc
+
+Conversion fixes.
+
+------------------------------------------------------------------------
+r1463 | fabricecolin | 2009-01-02 20:28:34 +0800 (Fri, 02 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/metase-gtk2.glade
+   M /trunk/UI/GTK2/src/mainWindow_glade.cc
+   M /trunk/UI/GTK2/src/mainWindow_glade.hh
+
+Use the stock gtk-about menuitem.
+
+------------------------------------------------------------------------
+r1462 | fabricecolin | 2009-01-02 17:55:55 +0800 (Fri, 02 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/configure.in
+   A /trunk/po/he.po
+
+Hebrew translation by Yaron.
+
+------------------------------------------------------------------------
+r1461 | fabricecolin | 2009-01-02 17:22:34 +0800 (Fri, 02 Jan 2009) | 4 lines
+Changed paths:
+   M /trunk/AUTHORS
+   M /trunk/Makefile.am
+   M /trunk/pinot.spec.in
+
+Xapian >= 1.0.4 is now required.
+When installing, use "rm -f" to remove statis libraries.
+Mention Martin Michlmayr's contribution.
+
+------------------------------------------------------------------------
+r1460 | fabricecolin | 2009-01-02 17:19:49 +0800 (Fri, 02 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/OnDiskHandler.cpp
+   M /trunk/UI/GTK2/src/OnDiskHandler.h
+
+Prior to signaling a file, apply whatever user-set metadata we may have.
+
+------------------------------------------------------------------------
+r1459 | fabricecolin | 2009-01-02 17:17:51 +0800 (Fri, 02 Jan 2009) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+
+Better lowercase the language string when testing for a stemmer.
+
+------------------------------------------------------------------------
+r1458 | fabricecolin | 2008-12-31 21:27:49 +0800 (Wed, 31 Dec 2008) | 4 lines
+Changed paths:
+   M /trunk/SQL/MetaDataBackup.cpp
+   M /trunk/SQL/MetaDataBackup.h
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+
+Fixed use of LIKE in MetaDataBackup. The getItems() method didn't unescape URLs.
+In DirectoryScannerThread::doWork(), restore metadata only for documents in the
+directory being crawled.
+
+------------------------------------------------------------------------
+r1457 | fabricecolin | 2008-12-30 22:08:09 +0800 (Tue, 30 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/metase-gtk2.glade
+
+Reorganized menus in mainWindow, moved tabs in prefsWindow.
+
+------------------------------------------------------------------------
+r1456 | fabricecolin | 2008-12-30 22:03:54 +0800 (Tue, 30 Dec 2008) | 8 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/mainWindow.hh
+   M /trunk/UI/GTK2/src/mainWindow_glade.cc
+   M /trunk/UI/GTK2/src/mainWindow_glade.hh
+
+Reorganized menus, merged menuitems from Results and Index that overlapped in
+functionality.
+Unified expansion from a document selected with More Like This and from one
+dropped on the queries list.
+Export works on both results lists and index pages.
+Index Results will index new documents or update documents in My Web Pages, not
+My Documents.
+
+------------------------------------------------------------------------
+r1455 | fabricecolin | 2008-12-30 02:32:55 +0800 (Tue, 30 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/Utils/DocumentInfo.cpp
+
+Remove the charset specification from the MIME type.
+
+------------------------------------------------------------------------
+r1454 | fabricecolin | 2008-12-30 02:32:11 +0800 (Tue, 30 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/Utils/Url.cpp
+
+Removed reference to deprecated protocols.
+
+------------------------------------------------------------------------
+r1453 | fabricecolin | 2008-12-30 02:01:01 +0800 (Tue, 30 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ResultsTree.cpp
+   M /trunk/UI/GTK2/src/ResultsTree.h
+
+Export also works in flat mode, ie when browsing an index.
+
+------------------------------------------------------------------------
+r1452 | fabricecolin | 2008-12-30 01:59:08 +0800 (Tue, 30 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/prefsWindow.cc
+   M /trunk/UI/GTK2/src/prefsWindow.hh
+   M /trunk/UI/GTK2/src/prefsWindow_glade.cc
+   M /trunk/UI/GTK2/src/prefsWindow_glade.hh
+
+Reorded tabs, renamed General to Miscellaneous.
+
+------------------------------------------------------------------------
+r1451 | fabricecolin | 2008-12-30 01:56:26 +0800 (Tue, 30 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/IndexPage.cpp
+   M /trunk/UI/GTK2/src/IndexPage.h
+   M /trunk/UI/GTK2/src/Notebook.cpp
+   M /trunk/UI/GTK2/src/Notebook.h
+
+Moved the tree in NotebookPageBox.
+
+------------------------------------------------------------------------
+r1450 | fabricecolin | 2008-12-30 01:53:17 +0800 (Tue, 30 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+
+Always add the term XDIR:/.
+
+------------------------------------------------------------------------
+r1449 | fabricecolin | 2008-12-30 01:52:02 +0800 (Tue, 30 Dec 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+
+Renamed PrefixDecider to TermDecider.
+Reject terms that stem to the same as a previously validated term.
+
+------------------------------------------------------------------------
+r1448 | fabricecolin | 2008-12-19 22:13:14 +0800 (Fri, 19 Dec 2008) | 4 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+   M /trunk/IndexSearch/Xapian/XapianEngine.h
+
+Don't wait for query step 2 to get a stemmer if the query defines a stemming
+language. Pass it to PrefixDecider so that it can reject query terms and
+terms that stem to the same as them.
+
+------------------------------------------------------------------------
+r1447 | fabricecolin | 2008-12-19 21:43:08 +0800 (Fri, 19 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/metase-gtk2.glade
+   M /trunk/UI/GTK2/src/indexDialog_glade.cc
+   M /trunk/UI/GTK2/src/prefsWindow_glade.cc
+   M /trunk/UI/GTK2/src/queryDialog_glade.cc
+
+Setting an adjustment with non-zero page size on a SpinButton is deprecated.
+
+------------------------------------------------------------------------
+r1446 | fabricecolin | 2008-12-16 21:43:28 +0800 (Tue, 16 Dec 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+
+PrefixDecider rejects terms with spaces, which shouldn't be there in the first
+place.
+
+------------------------------------------------------------------------
+r1445 | fabricecolin | 2008-12-15 21:53:32 +0800 (Mon, 15 Dec 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+
+Following r1409, external back-ends with no channel specified didn't show in
+the engines list.
+
+------------------------------------------------------------------------
+r1444 | fabricecolin | 2008-12-14 12:16:33 +0800 (Sun, 14 Dec 2008) | 3 lines
+Changed paths:
+   M /trunk/configure.in
+
+Require at least Xapian 1.0.4 for the recent changes to XapianIndex and
+XapianEngine to function as expected.
+
+------------------------------------------------------------------------
+r1443 | fabricecolin | 2008-12-14 12:12:21 +0800 (Sun, 14 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ResultsTree.cpp
+   M /trunk/UI/GTK2/src/ResultsTree.h
+
+Removed unused method renderExtractColumn().
+
+------------------------------------------------------------------------
+r1442 | fabricecolin | 2008-12-14 12:11:27 +0800 (Sun, 14 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/mainWindow.cc
+
+Changed the "Showing..." message to something a bit easier to translate.
+
+------------------------------------------------------------------------
+r1441 | fabricecolin | 2008-12-14 09:45:32 +0800 (Sun, 14 Dec 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/statisticsDialog.cc
+
+Don't check status right away, say we are checking and wait for the first timer
+to kick in to get those values.
+
+------------------------------------------------------------------------
+r1440 | fabricecolin | 2008-12-14 09:42:04 +0800 (Sun, 14 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+
+Fixed getHomeDirectory() to always return when HAVE_PWD_H isn't defined.
+
+------------------------------------------------------------------------
+r1439 | fabricecolin | 2008-12-11 21:42:28 +0800 (Thu, 11 Dec 2008) | 5 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+   M /trunk/IndexSearch/Xapian/XapianEngine.h
+
+Get PrefixDecider to reject short terms instead of doing it after it ran. Also
+reject terms that occur only once and stop words.
+If Xapian >= 1.0.4 is available, set the empty prefix so that both text and
+title are searched for on non-prefixed query terms.
+
+------------------------------------------------------------------------
+r1438 | fabricecolin | 2008-12-07 13:44:07 +0800 (Sun, 07 Dec 2008) | 6 lines
+Changed paths:
+   A /trunk/scripts/bash/pinot-cd.sh
+
+This script implements a "tagged cd". The idea, from C. Scott Ananian, is to
+allow changing to a directory based on tags it matches. Tags here are the
+components of the path that leads to that directory, and the directory name
+itself.
+This will only work on an index built with the latest Xapian back-end.
+
+------------------------------------------------------------------------
+r1437 | fabricecolin | 2008-12-07 13:39:40 +0800 (Sun, 07 Dec 2008) | 4 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+
+If there's a space in the file name, decompose it into XPATH terms. All those
+are lower-cased.
+Don't index the title without prefix as if it were in the text body.
+
+------------------------------------------------------------------------
+r1436 | fabricecolin | 2008-12-07 11:07:56 +0800 (Sun, 07 Dec 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+
+Another fix for engine channels.
+New default query "pinot search".
+
+------------------------------------------------------------------------
+r1435 | fabricecolin | 2008-12-07 11:07:10 +0800 (Sun, 07 Dec 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ResultsTree.cpp
+
+Get an iterator to the extract TextBuffer after clearing it, as the iterator
+would otherwise be invalidated and GTK would complain about it.
+
+------------------------------------------------------------------------
+r1434 | fabricecolin | 2008-12-06 09:23:28 +0800 (Sat, 06 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/DBusIndex.cpp
+   M /trunk/Monitor/INotifyMonitor.h
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/Utils/DocumentInfo.cpp
+   M /trunk/Utils/TimeConverter.cpp
+   M /trunk/Utils/Url.cpp
+
+GCC 4.4 patch by Martin Michlmayr (Debian bug #504908).
+
+------------------------------------------------------------------------
+r1433 | fabricecolin | 2008-12-04 22:42:57 +0800 (Thu, 04 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/ModuleFactory.cpp
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/DaemonState.h
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/ServerThreads.h
+   M /trunk/UI/GTK2/src/pinot.cc
+   M /trunk/UI/GTK2/src/prefsWindow.cc
+   M /trunk/UI/GTK2/src/statisticsDialog.cc
+
+Wrap all DBus specific code with HAVE_DBUS ifdef's.
+
+------------------------------------------------------------------------
+r1432 | fabricecolin | 2008-12-04 22:40:17 +0800 (Thu, 04 Dec 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Makefile.am
+   M /trunk/UI/GTK2/src/Makefile.am
+   M /trunk/configure.in
+
+Allow disabling DBus support. This will turn off building of libIndex.a,
+pinot-label and pinot-dbus-daemon.
+
+------------------------------------------------------------------------
+r1431 | fabricecolin | 2008-12-03 23:14:02 +0800 (Wed, 03 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+   M /trunk/UI/GTK2/src/pinot.cc
+
+Use signal() if sigaction() isn't available.
+
+------------------------------------------------------------------------
+r1430 | fabricecolin | 2008-12-03 23:11:16 +0800 (Wed, 03 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/SQL/CrawlHistory.cpp
+   M /trunk/SQL/CrawlHistory.h
+
+Renamed CrawlHistory::ERROR to CRAWL_ERROR.
+
+------------------------------------------------------------------------
+r1429 | fabricecolin | 2008-12-03 23:10:26 +0800 (Wed, 03 Dec 2008) | 4 lines
+Changed paths:
+   M /trunk/Collect/DownloaderInterface.cpp
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/statisticsDialog.cc
+   M /trunk/configure.in
+
+In DownloaderInterface, GetCurrentThreadId() is specific to Windows, not to
+MingW.
+Check for fnmatch.h, pwd.h, sigaction(), sysconf(), getloadavg() and pipe().
+
+------------------------------------------------------------------------
+r1428 | fabricecolin | 2008-12-02 23:54:50 +0800 (Tue, 02 Dec 2008) | 4 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianDatabase.cpp
+   M /trunk/SQL/QueryHistory.cpp
+   M /trunk/configure.in
+
+Header fixes.
+Do without regex.h in XapianDatabase if not available.
+In configure.in, libcrypt should no longer be required.
+
+------------------------------------------------------------------------
+r1427 | fabricecolin | 2008-12-01 21:51:32 +0800 (Mon, 01 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/Collect/DownloaderInterface.cpp
+   M /trunk/Utils/DocumentInfo.cpp
+   M /trunk/Utils/Timer.cpp
+   M /trunk/Utils/Timer.h
+
+More portability fixes.
+
+------------------------------------------------------------------------
+r1426 | fabricecolin | 2008-12-01 21:16:35 +0800 (Mon, 01 Dec 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/DaemonState.h
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.h
+   M /trunk/UI/GTK2/src/mainWindow.cc
+
+Identify threads spawned by DBusServlet by their ID.
+In mainWindow, use mktemp() if mkstemp() isn't available.
+
+------------------------------------------------------------------------
+r1425 | fabricecolin | 2008-12-01 21:01:09 +0800 (Mon, 01 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/ModuleFactory.cpp
+   M /trunk/IndexSearch/Xapian/LanguageDetector.cpp
+   M /trunk/Tokenize/FilterUtils.cpp
+   M /trunk/Utils/Document.cpp
+   M /trunk/Utils/TimeConverter.cpp
+   M /trunk/Utils/unac/unac.c
+
+Portability fixes, brought up when compiling with MingW.
+
+------------------------------------------------------------------------
+r1424 | fabricecolin | 2008-12-01 20:57:36 +0800 (Mon, 01 Dec 2008) | 2 lines
+Changed paths:
+   M /trunk/Collect/Makefile.am
+   M /trunk/IndexSearch/Makefile.am
+   M /trunk/IndexSearch/Xapian/Makefile.am
+   M /trunk/IndexSearch/XesamGLib/Makefile.am
+   M /trunk/Monitor/Makefile.am
+   M /trunk/SQL/Makefile.am
+   M /trunk/Tokenize/Makefile.am
+   M /trunk/UI/GTK2/src/Makefile.am
+   M /trunk/Utils/Makefile.am
+
+Use MISC_CFLAGS not VISIB_CFLAGS.
+
+------------------------------------------------------------------------
+r1423 | fabricecolin | 2008-12-01 20:56:07 +0800 (Mon, 01 Dec 2008) | 7 lines
+Changed paths:
+   M /trunk/configure.in
+
+If textcat.h can't be found, we'll have to do without.
+Look for the library pthreadGCE2 if others can't be found.
+The test for GIO can be disabled with --enable-gio=yes/no.
+Substitute MISC_CFLAGS in Makefile's.
+Check for the dlfcn.h header, and the functions gmtime_r(), localtime_r(),
+strptime() and mkstemp().
+
+------------------------------------------------------------------------
+r1422 | fabricecolin | 2008-11-30 18:09:54 +0800 (Sun, 30 Nov 2008) | 3 lines
+Changed paths:
+   M /trunk/Makefile.am
+   M /trunk/pinot-dbus-daemon.desktop
+   A /trunk/pinot-prefs.desktop
+   M /trunk/pinot.desktop
+
+Intall pinot-prefs.desktop, which creates a menu entry in system preferences.
+ALl .desktop files have "Encoding=UTF-8".
+
+------------------------------------------------------------------------
+r1421 | fabricecolin | 2008-11-30 18:07:50 +0800 (Sun, 30 Nov 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ResultsTree.cpp
+
+If a group is empty, add a "No results" child.
+
+------------------------------------------------------------------------
+r1420 | fabricecolin | 2008-11-30 18:05:33 +0800 (Sun, 30 Nov 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+
+Larger default blacklist.
+In loadEngineChannels(), create entries in m_engineChannels if necessary.
+
+------------------------------------------------------------------------
+r1419 | fabricecolin | 2008-11-22 13:58:42 +0800 (Sat, 22 Nov 2008) | 5 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+   M /trunk/UI/GTK2/src/pinot.cc
+   M /trunk/UI/GTK2/src/prefsWindow.cc
+
+Use the new PinotSettings::load() to load all settings.
+In pinot, each window is responsible for saving its own settings when closing.
+The main window saves its part before opening the preferences window as the
+daemon may subsequently reload all the settings.
+
+------------------------------------------------------------------------
+r1418 | fabricecolin | 2008-11-22 13:53:32 +0800 (Sat, 22 Nov 2008) | 5 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.h
+
+Split the configuration file in two, one part being updated by preferences, and
+the other by the UI.
+The load() method now handles everything, including engines and their editable
+values.
+
+------------------------------------------------------------------------
+r1417 | fabricecolin | 2008-11-19 22:40:31 +0800 (Wed, 19 Nov 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/pinot.cc
+   M /trunk/UI/GTK2/src/prefsWindow.cc
+
+Log messages to pinot-prefs.log.
+Fixed exit after starting the daemon and/or setting labels.
+
+------------------------------------------------------------------------
+r1416 | fabricecolin | 2008-11-19 21:58:01 +0800 (Wed, 19 Nov 2008) | 3 lines
+Changed paths:
+   M /trunk/Makefile.am
+   M /trunk/pinot.spec.in
+   M /trunk/po/POTFILES.in
+
+Set pinot-prefs as a symlink to pinot, install scripts/bash/*.sh.
+POTFILES looks for the prefsWindow source.
+
+------------------------------------------------------------------------
+r1415 | fabricecolin | 2008-11-19 21:55:52 +0800 (Wed, 19 Nov 2008) | 5 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/Makefile.am
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.h
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/mainWindow.hh
+   M /trunk/UI/GTK2/src/pinot.cc
+
+Replaced prefsDialog with prefsWindow.
+Using the new option -p/--preferences, or starting the program as pinot-prefs,
+makes the UI open prefsWindow and exit.
+When the Session, Preferences menu is selected, pinot runs pinot-prefs.
+
+------------------------------------------------------------------------
+r1414 | fabricecolin | 2008-11-19 21:24:34 +0800 (Wed, 19 Nov 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/metase-gtk2.glade
+   D /trunk/UI/GTK2/src/prefsDialog.cc
+   D /trunk/UI/GTK2/src/prefsDialog.hh
+   D /trunk/UI/GTK2/src/prefsDialog_glade.cc
+   D /trunk/UI/GTK2/src/prefsDialog_glade.hh
+   A /trunk/UI/GTK2/src/prefsWindow.cc
+   A /trunk/UI/GTK2/src/prefsWindow.hh
+   A /trunk/UI/GTK2/src/prefsWindow_glade.cc
+   A /trunk/UI/GTK2/src/prefsWindow_glade.hh
+
+Preferences is now a separate, independant window.
+
+------------------------------------------------------------------------
+r1413 | fabricecolin | 2008-11-16 22:12:42 +0800 (Sun, 16 Nov 2008) | 4 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.xml
+
+The daemon'd better call loadSearchEngines() for Query to offer access to the
+same engines as the UI.
+Fixed typo in the XML description file.
+
+------------------------------------------------------------------------
+r1412 | fabricecolin | 2008-11-16 22:09:49 +0800 (Sun, 16 Nov 2008) | 4 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+   M /trunk/IndexSearch/pinot-search.cpp
+
+Added a -l/--locationnly parameter to pinot-search that makes it display only
+the results' location.
+In XapianEngine, XPATH: shouldn't be a boolean prefix.
+
+------------------------------------------------------------------------
+r1411 | fabricecolin | 2008-11-15 15:24:39 +0800 (Sat, 15 Nov 2008) | 3 lines
+Changed paths:
+   M /trunk/scripts/python/pinot-module.py
+
+Modified to use the new D-Bus method Query, instead of SimpleQuery.
+Be ready to catch AttributeError on set_snippet() (deskbar < v2.24).
+
+------------------------------------------------------------------------
+r1410 | fabricecolin | 2008-11-15 14:23:35 +0800 (Sat, 15 Nov 2008) | 4 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.h
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.xml
+
+Fixed default engine parameters supported by Query.
+If EngineQueryThread can't find the requested engine, it looks for a plugin
+that matches the given name and use that instead.
+
+------------------------------------------------------------------------
+r1409 | fabricecolin | 2008-11-15 11:59:05 +0800 (Sat, 15 Nov 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/OpenSearchParser.cpp
+   M /trunk/IndexSearch/PluginWebEngine.cpp
+   M /trunk/IndexSearch/PluginWebEngine.h
+   M /trunk/IndexSearch/SherlockParser.cpp
+   M /trunk/UI/GTK2/src/EnginesTree.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+
+Sorted out discrepancies between SearchPluginProperties ad ModuleProperties.
+
+------------------------------------------------------------------------
+r1408 | fabricecolin | 2008-11-13 23:01:48 +0800 (Thu, 13 Nov 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/Notebook.cpp
+   M /trunk/UI/GTK2/src/Notebook.h
+
+Show spelling suggestions above the results list. A close button hides them
+until other suggestions are available.
+
+------------------------------------------------------------------------
+r1407 | fabricecolin | 2008-11-11 22:33:04 +0800 (Tue, 11 Nov 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+
+LabelUpdateThread need not worry about updating My Web Pages' labels since they
+are exclusively pulled from My Documents.
+
+------------------------------------------------------------------------
+r1406 | fabricecolin | 2008-11-11 22:19:58 +0800 (Tue, 11 Nov 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/prefsDialog.cc
+   M /trunk/UI/GTK2/src/prefsDialog.hh
+
+Only make new labels editable, since existing labels can't be renamed.
+
+------------------------------------------------------------------------
+r1405 | fabricecolin | 2008-11-09 23:47:01 +0800 (Sun, 09 Nov 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/DaemonState.h
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+
+Provide reasonable defaults for Query's engine type and option.
+Some cosmetic changes.
+
+------------------------------------------------------------------------
+r1404 | fabricecolin | 2008-11-09 20:52:37 +0800 (Sun, 09 Nov 2008) | 6 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/DaemonState.h
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/ServerThreads.h
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.xml
+
+DBusServletInfo encapsulates information required to reply to D-Bus requests,
+and allows running another thread, for instance an EngineQueryThread to reply
+to queries.
+The D-Bus interface now includes a Query method similar to C. Scott Ananian's
+JournalQuery. This will eventually replace SimpleQuery.
+
+------------------------------------------------------------------------
+r1403 | fabricecolin | 2008-11-09 20:36:47 +0800 (Sun, 09 Nov 2008) | 2 lines
+Changed paths:
+   M /trunk/scripts/python/pinot-module.py
+
+Support for deskbar v2.24 snippets.
+
+------------------------------------------------------------------------
+r1402 | fabricecolin | 2008-11-08 12:00:11 +0800 (Sat, 08 Nov 2008) | 4 lines
+Changed paths:
+   M /trunk/AUTHORS
+   M /trunk/IndexSearch/DBusIndex.cpp
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+   M /trunk/IndexSearch/pinot-search.cpp
+
+Patches by C. Scott Ananian. Fix XapianEngine to get the results count estimate
+even when there are no matches left. Serialize results score over D-Bus. Add a
+"sort by date first" mode to pinot-search.
+
+------------------------------------------------------------------------
+r1401 | fabricecolin | 2008-11-02 17:11:04 +0800 (Sun, 02 Nov 2008) | 2 lines
+Changed paths:
+   D /trunk/Tokenize/Tokenizer.h
+
+This was obsoleted a long time ago.
+
+------------------------------------------------------------------------
+r1400 | fabricecolin | 2008-11-02 17:07:59 +0800 (Sun, 02 Nov 2008) | 5 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/DaemonState.h
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/ServerThreads.h
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+   M /trunk/UI/GTK2/src/statisticsDialog.cc
+
+Whenever metadata is updated through the DBus interface, the daemon updates the
+MetaDataBackup table. When reindexing occurs, the crawler re-applies all the
+metadata found there.
+Synced with recent changes to CrawlHistory.
+
+------------------------------------------------------------------------
+r1399 | fabricecolin | 2008-11-02 16:42:24 +0800 (Sun, 02 Nov 2008) | 2 lines
+Changed paths:
+   M /trunk/SQL/MetaDataBackup.cpp
+   M /trunk/SQL/MetaDataBackup.h
+   M /trunk/Utils/Document.cpp
+
+Fixed xattr.h check. Added MetaDataBackup::getItems().
+
+------------------------------------------------------------------------
+r1398 | fabricecolin | 2008-11-02 16:35:29 +0800 (Sun, 02 Nov 2008) | 2 lines
+Changed paths:
+   M /trunk/SQL/CrawlHistory.cpp
+   M /trunk/SQL/CrawlHistory.h
+
+Method getSourceItems() now takes a min/max range.
+
+------------------------------------------------------------------------
+r1397 | fabricecolin | 2008-11-02 14:16:41 +0800 (Sun, 02 Nov 2008) | 2 lines
+Changed paths:
+   M /trunk/Collect/FileCollector.cpp
+   M /trunk/Collect/FileCollector.h
+
+Test the document's MIME type after loading.
+
+------------------------------------------------------------------------
+r1396 | fabricecolin | 2008-11-02 14:11:49 +0800 (Sun, 02 Nov 2008) | 3 lines
+Changed paths:
+   M /trunk/Utils/Document.cpp
+
+In setDataFromFile(), look for extended attributes. At the moment, only the
+attribute user.mime_type is supported.
+
+------------------------------------------------------------------------
+r1395 | fabricecolin | 2008-11-01 22:52:37 +0800 (Sat, 01 Nov 2008) | 5 lines
+Changed paths:
+   M /trunk/SQL/Makefile.am
+   A /trunk/SQL/MetaDataBackup.cpp
+   A /trunk/SQL/MetaDataBackup.h
+   M /trunk/configure.in
+
+Check for the header attr/xattr.h.
+Build MetaDataBackup, a class that enables saving to and loading metadata from
+the database and/or filesystem extended attributes. The purpose is to allow
+the daemon to restore user-set metadata after reindexing.
+
+------------------------------------------------------------------------
+r1394 | fabricecolin | 2008-10-27 15:13:45 +0800 (Mon, 27 Oct 2008) | 2 lines
+Changed paths:
+   M /trunk/Utils/DocumentInfo.cpp
+   M /trunk/Utils/DocumentInfo.h
+
+Serialization methods can deal with all or only some properties.
+
+------------------------------------------------------------------------
+r1393 | fabricecolin | 2008-10-27 14:08:14 +0800 (Mon, 27 Oct 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/DBusIndex.cpp
+   M /trunk/IndexSearch/DBusIndex.h
+   M /trunk/IndexSearch/IndexInterface.h
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+   M /trunk/IndexSearch/Xapian/XapianIndex.h
+   M /trunk/UI/GTK2/src/ModelColumns.cpp
+   M /trunk/UI/GTK2/src/ModelColumns.h
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.h
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.xml
+   M /trunk/UI/GTK2/src/prefsDialog.cc
+   M /trunk/UI/GTK2/src/prefsDialog.hh
+
+Removing the seldom-used and more-trouble-than-it's-worth ability to rename
+labels.
+
+------------------------------------------------------------------------
+r1392 | fabricecolin | 2008-10-27 12:04:03 +0800 (Mon, 27 Oct 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianDatabase.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+   M /trunk/Utils/Url.h
+
+Cosmetic changes.
+
+------------------------------------------------------------------------
+r1391 | fabricecolin | 2008-10-27 12:02:01 +0800 (Mon, 27 Oct 2008) | 6 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/DaemonState.h
+   M /trunk/UI/GTK2/src/OnDiskHandler.cpp
+   M /trunk/UI/GTK2/src/OnDiskHandler.h
+   M /trunk/UI/GTK2/src/ServerThreads.cpp
+   M /trunk/UI/GTK2/src/ServerThreads.h
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.h
+
+The FileFound signal doesn't require a source label, the caller should set it
+on the document prior to emitting the signal.
+The DirectoryScanner thread inherits from Indexing and will index files as they
+are being found, unless the env var PINOT_DELEGATE_INDEXING is set to Y. I am
+enabling this by default, but this may change in the near future.
+
+------------------------------------------------------------------------
+r1390 | fabricecolin | 2008-10-27 11:43:12 +0800 (Mon, 27 Oct 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/queryDialog.cc
+
+Support for the path: filter.
+
+------------------------------------------------------------------------
+r1389 | fabricecolin | 2008-10-25 15:35:03 +0800 (Sat, 25 Oct 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+
+Index all components of the path to a file with the XPATH: prefix. At search
+time, this maps to the "path:" filter.
+
+------------------------------------------------------------------------
+r1388 | fabricecolin | 2008-10-21 22:35:21 +0800 (Tue, 21 Oct 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/statisticsDialog.cc
+   M /trunk/UI/GTK2/src/statisticsDialog.hh
+
+The daemon's status is retrieved in the background. The status window should no
+longer occasionally freeze.
+
+------------------------------------------------------------------------
+r1387 | fabricecolin | 2008-10-18 18:33:19 +0800 (Sat, 18 Oct 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/FilterWrapper.cpp
+   M /trunk/IndexSearch/FilterWrapper.h
+
+Added method reduceToText() and the ReducedAction class.
+
+------------------------------------------------------------------------
+r1386 | fabricecolin | 2008-10-15 21:46:31 +0800 (Wed, 15 Oct 2008) | 5 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/Notebook.cpp
+   M /trunk/UI/GTK2/src/Notebook.h
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/mainWindow.hh
+
+When a spelling suggestion is available, don't create a Corrected query right
+away. Instead, show suggestions below the results list, in a combobox labeled
+"Did you mean ?" and let the user choose which one he thinks is relevant and
+click the Yes button. Then create a new query, based on the original.
+
+------------------------------------------------------------------------
+r1385 | fabricecolin | 2008-10-11 18:24:34 +0800 (Sat, 11 Oct 2008) | 3 lines
+Changed paths:
+   M /trunk/Collect/CurlDownloader.cpp
+   M /trunk/Collect/CurlDownloader.h
+   M /trunk/Collect/DownloaderInterface.cpp
+   M /trunk/Collect/DownloaderInterface.h
+   M /trunk/Collect/NeonDownloader.cpp
+   M /trunk/Collect/NeonDownloader.h
+
+Reduced code duplication between the Neon and Curl downloaders.
+Added ability to do a POST.
+
+------------------------------------------------------------------------
+r1384 | fabricecolin | 2008-10-11 17:06:15 +0800 (Sat, 11 Oct 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/OpenSearchParser.cpp
+   M /trunk/IndexSearch/pinot-index.cpp
+
+Cosmetic changes mostly.
+In pinot-index, let closeAll() close stuff at exit time.
+
+------------------------------------------------------------------------
+r1383 | fabricecolin | 2008-10-11 16:35:26 +0800 (Sat, 11 Oct 2008) | 4 lines
+Changed paths:
+   M /trunk/Monitor/INotifyMonitor.cpp
+   M /trunk/Monitor/INotifyMonitor.h
+   M /trunk/Monitor/MonitorInterface.h
+
+New getLimit() method to get the maximum number of watches.
+INotifyMonitor will not attempt using more watches than available. If there are
+more than 8k, 1k is set aside for other applications.
+
+------------------------------------------------------------------------
+r1382 | fabricecolin | 2008-10-09 21:09:15 +0800 (Thu, 09 Oct 2008) | 5 lines
+Changed paths:
+   M /trunk/FAQ
+   M /trunk/Utils/MIMEScanner.cpp
+
+In MIMEScanner::getDefaultActionsForType(), if GIO is used, initialize the
+list with the default actions obtained with g_app_info_get_default_for_type()
+to make sure they are picked up first.
+Add an entry to the FAQ about this, using browsers and HTML docs as example.
+
+------------------------------------------------------------------------
+r1381 | fabricecolin | 2008-10-05 16:58:20 +0800 (Sun, 05 Oct 2008) | 3 lines
+Changed paths:
+   M /trunk/AUTHORS
+   M /trunk/Monitor/INotifyMonitor.cpp
+   M /trunk/Monitor/Makefile.am
+   D /trunk/Monitor/linux-inotify-syscalls.h
+   M /trunk/configure.in
+
+A patch by Adrian Bunk to fix inotify support.
+More information on this topic at http://lkml.org/lkml/2008/9/16/79
+
+------------------------------------------------------------------------
+r1380 | fabricecolin | 2008-10-01 17:35:54 +0800 (Wed, 01 Oct 2008) | 4 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.h
+
+Don't rely on the size of m_indexNames for IDs assigned to indexes; that list
+may grow or shrink while Pinot is running and that messed things up, eg the
+retrieval from history and the display of abstracts.
+
+------------------------------------------------------------------------
+r1379 | fabricecolin | 2008-10-01 17:33:13 +0800 (Wed, 01 Oct 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/AbstractGenerator.cpp
+
+Record the position of all terms not just the first m_maxSeedTerm to ensure all
+terms are highlighted in the abstract. 
+
+------------------------------------------------------------------------
+r1378 | fabricecolin | 2008-09-30 21:54:07 +0800 (Tue, 30 Sep 2008) | 2 lines
+Changed paths:
+   M /trunk/Utils/TimeConverter.cpp
+
+The conversion specifier %z is a GNU extension to strftime().
+
+------------------------------------------------------------------------
+r1376 | fabricecolin | 2008-09-20 16:48:42 +0800 (Sat, 20 Sep 2008) | 2 lines
+Changed paths:
+   M /trunk/ChangeLog
+   M /trunk/ChangeLog-dijon
+
+Current logs.
+
+------------------------------------------------------------------------
 r1375 | fabricecolin | 2008-09-20 16:45:49 +0800 (Sat, 20 Sep 2008) | 2 lines
 Changed paths:
    M /trunk/NEWS



From fabricecolin at mail.berlios.de  Wed Jan 28 15:51:57 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Wed, 28 Jan 2009 15:51:57 +0100
Subject: [Pinot-svn] r1526 - tags
Message-ID: <200901281451.n0SEpvZA016897@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-28 15:51:49 +0100 (Wed, 28 Jan 2009)
New Revision: 1526

Added:
   tags/version_0_9_0/
Log:
Releasing v0.90.


Copied: tags/version_0_9_0 (from rev 1525, trunk)



From fabricecolin at mail.berlios.de  Fri Jan 30 15:53:52 2009
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 30 Jan 2009 15:53:52 +0100
Subject: [Pinot-svn] r1527 - trunk/UI/GTK2/src
Message-ID: <200901301453.n0UErqmV000544@sheep.berlios.de>

Author: fabricecolin
Date: 2009-01-30 15:53:45 +0100 (Fri, 30 Jan 2009)
New Revision: 1527

Modified:
   trunk/UI/GTK2/src/mainWindow.cc
Log:
When a spelling suggestion is selected, don't fail if the query can't be found.
This fixes the bug where nothing happens when the suggestion is on Live query.


Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2009-01-28 14:51:49 UTC (rev 1526)
+++ trunk/UI/GTK2/src/mainWindow.cc	2009-01-30 14:53:45 UTC (rev 1527)
@@ -1831,19 +1831,21 @@
 //
 void mainWindow::on_suggestQueryButton_clicked(ustring queryName, ustring queryText)
 {
+	QueryProperties queryProps;
+
 	// Find the query
 	const std::map<string, QueryProperties> &queriesMap = m_settings.getQueries();
 	std::map<string, QueryProperties>::const_iterator queryIter = queriesMap.find(queryName);
 	if (queryIter != queriesMap.end())
 	{
-		QueryProperties queryProps(queryIter->second);
-
+		queryProps = queryIter->second;
 		queryProps.setName("");
-		queryProps.setFreeQuery(queryText);
-		queryProps.setModified(true);
+	}
 
-		edit_query(queryProps, true);
-	}
+	queryProps.setFreeQuery(queryText);
+	queryProps.setModified(true);
+
+	edit_query(queryProps, true);
 }
 
 //



