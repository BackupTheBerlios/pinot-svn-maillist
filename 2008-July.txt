From fabricecolin at mail.berlios.de  Sun Jul  6 15:03:32 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 6 Jul 2008 15:03:32 +0200
Subject: [Pinot-svn] r1291 - in trunk/IndexSearch: . XesamGLib
Message-ID: <200807061303.m66D3W5Z014578@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-06 15:03:23 +0200 (Sun, 06 Jul 2008)
New Revision: 1291

Added:
   trunk/IndexSearch/XesamGLib/ModuleExports.cpp
Modified:
   trunk/IndexSearch/ModuleFactory.cpp
   trunk/IndexSearch/ModuleFactory.h
Log:
Backends that are search-only don't need to export index-related functions.


Modified: trunk/IndexSearch/ModuleFactory.cpp
===================================================================
--- trunk/IndexSearch/ModuleFactory.cpp	2008-06-28 12:34:01 UTC (rev 1290)
+++ trunk/IndexSearch/ModuleFactory.cpp	2008-07-06 13:03:23 UTC (rev 1291)
@@ -60,10 +60,44 @@
 using std::string;
 using std::map;
 using std::set;
+using std::pair;
 
-map<string, string> ModuleFactory::m_types;
-map<string, void *> ModuleFactory::m_handles;
+LoadableModule::LoadableModule(const string &type, const string &location,
+	void *pHandle) :
+	m_type(type),
+	m_location(location),
+	m_canSearch(false),
+	m_canIndex(false),
+	m_pHandle(pHandle)
+{
+}
 
+LoadableModule::LoadableModule(const LoadableModule &other) :
+	m_type(other.m_type),
+	m_location(other.m_location),
+	m_canSearch(other.m_canSearch),
+	m_canIndex(other.m_canIndex),
+	m_pHandle(other.m_pHandle)
+{
+}
+
+LoadableModule::~LoadableModule()
+{
+}
+
+LoadableModule &LoadableModule::operator=(const LoadableModule &other)
+{
+	m_type = other.m_type;
+	m_location = other.m_location;
+	m_canSearch = other.m_canSearch;
+	m_canIndex = other.m_canIndex;
+	m_pHandle = other.m_pHandle;
+
+	return *this;
+}
+
+map<string, LoadableModule> ModuleFactory::m_types;
+
 ModuleFactory::ModuleFactory()
 {
 }
@@ -74,21 +108,15 @@
 
 IndexInterface *ModuleFactory::getLibraryIndex(const string &type, const string &option)
 {
-	void *pHandle = NULL;
-
-	map<string, string>::iterator typeIter = m_types.find(type);
-	if (typeIter == m_types.end())
+	map<string, LoadableModule>::iterator typeIter = m_types.find(type);
+	if ((typeIter == m_types.end()) ||
+		(typeIter->second.m_canIndex == false))
 	{
-		// We don't know about this type
-		return NULL;
+		// We don't know about this type, or doesn't support indexes
+		return false;
 	}
-	map<string, void *>::iterator handleIter = m_handles.find(typeIter->second);
-	if (handleIter == m_handles.end())
-	{
-		// We don't know about this library
-		return NULL;
-	}
-	pHandle = handleIter->second;
+
+	void *pHandle = typeIter->second.m_pHandle;
 	if (pHandle == NULL)
 	{
 		return NULL;
@@ -109,21 +137,14 @@
 
 SearchEngineInterface *ModuleFactory::getLibrarySearchEngine(const string &type, const string &option)
 {
-	void *pHandle = NULL;
-
-	map<string, string>::iterator typeIter = m_types.find(type);
+	map<string, LoadableModule>::iterator typeIter = m_types.find(type);
 	if (typeIter == m_types.end())
 	{
 		// We don't know about this type
 		return NULL;
 	}
-	map<string, void *>::iterator handleIter = m_handles.find(typeIter->second);
-	if (handleIter == m_handles.end())
-	{
-		// We don't know about this library
-		return NULL;
-	}
-	pHandle = handleIter->second;
+
+	void *pHandle = typeIter->second.m_pHandle;
 	if (pHandle == NULL)
 	{
 		return NULL;
@@ -202,14 +223,30 @@
 					if (pTypeFunc != NULL)
 					{
 						string moduleType((*pTypeFunc)());
+						LoadableModule module(moduleType, fileName, pHandle);
 
+						// Can it search ?
+						getSearchEngineFunc *pSearchFunc = (getSearchEngineFunc *)dlsym(pHandle,
+							GETSEARCHENGINEFUNC);
+						if (pSearchFunc != NULL)
+						{
+							module.m_canSearch = true;
+						}
+
+						// Can it index ?
+						getIndexFunc *pIndexFunc = (getIndexFunc *)dlsym(pHandle,
+							GETINDEXFUNC);
+						if (pIndexFunc != NULL)
+						{
+							module.m_canIndex = true;
+						}
+
 						// Add a record for this module
-						m_types[moduleType] = fileName;
+						m_types.insert(pair<string, LoadableModule>(moduleType, module));
 #ifdef DEBUG
 						cout << "ModuleFactory::loadModules: type " << moduleType
 							<< " is supported by " << pEntryName << endl;
 #endif
-						m_handles[fileName] = pHandle;
 					}
 					else cerr << "ModuleFactory::loadModules: " << dlerror() << endl;
 				}
@@ -232,21 +269,15 @@
 bool ModuleFactory::openOrCreateIndex(const string &type, const string &option,
 	bool &obsoleteFormat, bool readOnly, bool overwrite)
 {
-	void *pHandle = NULL;
-
-	map<string, string>::iterator typeIter = m_types.find(type);
-	if (typeIter == m_types.end())
+	map<string, LoadableModule>::iterator typeIter = m_types.find(type);
+	if ((typeIter == m_types.end()) ||
+		(typeIter->second.m_canIndex == false))
 	{
-		// We don't know about this type
+		// We don't know about this type, or doesn't support indexes
 		return false;
 	}
-	map<string, void *>::iterator handleIter = m_handles.find(typeIter->second);
-	if (handleIter == m_handles.end())
-	{
-		// We don't know about this library
-		return false;
-	}
-	pHandle = handleIter->second;
+
+	void *pHandle = typeIter->second.m_pHandle;
 	if (pHandle == NULL)
 	{
 		return false;
@@ -268,21 +299,15 @@
 bool ModuleFactory::mergeIndexes(const string &type, const string &option0,
 	const string &option1, const string &option2)
 {
-	void *pHandle = NULL;
-
-	map<string, string>::iterator typeIter = m_types.find(type);
-	if (typeIter == m_types.end())
+	map<string, LoadableModule>::iterator typeIter = m_types.find(type);
+	if ((typeIter == m_types.end()) ||
+		(typeIter->second.m_canIndex == false))
 	{
-		// We don't know about this type
+		// We don't know about this type, or doesn't support indexes
 		return false;
 	}
-	map<string, void *>::iterator handleIter = m_handles.find(typeIter->second);
-	if (handleIter == m_handles.end())
-	{
-		// We don't know about this library
-		return false;
-	}
-	pHandle = handleIter->second;
+
+	void *pHandle = typeIter->second.m_pHandle;
 	if (pHandle == NULL)
 	{
 		return false;
@@ -390,7 +415,7 @@
 	engines["googleapi"] = false;
 #endif
 	// Library-handled engines
-	for (map<string, string>::iterator typeIter = m_types.begin();
+	for (map<string, LoadableModule>::iterator typeIter = m_types.begin();
 		typeIter != m_types.end(); ++typeIter)
 	{
 		engines[typeIter->first] = true;
@@ -401,33 +426,49 @@
 {
 	if (asIndex == true)
 	{
-		// Only backends implement access to index
-		if (m_types.find(type) != m_types.end())
+		// Only backends implement index functionality
+		map<string, LoadableModule>::const_iterator typeIter = m_types.find(type);
+		if (typeIter != m_types.end())
 		{
-			return true;
+			return typeIter->second.m_canIndex;
 		}
+
+		return false;
 	}
-	else if (
+
+	if (
 #ifdef HAVE_GOOGLEAPI
 		(type == "googleapi") ||
 #endif
 #ifdef HAVE_BOOST_SPIRIT
 		(type == "sherlock") ||
 #endif
-		(type == "opensearch") ||
-		(m_types.find(type) != m_types.end()))
+		(type == "opensearch"))
 	{
 		return true;
 	}
+	else
+	{
+		// Does this backend implement search functionality ?
+		map<string, LoadableModule>::const_iterator typeIter = m_types.find(type);
+		if (typeIter != m_types.end())
+		{
+			return typeIter->second.m_canSearch;
+		}
+	}
 
 	return false;	
 }
 
 void ModuleFactory::unloadModules(void)
 {
-	for (map<string, void*>::iterator iter = m_handles.begin(); iter != m_handles.end(); ++iter)
+	for (map<string, LoadableModule>::iterator typeIter = m_types.begin(); typeIter != m_types.end(); ++typeIter)
 	{
-		void *pHandle = iter->second;
+		void *pHandle = typeIter->second.m_pHandle;
+		if (pHandle == NULL)
+		{
+			continue;
+		}
 
 		closeAllFunc *pFunc = (closeAllFunc *)dlsym(pHandle, CLOSEALLFUNC);
 		if (pFunc != NULL)
@@ -441,12 +482,11 @@
 		if (dlclose(pHandle) != 0)
 		{
 #ifdef DEBUG
-			cout << "ModuleFactory::unloadModules: failed on " << iter->first << endl;
+			cout << "ModuleFactory::unloadModules: failed on " << typeIter->first << endl;
 #endif
 		}
 	}
 
 	m_types.clear();
-	m_handles.clear();
 }
 

Modified: trunk/IndexSearch/ModuleFactory.h
===================================================================
--- trunk/IndexSearch/ModuleFactory.h	2008-06-28 12:34:01 UTC (rev 1290)
+++ trunk/IndexSearch/ModuleFactory.h	2008-07-06 13:03:23 UTC (rev 1291)
@@ -25,6 +25,25 @@
 #include "IndexInterface.h"
 #include "SearchEngineInterface.h"
 
+/// Loadable module.
+class LoadableModule
+{
+	public:
+		LoadableModule(const std::string &type, const std::string &location,
+			void *pHandle);
+		LoadableModule(const LoadableModule &other);
+		virtual ~LoadableModule();
+
+		LoadableModule &operator=(const LoadableModule &other);
+
+		std::string m_type;
+		std::string m_location;
+		bool m_canSearch;
+		bool m_canIndex;
+		void *m_pHandle;
+
+};
+
 /// Factory for search engines.
 class ModuleFactory
 {
@@ -61,8 +80,7 @@
 		static void unloadModules(void);
 
 	protected:
-		static std::map<std::string, std::string> m_types;
-		static std::map<std::string, void *> m_handles;
+		static std::map<std::string, LoadableModule> m_types;
 
 		ModuleFactory();
 

Added: trunk/IndexSearch/XesamGLib/ModuleExports.cpp
===================================================================
--- trunk/IndexSearch/XesamGLib/ModuleExports.cpp	2008-06-28 12:34:01 UTC (rev 1290)
+++ trunk/IndexSearch/XesamGLib/ModuleExports.cpp	2008-07-06 13:03:23 UTC (rev 1291)
@@ -0,0 +1,47 @@
+/*
+ *  Copyright 2008 Fabrice Colin
+ *
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+ */
+
+#include <string>
+
+#include "config.h"
+#include "IndexInterface.h"
+#include "XesamEngine.h"
+
+using std::string;
+
+extern "C"
+{
+	string getModuleType(void);
+	SearchEngineInterface *getSearchEngine(const string &dbusObject);
+	void closeAll(void);
+}
+
+string getModuleType(void)
+{
+	return "xesam";
+}
+
+SearchEngineInterface *getSearchEngine(const string &dbusObject)
+{
+	return new XesamEngine(dbusObject);
+}
+
+void closeAll(void)
+{
+}
+



From fabricecolin at mail.berlios.de  Sun Jul  6 15:07:53 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 6 Jul 2008 15:07:53 +0200
Subject: [Pinot-svn] r1292 - trunk/IndexSearch/Xapian
Message-ID: <200807061307.m66D7reJ014986@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-06 15:07:46 +0200 (Sun, 06 Jul 2008)
New Revision: 1292

Modified:
   trunk/IndexSearch/Xapian/XapianEngine.cpp
Log:
The QueryModifier would sometimes append n-1 bytes of the last CJKV character.


Modified: trunk/IndexSearch/Xapian/XapianEngine.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianEngine.cpp	2008-07-06 13:03:23 UTC (rev 1291)
+++ trunk/IndexSearch/Xapian/XapianEngine.cpp	2008-07-06 13:07:46 UTC (rev 1292)
@@ -214,15 +214,9 @@
 					// It's a filter
 					m_wrap = NONE;
 					m_currentFilter = tok;
-#ifdef DEBUG
-					cout << "QueryModifier::handle_token: in filter" << endl;
-#endif
 				}
 				else
 				{
-#ifdef DEBUG
-					cout << "QueryModifier::handle_token: in brackets" << endl;
-#endif
 					m_wrap = BRACKETS;
 				}
 
@@ -231,9 +225,6 @@
 			}
 
 			// First n-gram ?
-#ifdef DEBUG
-			cout << "QueryModifier::handle_token: n-gram " << m_nGramCount << endl;
-#endif
 			if (m_nGramCount == 0)
 			{
 				if (tokPos == string::npos)
@@ -271,12 +262,11 @@
 			cout << "QueryModifier::handle_token: " << m_modifiedQuery << endl;
 #endif
 
-			++m_nGramCount;
-			if ((m_nGramCount % m_nGramSize == 0) &&
-				(tokPos != string::npos))
+			if (tokPos != string::npos)
 			{
 				m_pos = tokPos + tok.length();
 			}
+			++m_nGramCount;
 
 			return true;
 		}
@@ -286,9 +276,11 @@
 #ifdef DEBUG
 			cout << "QueryModifier::get_modified_query: " << m_pos << "/" << m_query.length() << endl;
 #endif
-			if (m_pos + 1 < m_query.length())
+
+			// Anything left ?
+			if (m_pos < m_query.length() - 1)
 			{
-				m_modifiedQuery += " " + m_query.substr(m_pos + 1);
+				m_modifiedQuery += " " + m_query.substr(m_pos);
 			}
 			wrapClose();
 #ifdef DEBUG



From fabricecolin at mail.berlios.de  Fri Jul 11 06:42:31 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 11 Jul 2008 06:42:31 +0200
Subject: [Pinot-svn] r1293 - trunk/IndexSearch/Xapian
Message-ID: <200807110442.m6B4gVZI023910@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-11 06:41:53 +0200 (Fri, 11 Jul 2008)
New Revision: 1293

Modified:
   trunk/IndexSearch/Xapian/XapianEngine.cpp
Log:
Skip very short non-CJKV terms when expanding queries.


Modified: trunk/IndexSearch/Xapian/XapianEngine.cpp
===================================================================
--- trunk/IndexSearch/Xapian/XapianEngine.cpp	2008-07-06 13:07:46 UTC (rev 1292)
+++ trunk/IndexSearch/Xapian/XapianEngine.cpp	2008-07-11 04:41:53 UTC (rev 1293)
@@ -739,6 +739,7 @@
 			// Get 10 non-prefixed terms
 			string allowedPrefixes("RS");
 			PrefixDecider expandDecider(allowedPrefixes);
+			CJKVTokenizer tokenizer;
 			Xapian::ESet expandTerms = enquire.get_eset(20, expandDocs, &expandDecider);
 #ifdef DEBUG
 			cout << "XapianEngine::queryDatabase: " << expandTerms.size() << " expand terms" << endl;
@@ -746,16 +747,23 @@
 			for (Xapian::ESetIterator termIter = expandTerms.begin();
 				(termIter != expandTerms.end()) && (count < 10); ++termIter)
 			{
-				char firstChar = (*termIter)[0];
+				string expandTerm(*termIter);
+				char firstChar = expandTerm[0];
 
-				if (allowedPrefixes.find(firstChar) != string::npos)
+				// Skip short terms
+				if ((tokenizer.has_cjkv(expandTerm) == false) &&
+					(expandTerm.length() < 3))
 				{
-					m_expandTerms.insert((*termIter).substr(1));
+					continue;
 				}
-				else
+
+				// Is this prefixed ?
+				if (allowedPrefixes.find(firstChar) != string::npos)
 				{
-					m_expandTerms.insert(*termIter);
+					expandTerm.erase(0, 1);
 				}
+
+				m_expandTerms.insert(expandTerm);
 				++count;
 			}
 		}



From fabricecolin at mail.berlios.de  Fri Jul 11 06:48:19 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 11 Jul 2008 06:48:19 +0200
Subject: [Pinot-svn] r1294 - trunk/UI/GTK2/src
Message-ID: <200807110448.m6B4mJK8030741@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-11 06:47:39 +0200 (Fri, 11 Jul 2008)
New Revision: 1294

Modified:
   trunk/UI/GTK2/src/importDialog.cc
   trunk/UI/GTK2/src/importDialog.hh
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/mainWindow.hh
Log:
Support for drag-n-drop.
Dropping text on the stored queries list will create a new query with this text,
while dropping files will generate a query to find similar documents in the
indexes. If necessary, these files are indexed in My Web Pages.
Files can be dropped on the import dialog's location field too.


Modified: trunk/UI/GTK2/src/importDialog.cc
===================================================================
--- trunk/UI/GTK2/src/importDialog.cc	2008-07-11 04:41:53 UTC (rev 1293)
+++ trunk/UI/GTK2/src/importDialog.cc	2008-07-11 04:47:39 UTC (rev 1294)
@@ -23,6 +23,7 @@
 #include <utility>
 #include <glibmm/convert.h>
 #include <gtkmm/stock.h>
+#include <gtkmm/targetlist.h>
 
 #include "config.h"
 #include "DocumentInfo.h"
@@ -36,6 +37,7 @@
 
 using namespace std;
 using namespace Glib;
+using namespace Gdk;
 using namespace Gtk;
 
 importDialog::importDialog() :
@@ -51,6 +53,13 @@
 	m_refLocationCompletion->set_popup_completion(true);
 	locationEntry->set_completion(m_refLocationCompletion);
 
+	// Specify drop targets
+	locationEntry->drag_dest_set(Gtk::DEST_DEFAULT_ALL, DragAction(GDK_ACTION_COPY|GDK_ACTION_MOVE));
+	locationEntry->drag_dest_add_uri_targets();
+	// Connect to the drag data received signal
+	locationEntry->signal_drag_data_received().connect(
+		sigc::mem_fun(*this, &importDialog::on_data_received));
+
 	// Populate
 	populate_comboboxes();
 
@@ -68,6 +77,25 @@
 	return m_docInfo;
 }
 
+void importDialog::on_data_received(const RefPtr<DragContext> &context,
+	int x, int y, const SelectionData &data, guint info, guint time)
+{
+	list<ustring> droppedUris = data.get_uris();
+	bool goodDrop = false;
+
+	cout << "importDialog::on_data_received: data type "
+		<< data.get_data_type() << " in format " << data.get_format() << endl;
+
+	if (droppedUris.empty() == false)
+	{
+		locationEntry->set_text(droppedUris.front());
+
+		goodDrop = true;
+	}
+
+	context->drag_finish(goodDrop, false, time);
+}
+
 void importDialog::populate_comboboxes(void)
 {
 	labelNameCombobox->append_text(_("None"));

Modified: trunk/UI/GTK2/src/importDialog.hh
===================================================================
--- trunk/UI/GTK2/src/importDialog.hh	2008-07-11 04:41:53 UTC (rev 1293)
+++ trunk/UI/GTK2/src/importDialog.hh	2008-07-11 04:47:39 UTC (rev 1294)
@@ -45,6 +45,8 @@
 	unsigned int m_locationLength;
 	DocumentInfo m_docInfo;
 
+	void on_data_received(const Glib::RefPtr<Gdk::DragContext> &context,
+		int x, int y, const Gtk::SelectionData &data, guint info, guint time);
 	void populate_comboboxes(void);
 
 	virtual void on_importButton_clicked();

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2008-07-11 04:41:53 UTC (rev 1293)
+++ trunk/UI/GTK2/src/mainWindow.cc	2008-07-11 04:47:39 UTC (rev 1294)
@@ -34,6 +34,7 @@
 #include <gtkmm/scrolledwindow.h>
 #include <gtkmm/clipboard.h>
 #include <gtkmm/recentmanager.h>
+#include <gtkmm/targetlist.h>
 #include <gtkmm/main.h>
 
 #include "config.h"
@@ -179,6 +180,19 @@
 	// Connect to the "changed" signal
 	queryTreeview->get_selection()->signal_changed().connect(
 		sigc::mem_fun(*this, &mainWindow::on_queryTreeviewSelection_changed));
+
+	// Specify drop targets
+	queryTreeview->drag_dest_set(Gtk::DEST_DEFAULT_ALL, DragAction(GDK_ACTION_COPY|GDK_ACTION_MOVE));
+	// FIXME: this causes some text files to be received as text, others as URIs !
+	//queryTreeview->drag_dest_add_text_targets();
+	queryTreeview->drag_dest_add_uri_targets();
+	RefPtr<TargetList> targetList = queryTreeview->drag_dest_get_target_list();
+	targetList->add("UTF8_STRING", TargetFlags(0), 0);
+	targetList->add("text/plain", TargetFlags(0), 0);
+	// Connect to the drag data received signal
+	queryTreeview->signal_drag_data_received().connect(
+		sigc::mem_fun(*this, &mainWindow::on_data_received));
+
 	// Populate
 	populate_queryTreeview("");
 
@@ -599,23 +613,83 @@
 }
 
 //
-// Query list selection changed
+// Drag and drop
 //
-void mainWindow::on_queryTreeviewSelection_changed()
+void mainWindow::on_data_received(const RefPtr<DragContext> &context,
+	int x, int y, const SelectionData &data, guint info, guint time)
 {
-	bool enableButtons = false;
+	list<ustring> droppedUris = data.get_uris();
+	ustring droppedText(data.get_text());
+	bool goodDrop = false;
 
-	TreeModel::iterator iter = queryTreeview->get_selection()->get_selected();
-	// Anything selected ?
-	if (iter)
+	cout << "mainWindow::on_data_received: data type "
+		<< data.get_data_type() << " in format " << data.get_format() << endl;
+
+	if (droppedUris.empty() == false)
 	{
-		// Enable all buttons
-		enableButtons = true;
+		IndexInterface *pIndex = m_settings.getIndex("MERGED");
+		set<string> locationsToIndex;
+		bool isIndexing = true;
+
+		for (list<ustring>::iterator uriIter = droppedUris.begin();
+			uriIter != droppedUris.end(); ++uriIter)
+		{
+			string uri(*uriIter);
+
+			cout << "mainWindow::on_data_received: received URI \""
+				<< uri << "\"" << endl; 
+
+			// Query the merged index
+			if (pIndex != NULL)
+			{
+				// Has this been indexed ?
+				unsigned int docId = pIndex->hasDocument(uri);
+				if (docId == 0)
+				{
+					locationsToIndex.insert(uri);
+				}
+			}
+
+			m_expandLocations.insert(uri);
+			goodDrop = true;
+		}
+
+		if (pIndex != NULL)
+		{
+			delete pIndex;
+		}
+
+		if (goodDrop == true)
+		{
+			for (set<string>::iterator locationIter = locationsToIndex.begin();
+				locationIter != locationsToIndex.end(); ++locationIter)
+			{
+				DocumentInfo docInfo("", *locationIter, "", "");
+
+				// Add this to My Web Pages
+				m_state.queue_index(docInfo);
+			}
+
+			if (locationsToIndex.empty() == true)
+			{
+				// We can run a catch-all query and expand on these documents right away
+				expand_locations();
+			}
+			// Else, do it when indexing is completed
+		}
 	}
+	else if (droppedText.empty() == false)
+	{
+		QueryProperties queryProps("", from_utf8(droppedText));
+		edit_query(queryProps, true);
 
-	removeQueryButton->set_sensitive(enableButtons);
-	queryHistoryButton->set_sensitive(enableButtons);
-	findQueryButton->set_sensitive(enableButtons);
+		cout << "mainWindow::on_data_received: received text \""
+			<< droppedText << "\"" << endl;
+
+		goodDrop = true;
+	}
+
+	context->drag_finish(goodDrop, false, time);
 }
 
 //
@@ -657,6 +731,26 @@
 }
 
 //
+// Query list selection changed
+//
+void mainWindow::on_queryTreeviewSelection_changed()
+{
+	bool enableButtons = false;
+
+	TreeModel::iterator iter = queryTreeview->get_selection()->get_selected();
+	// Anything selected ?
+	if (iter)
+	{
+		// Enable all buttons
+		enableButtons = true;
+	}
+
+	removeQueryButton->set_sensitive(enableButtons);
+	queryHistoryButton->set_sensitive(enableButtons);
+	findQueryButton->set_sensitive(enableButtons);
+}
+
+//
 // Results tree selection changed
 //
 void mainWindow::on_resultsTreeviewSelection_changed(ustring queryName)
@@ -1646,7 +1740,10 @@
 	delete pThread;;
 
 	// We might be able to run a queued action
-	m_state.pop_queue(indexedUrl);
+	if (m_state.pop_queue(indexedUrl) == false)
+	{
+		expand_locations();
+	}
 
 	// Any threads left to return ?
 	if (m_state.get_threads_count() == 0)
@@ -1820,9 +1917,7 @@
 				ResultsTree *pResultsTree = pResultsPage->getTree();
 				if (pResultsTree != NULL)
 				{
-					TreeView *pTree = pResultsTree->getExtractTree();
-					if ((pTree != NULL) &&
-						(pTree->is_focus() == true))
+					if (pResultsTree->focusOnExtract() == true)
 					{
 						// Retrieve the extract
 						text = pResultsTree->getExtract();
@@ -1916,8 +2011,7 @@
 		cout << "mainWindow::on_paste_activate: query tree" << endl;
 #endif
 		// Use whatever text is in the clipboard as query name
-		// FIXME: look for \n as query fields separators ?
-		QueryProperties queryProps = QueryProperties(from_utf8(clipText), from_utf8(clipText));
+		QueryProperties queryProps("", from_utf8(clipText));
 		edit_query(queryProps, true);
 	}
 	else
@@ -2694,7 +2788,7 @@
 {
 	// Even though live queries terms are now ANDed together,
 	// use them as OR terms when creating a new stored query
-	QueryProperties queryProps = QueryProperties("", liveQueryEntry->get_text());
+	QueryProperties queryProps("", liveQueryEntry->get_text());
 
 	edit_query(queryProps, true);
 }
@@ -2871,7 +2965,7 @@
 #endif
 
 			// Edit this query's properties
-			QueryProperties queryProps = row[m_queryColumns.m_properties];
+			QueryProperties queryProps(row[m_queryColumns.m_properties]);
 			edit_query(queryProps, false);
 		}
 	}
@@ -3609,6 +3703,31 @@
 	return true;
 }
 
+bool mainWindow::expand_locations(void)
+{
+	// Was an expand operation delayed by indexing ?
+	if (m_expandLocations.empty() == true)
+	{
+		return false;
+	}
+
+	Url urlObj(*m_expandLocations.begin());
+	string queryName(urlObj.getFile());
+
+	if (m_expandLocations.size() > 1)
+	{
+		queryName += "...";
+	}
+	QueryProperties queryProps(queryName, "dir:/");
+
+	// Run a catch-all query and expand on these documents
+	ExpandQueryThread *pExpandQueryThread = new ExpandQueryThread(queryProps, m_expandLocations);
+	m_expandLocations.clear();
+	start_thread(pExpandQueryThread);
+
+	return true;
+}
+
 //
 // Sets the status bar text.
 //

Modified: trunk/UI/GTK2/src/mainWindow.hh
===================================================================
--- trunk/UI/GTK2/src/mainWindow.hh	2008-07-11 04:41:53 UTC (rev 1293)
+++ trunk/UI/GTK2/src/mainWindow.hh	2008-07-11 04:47:39 UTC (rev 1294)
@@ -68,6 +68,8 @@
 		QueryProperties &queryProps, std::set<std::string> &locations);
 
 	// Handlers
+	void on_data_received(const Glib::RefPtr<Gdk::DragContext> &context,
+		int x, int y, const Gtk::SelectionData &data, guint info, guint time);
 	void on_enginesTreeviewSelection_changed();
 	void on_queryTreeviewSelection_changed();
 	void on_resultsTreeviewSelection_changed(Glib::ustring queryName);
@@ -142,6 +144,7 @@
 	bool append_document(IndexPage *pIndexPage, const Glib::ustring &indexName,
 		const DocumentInfo &docInfo);
 	bool start_thread(WorkerThread *pNewThread, bool inBackground = false);
+	bool expand_locations(void);
 
 	// Status methods
 	bool on_activity_timeout(void);
@@ -157,6 +160,7 @@
 	Glib::RefPtr<Gtk::EntryCompletion> m_refLiveQueryCompletion;
 	QueryModelColumns m_queryColumns;
 	Glib::RefPtr<Gtk::ListStore> m_refQueryTree;
+	std::set<std::string> m_expandLocations;
 	// Notebook
 	Gtk::Notebook *m_pNotebook;
 	// Menus



From fabricecolin at mail.berlios.de  Fri Jul 11 08:18:18 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 11 Jul 2008 08:18:18 +0200
Subject: [Pinot-svn] r1295 - trunk/UI/GTK2/src
Message-ID: <200807110618.m6B6IIoj017957@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-11 08:17:47 +0200 (Fri, 11 Jul 2008)
New Revision: 1295

Modified:
   trunk/UI/GTK2/src/ResultsTree.cpp
   trunk/UI/GTK2/src/ResultsTree.h
Log:
Use a TextView for extracts. This will allow dropping portions of the extract
in the queries list. A bold tag is applied to words to highlight.


Modified: trunk/UI/GTK2/src/ResultsTree.cpp
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.cpp	2008-07-11 04:47:39 UTC (rev 1294)
+++ trunk/UI/GTK2/src/ResultsTree.cpp	2008-07-11 06:17:47 UTC (rev 1295)
@@ -52,7 +52,7 @@
 	m_pResultsScrolledwindow(NULL),
 	m_settings(settings),
 	m_pExtractScrolledwindow(NULL),
-	m_extractTreeView(NULL),
+	m_extractTextView(NULL),
 	m_showExtract(true),
 	m_groupMode(groupMode)
 {
@@ -60,7 +60,7 @@
 
 	m_pResultsScrolledwindow = manage(new ScrolledWindow());
 	m_pExtractScrolledwindow = manage(new ScrolledWindow());
-	m_extractTreeView = manage(new TreeView());
+	m_extractTextView = manage(new TextView());
 
 	// This is the actual results tree
 	set_events(Gdk::BUTTON_PRESS_MASK);
@@ -79,20 +79,30 @@
 	m_pResultsScrolledwindow->add(*this);
 
 	// That's for the extract view
-	m_extractTreeView->set_events(Gdk::BUTTON_PRESS_MASK);
-	m_extractTreeView->set_flags(CAN_FOCUS);
-	m_extractTreeView->set_headers_clickable(false);
-	m_extractTreeView->set_headers_visible(false);
-	m_extractTreeView->set_rules_hint(true);
-	m_extractTreeView->set_reorderable(false);
-	m_extractTreeView->set_enable_search(true);
-	m_extractTreeView->get_selection()->set_mode(SELECTION_SINGLE);
+	m_extractTextView->set_flags(CAN_FOCUS);
+	m_extractTextView->set_editable(false);
+	m_extractTextView->set_cursor_visible(false);
+	m_extractTextView->set_pixels_above_lines(0);
+	m_extractTextView->set_pixels_below_lines(0);
+	m_extractTextView->set_pixels_inside_wrap(0);
+	m_extractTextView->set_left_margin(0);
+	m_extractTextView->set_right_margin(0);
+	m_extractTextView->set_indent(0);
+	m_extractTextView->set_wrap_mode(WRAP_WORD);
+	m_extractTextView->set_justification(JUSTIFY_LEFT);
+	RefPtr<TextTag> refBoldTag = TextBuffer::Tag::create("bold");
+	refBoldTag->property_weight() = 900;
+	RefPtr<TextBuffer> refBuffer = m_extractTextView->get_buffer();
+	if (refBuffer)
+	{
+		refBuffer->get_tag_table()->add(refBoldTag); 
+	}
 	m_pExtractScrolledwindow->set_flags(CAN_FOCUS);
 	m_pExtractScrolledwindow->set_border_width(4);
 	m_pExtractScrolledwindow->set_shadow_type(SHADOW_NONE);
 	m_pExtractScrolledwindow->set_policy(POLICY_AUTOMATIC, POLICY_AUTOMATIC);
 	m_pExtractScrolledwindow->property_window_placement().set_value(CORNER_TOP_LEFT);
-	m_pExtractScrolledwindow->add(*m_extractTreeView);
+	m_pExtractScrolledwindow->add(*m_extractTextView);
 
 	// Associate the columns model to the results tree
 	m_refStore = TreeStore::create(m_resultsColumns);
@@ -173,21 +183,10 @@
 	m_upIconPixbuf = render_icon(Stock::GO_UP, ICON_SIZE_MENU, "MetaSE-pinot");
 	m_downIconPixbuf = render_icon(Stock::GO_DOWN, ICON_SIZE_MENU, "MetaSE-pinot");
 
-	// Associate the columns model to the extract tree
-	m_refExtractStore = ListStore::create(m_extractColumns);
-	m_extractTreeView->set_model(m_refExtractStore);
-	pColumn = new TreeViewColumn(_("Extract"));
-	pTextRenderer = new CellRendererText();
-	pColumn->pack_start(*manage(pTextRenderer));
-	pColumn->set_cell_data_func(*pTextRenderer, sigc::mem_fun(*this, &ResultsTree::renderExtractColumn));
-	pColumn->add_attribute(pTextRenderer->property_text(), m_extractColumns.m_name);
-	pColumn->set_sizing(TREE_VIEW_COLUMN_AUTOSIZE);
-	m_extractTreeView->append_column(*manage(pColumn));
-
 	// Show all
 	show();
 	m_pResultsScrolledwindow->show();
-	m_extractTreeView->show();
+	m_extractTextView->show();
 	m_pExtractScrolledwindow->show();
 }
 
@@ -377,8 +376,11 @@
 		(m_groupMode != FLAT))
 	{
 		// Clear the extract
-		m_extractTreeView->get_selection()->unselect_all();
-		m_refExtractStore->clear();
+		RefPtr<TextBuffer> refBuffer = m_extractTextView->get_buffer();
+		if (refBuffer)
+		{
+			refBuffer->set_text("");
+		}
 
 		// Is this an actual result ?
 		ResultsModelColumns::RowType type = row[m_resultsColumns.m_resultType];
@@ -387,10 +389,42 @@
 #ifdef DEBUG
 			cout << "ResultsTree::onSelectionSelect: extract for " << row[m_resultsColumns.m_text] << endl;
 #endif
+			RefPtr<TextBuffer> refBuffer = m_extractTextView->get_buffer();
+			if (refBuffer)
+			{
+				ustring extract(findResultsExtract(row));
+				TextBuffer::iterator bufferPos = refBuffer->begin();
+				ustring::size_type textPos = 0, boldPos = extract.find("<b>");
 
-			TreeModel::iterator extractIter = m_refExtractStore->append();
-			TreeModel::Row extractRow = *extractIter;
-			extractRow[m_extractColumns.m_name] = findResultsExtract(row);
+				if (boldPos == ustring::npos)
+				{
+					refBuffer->set_text(extract);
+				}
+				else
+				{
+					while (boldPos != ustring::npos)
+					{
+						bufferPos = refBuffer->insert(bufferPos, extract.substr(textPos, boldPos - textPos));
+
+						textPos = boldPos + 3;
+						boldPos = extract.find("</b>", textPos);
+						if (boldPos == ustring::npos)
+						{
+							continue;
+						}
+						bufferPos = refBuffer->insert_with_tag(bufferPos, extract.substr(textPos, boldPos - textPos), "bold");
+
+						// Next
+						textPos = boldPos + 4;
+						boldPos = extract.find("<b>", textPos);
+					}
+
+					if (textPos + 1 < extract.length())
+					{
+						bufferPos = refBuffer->insert(bufferPos, extract.substr(textPos, boldPos - textPos));
+					}
+				}
+			}
 		}
 	}
 
@@ -428,9 +462,9 @@
 //
 // Returns the extract tree.
 //
-TreeView *ResultsTree::getExtractTree(void) const
+bool ResultsTree::focusOnExtract(void) const
 {
-	return m_extractTreeView;
+	return m_extractTextView->is_focus();
 }
 
 //
@@ -440,13 +474,10 @@
 {
 	ustring text;
 
-	TreeModel::Children children = m_refExtractStore->children();
-	for (TreeModel::Children::iterator iter = children.begin();
-		iter != children.end(); ++iter)
+	RefPtr<TextBuffer> refBuffer = m_extractTextView->get_buffer();
+	if (refBuffer)
 	{
-		TreeModel::Row row = *iter;
-
-		text += row[m_extractColumns.m_name];
+		text = refBuffer->get_text();
 	}
 
 	return text;
@@ -1208,8 +1239,11 @@
 		m_refStore->clear();
 
 		// Clear the extract
-		m_extractTreeView->get_selection()->unselect_all();
-		m_refExtractStore->clear();
+		RefPtr<TextBuffer> refBuffer = m_extractTextView->get_buffer();
+		if (refBuffer)
+		{
+			refBuffer->set_text("");
+		}
 
 		onSelectionChanged();
 	}

Modified: trunk/UI/GTK2/src/ResultsTree.h
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.h	2008-07-11 04:47:39 UTC (rev 1294)
+++ trunk/UI/GTK2/src/ResultsTree.h	2008-07-11 06:17:47 UTC (rev 1295)
@@ -31,7 +31,7 @@
 #include <gtkmm/menu.h>
 #include <gtkmm/scrolledwindow.h>
 #include <gtkmm/treestore.h>
-#include <gtkmm/liststore.h>
+#include <gtkmm/textview.h>
 #include <gtkmm/treeview.h>
 #include <gtkmm/treeselection.h>
 
@@ -53,8 +53,8 @@
 		/// Returns the extract scrolled window.
 		Gtk::ScrolledWindow *getExtractScrolledWindow(void) const;
 
-		/// Returns the extract tree.
-		Gtk::TreeView *getExtractTree(void) const;
+		/// Returns whether the extract text view has the focus.
+		bool focusOnExtract(void) const;
 
 		/// Returns the extract.
 		Glib::ustring getExtract(void) const;
@@ -126,8 +126,7 @@
 		std::map<std::string, Gtk::TreeModel::iterator> m_resultsGroups;
 		ResultsModelColumns m_resultsColumns;
 		Gtk::ScrolledWindow *m_pExtractScrolledwindow;
-		Gtk::TreeView *m_extractTreeView;
-		Glib::RefPtr<Gtk::ListStore> m_refExtractStore;
+		Gtk::TextView *m_extractTextView;
 		ComboModelColumns m_extractColumns;
 		bool m_showExtract;
 		GroupByMode m_groupMode;



From fabricecolin at mail.berlios.de  Fri Jul 11 08:21:20 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 11 Jul 2008 08:21:20 +0200
Subject: [Pinot-svn] r1296 - trunk
Message-ID: <200807110621.m6B6LKDm018306@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-11 08:21:03 +0200 (Fri, 11 Jul 2008)
New Revision: 1296

Modified:
   trunk/README
Log:
Clarify some inaccuracies.


Modified: trunk/README
===================================================================
--- trunk/README	2008-07-11 06:17:47 UTC (rev 1295)
+++ trunk/README	2008-07-11 06:21:03 UTC (rev 1296)
@@ -245,6 +245,7 @@
     * XML
     * mbox
     * MP3 and Ogg Vorbis
+    * JPEG
 
   The following document types are supported through external programs :
     * PDF (pdftotext required)
@@ -280,7 +281,7 @@
   related to these files.
 
   If you have never run Pinot before, the list will be pre-configured to skip
-  common picture and video types such as JPG, GIF, ZIP and MPG.
+  common picture, video and archive types such as GIF, MPG and ZIP.
 
 
 10. Digging deeper
@@ -485,7 +486,7 @@
 neon (1)						0.24.7
 http://www.webdav.org/neon/
 
-Google SOAP API (2)	Search/Google/googleapi		beta2
+Google SOAP API (2)	IndexSearch/Google/googleapi	beta2
 
  gSOAP (2)						2.7.9e
  http://www.cs.fsu.edu/~engelen/soap.html



From fabricecolin at mail.berlios.de  Sun Jul 13 15:47:53 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 13 Jul 2008 15:47:53 +0200
Subject: [Pinot-svn] r1297 - in trunk/IndexSearch: . Plugins
Message-ID: <200807131347.m6DDlrCG027139@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-13 15:46:53 +0200 (Sun, 13 Jul 2008)
New Revision: 1297

Added:
   trunk/IndexSearch/Plugins/YahooBOSS.src
Modified:
   trunk/IndexSearch/ModuleFactory.cpp
   trunk/IndexSearch/OpenSearchParser.cpp
   trunk/IndexSearch/OpenSearchParser.h
   trunk/IndexSearch/PluginParsers.h
   trunk/IndexSearch/PluginWebEngine.cpp
   trunk/IndexSearch/PluginWebEngine.h
   trunk/IndexSearch/Plugins/A9.src
   trunk/IndexSearch/Plugins/AmazonAPI.src
   trunk/IndexSearch/SearchPluginProperties.cpp
   trunk/IndexSearch/SearchPluginProperties.h
   trunk/IndexSearch/SherlockParser.cpp
   trunk/IndexSearch/SherlockParser.h
   trunk/IndexSearch/WebEngine.cpp
   trunk/IndexSearch/WebEngine.h
Log:
Plugins may define user-editable parameters by setting values to
EDIT:description. This is designed to let the user specify his/her own ID or
key for the Amazon API or the new Yahoo! BOSS API without having to edit
plugins.
For Sherlock plugins that don't specify a USER INPUT, append the query terms to
the action URL.
Always set input and output encodings, if defined, to UTF-8.


Modified: trunk/IndexSearch/ModuleFactory.cpp
===================================================================
--- trunk/IndexSearch/ModuleFactory.cpp	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/ModuleFactory.cpp	2008-07-13 13:46:53 UTC (rev 1297)
@@ -385,11 +385,11 @@
 #endif
 		(type == "opensearch"))
 	{
-		string name, channel;
+		SearchPluginProperties properties;
 
-		if (PluginWebEngine::getDetails(option, name, channel) == true)
+		if (PluginWebEngine::getDetails(option, properties) == true)
 		{
-			return name;
+			return properties.m_name;
 		}
 
 		return "";

Modified: trunk/IndexSearch/OpenSearchParser.cpp
===================================================================
--- trunk/IndexSearch/OpenSearchParser.cpp	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/OpenSearchParser.cpp	2008-07-13 13:46:53 UTC (rev 1297)
@@ -293,7 +293,7 @@
 }
 
 ResponseParserInterface *OpenSearchParser::parse(SearchPluginProperties &properties,
-	bool extractSearchParams)
+	bool minimal)
 {
 	struct stat fileStat;
 	bool rssResponse = true, success = true;
@@ -447,7 +447,7 @@
 								{
 									string paramName(parameter.substr(0, equalPos));
 									string paramValue(parameter.substr(equalPos + 1));
-									SearchPluginProperties::Parameter param = SearchPluginProperties::UNKNOWN_PARAM;
+									SearchPluginProperties::ParameterVariable param = SearchPluginProperties::UNKNOWN_PARAM;
 
 									if (paramValue == "{searchTerms}")
 									{
@@ -480,18 +480,29 @@
 
 									if (param != SearchPluginProperties::UNKNOWN_PARAM)
 									{
-										properties.m_parameters[param] = paramName;
+										properties.m_variableParameters[param] = paramName;
 									}
 									else
 									{
-										// Append to the remainder
-										if (properties.m_parametersRemainder.empty() == false)
+#ifdef DEBUG
+										cout << "OpenSearchParser::parse: " << paramName << "=" << paramValue << endl;
+#endif
+										if (paramValue.substr(0, 5) == "EDIT:")
 										{
-											properties.m_parametersRemainder += "&";
+											// This is user editable
+											properties.m_editableParameters[paramName] = paramValue.substr(5);
 										}
-										properties.m_parametersRemainder += paramName;
-										properties.m_parametersRemainder += "=";
-										properties.m_parametersRemainder += paramValue;
+										else
+										{
+											// Append to the remainder
+											if (properties.m_remainder.empty() == false)
+											{
+												properties.m_remainder += "&";
+											}
+											properties.m_remainder += paramName;
+											properties.m_remainder += "=";
+											properties.m_remainder += paramValue;
+										}
 									}
 								}
 
@@ -524,14 +535,6 @@
 				{
 					properties.m_languages.insert(nodeContent);
 				}
-				else if (nodeName == "OutputEncoding")
-				{
-					properties.m_outputEncodings.insert(nodeContent);
-				}
-				else if (nodeName == "InputEncoding")
-				{
-					properties.m_inputEncodings.insert(nodeContent);
-				}
 			}
 		}
 	}
@@ -551,7 +554,7 @@
 	// Scrolling
 	properties.m_nextIncrement = 1;
 	properties.m_nextBase = 1;
-	if (properties.m_parameters.find(SearchPluginProperties::START_PAGE_PARAM) != properties.m_parameters.end())
+	if (properties.m_variableParameters.find(SearchPluginProperties::START_PAGE_PARAM) != properties.m_variableParameters.end())
 	{
 		properties.m_scrolling = SearchPluginProperties::PER_PAGE;
 	}

Modified: trunk/IndexSearch/OpenSearchParser.h
===================================================================
--- trunk/IndexSearch/OpenSearchParser.h	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/OpenSearchParser.h	2008-07-13 13:46:53 UTC (rev 1297)
@@ -58,7 +58,7 @@
 
 		/// Parses the plugin and returns a response parser.
 		virtual ResponseParserInterface *parse(SearchPluginProperties &properties,
-			bool extractSearchParams = false);
+			bool minimal = false);
 
 	private:
 		OpenSearchParser(const OpenSearchParser &other);

Modified: trunk/IndexSearch/PluginParsers.h
===================================================================
--- trunk/IndexSearch/PluginParsers.h	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/PluginParsers.h	2008-07-13 13:46:53 UTC (rev 1297)
@@ -54,7 +54,7 @@
 
 		/// Parses the plugin and returns a response parser.
 		virtual ResponseParserInterface *parse(SearchPluginProperties &properties,
-			bool extractSearchParams = false) = 0;
+			bool minimal = false) = 0;
 
 	protected:
 		std::string m_fileName;

Modified: trunk/IndexSearch/PluginWebEngine.cpp
===================================================================
--- trunk/IndexSearch/PluginWebEngine.cpp	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/PluginWebEngine.cpp	2008-07-13 13:46:53 UTC (rev 1297)
@@ -169,7 +169,7 @@
 	return NULL;
 }
 
-bool PluginWebEngine::getDetails(const string &fileName, string &name, string &channel)
+bool PluginWebEngine::getDetails(const string &fileName, SearchPluginProperties &properties)
 {
 	if (fileName.empty() == true)
 	{
@@ -182,7 +182,6 @@
 		return false;
 	}
 
-	SearchPluginProperties properties;
 	ResponseParserInterface *pResponseParser = pParser->parse(properties, true);
 	if (pResponseParser == NULL)
 	{
@@ -204,9 +203,6 @@
 		return false;
 	}
 
-	name = properties.m_name;
-	channel = properties.m_channel;
-
 	return true;
 }
 
@@ -240,32 +236,69 @@
 		return false;
 	}
 
-	map<SearchPluginProperties::Parameter, string>::iterator paramIter = m_properties.m_parameters.find(SearchPluginProperties::SEARCH_TERMS_PARAM);
-	if (paramIter == m_properties.m_parameters.end())
+	string formattedQuery = m_properties.m_baseUrl;
+
+	map<SearchPluginProperties::ParameterVariable, string>::iterator paramIter = m_properties.m_variableParameters.find(SearchPluginProperties::SEARCH_TERMS_PARAM);
+	if (paramIter != m_properties.m_variableParameters.end())
 	{
+		formattedQuery += "?";
+		formattedQuery += paramIter->second;
+		formattedQuery += "=";
+	}
 #ifdef DEBUG
-		cout << "PluginWebEngine::runQuery: no user input tag" << endl;
+	else cout << "PluginWebEngine::runQuery: no user input tag" << endl;
 #endif
-		return false;
-	}
 
-	string userInputTag(paramIter->second);
-	string formattedQuery = m_properties.m_baseUrl;
-	formattedQuery += "?";
-	formattedQuery += userInputTag;
-	formattedQuery += "=";
 	formattedQuery += queryString;
-	if (m_properties.m_parametersRemainder.empty() == false)
+	if (m_properties.m_remainder.empty() == false)
 	{
 		formattedQuery += "&";
-		formattedQuery += m_properties.m_parametersRemainder;
+		formattedQuery += m_properties.m_remainder;
 	}
 
+	// Encodings ?
+	paramIter = m_properties.m_variableParameters.find(SearchPluginProperties::OUTPUT_ENCODING_PARAM);
+	if ((paramIter != m_properties.m_variableParameters.end()) &&
+		(paramIter->second.empty() == false))
+	{
+		// Output encoding
+		formattedQuery += "&";
+		formattedQuery += paramIter->second;
+		formattedQuery += "=UTF-8";
+	}
+	paramIter = m_properties.m_variableParameters.find(SearchPluginProperties::INPUT_ENCODING_PARAM);
+	if ((paramIter != m_properties.m_variableParameters.end()) &&
+		(paramIter->second.empty() == false))
+	{
+		// Input encoding
+		formattedQuery += "&";
+		formattedQuery += paramIter->second;
+		formattedQuery += "=UTF-8";
+	}
+
+	// Editable parameters ?
+	for (map<string, string>::const_iterator editableIter = m_properties.m_editableParameters.begin();
+		editableIter != m_properties.m_editableParameters.end(); ++editableIter)
+	{
+		map<string, string>::const_iterator valueIter = m_editableValues.find(editableIter->second);
+		if (valueIter == m_editableValues.end())
+		{
+			continue;
+		}
+#ifdef DEBUG
+		cout << "PluginWebEngine::runQuery: editable " << valueIter->first << " set to " << valueIter->second << endl;
+#endif
+
+		formattedQuery += "&";
+		formattedQuery += editableIter->first;
+		formattedQuery += "=";
+		formattedQuery += valueIter->second;
+	}
+
 	setQuery(queryProps);
 
 #ifdef DEBUG
-	cout << "PluginWebEngine::runQuery: querying "
-		<< m_properties.m_name << endl;
+	cout << "PluginWebEngine::runQuery: querying " << m_properties.m_name << endl;
 #endif
 	while (count < maxResultsCount)
 	{
@@ -274,8 +307,8 @@
 		// How do we scroll ?
 		if (m_properties.m_scrolling == SearchPluginProperties::PER_INDEX)
 		{
-			paramIter = m_properties.m_parameters.find(SearchPluginProperties::COUNT_PARAM);
-			if ((paramIter != m_properties.m_parameters.end()) &&
+			paramIter = m_properties.m_variableParameters.find(SearchPluginProperties::COUNT_PARAM);
+			if ((paramIter != m_properties.m_variableParameters.end()) &&
 				(paramIter->second.empty() == false))
 			{
 				// Number of results requested
@@ -286,8 +319,8 @@
 				pageQuery += countStr;
 			}
 
-			paramIter = m_properties.m_parameters.find(SearchPluginProperties::START_INDEX_PARAM);
-			if ((paramIter != m_properties.m_parameters.end()) &&
+			paramIter = m_properties.m_variableParameters.find(SearchPluginProperties::START_INDEX_PARAM);
+			if ((paramIter != m_properties.m_variableParameters.end()) &&
 				(paramIter->second.empty() == false))
 			{
 				// The offset of the first result (typically 1 or 0)
@@ -300,8 +333,8 @@
 		}
 		else
 		{
-			paramIter = m_properties.m_parameters.find(SearchPluginProperties::START_PAGE_PARAM);
-			if ((paramIter != m_properties.m_parameters.end()) &&
+			paramIter = m_properties.m_variableParameters.find(SearchPluginProperties::START_PAGE_PARAM);
+			if ((paramIter != m_properties.m_variableParameters.end()) &&
 				(paramIter->second.empty() == false))
 			{
 				// The offset of the page
@@ -343,6 +376,7 @@
 		}
 		count = m_resultsList.size();
 	}
+	m_resultsCountEstimate = m_resultsList.size();
 
 	return true;
 }

Modified: trunk/IndexSearch/PluginWebEngine.h
===================================================================
--- trunk/IndexSearch/PluginWebEngine.h	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/PluginWebEngine.h	2008-07-13 13:46:53 UTC (rev 1297)
@@ -16,8 +16,8 @@
  *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
  */
 
-#ifndef _XML_WEB_ENGINE_H
-#define _XML_WEB_ENGINE_H
+#ifndef _PLUGIN_WEB_ENGINE_H
+#define _PLUGIN_WEB_ENGINE_H
 
 #include <string>
 
@@ -33,7 +33,7 @@
 		virtual ~PluginWebEngine();
 
 		/// Utility method that returns a search plugin's name and channel.
-		static bool getDetails(const std::string &fileName, std::string &name, std::string &channel);
+		static bool getDetails(const std::string &fileName, SearchPluginProperties &properties);
 
 		/// Runs a query; true if success.
 		virtual bool runQuery(QueryProperties& queryProps,
@@ -55,4 +55,4 @@
 
 };
 
-#endif // _XML_WEB_ENGINE_H
+#endif // _PLUGIN_WEB_ENGINE_H

Modified: trunk/IndexSearch/Plugins/A9.src
===================================================================
--- trunk/IndexSearch/Plugins/A9.src	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/Plugins/A9.src	2008-07-13 13:46:53 UTC (rev 1297)
@@ -9,7 +9,7 @@
 	routeType="The Web"
 >
 
-<INPUT NAME="q" USER>
+# Append query terms to the action URL <INPUT NAME="" USER>
 <INPUT NAME="p" VALUE="0">
 # The next line sets pw to 1 + results_count/10
 <INPUTNEXT NAME="pw" FACTOR="1" VALUE="1">

Modified: trunk/IndexSearch/Plugins/AmazonAPI.src
===================================================================
--- trunk/IndexSearch/Plugins/AmazonAPI.src	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/Plugins/AmazonAPI.src	2008-07-13 13:46:53 UTC (rev 1297)
@@ -11,7 +11,7 @@
 
 <INPUT NAME="Service" VALUE="AWSECommerceService">
 # Edit this field's value to set to your subscription ID
-<INPUT NAME="SubscriptionId" VALUE="">
+<INPUT NAME="SubscriptionId" VALUE="EDIT:Amazon API ID">
 <INPUT NAME="Operation" VALUE="ItemSearch">
 <INPUT NAME="SearchIndex" VALUE="Blended">
 <INPUT NAME="Keywords" USER>

Added: trunk/IndexSearch/Plugins/YahooBOSS.src
===================================================================
--- trunk/IndexSearch/Plugins/YahooBOSS.src	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/Plugins/YahooBOSS.src	2008-07-13 13:46:53 UTC (rev 1297)
@@ -0,0 +1,34 @@
+# Yahoo! REST API Search Plugin
+
+<SEARCH
+	version="1.0"
+	name="Yahoo! BOSS"
+	description="Yahoo! BOSS API"
+	method="GET"
+	action="http://boss.yahooapis.com/ysearch/web/v1/"
+	routeType="The Web"
+>
+
+# Edit this field's value to set to your application ID
+<INPUT NAME="appid" VALUE="EDIT:Yahoo! Boss ID">
+# Append query terms to the action URL <INPUT NAME="" USER>
+<INPUT NAME="count" VALUE="10">
+<INPUT NAME="format" VALUE="xml">
+
+<INTERPRET
+resultListStart="<resultset_web"
+resultListEnd="</resultset_web>"
+resultItemStart="<result>"
+resultItemEnd="</result>"
+# The following attributes are specific to Pinot
+resultTitleStart="<title>"
+resultTitleEnd="</title>"
+resultLinkStart="<url>"
+resultLinkEnd="</url>"
+resultExtractStart="<abstract>"
+resultExtractEnd="</abstract>"
+>
+
+</SEARCH>
+
+

Modified: trunk/IndexSearch/SearchPluginProperties.cpp
===================================================================
--- trunk/IndexSearch/SearchPluginProperties.cpp	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/SearchPluginProperties.cpp	2008-07-13 13:46:53 UTC (rev 1297)
@@ -36,23 +36,18 @@
 	m_longName(other.m_longName),
 	m_description(other.m_description),
 	m_channel(other.m_channel),
+	m_languages(other.m_languages),
 	m_baseUrl(other.m_baseUrl),
 	m_method(other.m_method),
-	m_parametersRemainder(other.m_parametersRemainder),
+	m_variableParameters(other.m_variableParameters),
+	m_editableParameters(other.m_editableParameters),
+	m_remainder(other.m_remainder),
 	m_outputType(other.m_outputType),
 	m_scrolling(other.m_scrolling),
 	m_nextIncrement(other.m_nextIncrement),
 	m_nextBase(other.m_nextBase),
 	m_response(other.m_response)
 {
-	copy(other.m_languages.begin(), other.m_languages.end(),
-		inserter(m_languages, m_languages.begin()));
-	copy(other.m_outputEncodings.begin(), other.m_outputEncodings.end(),
-		inserter(m_outputEncodings, m_outputEncodings.begin()));
-	copy(other.m_inputEncodings.begin(), other.m_inputEncodings.end(),
-		inserter(m_inputEncodings, m_inputEncodings.begin()));
-	copy(other.m_parameters.begin(), other.m_parameters.end(),
-		inserter(m_parameters, m_parameters.begin()));
 }
 
 SearchPluginProperties::~SearchPluginProperties()
@@ -67,27 +62,17 @@
 		m_longName = other.m_longName;
 		m_description = other.m_description;
 		m_channel = other.m_channel;
+		m_languages = other.m_languages;
 		m_baseUrl = other.m_baseUrl;
 		m_method = other.m_method;
-		m_parametersRemainder = other.m_parametersRemainder;
+		m_variableParameters = other.m_variableParameters;
+		m_editableParameters = other.m_editableParameters;
+		m_remainder = other.m_remainder;
 		m_outputType = other.m_outputType;
 		m_scrolling = other.m_scrolling;
 		m_nextIncrement = other.m_nextIncrement;
 		m_nextBase = other.m_nextBase;
 		m_response = other.m_response;
-
-		m_languages.clear();
-		copy(other.m_languages.begin(), other.m_languages.end(),
-			inserter(m_languages, m_languages.begin()));
-		m_outputEncodings.clear();
-		copy(other.m_outputEncodings.begin(), other.m_outputEncodings.end(),
-			inserter(m_outputEncodings, m_outputEncodings.begin()));
-		m_inputEncodings.clear();
-		copy(other.m_inputEncodings.begin(), other.m_inputEncodings.end(),
-			inserter(m_inputEncodings, m_inputEncodings.begin()));
-		m_parameters.clear();
-		copy(other.m_parameters.begin(), other.m_parameters.end(),
-			inserter(m_parameters, m_parameters.begin()));
 	}
 
 	return *this;

Modified: trunk/IndexSearch/SearchPluginProperties.h
===================================================================
--- trunk/IndexSearch/SearchPluginProperties.h	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/SearchPluginProperties.h	2008-07-13 13:46:53 UTC (rev 1297)
@@ -39,7 +39,7 @@
 
 		typedef enum { UNKNOWN_PARAM = 0, SEARCH_TERMS_PARAM,
 			 COUNT_PARAM,START_INDEX_PARAM, START_PAGE_PARAM, LANGUAGE_PARAM,
-			OUTPUT_ENCODING_PARAM, INPUT_ENCODING_PARAM } Parameter;
+			OUTPUT_ENCODING_PARAM, INPUT_ENCODING_PARAM } ParameterVariable;
 
 		typedef enum { PER_PAGE = 0, PER_INDEX } Scrolling;
 
@@ -52,13 +52,12 @@
 		std::string m_description;
 		std::string m_channel;
 		std::set<std::string> m_languages;
-		std::set<std::string> m_outputEncodings;
-		std::set<std::string> m_inputEncodings;
 		// Query
 		std::string m_baseUrl;
 		Method m_method;
-		std::map<Parameter, std::string> m_parameters;
-		std::string m_parametersRemainder;
+		std::map<ParameterVariable, std::string> m_variableParameters;
+		std::map<std::string, std::string> m_editableParameters;
+		std::string m_remainder;
 		std::string m_outputType;
 		// Scrolling
 		Scrolling m_scrolling;

Modified: trunk/IndexSearch/SherlockParser.cpp
===================================================================
--- trunk/IndexSearch/SherlockParser.cpp	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/SherlockParser.cpp	2008-07-13 13:46:53 UTC (rev 1297)
@@ -84,61 +84,6 @@
 };
 
 /**
-  * A minimal grammar for Sherlock plugins.
-  * This only checks for the existence of the SEARCH tag.
-  * It is used to quickly extract SEARCH attributes.
-  */
-struct plugin_min_grammar : public grammar<plugin_min_grammar>
-{
-	 plugin_min_grammar(map<string, string> &searchParams) :
-		m_searchParams(searchParams)
-	{
-	}
-
-	template <typename ScannerT>
-	struct definition
-	{
-		definition(plugin_min_grammar const &self)
-		{
-			// Start
-			search_plugin = search_header >> rest;
-
-			// All items have a name and an optionally-quoted value, separated by =
-			end_of_name = ch_p('=');
-			any_name = *(~ch_p('>') - end_of_name);
-			any_value_without_quotes = lexeme_d[*(~ch_p('>') - ch_p('\n'))];
-			any_value = ch_p('\'') >> (*(~ch_p('\'')))[assign_a(unquotedValue)] >> ch_p('\'') |
-				ch_p('"') >> (*(~ch_p('"')))[assign_a(unquotedValue)] >> ch_p('"') |
-				any_value_without_quotes[assign_a(unquotedValue)];
-
-			// SEARCH attributes are items
-			// There should be only one SEARCH tag
-			search_item = (any_name[assign_a(itemName)]
-				>> ch_p('=') >> any_value[assign_a(itemValue, unquotedValue)])
-				[insert_at_a(self.m_searchParams, itemName, itemValue)];
-
-			// SEARCH may have any number of attributes
-			search_header = ch_p('<') >> as_lower_d[str_p("search")] >> *search_item >> ch_p('>');
-
-			// Rest
-			rest = *anychar_p;
-		}
-
-		string unquotedValue, itemName, itemValue;		
-		rule<ScannerT> search_plugin, search_header, rest;
-		rule<ScannerT> end_of_name, any_name, any_value_without_quotes, any_value, search_item;
-
-		rule<ScannerT> const& start() const
-		{
-			return search_plugin;
-		}
-	};
-
-	map<string, string> &m_searchParams;
-
-};
-
-/**
   * A complete but lax grammar for Sherlock plugins.
   * For instance, it doesn't mind if INPUT has a NAME but no VALUE.
   * More importantly, it doesn't enforce types, eg FACTOR should be an integer.
@@ -496,7 +441,7 @@
 }
 
 ResponseParserInterface *SherlockParser::parse(SearchPluginProperties &properties,
-	bool extractSearchParams)
+	bool minimal)
 {
 	FileCollector fileCollect;
 	DocumentInfo docInfo("Sherlock Source", string("file://") + m_fileName,
@@ -529,23 +474,12 @@
 	{
 		try
 		{
-			if (extractSearchParams == false)
-			{
-				plugin_skip_grammar skip;
-				plugin_grammar plugin(searchParams, interpretParams, inputItems,
-					userInput, nextInput, nextFactor, nextValue);
+			plugin_skip_grammar skip;
+			plugin_grammar plugin(searchParams, interpretParams, inputItems,
+				userInput, nextInput, nextFactor, nextValue);
 
-				parse_info<> parseInfo = boost::spirit::parse(pData, plugin, skip);
-				parsedPlugin = parseInfo.hit;
-			}
-			else
-			{
-				plugin_skip_grammar skip;
-				plugin_min_grammar plugin(searchParams);
-
-				parse_info<> parseInfo = boost::spirit::parse(pData, plugin, skip);
-				parsedPlugin = parseInfo.hit;
-			}
+			parse_info<> parseInfo = boost::spirit::parse(pData, plugin, skip);
+			parsedPlugin = parseInfo.hit;
 		}
 		catch (const exception &e)
 		{
@@ -609,40 +543,48 @@
 			properties.m_channel = mapIter->second;
 		}
 
-		if (extractSearchParams == false)
+		if (userInput.empty() == false)
 		{
-			if (userInput.empty() == false)
-			{
-				string lowUserInput(StringManip::toLowerCase(userInput));
+			string lowUserInput(StringManip::toLowerCase(userInput));
 
-				// Remove the user input tag from the input tags map
-				mapIter = lowInputItems.find(lowUserInput);
-				if (mapIter != lowInputItems.end())
-				{
-					lowInputItems.erase(mapIter);
-				}
+			// Remove the user input tag from the input tags map
+			mapIter = lowInputItems.find(lowUserInput);
+			if (mapIter != lowInputItems.end())
+			{
+				lowInputItems.erase(mapIter);
+			}
 #ifdef DEBUG
-				else cout << "SherlockParser::parse: couldn't remove user input item" << endl;
+			else cout << "SherlockParser::parse: couldn't remove user input item" << endl;
 #endif
 
-				properties.m_parameters[SearchPluginProperties::SEARCH_TERMS_PARAM] = lowUserInput;
+			properties.m_variableParameters[SearchPluginProperties::SEARCH_TERMS_PARAM] = lowUserInput;
+		}
+		for (map<string, string>::iterator iter = lowInputItems.begin();
+			iter != lowInputItems.end(); ++iter)
+		{
+#ifdef DEBUG
+			cout << "SherlockParser::parse: " << iter->first << "=" << iter->second << endl;
+#endif
+			if (iter->second.substr(0, 5) == "EDIT:")
+			{
+				// This is user editable
+				properties.m_editableParameters[iter->first] = iter->second.substr(5);
 			}
-			for (map<string, string>::iterator iter = lowInputItems.begin();
-				iter != lowInputItems.end(); ++iter)
+			else
 			{
 				// Append to the remainder
-				if (properties.m_parametersRemainder.empty() == false)
+				if (properties.m_remainder.empty() == false)
 				{
-					properties.m_parametersRemainder += "&";
+					properties.m_remainder += "&";
 				}
-				properties.m_parametersRemainder += iter->first;
-				properties.m_parametersRemainder += "=";
-				properties.m_parametersRemainder += iter->second;
-#ifdef DEBUG
-				cout << "SherlockParser::parse: input item " << iter->first << endl;
-#endif
+				properties.m_remainder += iter->first;
+				properties.m_remainder += "=";
+				properties.m_remainder += iter->second;
 			}
+		}
 
+		if (minimal == false)
+		{
 			// URL
 			mapIter = lowSearchParams.find("action");
 			if (mapIter != lowSearchParams.end())
@@ -725,7 +667,7 @@
 			// as the parameter's initial value
 			if (nextFactor.empty() == false)
 			{
-				properties.m_parameters[SearchPluginProperties::START_PAGE_PARAM] = nextInput;
+				properties.m_variableParameters[SearchPluginProperties::START_PAGE_PARAM] = nextInput;
 				properties.m_scrolling = SearchPluginProperties::PER_PAGE;
 				// What Sherlock calls a factor is actually an increment
 				properties.m_nextIncrement = (unsigned int)atoi(nextFactor.c_str());
@@ -734,7 +676,7 @@
 			{
 				// Assume INPUTNEXT allows to specify a number of results
 				// Not sure if this is how Sherlock/Mozilla interpret this
-				properties.m_parameters[SearchPluginProperties::COUNT_PARAM] = nextInput;
+				properties.m_variableParameters[SearchPluginProperties::COUNT_PARAM] = nextInput;
 				properties.m_scrolling = SearchPluginProperties::PER_INDEX;
 				properties.m_nextIncrement = 0;
 			}

Modified: trunk/IndexSearch/SherlockParser.h
===================================================================
--- trunk/IndexSearch/SherlockParser.h	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/SherlockParser.h	2008-07-13 13:46:53 UTC (rev 1297)
@@ -67,7 +67,7 @@
 
 		/// Parses the plugin and returns a response parser.
 		virtual ResponseParserInterface *parse(SearchPluginProperties &properties,
-			bool extractSearchParams = false);
+			bool minimal = false);
 
 	protected:
 		static pthread_mutex_t m_mutex;

Modified: trunk/IndexSearch/WebEngine.cpp
===================================================================
--- trunk/IndexSearch/WebEngine.cpp	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/WebEngine.cpp	2008-07-13 13:46:53 UTC (rev 1297)
@@ -283,3 +283,10 @@
 {
 	return m_pDownloader;
 }
+
+/// Specifies values for editable parameters.
+void WebEngine::setEditableValues(const std::map<std::string, std::string> &editableValues)
+{
+	m_editableValues = editableValues;
+}
+

Modified: trunk/IndexSearch/WebEngine.h
===================================================================
--- trunk/IndexSearch/WebEngine.h	2008-07-11 06:21:03 UTC (rev 1296)
+++ trunk/IndexSearch/WebEngine.h	2008-07-13 13:46:53 UTC (rev 1297)
@@ -21,6 +21,7 @@
 
 #include <string>
 #include <set>
+#include <map>
 
 #include "Document.h"
 #include "DownloaderInterface.h"
@@ -37,8 +38,12 @@
 		/// Returns the downloader used if any.
 		DownloaderInterface *getDownloader(void);
 
+		/// Specifies values for editable parameters.
+		void setEditableValues(const std::map<std::string, std::string> &editableValues);
+
 	protected:
 		DownloaderInterface *m_pDownloader;
+		std::map<std::string, std::string> m_editableValues;
 		std::set<std::string> m_queryTerms;
 
 		Document *downloadPage(const DocumentInfo &docInfo);



From fabricecolin at mail.berlios.de  Sun Jul 13 15:51:49 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sun, 13 Jul 2008 15:51:49 +0200
Subject: [Pinot-svn] r1298 - in trunk/UI/GTK2: . src
Message-ID: <200807131351.m6DDpnCc027610@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-13 15:51:08 +0200 (Sun, 13 Jul 2008)
New Revision: 1298

Modified:
   trunk/UI/GTK2/metase-gtk2.glade
   trunk/UI/GTK2/src/PinotSettings.cpp
   trunk/UI/GTK2/src/PinotSettings.h
   trunk/UI/GTK2/src/WorkerThreads.cpp
   trunk/UI/GTK2/src/prefsDialog.cc
   trunk/UI/GTK2/src/prefsDialog.hh
   trunk/UI/GTK2/src/prefsDialog_glade.cc
   trunk/UI/GTK2/src/prefsDialog_glade.hh
Log:
Preferences let the user edit all editable parameters defined in the plugins.
Values are saved to and loaded from the configuration file, and are passed to
WebEngine-derived search engines.


Modified: trunk/UI/GTK2/metase-gtk2.glade
===================================================================
--- trunk/UI/GTK2/metase-gtk2.glade	2008-07-13 13:46:53 UTC (rev 1297)
+++ trunk/UI/GTK2/metase-gtk2.glade	2008-07-13 13:51:08 UTC (rev 1298)
@@ -994,6 +994,7 @@
 
 	  <child>
 	    <widget class="GtkTable" id="generalTable">
+	      <property agent="glademm" name="cxx_visibility">protected</property>
 	      <property name="visible">True</property>
 	      <property name="n_rows">4</property>
 	      <property name="n_columns">2</property>

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2008-07-13 13:46:53 UTC (rev 1297)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2008-07-13 13:51:08 UTC (rev 1298)
@@ -18,6 +18,7 @@
 
 #include <stdio.h>
 #include <stdlib.h>
+#include <ctype.h>
 #include <unistd.h>
 #include <sys/types.h>
 #include <sys/stat.h>
@@ -286,6 +287,7 @@
 	m_indexableLocations.clear();
 	m_filePatternsList.clear();
 	m_isBlackList = true;
+	m_editablePluginValues.clear();
 	m_cacheProviders.clear();
 	m_cacheProtocols.clear();
 
@@ -312,6 +314,40 @@
 
 bool PinotSettings::load(void)
 {
+	map<string, bool> engines;
+	bool hasBackends = false;
+
+	// Some search engines are hardcoded
+#ifdef HAVE_GOOGLEAPI
+	m_engineIds[1 << m_engines.size()] = "Google API";
+	m_engines.insert(Engine("Google API", "googleapi", "", "The Web"));
+	m_engineChannels.insert(pair<string, bool>("The Web", true));
+#endif
+	// Others are available as back-ends
+	ModuleFactory::getSupportedEngines(engines);
+	for (map<string, bool>::const_iterator engineIter = engines.begin();
+		engineIter != engines.end(); ++engineIter)
+	{
+		if (engineIter->second == true)
+		{
+			string engineName(engineIter->first);
+
+			if (isalpha(engineName[0]) != 0)
+			{
+				engineName = toupper(engineName[0]);
+				engineName += engineIter->first.substr(1);
+			}
+
+			m_engineIds[1 << m_engines.size()] = engineIter->first;
+			m_engines.insert(Engine(engineName, engineIter->first, "", "Backends"));
+			hasBackends = true;
+		}
+	}
+	if (hasBackends == true)
+	{
+		m_engineChannels.insert(pair<string, bool>("Backends", true));
+	}
+
 	// Load the configuration file
 	string fileName = getConfigurationFileName();
 	if (m_firstRun == false)
@@ -356,25 +392,6 @@
 		}
 	}
 
-	// Some search engines are hardcoded
-#ifdef HAVE_GOOGLEAPI
-	m_engineIds[1 << m_engines.size()] = "Google API";
-	m_engines.insert(Engine("Google API", "googleapi", "", "The Web"));
-	m_engineChannels.insert(pair<string, bool>("The Web", true));
-#endif
-	// Others are available as back-ends
-	map<string, bool> engines;
-	ModuleFactory::getSupportedEngines(engines);
-	for (map<string, bool>::const_iterator engineIter = engines.begin();
-		engineIter != engines.end(); ++engineIter)
-	{
-		if (engineIter->second == true)
-		{
-			m_engineIds[1 << m_engines.size()] = engineIter->first;
-			m_engines.insert(Engine(engineIter->first, engineIter->first, "", ""));
-		}
-	}
-
 	return true;
 }
 
@@ -529,6 +546,10 @@
 				{
 					loadFilePatterns(pElem);
 				}
+				else if (nodeName == "pluginparameters")
+				{
+					loadPluginParameters(pElem);
+				}
 			}
 		}
 	}
@@ -1161,6 +1182,53 @@
 	return true;
 }
 
+bool PinotSettings::loadPluginParameters(const Element *pElem)
+{
+	if (pElem == NULL)
+	{
+		return false;
+	}
+
+	Node::NodeList childNodes = pElem->get_children();
+	if (childNodes.empty() == true)
+	{
+		return false;
+	}
+
+	string name, value;
+
+	// Load the plugin parameters' values 
+	for (Node::NodeList::iterator iter = childNodes.begin(); iter != childNodes.end(); ++iter)
+	{
+		Node *pNode = (*iter);
+		Element *pChildElem = dynamic_cast<Element*>(pNode);
+		if (pChildElem == NULL)
+		{
+			continue;
+		}
+
+		string nodeName(pChildElem->get_name());
+		string nodeContent(getElementContent(pChildElem));
+
+		if (nodeName == "name")
+		{
+			name = nodeContent;
+		}
+		else if (nodeName == "value")
+		{
+			value = nodeContent;
+		}
+	}
+
+	map<string, string>::iterator valueIter = m_editablePluginValues.find(name);
+	if (valueIter != m_editablePluginValues.end())
+	{
+		valueIter->second = value;
+	}
+
+	return true;
+}
+
 bool PinotSettings::loadCacheProviders(const Element *pElem)
 {
 	if (pElem == NULL)
@@ -1259,18 +1327,29 @@
 			if ((stat(location.c_str(), &fileStat) == 0) &&
 				(S_ISREG(fileStat.st_mode)))
 			{
-				string engineName, engineChannel;
+				SearchPluginProperties properties;
 
-				if ((PluginWebEngine::getDetails(location, engineName, engineChannel) == true) &&
-					(engineName.empty() == false))
+				if ((PluginWebEngine::getDetails(location, properties) == true) &&
+					(properties.m_name.empty() == false))
 				{
-					m_engineIds[1 << m_engines.size()] = engineName;
-					if (engineChannel.empty() == true)
+					m_engineIds[1 << m_engines.size()] = properties.m_name;
+					if (properties.m_channel.empty() == true)
 					{
-						engineChannel = _("Unclassified");
+						properties.m_channel = _("Unclassified");
 					}
-					m_engines.insert(Engine(engineName, "sherlock", location, engineChannel));
-					m_engineChannels.insert(pair<string, bool>(engineChannel, true));
+					m_engines.insert(Engine(properties.m_name, "sherlock", location, properties.m_channel));
+					m_engineChannels.insert(pair<string, bool>(properties.m_channel, true));
+
+					// Any editable parameters in this plugin ?
+					for (map<string, string>::const_iterator editableIter = properties.m_editableParameters.begin();
+						editableIter != properties.m_editableParameters.end(); ++editableIter)
+					{
+						m_editablePluginValues[editableIter->second] = "";
+					}
+#ifdef DEBUG
+					cout << "PinotSettings::loadSearchEngines: " << properties.m_name
+						<< " has " << properties.m_editableParameters.size() << " editable values" << endl;
+#endif
 				}
 			}
 		}
@@ -1448,7 +1527,24 @@
 			addChildElement(pElem, "pattern", *patternIter);
 		}
 		addChildElement(pElem, "forbid", (m_isBlackList ? "YES" : "NO"));
+		// Values of editable plugin parameters
+		for (map<string, string>::iterator editableIter = m_editablePluginValues.begin();
+			editableIter != m_editablePluginValues.end() ; ++editableIter)
+		{
+			if (editableIter->second.empty() == true)
+			{
+				continue;
+			}
 
+			pElem = pRootElem->add_child("pluginparameters");
+			if (pElem == NULL)
+			{
+				return false;
+			}
+			addChildElement(pElem, "name", editableIter->first);
+			addChildElement(pElem, "value", editableIter->second);
+		}
+
 		// Save to file
 		doc.write_to_file_formatted(getConfigurationFileName());
 	}
@@ -1624,7 +1720,7 @@
 			return false;
 		}
 
-		// Copy channels that belong to the given channel
+		// Copy engines that belong to the given channel
 		for (set<Engine>::iterator engineIter = m_engines.begin(); engineIter != m_engines.end(); ++engineIter)
 		{
 			if (engineIter->m_channel == channelName)

Modified: trunk/UI/GTK2/src/PinotSettings.h
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.h	2008-07-13 13:46:53 UTC (rev 1297)
+++ trunk/UI/GTK2/src/PinotSettings.h	2008-07-13 13:51:08 UTC (rev 1298)
@@ -214,6 +214,7 @@
 		std::set<IndexableLocation> m_indexableLocations;
 		std::set<Glib::ustring> m_filePatternsList;
 		bool m_isBlackList;
+		std::map<std::string, std::string> m_editablePluginValues;
 		std::vector<CacheProvider> m_cacheProviders;
 		std::set<Glib::ustring> m_cacheProtocols;
 
@@ -239,6 +240,7 @@
 		bool loadProxy(const xmlpp::Element *pElem);
 		bool loadIndexableLocations(const xmlpp::Element *pElem);
 		bool loadFilePatterns(const xmlpp::Element *pElem);
+		bool loadPluginParameters(const xmlpp::Element *pElem);
 		bool loadCacheProviders(const xmlpp::Element *pElem);
 
 	private:

Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2008-07-13 13:46:53 UTC (rev 1297)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2008-07-13 13:51:08 UTC (rev 1298)
@@ -1092,6 +1092,8 @@
 			pDownloader->setSetting("proxyport", portStr);
 			pDownloader->setSetting("proxytype", settings.m_proxyType);
 		}
+
+		pWebEngine->setEditableValues(settings.m_editablePluginValues);
 	}
 
 	if (m_listingIndex == false)

Modified: trunk/UI/GTK2/src/prefsDialog.cc
===================================================================
--- trunk/UI/GTK2/src/prefsDialog.cc	2008-07-13 13:46:53 UTC (rev 1297)
+++ trunk/UI/GTK2/src/prefsDialog.cc	2008-07-13 13:51:08 UTC (rev 1298)
@@ -22,6 +22,8 @@
 #include <glibmm/convert.h>
 #include <gdkmm/color.h>
 #include <gtkmm/colorselection.h>
+#include <gtkmm/label.h>
+#include <gtkmm/entry.h>
 #include <gtkmm/menu.h>
 #include <gtkmm/messagedialog.h>
 
@@ -61,6 +63,26 @@
 	// Enable terms suggestion
 	enableCompletionCheckbutton->set_active(m_settings.m_suggestQueryTerms);
 
+	// Any plugin editable parameter ?
+	if (m_settings.m_editablePluginValues.empty() == false)
+	{
+		Glib::PropertyProxy<guint> columnsProp(generalTable->property_n_columns());
+		Glib::PropertyProxy<guint> rowsProp(generalTable->property_n_rows());
+		guint rowsCount = rowsProp.get_value();
+
+#ifdef DEBUG
+		cout << "prefsDialog: adding " << m_settings.m_editablePluginValues.size() << " more rows" << endl;
+#endif
+		generalTable->resize(rowsCount + m_settings.m_editablePluginValues.size(), columnsProp.get_value());
+
+		for (std::map<string, string>::const_iterator valueIter = m_settings.m_editablePluginValues.begin();
+			valueIter != m_settings.m_editablePluginValues.end(); ++valueIter)
+		{
+			++rowsCount;
+			attach_value_widgets(valueIter->first, valueIter->second, rowsCount);
+		}
+	}
+
 	populate_proxyTypeCombobox();
 	proxyRadiobutton->set_active(m_settings.m_proxyEnabled);
 	proxyAddressEntry->set_text(m_settings.m_proxyAddress);
@@ -143,6 +165,41 @@
 	return m_startDaemon;
 }
 
+void prefsDialog::attach_value_widgets(const string &name, const string &value, guint rowNumber)
+{
+	Label *valueLabel = manage(new Label(name + ":"));
+	Entry *valueEntry = manage(new Entry());
+
+	// These settings are what Glade-- would use
+	valueLabel->set_alignment(0,0.5); 
+	valueLabel->set_padding(4,4);
+	valueLabel->set_justify(Gtk::JUSTIFY_LEFT); 
+	valueLabel->set_line_wrap(false);
+	valueLabel->set_use_markup(false);
+	valueLabel->set_selectable(false);
+	valueLabel->set_ellipsize(Pango::ELLIPSIZE_NONE);
+	valueLabel->set_width_chars(-1);
+	valueLabel->set_angle(0);
+	valueLabel->set_single_line_mode(false);
+
+	valueEntry->set_flags(Gtk::CAN_FOCUS);
+	valueEntry->set_visibility(true);
+	valueEntry->set_editable(true);
+	valueEntry->set_max_length(0);
+	valueEntry->set_has_frame(true);
+	valueEntry->set_activates_default(false);
+
+	valueEntry->set_text(to_utf8(value));
+
+	generalTable->attach(*valueLabel, 0, 1, rowNumber, rowNumber + 1, Gtk::FILL, Gtk::FILL, 0, 0);
+	generalTable->attach(*valueEntry, 1, 2, rowNumber, rowNumber + 1, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
+
+	m_editableValueEntries.push_back(valueEntry);
+
+	valueLabel->show();
+	valueEntry->show();
+}
+
 void prefsDialog::populate_proxyTypeCombobox()
 {
 	proxyTypeCombobox->append_text("HTTP");
@@ -435,7 +492,24 @@
 	m_settings.m_newResultsColourBlue = newColour.get_blue();
 	m_settings.m_suggestQueryTerms = enableCompletionCheckbutton->get_active();
 	m_settings.m_googleAPIKey = apiKeyEntry->get_text();
+	// Any plugin editable parameter ?
+	if (m_settings.m_editablePluginValues.empty() == false)
+	{
+		std::map<string, string>::iterator valueIter = m_settings.m_editablePluginValues.begin();
+		vector<Entry *>::const_iterator entryIter = m_editableValueEntries.begin();
+		while ((valueIter != m_settings.m_editablePluginValues.end()) &&
+			(entryIter != m_editableValueEntries.end()))
+		{
+			ustring value((*entryIter)->get_text());
 
+			valueIter->second = from_utf8(value);
+
+			// Next
+			++valueIter;
+			++entryIter;
+		}
+	}
+
 	m_settings.m_proxyEnabled = proxyRadiobutton->get_active();
 	m_settings.m_proxyAddress = proxyAddressEntry->get_text();
 	m_settings.m_proxyPort = (unsigned int)proxyPortSpinbutton->get_value();

Modified: trunk/UI/GTK2/src/prefsDialog.hh
===================================================================
--- trunk/UI/GTK2/src/prefsDialog.hh	2008-07-13 13:46:53 UTC (rev 1297)
+++ trunk/UI/GTK2/src/prefsDialog.hh	2008-07-13 13:51:08 UTC (rev 1298)
@@ -22,6 +22,7 @@
 #include <string>
 #include <map>
 #include <set>
+#include <vector>
 #include <glibmm/refptr.h>
 #include <glibmm/ustring.h>
 #include <gtkmm/liststore.h>
@@ -54,6 +55,7 @@
 	TimestampedModelColumns m_mailColumns;
 	TimestampedModelColumns m_patternsColumns;
 	Glib::RefPtr<Gtk::ListStore> m_refPatternsTree;
+	std::vector<Gtk::Entry *> m_editableValueEntries;
 	std::set<std::string> m_addedLabels;
 	std::set<std::string> m_deletedLabels;
 	std::map<std::string, std::string> m_renamedLabels;
@@ -73,6 +75,7 @@
 	virtual void on_removePatternButton_clicked();
 	virtual void on_resetPatternsButton_clicked();
 
+	void attach_value_widgets(const std::string &name, const std::string &value, guint rowNumber);
 	void populate_proxyTypeCombobox();
 	void populate_labelsTreeview();
 	void save_labelsTreeview();

Modified: trunk/UI/GTK2/src/prefsDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/prefsDialog_glade.cc	2008-07-13 13:46:53 UTC (rev 1297)
+++ trunk/UI/GTK2/src/prefsDialog_glade.cc	2008-07-13 13:51:08 UTC (rev 1298)
@@ -1,9 +1,9 @@
-// generated 2008/3/24 13:00:10 SGT by fabrice at amra.dyndns.org.(none)
+// generated 2008/7/13 20:38:58 SGT by fabrice at rexor.dyndns.org.(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.12.5 and gtkmm 2.12.3
+// for gtk 2.12.11 and gtkmm 2.12.7
 //
 // Please modify the corresponding derived classes in ./src/prefsDialog.cc
 
@@ -72,7 +72,7 @@
    ignoreRobotsCheckbutton = Gtk::manage(new class Gtk::CheckButton(_("Ignore robots.txt and Robots META tag")));
    robotsLabel = Gtk::manage(new class Gtk::Label(_("HTTP crawling:")));
    
-   Gtk::Table *generalTable = Gtk::manage(new class Gtk::Table(2, 2, false));
+   generalTable = Gtk::manage(new class Gtk::Table(2, 2, false));
    Gtk::Label *generalLabel = Gtk::manage(new class Gtk::Label(_("General")));
    Gtk::RadioButton::Group _RadioBGroup_directConnectionRadiobutton;
    directConnectionRadiobutton = Gtk::manage(new class Gtk::RadioButton(_RadioBGroup_directConnectionRadiobutton, _("Direct connection to the Internet")));

Modified: trunk/UI/GTK2/src/prefsDialog_glade.hh
===================================================================
--- trunk/UI/GTK2/src/prefsDialog_glade.hh	2008-07-13 13:46:53 UTC (rev 1297)
+++ trunk/UI/GTK2/src/prefsDialog_glade.hh	2008-07-13 13:51:08 UTC (rev 1298)
@@ -1,9 +1,9 @@
-// generated 2008/3/24 13:00:10 SGT by fabrice at amra.dyndns.org.(none)
+// generated 2008/7/13 20:38:58 SGT by fabrice at rexor.dyndns.org.(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.12.5 and gtkmm 2.12.3
+// for gtk 2.12.11 and gtkmm 2.12.7
 //
 // Please modify the corresponding derived classes in ./src/prefsDialog.hh and./src/prefsDialog.cc
 
@@ -37,6 +37,7 @@
 #include <gtkmm/entry.h>
 #include <gtkmm/checkbutton.h>
 #include <gtkmm/colorbutton.h>
+#include <gtkmm/table.h>
 #include <gtkmm/radiobutton.h>
 #include <gtkmm/spinbutton.h>
 #include <gtkmm/comboboxtext.h>
@@ -58,6 +59,7 @@
         class Gtk::ColorButton * newResultsColorbutton;
         class Gtk::CheckButton * ignoreRobotsCheckbutton;
         class Gtk::Label * robotsLabel;
+	class Gtk::Table * generalTable;
         class Gtk::RadioButton * directConnectionRadiobutton;
         class Gtk::RadioButton * proxyRadiobutton;
         class Gtk::Entry * proxyAddressEntry;



From fabricecolin at mail.berlios.de  Fri Jul 18 15:28:41 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 18 Jul 2008 15:28:41 +0200
Subject: [Pinot-svn] r1299 - in trunk/IndexSearch: . Plugins
Message-ID: <200807181328.m6IDSfC2010592@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-18 15:28:33 +0200 (Fri, 18 Jul 2008)
New Revision: 1299

Modified:
   trunk/IndexSearch/PluginWebEngine.cpp
   trunk/IndexSearch/Plugins/AmazonAPI.src
   trunk/IndexSearch/SherlockParser.cpp
   trunk/IndexSearch/pinot-search.cpp
Log:
pinot-search can set a plugin editable parameter with -e/--seteditable.
PluginWebEngine will output an error message if an editable parameter has no
value.
The Sherlock parser lower-cased input parameters for no specific reason.
Moved the Amazon API plugin to the Shopping channel.


Modified: trunk/IndexSearch/PluginWebEngine.cpp
===================================================================
--- trunk/IndexSearch/PluginWebEngine.cpp	2008-07-13 13:51:08 UTC (rev 1298)
+++ trunk/IndexSearch/PluginWebEngine.cpp	2008-07-18 13:28:33 UTC (rev 1299)
@@ -283,11 +283,9 @@
 		map<string, string>::const_iterator valueIter = m_editableValues.find(editableIter->second);
 		if (valueIter == m_editableValues.end())
 		{
+			cerr << "PluginWebEngine::runQuery: no value provided for plugin's editable parameter " << editableIter->second << endl;
 			continue;
 		}
-#ifdef DEBUG
-		cout << "PluginWebEngine::runQuery: editable " << valueIter->first << " set to " << valueIter->second << endl;
-#endif
 
 		formattedQuery += "&";
 		formattedQuery += editableIter->first;

Modified: trunk/IndexSearch/Plugins/AmazonAPI.src
===================================================================
--- trunk/IndexSearch/Plugins/AmazonAPI.src	2008-07-13 13:51:08 UTC (rev 1298)
+++ trunk/IndexSearch/Plugins/AmazonAPI.src	2008-07-18 13:28:33 UTC (rev 1299)
@@ -6,7 +6,7 @@
 	description="Amazon.com REST API"
 	method="GET"
 	action="http://webservices.amazon.com/onca/xml"
-	routeType="The Web"
+	routeType="Shopping"
 >
 
 <INPUT NAME="Service" VALUE="AWSECommerceService">

Modified: trunk/IndexSearch/SherlockParser.cpp
===================================================================
--- trunk/IndexSearch/SherlockParser.cpp	2008-07-13 13:51:08 UTC (rev 1298)
+++ trunk/IndexSearch/SherlockParser.cpp	2008-07-18 13:28:33 UTC (rev 1299)
@@ -506,7 +506,7 @@
 
 	if (parsedPlugin == true)
 	{
-		map<string, string> lowSearchParams, lowInterpretParams, lowInputItems;
+		map<string, string> lowSearchParams, lowInterpretParams;
 
 		pResponseParser = new SherlockResponseParser();
 
@@ -514,8 +514,6 @@
 		for_each(searchParams.begin(), searchParams.end(), lowCopy1);
 		LowerAndCopy lowCopy2(lowInterpretParams);
 		for_each(interpretParams.begin(), interpretParams.end(), lowCopy2);
-		LowerAndCopy lowCopy3(lowInputItems);
-		for_each(inputItems.begin(), inputItems.end(), lowCopy3);
 
 		// Response
 		properties.m_response = SearchPluginProperties::HTML_RESPONSE;
@@ -545,22 +543,20 @@
 
 		if (userInput.empty() == false)
 		{
-			string lowUserInput(StringManip::toLowerCase(userInput));
-
 			// Remove the user input tag from the input tags map
-			mapIter = lowInputItems.find(lowUserInput);
-			if (mapIter != lowInputItems.end())
+			mapIter = inputItems.find(userInput);
+			if (mapIter != inputItems.end())
 			{
-				lowInputItems.erase(mapIter);
+				inputItems.erase(mapIter);
 			}
 #ifdef DEBUG
 			else cout << "SherlockParser::parse: couldn't remove user input item" << endl;
 #endif
 
-			properties.m_variableParameters[SearchPluginProperties::SEARCH_TERMS_PARAM] = lowUserInput;
+			properties.m_variableParameters[SearchPluginProperties::SEARCH_TERMS_PARAM] = userInput;
 		}
-		for (map<string, string>::iterator iter = lowInputItems.begin();
-			iter != lowInputItems.end(); ++iter)
+		for (map<string, string>::iterator iter = inputItems.begin();
+			iter != inputItems.end(); ++iter)
 		{
 #ifdef DEBUG
 			cout << "SherlockParser::parse: " << iter->first << "=" << iter->second << endl;

Modified: trunk/IndexSearch/pinot-search.cpp
===================================================================
--- trunk/IndexSearch/pinot-search.cpp	2008-07-13 13:51:08 UTC (rev 1298)
+++ trunk/IndexSearch/pinot-search.cpp	2008-07-18 13:28:33 UTC (rev 1299)
@@ -40,6 +40,7 @@
 	{"proxyaddress", 1, 0, 'a'},
 	{"proxyport", 1, 0, 'p'},
 	{"proxytype", 1, 0, 't'},
+	{"seteditable", 1, 0, 'e'},
 	{"stemming", 1, 0, 's'},
 	{"tocsv", 1, 0, 'c'},
 	{"toxml", 1, 0, 'x'},
@@ -94,6 +95,7 @@
 		<< "  -p, --proxyport           proxy port\n"
 		<< "  -t, --proxytype           proxy type (default HTTP, SOCKS4, SOCKS5)\n"
 		<< "  -s, --stemming            stemming language (in English)\n"
+		<< "  -e, --seteditable         plugin editable parameter, name:value pair\n"
 		<< "  -c, --tocsv               file to export results in CSV format to\n"
 		<< "  -x, --toxml               file to export results in XML format to\n"
 		<< "  -v, --version             output version information and exit\n"
@@ -109,7 +111,7 @@
 		<< "pinot-search googleapi mygoogleapikey \"clowns\"\n\n"
 #endif
 		<< "pinot-search opensearch " << PREFIX << "/share/pinot/engines/KrustyDescription.xml \"clowns\"\n\n"
-		<< "pinot-search --max 20 sherlock " << PREFIX << "/share/pinot/engines/Bozo.src \"clowns\"\n\n"
+		<< "pinot-search --max 20 sherlock --seteditable \"Bozo App ID:1234567890\" " << PREFIX << "/share/pinot/engines/Bozo.src \"clowns\"\n\n"
 		<< "pinot-search xapian ~/.pinot/index \"label:Clowns\"\n\n"
 		<< "pinot-search --stemming english xapian somehostname:12345 \"clowning\"\n\n"
 		<< "Report bugs to " << PACKAGE_BUGREPORT << endl;
@@ -118,13 +120,13 @@
 int main(int argc, char **argv)
 {
 	QueryProperties::QueryType queryType = QueryProperties::XAPIAN_QP;
-	string engineType, option, csvExport, xmlExport, proxyAddress, proxyPort, proxyType, stemLanguage;
+	string engineType, option, csvExport, xmlExport, proxyAddress, proxyPort, proxyType, editableParameter, stemLanguage;
 	unsigned int maxResultsCount = 10; 
 	int longOptionIndex = 0;
 	bool printResults = true;
 
 	// Look at the options
-	int optionChar = getopt_long(argc, argv, "c:hm:a:p:qs:t:uvx:", g_longOptions, &longOptionIndex);
+	int optionChar = getopt_long(argc, argv, "c:hm:a:e:p:qs:t:uvx:", g_longOptions, &longOptionIndex);
 	while (optionChar != -1)
 	{
 		switch (optionChar)
@@ -135,6 +137,12 @@
 					proxyAddress = optarg;
 				}
 				break;
+			case 'e':
+				if (optarg != NULL)
+				{
+					editableParameter = optarg;
+				}
+				break;
 			case 'c':
 				if (optarg != NULL)
 				{
@@ -193,7 +201,7 @@
 		}
 
 		// Next option
-		optionChar = getopt_long(argc, argv, "c:hm:a:p:qs:t:uvx:", g_longOptions, &longOptionIndex);
+		optionChar = getopt_long(argc, argv, "c:hm:a:e:p:qs:t:uvx:", g_longOptions, &longOptionIndex);
 	}
 
 	if (argc == 1)
@@ -260,6 +268,15 @@
 			pDownloader->setSetting("proxyport", proxyPort);
 			pDownloader->setSetting("proxytype", proxyType);
 		}
+
+		string::size_type colonPos = editableParameter.find(':');
+		if (colonPos != string::npos)
+		{
+			map<string, string> editableValues;
+
+			editableValues[editableParameter.substr(0, colonPos)] = editableParameter.substr(colonPos + 1);
+			pWebEngine->setEditableValues(editableValues);
+		}
 	}
 
 	// Set the query



From fabricecolin at mail.berlios.de  Fri Jul 18 17:21:15 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Fri, 18 Jul 2008 17:21:15 +0200
Subject: [Pinot-svn] r1300 - trunk/UI/GTK2/src
Message-ID: <200807181521.m6IFLFuP024540@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-18 17:21:09 +0200 (Fri, 18 Jul 2008)
New Revision: 1300

Modified:
   trunk/UI/GTK2/src/EnginesTree.cpp
   trunk/UI/GTK2/src/PinotSettings.cpp
Log:
Add search-only backends to the Current User channel and make sure it stays at
the bottom of the engines tree.


Modified: trunk/UI/GTK2/src/EnginesTree.cpp
===================================================================
--- trunk/UI/GTK2/src/EnginesTree.cpp	2008-07-18 13:28:33 UTC (rev 1299)
+++ trunk/UI/GTK2/src/EnginesTree.cpp	2008-07-18 15:21:09 UTC (rev 1300)
@@ -247,7 +247,10 @@
 void EnginesTree::populate(bool indexesOnly)
 {
 	set<PinotSettings::Engine> engines;
+	ustring currentUserChannel(_("Current User"));
 	TreeModel::Row row;
+	TreeModel::iterator folderIter, localIter;
+	bool createCurrentUserChannel = true;
 
 	// Reset the whole tree
 	get_selection()->unselect_all();
@@ -270,7 +273,7 @@
 			continue;
 		}
 
-		TreeModel::iterator folderIter = m_refStore->append();
+		folderIter = m_refStore->append();
 		row = *folderIter;
 
 		row[m_enginesColumns.m_name] = to_utf8(channelName);
@@ -278,6 +281,18 @@
 		row[m_enginesColumns.m_option] = "";
 		row[m_enginesColumns.m_type] = EnginesModelColumns::ENGINE_FOLDER;
 
+		// Is this the current user channel ?
+		if (channelName == currentUserChannel)
+		{
+			localIter = folderIter;
+			createCurrentUserChannel = false;
+		}
+		else if (createCurrentUserChannel == false)
+		{
+			// The current user channel stays at the bottom
+			m_refStore->iter_swap(folderIter, localIter);
+		}
+
 		std::set<PinotSettings::Engine>::const_iterator engineIter = engines.begin();
 		for (; engineIter != engines.end(); ++engineIter)
 		{
@@ -320,14 +335,17 @@
 		}
 	}
 
+	if (createCurrentUserChannel == true)
+	{
+		localIter = m_refStore->append();
+		row = *localIter;
+		row[m_enginesColumns.m_name] = currentUserChannel;
+		row[m_enginesColumns.m_engineName] = "internal-folder";
+		row[m_enginesColumns.m_option] = "";
+		row[m_enginesColumns.m_type] = EnginesModelColumns::ENGINE_FOLDER;
+	}
+
 	// Local engines
-	TreeModel::iterator localIter = m_refStore->append();
-	row = *localIter;
-	row[m_enginesColumns.m_name] = _("Current User");
-	row[m_enginesColumns.m_engineName] = "internal-folder";
-	row[m_enginesColumns.m_option] = "";
-	row[m_enginesColumns.m_type] = EnginesModelColumns::ENGINE_FOLDER;
-
 	std::map<std::string, std::string>::const_iterator indexIter = m_settings.getIndexes().begin();
 	for (; indexIter != m_settings.getIndexes().end(); ++indexIter)
 	{

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2008-07-18 13:28:33 UTC (rev 1299)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2008-07-18 15:21:09 UTC (rev 1300)
@@ -339,13 +339,13 @@
 			}
 
 			m_engineIds[1 << m_engines.size()] = engineIter->first;
-			m_engines.insert(Engine(engineName, engineIter->first, "", "Backends"));
+			m_engines.insert(Engine(engineName, engineIter->first, "", _("Current User")));
 			hasBackends = true;
 		}
 	}
 	if (hasBackends == true)
 	{
-		m_engineChannels.insert(pair<string, bool>("Backends", true));
+		m_engineChannels.insert(pair<string, bool>(_("Current User"), true));
 	}
 
 	// Load the configuration file



From fabricecolin at mail.berlios.de  Sat Jul 19 08:25:07 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 08:25:07 +0200
Subject: [Pinot-svn] r1301 - trunk/UI/GTK2/src
Message-ID: <200807190625.m6J6P7rr017100@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 08:24:35 +0200 (Sat, 19 Jul 2008)
New Revision: 1301

Modified:
   trunk/UI/GTK2/src/WorkerThreads.cpp
   trunk/UI/GTK2/src/WorkerThreads.h
   trunk/UI/GTK2/src/mainWindow.cc
Log:
The UI will let foreground threads run for up to a minute.


Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2008-07-18 15:21:09 UTC (rev 1300)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2008-07-19 06:24:35 UTC (rev 1301)
@@ -268,11 +268,12 @@
 }
 
 ThreadsManager::ThreadsManager(const string &defaultIndexLocation,
-	unsigned int maxIndexThreads) :
+	unsigned int maxIndexThreads, unsigned int maxThreadsTime) :
 	m_defaultIndexLocation(defaultIndexLocation),
 	m_maxIndexThreads(maxIndexThreads),
 	m_nextThreadId(1),
 	m_backgroundThreadsCount(0),
+	m_foregroundThreadsMaxTime(maxThreadsTime),
 	m_numCPUs(1),
 	m_stopIndexing(false)
 {
@@ -362,9 +363,9 @@
 
 				// Foreground threads ought not to run very long
 				if ((threadIter->second->isBackground() == false) &&
-					(threadIter->second->getStartTime() + 300 < timeNow))
+					(threadIter->second->getStartTime() + m_foregroundThreadsMaxTime < timeNow))
 				{
-					// This thread has been running for more than 5 minutes already !
+					// This thread has been running for too long !
 					threadIter->second->stop();
 
 					cerr << "Stopped long-running thread " << threadId << endl;

Modified: trunk/UI/GTK2/src/WorkerThreads.h
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.h	2008-07-18 15:21:09 UTC (rev 1300)
+++ trunk/UI/GTK2/src/WorkerThreads.h	2008-07-19 06:24:35 UTC (rev 1301)
@@ -109,7 +109,8 @@
 {
 	public:
 		ThreadsManager(const std::string &defaultIndexLocation,
-			unsigned int maxIndexThreads);
+			unsigned int maxIndexThreads,
+			unsigned int maxThreadsTime = 300);
 		virtual ~ThreadsManager();
 
 		bool start_thread(WorkerThread *pWorkerThread, bool inBackground = false);
@@ -143,6 +144,7 @@
 		unsigned int m_maxIndexThreads;
 		unsigned int m_nextThreadId;
 		unsigned int m_backgroundThreadsCount;
+		unsigned int m_foregroundThreadsMaxTime;
 		long m_numCPUs;
 		sigc::signal1<void, WorkerThread *> m_onThreadEndSignal;
 		std::set<std::string> m_beingIndexed;

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2008-07-18 15:21:09 UTC (rev 1300)
+++ trunk/UI/GTK2/src/mainWindow.cc	2008-07-19 06:24:35 UTC (rev 1301)
@@ -93,7 +93,7 @@
 unsigned int mainWindow::m_maxIndexThreads = 2;
 
 mainWindow::InternalState::InternalState(unsigned int maxIndexThreads, mainWindow *pWindow) :
-	ThreadsManager(PinotSettings::getInstance().m_docsIndexLocation, maxIndexThreads),
+	ThreadsManager(PinotSettings::getInstance().m_docsIndexLocation, maxIndexThreads, 60),
 	m_liveQueryLength(0),
 	m_currentPage(0),
 	m_browsingIndex(false)



From fabricecolin at mail.berlios.de  Sat Jul 19 08:44:30 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 08:44:30 +0200
Subject: [Pinot-svn] r1302 - trunk/IndexSearch/XesamGLib
Message-ID: <200807190644.m6J6iUVA030912@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 08:44:20 +0200 (Sat, 19 Jul 2008)
New Revision: 1302

Modified:
   trunk/IndexSearch/XesamGLib/XesamEngine.cpp
Log:
Extract hits data, turn live search off, set the maximum number of results and
abort the search after a few seconds.


Modified: trunk/IndexSearch/XesamGLib/XesamEngine.cpp
===================================================================
--- trunk/IndexSearch/XesamGLib/XesamEngine.cpp	2008-07-19 06:24:35 UTC (rev 1301)
+++ trunk/IndexSearch/XesamGLib/XesamEngine.cpp	2008-07-19 06:44:20 UTC (rev 1302)
@@ -16,6 +16,7 @@
  *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
  */
 
+#include <stdlib.h>
 #include <glib.h>
 #include <xesam-glib/xesam-glib.h>
 #include <vector>
@@ -39,7 +40,7 @@
 			m_pMainLoop(pMainLoop),
 			m_resultsList(resultsList),
 			m_resultsCountEstimate(resultsCountEstimate),
-			m_gettingHits(false)
+			m_gettingHits(0)
 		{
 		}
 		~CallbackData()
@@ -49,10 +50,65 @@
 		GMainLoop *m_pMainLoop;
 		vector<DocumentInfo> &m_resultsList;
 		unsigned int &m_resultsCountEstimate;
-		bool m_gettingHits;
+		unsigned int m_gettingHits;
 
 };
 
+static void pushHit(XesamGHit *pHit, vector<DocumentInfo> &resultsList, int resultNum)
+{
+	if (pHit == NULL)
+	{
+		return;
+	}
+#ifdef DEBUG
+	cout << "XesamEngine::pushHit: hit ID " << xesam_g_hit_get_id(pHit) << endl;
+#endif
+
+	DocumentInfo docInfo;
+
+	const gchar *pTitle = xesam_g_hit_get_string(pHit, "xesam:title");
+	if (pTitle != NULL)
+	{
+		docInfo.setTitle(pTitle);
+	}
+
+	const gchar *pUrl = xesam_g_hit_get_string(pHit, "xesam:url");
+	if (pUrl != NULL)
+	{
+		docInfo.setLocation(pUrl);
+	}
+
+	const gchar *pType = xesam_g_hit_get_string(pHit, "xesam:mimeType");
+	if (pType != NULL)
+	{
+		docInfo.setType(pType);
+	}
+	// FIXME: xesam_g_hit_get_string(pHit, "xesam:language");
+
+	const gchar *pTimestamp = xesam_g_hit_get_string(pHit, "xesam:contentModified");
+	if (pTimestamp != NULL)
+	{
+		docInfo.setTimestamp(pTimestamp);
+	}
+
+	const gchar *pSize = xesam_g_hit_get_string(pHit, "xesam:size");
+	if (pSize != NULL)
+	{
+		docInfo.setSize((off_t )atoi(pSize));
+	}
+
+	const gchar *pExtract = xesam_g_hit_get_string(pHit, "xesam:summary");
+	if (pExtract != NULL)
+	{
+		docInfo.setExtract(pExtract);
+	}
+	// FIXME: no score field ?
+	docInfo.setScore((float )(100 - resultNum));
+
+	// Push into the results list
+	resultsList.push_back(docInfo);
+}
+
 static void hitsReady(XesamGSearch *pSearch, XesamGHits *pHits, gpointer pUserData)
 {
 	if ((pHits == NULL) ||
@@ -60,30 +116,40 @@
 	{
 		return;
 	}
+#ifdef DEBUG
+	cout << "XesamEngine::hitsReady: called" << endl;
+#endif
 
 	CallbackData *pData = (CallbackData *)pUserData;
-	pData->m_gettingHits = true;
-
+	++pData->m_gettingHits;
 	for (guint i = 0; i < xesam_g_hits_get_count(pHits); ++i)
 	{
 		XesamGHit *pHit = xesam_g_hits_get(pHits, i);
 
-		if (pHit == NULL)
-		{
-			continue;
-		}
+		pushHit(pHit, pData->m_resultsList, i);
+	}
+	--pData->m_gettingHits;
+}
+
+static void searchDone(XesamGSearch *pSearch, gpointer pUserData)
+{
+	if ((pSearch == NULL) ||
+		(pUserData == NULL))
+	{
+		return;
+	}
 #ifdef DEBUG
-		cout << "XesamEngine::runQuery: hit ID " << xesam_g_hit_get_id(pHit)
-			<< ", URL " << xesam_g_hit_get_string(pHit, "xesam:url") << endl;
+	cout << "XesamEngine::searchDone: called" << endl;
 #endif
 
-		// FIXME: push into pData->m_resultsList
-	}
+	CallbackData *pData = (CallbackData *)pUserData;
 
-	pData->m_gettingHits = false;
+	// Check we are not in the middle of retrieving stuff
+	while (pData->m_gettingHits > 0);
+	g_main_loop_quit(pData->m_pMainLoop);
 }
 
-static void searchDone(XesamGSearch *pSearch, gpointer pUserData)
+void checkTimer(gpointer pUserData)
 {
 	if (pUserData == NULL)
 	{
@@ -92,8 +158,9 @@
 
 	CallbackData *pData = (CallbackData *)pUserData;
 
-	// Check we are not in the middle of retrieving stuff
-	while (pData->m_gettingHits == true);
+	cerr << "Aborting Xesam query" << endl;
+
+	// Stop
 	g_main_loop_quit(pData->m_pMainLoop);
 }
 
@@ -149,8 +216,9 @@
 	{
 		pQuery = xesam_g_query_new_from_text(queryProps.getFreeQuery().c_str());
 	}
-	else if (type == QueryProperties::XESAM_UL)
+	else
 	{
+		// Assume it's in the User Language
 		pQuery = xesam_g_query_new_from_xml(queryProps.getFreeQuery().c_str());
 	}
 	if (pQuery == NULL)
@@ -160,6 +228,10 @@
 		return false;
 	}
 
+	// Ensure live search is off
+	xesam_g_searcher_set_property(pSearcher, xesam_g_session_get_id(pSession),
+		"search.live", FALSE, NULL, NULL);
+
 	XesamGSearch *pSearch = xesam_g_session_new_search(pSession, pQuery);
 	if (pSearch == NULL)
 	{
@@ -169,14 +241,24 @@
 		return false;
 	}
 
+	// Set the maximum number of results
+	xesam_g_search_set_max_batch_size(pSearch, (guint )queryProps.getMaximumResultsCount());
+
 	GMainLoop *pMainLoop = g_main_loop_new(NULL, FALSE);
 	if (pMainLoop != NULL)
 	{
-		CallbackData *pData = new CallbackData(pMainLoop, m_resultsList, m_resultsCountEstimate);
+		CallbackData *pData = new CallbackData(pMainLoop,
+			m_resultsList, m_resultsCountEstimate);
 
 		g_signal_connect(pSearch, "hits-ready", G_CALLBACK(hitsReady), pData);
 		g_signal_connect(pSearch, "done", G_CALLBACK(searchDone), pData);
 
+		// Don't let this run longer than necessary
+		g_timeout_add(15000, (GSourceFunc)checkTimer, pData);
+#ifdef DEBUG
+		cout << "XesamEngine::runQuery: starting the main loop" << endl;
+#endif
+
 		// Start
 		xesam_g_search_start(pSearch);
 		g_main_loop_run(pMainLoop);



From fabricecolin at mail.berlios.de  Sat Jul 19 11:29:47 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 11:29:47 +0200
Subject: [Pinot-svn] r1303 - trunk/IndexSearch/XesamGLib
Message-ID: <200807190929.m6J9TlEH025984@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 11:29:42 +0200 (Sat, 19 Jul 2008)
New Revision: 1303

Modified:
   trunk/IndexSearch/XesamGLib/XesamEngine.cpp
Log:
Fixed UL/QL mixup.


Modified: trunk/IndexSearch/XesamGLib/XesamEngine.cpp
===================================================================
--- trunk/IndexSearch/XesamGLib/XesamEngine.cpp	2008-07-19 06:44:20 UTC (rev 1302)
+++ trunk/IndexSearch/XesamGLib/XesamEngine.cpp	2008-07-19 09:29:42 UTC (rev 1303)
@@ -36,10 +36,10 @@
 	public:
 		CallbackData(GMainLoop *pMainLoop,
 			vector<DocumentInfo> &resultsList,
-			unsigned int &resultsCountEstimate) :
+			unsigned int requiredHitsCount) :
 			m_pMainLoop(pMainLoop),
 			m_resultsList(resultsList),
-			m_resultsCountEstimate(resultsCountEstimate),
+			m_requiredHitsCount(requiredHitsCount),
 			m_gettingHits(0)
 		{
 		}
@@ -49,13 +49,23 @@
 
 		GMainLoop *m_pMainLoop;
 		vector<DocumentInfo> &m_resultsList;
-		unsigned int &m_resultsCountEstimate;
+		unsigned int m_requiredHitsCount;
 		unsigned int m_gettingHits;
 
 };
 
-static void pushHit(XesamGHit *pHit, vector<DocumentInfo> &resultsList, int resultNum)
+static void stopSearch(GMainLoop *pMainLoop)
 {
+	if (pMainLoop = NULL)
+	{
+		return;
+	}
+
+	g_main_loop_quit(pMainLoop);
+}
+
+static void pushHit(XesamGHit *pHit, vector<DocumentInfo> &resultsList, int hitNum)
+{
 	if (pHit == NULL)
 	{
 		return;
@@ -103,7 +113,7 @@
 		docInfo.setExtract(pExtract);
 	}
 	// FIXME: no score field ?
-	docInfo.setScore((float )(100 - resultNum));
+	docInfo.setScore((float )(100 - hitNum));
 
 	// Push into the results list
 	resultsList.push_back(docInfo);
@@ -116,17 +126,19 @@
 	{
 		return;
 	}
+
+	CallbackData *pData = (CallbackData *)pUserData;
 #ifdef DEBUG
-	cout << "XesamEngine::hitsReady: called" << endl;
+	cout << "XesamEngine::hitsReady: needing " << pData->m_requiredHitsCount
+		<< " hits, got " << xesam_g_hits_get_count(pHits) << endl;
 #endif
 
-	CallbackData *pData = (CallbackData *)pUserData;
 	++pData->m_gettingHits;
-	for (guint i = 0; i < xesam_g_hits_get_count(pHits); ++i)
+	for (guint hitNum = 0; hitNum < xesam_g_hits_get_count(pHits); ++hitNum)
 	{
-		XesamGHit *pHit = xesam_g_hits_get(pHits, i);
+		XesamGHit *pHit = xesam_g_hits_get(pHits, hitNum);
 
-		pushHit(pHit, pData->m_resultsList, i);
+		pushHit(pHit, pData->m_resultsList, hitNum);
 	}
 	--pData->m_gettingHits;
 }
@@ -146,10 +158,10 @@
 
 	// Check we are not in the middle of retrieving stuff
 	while (pData->m_gettingHits > 0);
-	g_main_loop_quit(pData->m_pMainLoop);
+	stopSearch(pData->m_pMainLoop);
 }
 
-void checkTimer(gpointer pUserData)
+void abortTimer(gpointer pUserData)
 {
 	if (pUserData == NULL)
 	{
@@ -161,7 +173,7 @@
 	cerr << "Aborting Xesam query" << endl;
 
 	// Stop
-	g_main_loop_quit(pData->m_pMainLoop);
+	stopSearch(pData->m_pMainLoop);
 }
 
 XesamEngine::XesamEngine(const string &dbusObject) :
@@ -214,12 +226,12 @@
 	XesamGQuery *pQuery = NULL;
 	if (type == QueryProperties::XESAM_QL)
 	{
-		pQuery = xesam_g_query_new_from_text(queryProps.getFreeQuery().c_str());
+		pQuery = xesam_g_query_new_from_xml(queryProps.getFreeQuery().c_str());
 	}
 	else
 	{
 		// Assume it's in the User Language
-		pQuery = xesam_g_query_new_from_xml(queryProps.getFreeQuery().c_str());
+		pQuery = xesam_g_query_new_from_text(queryProps.getFreeQuery().c_str());
 	}
 	if (pQuery == NULL)
 	{
@@ -247,25 +259,32 @@
 	GMainLoop *pMainLoop = g_main_loop_new(NULL, FALSE);
 	if (pMainLoop != NULL)
 	{
-		CallbackData *pData = new CallbackData(pMainLoop,
-			m_resultsList, m_resultsCountEstimate);
+		CallbackData *pData = new CallbackData(pMainLoop, m_resultsList,
+			queryProps.getMaximumResultsCount());
 
 		g_signal_connect(pSearch, "hits-ready", G_CALLBACK(hitsReady), pData);
 		g_signal_connect(pSearch, "done", G_CALLBACK(searchDone), pData);
 
 		// Don't let this run longer than necessary
-		g_timeout_add(15000, (GSourceFunc)checkTimer, pData);
-#ifdef DEBUG
-		cout << "XesamEngine::runQuery: starting the main loop" << endl;
-#endif
+		g_timeout_add(60000, (GSourceFunc)abortTimer, pData);
 
 		// Start
 		xesam_g_search_start(pSearch);
+#ifdef DEBUG
+		cout << "XesamEngine::runQuery: main loop start" << endl;
+#endif
 		g_main_loop_run(pMainLoop);
+#ifdef DEBUG
+		cout << "XesamEngine::runQuery: main loop end" << endl;
+#endif
 
 		// Stop
 		xesam_g_search_close(pSearch);
 
+		if (m_resultsList.size() > pData->m_requiredHitsCount)
+		{
+			m_resultsList.resize(pData->m_requiredHitsCount);
+		}
 		m_resultsCountEstimate = m_resultsList.size();
 
 		delete pData;



From fabricecolin at mail.berlios.de  Sat Jul 19 11:58:44 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 11:58:44 +0200
Subject: [Pinot-svn] r1304 - trunk/Collect
Message-ID: <200807190958.m6J9wic6004655@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 11:58:39 +0200 (Sat, 19 Jul 2008)
New Revision: 1304

Modified:
   trunk/Collect/CurlDownloader.cpp
Log:
Follow META REFRESH if set.


Modified: trunk/Collect/CurlDownloader.cpp
===================================================================
--- trunk/Collect/CurlDownloader.cpp	2008-07-19 09:29:42 UTC (rev 1303)
+++ trunk/Collect/CurlDownloader.cpp	2008-07-19 09:58:39 UTC (rev 1304)
@@ -26,6 +26,8 @@
 #include <curl/curl.h>
 
 #include "Url.h"
+#include "HtmlFilter.h"
+#include "FilterUtils.h"
 #include "CurlDownloader.h"
 
 using namespace std;
@@ -37,8 +39,23 @@
 	string m_lastModified;
 };
 
-size_t writeCallback(void *pData, size_t dataSize, size_t elementsCount, void *pStream)
+static void freeContentInfo(struct ContentInfo *pInfo)
 {
+	if (pInfo == NULL)
+	{
+		return;
+	}
+
+	if (pInfo->m_pContent != NULL)
+	{
+		free(pInfo->m_pContent);
+		pInfo->m_pContent = NULL;
+		pInfo->m_contentLen = 0;
+	}
+}
+
+static size_t writeCallback(void *pData, size_t dataSize, size_t elementsCount, void *pStream)
+{
 	ContentInfo *pInfo = NULL;
 	size_t totalSize = elementsCount * dataSize;
 
@@ -54,12 +71,7 @@
 #ifdef DEBUG
 		cout << "writeCallback: failed to enlarge buffer" << endl;
 #endif
-		if (pInfo->m_pContent != NULL)
-		{
-			free(pInfo->m_pContent);
-			pInfo->m_pContent = NULL;
-			pInfo->m_contentLen = 0;
-		}
+		freeContentInfo(pInfo);
 		return 0;
 	}
 
@@ -82,7 +94,7 @@
 	return totalSize;
 }
 
-size_t headerCallback(void *pData, size_t dataSize, size_t elementsCount, void *pStream)
+static size_t headerCallback(void *pData, size_t dataSize, size_t elementsCount, void *pStream)
 {
 	ContentInfo *pInfo = NULL;
 	size_t totalSize = elementsCount * dataSize;
@@ -96,8 +108,8 @@
 	pInfo = (ContentInfo *)pStream;
 
 	string header((const char*)pData, totalSize);
+
 	string::size_type pos = header.find("Last-Modified: ");
-
 	if (pos != string::npos)
 	{
 		pInfo->m_lastModified = header.substr(15);
@@ -182,7 +194,7 @@
 {
 	Document *pDocument = NULL;
 	string url(Url::escapeUrl(docInfo.getLocation()));
-	long maxRedirectionsCount = 10;
+	unsigned int redirectionsCount = 0;
 
 	if (url.empty() == true)
 	{
@@ -203,7 +215,7 @@
 
 		curl_easy_setopt(pCurlHandler, CURLOPT_AUTOREFERER, 1);
 		curl_easy_setopt(pCurlHandler, CURLOPT_FOLLOWLOCATION, 1);
-		curl_easy_setopt(pCurlHandler, CURLOPT_MAXREDIRS, maxRedirectionsCount);
+		curl_easy_setopt(pCurlHandler, CURLOPT_MAXREDIRS, 10);
 		curl_easy_setopt(pCurlHandler, CURLOPT_USERAGENT, m_userAgent.c_str());
 		curl_easy_setopt(pCurlHandler, CURLOPT_NOSIGNAL, (long)1);
 		curl_easy_setopt(pCurlHandler, CURLOPT_TIMEOUT, (long)m_timeout);
@@ -214,10 +226,7 @@
 		curl_easy_setopt(pCurlHandler, CURLOPT_WRITEDATA, pContentInfo);
 		curl_easy_setopt(pCurlHandler, CURLOPT_HEADERFUNCTION, headerCallback);
 		curl_easy_setopt(pCurlHandler, CURLOPT_HEADERDATA, pContentInfo);
-#ifdef DEBUG
-		cout << "CurlDownloader::retrieveUrl: URL is " << url << endl;
-#endif
-		curl_easy_setopt(pCurlHandler, CURLOPT_URL, url.c_str());
+
 		// Is a proxy defined ?
 		// Curl automatically checks and makes use of the *_proxy environment variables 
 		if ((m_proxyAddress.empty() == false) &&
@@ -242,10 +251,16 @@
 			curl_easy_setopt(pCurlHandler, CURLOPT_PROXYTYPE, proxyType);
 		}
 
-		CURLcode res = curl_easy_perform(pCurlHandler);
-		if (res == CURLE_OK)
+#ifdef DEBUG
+		cout << "CurlDownloader::retrieveUrl: URL is " << url << endl;
+#endif
+		while (redirectionsCount < 10)
 		{
-			if ((pContentInfo->m_pContent != NULL) &&
+			curl_easy_setopt(pCurlHandler, CURLOPT_URL, url.c_str());
+
+			CURLcode res = curl_easy_perform(pCurlHandler);
+			if ((res == CURLE_OK) &&
+				(pContentInfo->m_pContent != NULL) &&
 				(pContentInfo->m_contentLen > 0))
 			{
 				char *pContentType = NULL;
@@ -269,20 +284,45 @@
 				{
 					pDocument->setTimestamp(pContentInfo->m_lastModified);
 				}
-			}
+
+				// Any REFRESH META tag ?
+				Dijon::HtmlFilter htmlFilter("text/html");
+				if ((FilterUtils::feedFilter(*pDocument, &htmlFilter) == true) &&
+					(htmlFilter.next_document() == true))
+				{
+					const map<string, string> &metaData = htmlFilter.get_meta_data();
+					map<string, string>::const_iterator refreshIter = metaData.find("refresh");
+					if (refreshIter != metaData.end())
+					{
+						// Try again
+						string::size_type urlPos = refreshIter->second.find("URL=");
+						if (urlPos != string::npos)
+						{
+							url = refreshIter->second.substr(urlPos + 4);
 #ifdef DEBUG
-			else cout << "CurlDownloader::retrieveUrl: no content for " << url << endl;
+							cout << "CurlDownloader::retrieveUrl: redirected to URL " << url << endl;
 #endif
+							delete pDocument;
+							pDocument = NULL;
+							freeContentInfo(pContentInfo);
+							++redirectionsCount;
+							continue;
+						}
+					}
+				}
+#ifdef DEBUG
+				else cout << "CurlDownloader::retrieveUrl: failed to parse HTML" << endl;
+#endif
+			}
+			else
+			{
+				cerr << "Couldn't download " << url << ": " << curl_easy_strerror(res) << endl;
+			}
+
+			break;
 		}
-		else
-		{
-			cerr << "Couldn't download " << url << ": " << curl_easy_strerror(res) << endl;
-		}
 
-		if (pContentInfo->m_pContent != NULL)
-		{
-			free(pContentInfo->m_pContent);
-		}
+		freeContentInfo(pContentInfo);
 		delete pContentInfo;
 
 		// Cleanup



From fabricecolin at mail.berlios.de  Sat Jul 19 11:59:57 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 11:59:57 +0200
Subject: [Pinot-svn] r1305 - trunk
Message-ID: <200807190959.m6J9xvPe005067@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 11:59:53 +0200 (Sat, 19 Jul 2008)
New Revision: 1305

Modified:
   trunk/Makefile.am
Log:
Don't move AmazonAPI out of the engines directory.


Modified: trunk/Makefile.am
===================================================================
--- trunk/Makefile.am	2008-07-19 09:58:39 UTC (rev 1304)
+++ trunk/Makefile.am	2008-07-19 09:59:53 UTC (rev 1305)
@@ -42,7 +42,6 @@
 	$(INSTALL_DATA) $(builddir)/UI/GTK2/src/de.berlios.Pinot.service $(DESTDIR)$(datadir)/dbus-1/services/de.berlios.Pinot.service
 	@mkdir -p $(DESTDIR)$(datadir)/pinot/engines
 	$(INSTALL_DATA) $(srcdir)/IndexSearch/Plugins/*.src $(DESTDIR)$(datadir)/pinot/engines/
-	@mv $(DESTDIR)$(datadir)/pinot/engines/AmazonAPI.src $(DESTDIR)$(datadir)/pinot/
 	$(INSTALL_DATA) $(srcdir)/IndexSearch/Plugins/*.xml $(DESTDIR)$(datadir)/pinot/engines/
 	@mkdir -p $(DESTDIR)$(libdir)/pinot/filters
 	@rm $(DESTDIR)$(libdir)/lib*filter.a $(DESTDIR)$(libdir)/lib*filter.la



From fabricecolin at mail.berlios.de  Sat Jul 19 12:47:47 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 12:47:47 +0200
Subject: [Pinot-svn] r1306 - in trunk: . IndexSearch UI/GTK2/src
Message-ID: <200807191047.m6JAllS4012714@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 12:47:28 +0200 (Sat, 19 Jul 2008)
New Revision: 1306

Modified:
   trunk/IndexSearch/pinot-index.1
   trunk/IndexSearch/pinot-label.1
   trunk/IndexSearch/pinot-search.1
   trunk/UI/GTK2/src/pinot-dbus-daemon.1
   trunk/UI/GTK2/src/pinot.1
   trunk/configure.in
Log:
Bumped version number to 0.87, updated manual pages.


Modified: trunk/IndexSearch/pinot-index.1
===================================================================
--- trunk/IndexSearch/pinot-index.1	2008-07-19 09:59:53 UTC (rev 1305)
+++ trunk/IndexSearch/pinot-index.1	2008-07-19 10:47:28 UTC (rev 1306)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-INDEX "1" "June 2008" "pinot-index - pinot 0.86" "User Commands"
+.TH PINOT-INDEX "1" "July 2008" "pinot-index - pinot 0.87" "User Commands"
 .SH NAME
 pinot-index \- Index documents from the command-line
 .SH SYNOPSIS

Modified: trunk/IndexSearch/pinot-label.1
===================================================================
--- trunk/IndexSearch/pinot-label.1	2008-07-19 09:59:53 UTC (rev 1305)
+++ trunk/IndexSearch/pinot-label.1	2008-07-19 10:47:28 UTC (rev 1306)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-LABEL "1" "June 2008" "pinot-label - pinot 0.86" "User Commands"
+.TH PINOT-LABEL "1" "July 2008" "pinot-label - pinot 0.87" "User Commands"
 .SH NAME
 pinot-label \- Label files from the command-line
 .SH SYNOPSIS

Modified: trunk/IndexSearch/pinot-search.1
===================================================================
--- trunk/IndexSearch/pinot-search.1	2008-07-19 09:59:53 UTC (rev 1305)
+++ trunk/IndexSearch/pinot-search.1	2008-07-19 10:47:28 UTC (rev 1306)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-SEARCH "1" "June 2008" "pinot-search - pinot 0.86" "User Commands"
+.TH PINOT-SEARCH "1" "July 2008" "pinot-search - pinot 0.87" "User Commands"
 .SH NAME
 pinot-search \- Query search engines from the command-line
 .SH SYNOPSIS
@@ -27,6 +27,9 @@
 \fB\-s\fR, \fB\-\-stemming\fR
 stemming language (in English)
 .TP
+\fB\-e\fR, \fB\-\-seteditable\fR
+plugin editable parameter, name:value pair
+.TP
 \fB\-c\fR, \fB\-\-tocsv\fR
 file to export results in CSV format to
 .TP
@@ -42,13 +45,13 @@
 \fB\-u\fR, \fB\-\-xesamul\fR
 query input is a file containing Xesam UL
 .PP
-Supported search engine types are : googleapi opensearch sherlock xapian
+Supported search engine types are : googleapi opensearch sherlock xapian xesam
 .SH EXAMPLES
 pinot\-search googleapi mygoogleapikey "clowns"
 .PP
 pinot\-search opensearch /usr/share/pinot/engines/KrustyDescription.xml "clowns"
 .PP
-pinot\-search \fB\-\-max\fR 20 sherlock /usr/share/pinot/engines/Bozo.src "clowns"
+pinot\-search \fB\-\-max\fR 20 sherlock \fB\-\-seteditable\fR "Bozo App ID:1234567890" /usr/share/pinot/engines/Bozo.src "clowns"
 .PP
 pinot\-search xapian ~/.pinot/index "label:Clowns"
 .PP

Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.1
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.1	2008-07-19 09:59:53 UTC (rev 1305)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.1	2008-07-19 10:47:28 UTC (rev 1306)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-DBUS-DAEMON "1" "June 2008" "pinot-dbus-daemon - pinot 0.86" "User Commands"
+.TH PINOT-DBUS-DAEMON "1" "July 2008" "pinot-dbus-daemon - pinot 0.87" "User Commands"
 .SH NAME
 pinot-dbus-daemon \- D-Bus search and index daemon
 .SH SYNOPSIS

Modified: trunk/UI/GTK2/src/pinot.1
===================================================================
--- trunk/UI/GTK2/src/pinot.1	2008-07-19 09:59:53 UTC (rev 1305)
+++ trunk/UI/GTK2/src/pinot.1	2008-07-19 10:47:28 UTC (rev 1306)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT "1" "June 2008" "pinot - pinot 0.86" "User Commands"
+.TH PINOT "1" "July 2008" "pinot - pinot 0.87" "User Commands"
 .SH NAME
 pinot \- A metasearch tool for the Free Desktop
 .SH SYNOPSIS

Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2008-07-19 09:59:53 UTC (rev 1305)
+++ trunk/configure.in	2008-07-19 10:47:28 UTC (rev 1306)
@@ -2,7 +2,7 @@
 # using glademm V2.6.0
 
 AC_PREREQ(2.50)
-AC_INIT(pinot, 0.86,[fabricecolin at users.berlios.de])
+AC_INIT(pinot, 0.87,[fabricecolin at users.berlios.de])
 AM_INIT_AUTOMAKE
 AC_CONFIG_HEADERS(config.h)
 



From fabricecolin at mail.berlios.de  Sat Jul 19 12:49:29 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 12:49:29 +0200
Subject: [Pinot-svn] r1307 - in trunk/IndexSearch: . Xapian
Message-ID: <200807191049.m6JAnTo5015028@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 12:49:20 +0200 (Sat, 19 Jul 2008)
New Revision: 1307

Modified:
   trunk/IndexSearch/Xapian/AbstractGenerator.cpp
   trunk/IndexSearch/pinot-index.cpp
Log:
AbstractGenerator ignores the current term's other positions when weighting
abstract windows.
pinot-index only lists index-capable backends.


Modified: trunk/IndexSearch/Xapian/AbstractGenerator.cpp
===================================================================
--- trunk/IndexSearch/Xapian/AbstractGenerator.cpp	2008-07-19 10:47:28 UTC (rev 1306)
+++ trunk/IndexSearch/Xapian/AbstractGenerator.cpp	2008-07-19 10:49:20 UTC (rev 1307)
@@ -21,6 +21,7 @@
 #include <sys/time.h>
 #include <glib.h>
 #include <map>
+#include <set>
 #include <algorithm>
 #include <iostream>
 #include <utility>
@@ -35,6 +36,7 @@
 using std::string;
 using std::vector;
 using std::map;
+using std::set;
 using std::find;
 using namespace Dijon;
 
@@ -100,12 +102,16 @@
 #endif
 		try
 		{
+			set<Xapian::termpos> positions;
+
 			// Go through that term's position list in the document
 			for (Xapian::PositionIterator positionIter = m_pIndex->positionlist_begin(docId, termName);
 				positionIter != m_pIndex->positionlist_end(docId, termName); ++positionIter)
 			{
 				Xapian::termpos termPos = *positionIter;
 
+				positions.insert(termPos);
+
 				// Take all the top term's positions into account, and some of 
 				// the other terms' too if the minimum number is not reached
 				if ((m_minTermPositions > abstractWindows.size()) ||
@@ -118,6 +124,12 @@
 				for (map<Xapian::termpos, PositionWindow>::iterator winIter = abstractWindows.begin();
 					winIter != abstractWindows.end(); ++winIter)
 				{
+					if (positions.find(winIter->first) != positions.end())
+					{
+						// This is for the same term at another position
+						continue;
+					}
+
 					// Is this within the number of words we are interested in ?
 					if (winIter->first > termPos)
 					{
@@ -126,12 +138,9 @@
 							++winIter->second.m_backWeight;
 						}
 					}
-					else
+					else if (termPos - winIter->first <= m_wordsCount)
 					{
-						if (termPos - winIter->first <= m_wordsCount)
-						{
-							++winIter->second.m_forwardWeight;
-						}
+						++winIter->second.m_forwardWeight;
 					}
 				}
 			}

Modified: trunk/IndexSearch/pinot-index.cpp
===================================================================
--- trunk/IndexSearch/pinot-index.cpp	2008-07-19 10:47:28 UTC (rev 1306)
+++ trunk/IndexSearch/pinot-index.cpp	2008-07-19 10:49:20 UTC (rev 1307)
@@ -56,7 +56,6 @@
 	// Help
 	ModuleFactory::loadModules(string(LIBDIR) + string("/pinot/backends"));
 	ModuleFactory::getSupportedEngines(engines);
-	ModuleFactory::unloadModules();
 	cout << "pinot-index - Index documents from the command-line\n\n"
 		<< "Usage: pinot-index [OPTIONS] URLS\n\n"
 		<< "Options:\n"
@@ -73,11 +72,13 @@
 		<< "Supported back-ends are :";
 	for (map<string, bool>::const_iterator engineIter = engines.begin(); engineIter != engines.end(); ++engineIter)
 	{
-		if (engineIter->second == true)
+		if ((engineIter->second == true) &&
+			(ModuleFactory::isSupported(engineIter->first, true) == true))
 		{
 			cout << " " << engineIter->first;
 		}
 	}
+	ModuleFactory::unloadModules();
 	cout << "\n\nExamples:\n"
 		<< "pinot-index --check --showinfo --backend xapian --db ~/.pinot/daemon file:///home/fabrice/Documents/Bozo.txt\n\n"
 		<< "pinot-index --index --db ~/.pinot/index http://pinot.berlios.de/\n\n"



From fabricecolin at mail.berlios.de  Sat Jul 19 12:58:25 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 12:58:25 +0200
Subject: [Pinot-svn] r1309 - trunk
Message-ID: <200807191058.m6JAwPRe029511@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 12:58:19 +0200 (Sat, 19 Jul 2008)
New Revision: 1309

Modified:
   trunk/pinot.desktop
Log:
Provide a comment for ru... in English, because it's not been translated yet.


Modified: trunk/pinot.desktop
===================================================================
--- trunk/pinot.desktop	2008-07-19 10:56:13 UTC (rev 1308)
+++ trunk/pinot.desktop	2008-07-19 10:58:19 UTC (rev 1309)
@@ -1,7 +1,7 @@
 [Desktop Entry]
 Name=Pinot Metasearch Tool
+Name[de]=Pinot Werkzeug zur Metasuche
 Name[es]=Herramienta metabuscador Pinot
-Name[de]=Pinot Werkzeug zur Metasuche
 Name[fr]=Pinot Outil De Recherche
 Name[it]=Pinot Tool di ricerca
 Name[ja]=Pinot????????
@@ -21,6 +21,7 @@
 Comment[nl]=Zoek het web en uw documenten
 Comment[pt]=Pesquise a Web e os seus documentos
 Comment[pt_BR]=Pesquise a Web e os seus documentos
+Comment[ru]=Search the Web and your documents
 Comment[sv]=S?k p? webben och i dina dokument
 Comment[zh_CN]=??????????
 Comment[zh_TW]=???????????



From fabricecolin at mail.berlios.de  Sat Jul 19 12:56:58 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 12:56:58 +0200
Subject: [Pinot-svn] r1308 - trunk/po
Message-ID: <200807191056.m6JAuwr3026834@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 12:56:13 +0200 (Sat, 19 Jul 2008)
New Revision: 1308

Modified:
   trunk/po/de.po
   trunk/po/es.po
   trunk/po/fr.po
   trunk/po/it.po
   trunk/po/ja.po
   trunk/po/nl.po
   trunk/po/pt.po
   trunk/po/pt_BR.po
   trunk/po/ru.po
   trunk/po/sv.po
   trunk/po/zh_CN.po
   trunk/po/zh_TW.po
Log:
Current ranslations.


Modified: trunk/po/de.po
===================================================================
--- trunk/po/de.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/de.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-01-15 00:16+0000\n"
 "Last-Translator: Christian Dywan <christian at twotoasts.de>\n"
 "Language-Team: German <de at li.org>\n"
@@ -20,7 +20,8 @@
 msgid "Search Engines"
 msgstr "Suchmaschinen"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 msgid "Current User"
 msgstr "Aktueller Benutzer"
 
@@ -28,24 +29,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "Meine Webseiten"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Meine Dokumente"
 
@@ -91,7 +92,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Keine"
@@ -138,272 +139,272 @@
 msgid "Helper application"
 msgstr "Hilfsprogramm"
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "Zuletzt ausgef?hrt"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "?bersicht"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "Alle Suchmaschinen anzeigen"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 #, fuzzy
 msgid "Add an index"
 msgstr "Index hinzuf?gen"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 #, fuzzy
 msgid "Remove an index"
 msgstr "Index entfernen"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 msgid "Add a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 #, fuzzy
 msgid "Remove a query"
 msgstr "Index entfernen"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "Bereit"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 #, fuzzy
 msgid "Don't warn me again"
 msgstr "Index konnte nicht umbenannt werden"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Aktualisieren"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr "N/V"
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 msgid "Undefined"
 msgstr "Unbestimmt"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr ""
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr ""
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 #, fuzzy
 msgid "In Results"
 msgstr "Ergebnisse"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 #, fuzzy
 msgid "Showing"
 msgstr "Zeigen"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr ""
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "Dokument aktualisiert"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "Indiziert"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "Nicht indizierte(s) Dokument(e)"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 #, fuzzy
 msgid "is already in use"
 msgstr "wird bereits benutzt"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "Index konnte nicht umbenannt werden"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 #, fuzzy
 msgid "Export Results"
 msgstr "Ergebnisse exportieren"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "Index"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "existiert nicht"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "Soll dieses Dokument aus dem Index entfernt werden?"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "Sollen diese Dokumente aus dem Index entfernt werden?"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Ein Werkzeug zur Metasuche f?r den kostenfreien Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr "Durchsuchen Sie das Internet und Ihre Dokumente !"
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "Indexbezeichnung"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "Konnte Index nicht hinzuf?gen"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "Neuer Index hinzugef?gt"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "Konnte Index nicht entfernen"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr ""
 "Mindestens ein Vorgang wurde noch nicht abgeschlossen. Jetzt trotzdem "
 "beenden?"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "Keine Suchmaschine ausgew?hlt"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "Bitte geben Sie zuerst den Google API-Schl?ssel ein"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "Keine Standardanwendung f?r Typ angegeben"
 
@@ -581,55 +582,55 @@
 msgstr "Konnte Verlaufsdatenbank nicht anlegen"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "Wichtig"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "Neu"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "Pers?nlich"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "Name"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "?berwachen"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "Ort"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "Zu indizierendes Verzeichnis"
 
@@ -755,12 +756,12 @@
 msgstr "Dateiendung"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr ""
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "URL"
 
@@ -785,7 +786,7 @@
 msgstr ""
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 msgid "Date"
 msgstr "Datum"
 
@@ -842,15 +843,11 @@
 msgstr ""
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 #, fuzzy
 msgid "Score"
 msgstr "Relevanz"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr "Auslesen"
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 #, fuzzy
 msgid "Indexes"
@@ -973,22 +970,25 @@
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "Kein Titel"
+
+#~ msgid "Extract"
+#~ msgstr "Auslesen"

Modified: trunk/po/es.po
===================================================================
--- trunk/po/es.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/es.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-04-05 23:03+0000\n"
 "Last-Translator: Jesus Tramullas <jesus at tramullas.com>\n"
 "Language-Team: es <fabricecolin at users.berlios.de>\n"
@@ -21,7 +21,8 @@
 msgid "Search Engines"
 msgstr "Motores de b?squeda"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 msgid "Current User"
 msgstr "Usuario"
 
@@ -29,24 +30,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "Mis Paginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Mis documentos"
 
@@ -92,7 +93,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Ninguno"
@@ -138,262 +139,262 @@
 msgid "Helper application"
 msgstr "Aplicaci?n de ayuda"
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr "Nombre de la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "?ltima ejecuci?n"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "Sumario"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "Mostrar todos los motores de b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr "Encontrar documentos que contengan la expresi?n de b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 msgid "Add an index"
 msgstr "A?adir ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 msgid "Remove an index"
 msgstr "Borrar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 msgid "Add a query"
 msgstr "A?adir una b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 msgid "Remove a query"
 msgstr "Borrar una b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr "Mostrar los resultados de la b?squeda previa"
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr "Encontrar documentos que cumplan la expresi?n de b?squeda"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "Preparado"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "Se recomienda actualizar todos los documentos en Mis P?ginas Web"
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 msgid "Don't warn me again"
 msgstr "No avisar de nuevo"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Actualizar"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr "Desconocido"
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 msgid "Undefined"
 msgstr "Indefinido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "B?squeda activa"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr "La localizaci?n del resultado es"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr "La localizaci?n del documento es"
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr "No se pudo a?adir la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 msgid "In Results"
 msgstr "En resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 msgid "Showing"
 msgstr "Mostrando"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr "documentos"
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
 msgstr "documentos comenzando en"
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr "B?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr "en"
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr "finalizado"
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr "Corregido"
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr "M?s como"
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr "Etiqueta(s) actualizada(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "Documento actualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "Indizado"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "Documento(s) no indizado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr "No se pudo renombrar ?ndice, nombre"
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 msgid "is already in use"
 msgstr "ya est? en uso"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "No se pudo renombrar el ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 msgid "Export Results"
 msgstr "Exportar resultados"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "no existe"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "?Borrar este documento del ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "?Borrar este documento del ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Des-indizar"
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Una herramienta metabuscador para el escritorio libre"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr "Busca en el web y en sus documentos"
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "Nombre del ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "No se pudo a?adir el ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "A?adido un nuevo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "No se pudo borrar el ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "No hay hist?rico para"
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Al menos una tarea no ha finalizado. ?Parar ahora?"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr "Salir"
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr "Nombre la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr "No se pudo actualizar la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr "B?squeda editada"
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr "No se pudo a?adir la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr "A?adida una nueva b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr "B?squeda no definida"
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "Motor de b?squeda no seleccionado"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "Por favor, primero configure el API de Google"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr "Ejecutando la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "No hay aplicaci?n predefinida para el tipo"
 
@@ -569,55 +570,55 @@
 msgstr "No se pudo crear la base de datos del hist?rico"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "Nuevo"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "Personal"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr "Yo"
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr "No clasificado"
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "Nombre"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "Supervisar"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "Localizaci?n"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr "Patron"
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr "Excluir de la indizacion estos patrones"
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr "Indizar s?lo estos patrones"
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr "Nueva etiqueta"
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "Carpeta a indexar"
 
@@ -740,12 +741,12 @@
 msgstr "Extensi?n del archivo"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr "T?tulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "URL"
 
@@ -770,7 +771,7 @@
 msgstr "Etiqueta"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 msgid "Date"
 msgstr "Date"
 
@@ -825,14 +826,10 @@
 msgstr "Par?metros de b?squeda"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 msgid "Score"
 msgstr "Cuenta"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr "Extra?dos"
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 msgid "Indexes"
 msgstr "?ndices"
@@ -947,22 +944,25 @@
 msgid "No monitoring handler"
 msgstr "No hay monitorizaci?n"
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr "La indizaci?n se ha detenido"
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr "No se pudo indizar el buzon de correo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr "ya est? indizado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr "ya excluido"
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "Sin t?tulo"
+
+#~ msgid "Extract"
+#~ msgstr "Extra?dos"

Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/fr.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-03-24 18:17+0800\n"
 "Last-Translator: Fabrice Colin <fabricecolin at users.berlios.de>\n"
 "Language-Team: fr <fabricecolin at users.berlios.de>\n"
@@ -21,7 +21,8 @@
 msgid "Search Engines"
 msgstr "Moteurs"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 msgid "Current User"
 msgstr "Utilisateur"
 
@@ -29,24 +30,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "Mes Pages Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Mes Documents"
 
@@ -92,7 +93,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Aucune"
@@ -138,263 +139,263 @@
 msgid "Helper application"
 msgstr "Application"
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr "Nom de la Recherche"
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "Derniere Utilisation"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "Sommaire"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "Montrer tous les moteurs"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr "Trouver les documents qui correspondent"
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 msgid "Add an index"
 msgstr "Ajouter un index"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 msgid "Remove an index"
 msgstr "Enlever un index"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 msgid "Add a query"
 msgstr "Ajouter une recherche"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 msgid "Remove a query"
 msgstr "Effacer une recherche"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr "Montrer les resultats precedents"
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr "Trouver les documents qui correspondent"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "Pret"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "Il est recommende de mettre a jour tous les documents de Mes Pages Web"
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 #, fuzzy
 msgid "Don't warn me again"
 msgstr "Ne plus me prevenir"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Mettre a Jour"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr "Inconnue"
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 msgid "Undefined"
 msgstr "Indefini"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Recherche"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr "Le chemin du resultat est"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr "Le chemin du document is"
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr "N'a pas pu trouver"
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 msgid "In Results"
 msgstr "Dans Les Resultats"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 msgid "Showing"
 msgstr "Montrant"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr "documents,"
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
 msgstr "au total, a partir de"
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr "La recherche"
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr "sur"
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr "est terminee"
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr "Corrige"
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr "Similaire a"
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr "Mis a jour l(es) etiquette(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "Mis a jour le document"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "Indexe"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "Desindexe le(s) document(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr "N'a pas pu renommer l'index, le nom"
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 msgid "is already in use"
 msgstr "est deja utilise"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "N'a pas pu renommer l'index"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr "Edite l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 msgid "Export Results"
 msgstr "Exporter Les Resultats"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "L'index"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "n'existe pas"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "Enlever ce document de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "Enlever ces documents de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Desindexer"
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Un outil de recherche pour le Bureau Libre"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr "Cherche le Web et vos documents"
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "Nom de l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "N'a pas pu ajouter l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "Ajoute un nouvel index"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "N'a pas pu enlever l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "Pas d'historique pour"
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Au moins une tache n'est pas terminee. Quitter maintenant ?"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr "Quitter"
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr "Nom de la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr "N'a pas pu mettre a jour la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr "Edite la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr "N'a pas pu ajouter la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr "Ajoute une nouvelle recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr "Recherche indefinie"
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "Pas de moteur selectionne"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "Configurez la clef de l'API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr "Recherche en cours"
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "Pas d'application definie pour le type"
 
@@ -570,55 +571,55 @@
 msgstr "N'a pas pu creer la base d'historiques"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "Important"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "Nouveau"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "Personnel"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr "Moi"
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr "Sans classification"
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "Nom"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "Surveiller"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "Chemin"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr "Motif"
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr "Ne pas indexer ces motifs"
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr "Indexer uniquement ces motifs"
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr "Nouvelle Etiquette"
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "Repertoire a indexer"
 
@@ -741,12 +742,12 @@
 msgstr "Extension de fichier"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr "Titre"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "URL"
 
@@ -771,7 +772,7 @@
 msgstr "Etiquette"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 msgid "Date"
 msgstr "Date"
 
@@ -828,14 +829,10 @@
 msgstr "Parametres de la recherche"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 msgid "Score"
 msgstr "Score"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr "Extrait"
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 msgid "Indexes"
 msgstr "Indexes"
@@ -950,22 +947,25 @@
 msgid "No monitoring handler"
 msgstr "Pas de moniteur de fichiers disponible"
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr "Indexation est arretee"
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr "Ne peut pas indexer le courrier ici"
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr "est deja indexe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr "est exclus"
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "Pas de titre"
+
+#~ msgid "Extract"
+#~ msgstr "Extrait"

Modified: trunk/po/it.po
===================================================================
--- trunk/po/it.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/it.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-01-15 00:09+0000\n"
 "Last-Translator: Marco Bazzani <visitors at libero.it>\n"
 "Language-Team: Italian <it at li.org>\n"
@@ -20,7 +20,8 @@
 msgid "Search Engines"
 msgstr "Motori di ricerca"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 msgid "Current User"
 msgstr "Utente attual"
 
@@ -28,24 +29,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "Pagine web personali"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Documenti personali"
 
@@ -91,7 +92,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Nessuno"
@@ -137,269 +138,269 @@
 msgid "Helper application"
 msgstr "Applicazione associata"
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr "Nome da interrogare"
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "Ultimo Eseguito"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "Sommario"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "Mostrare tutti i motori di ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 #, fuzzy
 msgid "Add an index"
 msgstr "Aggiungi Indice"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 #, fuzzy
 msgid "Remove an index"
 msgstr "Rimuovi indice"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 #, fuzzy
 msgid "Add a query"
 msgstr "Nuova query aggiunto"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 #, fuzzy
 msgid "Remove a query"
 msgstr "Live Query"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "E' consigliato aggiornare tutti le pagine web personali"
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 #, fuzzy
 msgid "Don't warn me again"
 msgstr "Impossibile rinominare l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Aggiorna"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr "N/D"
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 msgid "Undefined"
 msgstr "Non Definito"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Live Query"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr "la posizione del risultato ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr "La posizione Documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr "Impossibile trovare la query"
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 #, fuzzy
 msgid "In Results"
 msgstr "risultati"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 msgid "Showing"
 msgstr "Mostrando"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr "dei"
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
 msgstr "documenti, inizio a"
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr "Richiesta"
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr "sulla"
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr "conclusione"
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr "Molti gradiscono"
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr "Descrizione(i) aggiornata"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "Documento aggiornato"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "Indicizzato"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "Documento/i non Indicizzato/i"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr "Impossibile rinominare l'indice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 msgid "is already in use"
 msgstr "? gi? in uso"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "Impossibile rinominare l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr "Indice modificato"
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 #, fuzzy
 msgid "Export Results"
 msgstr "risultati"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "Indice"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "non esiste"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "Rimuovere questo documento dall'indice?"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "Rimuovere questi documenti dall'indice?"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Rimuovi dall'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Un tool di ricerca per il Desktop Libero"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr "Cerca nel Web e nei documenti !"
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "Nome indice"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "Impossibile aggiungere l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "Nuovo indice aggiunto"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "Impossibile rimuovere l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Nessuna operazione completata. Uscire comunque ?"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr "Nome Query"
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr "Impossibile aggiornare la query"
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr "Query modificata"
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr "Impossibile aggiungere la query"
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr "Nuova query aggiunto"
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr "Query non configurata"
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "Nessun motore di ricerca selezionato"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "Prima inserisci la tua Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr "Query in esecuzione"
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "Nessuna applicazione di default ? stata definita per tipo"
 
@@ -576,55 +577,55 @@
 msgstr "Impossibile creare una cronologia del database"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "Nuovo"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "Personale"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr "Non classificato"
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "Nome"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "Monitor"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "Posizione"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr "Espressione"
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr "Nuova descrizione"
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "Directory da indicizzare"
 
@@ -751,12 +752,12 @@
 msgstr "Estensione file"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr "Titolo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "URL"
 
@@ -781,7 +782,7 @@
 msgstr "Descrizione"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 msgid "Date"
 msgstr "Data"
 
@@ -839,14 +840,10 @@
 msgstr "Parametri di Ricerca"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 msgid "Score"
 msgstr "Punteggio"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr "Estrai"
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 msgid "Indexes"
 msgstr "Indici"
@@ -967,22 +964,25 @@
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr "Impossibile indicizzare la mail qui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr "? gia' stato indicizzato"
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr "e' blacklistato"
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "Nessun titolo"
+
+#~ msgid "Extract"
+#~ msgstr "Estrai"

Modified: trunk/po/ja.po
===================================================================
--- trunk/po/ja.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/ja.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-05-08 02:15+0000\n"
 "Last-Translator: Takeo Mizuki <Unknown>\n"
 "Language-Team: Japanese <ja at li.org>\n"
@@ -21,7 +21,8 @@
 msgid "Search Engines"
 msgstr "??????"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 msgid "Current User"
 msgstr "???????"
 
@@ -29,24 +30,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "????????"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "????????"
 
@@ -92,7 +93,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "??"
@@ -138,264 +139,264 @@
 msgid "Helper application"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "??"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 msgid "Add an index"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 msgid "Remove an index"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 msgid "Add a query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 msgid "Remove a query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr "??????????????"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "?????????????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 msgid "Don't warn me again"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "???????"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr "??:"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr "??????:"
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr "?????????????"
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 msgid "In Results"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 msgid "Showing"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr "of"
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 #, fuzzy
 msgid "documents, starting at"
 msgstr "??????????:"
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr "on"
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr "????????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 msgid "is already in use"
 msgstr "??????????"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 msgid "Export Results"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "??????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr "????????????????!"
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr ""
 "?????????????????????????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr "??????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "????Google API???????????"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "??????????????????????????????"
 
@@ -571,55 +572,55 @@
 msgstr "????????????????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "???"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr "???"
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr "???????????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "??????????????????"
 
@@ -743,12 +744,12 @@
 msgstr "???????"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr "????"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "URL"
 
@@ -773,7 +774,7 @@
 msgstr "???"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 msgid "Date"
 msgstr "??"
 
@@ -828,14 +829,10 @@
 msgstr "?????????"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 msgid "Score"
 msgstr "???"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr "??"
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 msgid "Indexes"
 msgstr "??????"
@@ -950,22 +947,25 @@
 msgid "No monitoring handler"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr "???????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "??????"
+
+#~ msgid "Extract"
+#~ msgstr "??"

Modified: trunk/po/nl.po
===================================================================
--- trunk/po/nl.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/nl.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-01-15 00:13+0000\n"
 "Last-Translator: JW <jw00000 at gmail.com>\n"
 "Language-Team: Dutch <nl at li.org>\n"
@@ -20,7 +20,8 @@
 msgid "Search Engines"
 msgstr "Zoekmachines"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 msgid "Current User"
 msgstr "Huidige gebruiker"
 
@@ -28,24 +29,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "Mijn webpagina's"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Mijn documenten"
 
@@ -91,7 +92,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Geen"
@@ -137,264 +138,264 @@
 msgid "Helper application"
 msgstr "Hulptoepassing"
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr "Querynaam"
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "Laatst geopend"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "Samenvatting"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "Toon alle zoekmachines"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr "Zoeken naar documenten die aan de zoekopdracht voldoen"
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 msgid "Add an index"
 msgstr "Een index toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 msgid "Remove an index"
 msgstr "Een index verwijderen"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 msgid "Add a query"
 msgstr "Zoekopdracht toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 msgid "Remove a query"
 msgstr "Een zoekopdracht verwijderen"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr "De vorige resultaten van de zoekopdracht weergeven"
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr "Zoeken naar documenten die aan de zoekopdracht voldoen"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "Gereed"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr ""
 "Het is aangeraden alle documenten in \"Mijn webpagina's\" te vernieuwen"
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 #, fuzzy
 msgid "Don't warn me again"
 msgstr "Kon index niet hernoemen"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Verversen"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr "NVT"
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 msgid "Undefined"
 msgstr "Niet gedefinieerd"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Rechtstreekse query"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr "Uitvoerlocatie is"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr "Documentlocatie is"
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr "Kon query niet vinden"
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 msgid "In Results"
 msgstr "In de resultaten"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 msgid "Showing"
 msgstr "Aan het tonen"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr "van"
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
 msgstr "documenten, beginnend bij"
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr "Query"
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr "op"
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr "Beeindigd"
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr "Gecorrigeerd"
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr "Meer zoals"
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr "Vernieuwde na(a)m(en)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "Vernieuwd document"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "Geindexeerd"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "Niet geindexeerd(e) document(en)"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr "Kon index niet hernoemen, naam"
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 msgid "is already in use"
 msgstr "is reeds in gebruik"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "Kon index niet hernoemen"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr "Bewerkte index"
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 msgid "Export Results"
 msgstr "Resultaten exporteren"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "Inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "bestaat niet"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "Verwijder dit document uit de inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "Verwijder deze documenten uit de inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "De-indexeren"
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Een metazoek tool voor de Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr "Zoek het web en uw documenten!"
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "Naam inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "Kon inhoudsopgave niet toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "Nieuwe inhoudsopgave toegevoegd"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "Kon inhoudsopgave niet verwijderen"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "Geen geschiedenis voor"
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Tenminste een taak is nog niet gereed. Nu stoppen?"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr "Naam query"
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr "Kon query niet actualiseren"
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr "Bewerkte query"
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr "Kon query niet toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr "Nieuwe query toegevoegd"
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr "Query niet vastgelegd"
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "Geen zoekmachine geselecteerd"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "Geef eerst de Google API sleutel in"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr "Lopende query"
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "Geen standaard toepassing gedefinieerd voor het type"
 
@@ -570,55 +571,55 @@
 msgstr "Kon historische database niet maken"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "Belangrijk"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "Nieuw"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "Persoonlijk"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr "Ik"
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr "Niet geclassificeerd"
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "Naam"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "Observeren"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "Locatie"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr "Patroon"
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr "Deze patronen niet indexeren"
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr "Enkel deze patronen indexeren"
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr "Nieuwe naam"
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "Directory naar inhoudsopgave"
 
@@ -744,12 +745,12 @@
 msgstr "Bestandsextensie"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr "Titel"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "URL"
 
@@ -774,7 +775,7 @@
 msgstr "Bijschrift"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 msgid "Date"
 msgstr "Datum"
 
@@ -829,14 +830,10 @@
 msgstr "Queryparameters"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 msgid "Score"
 msgstr "Score"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr "Uitpakken"
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 msgid "Indexes"
 msgstr "Indexen"
@@ -951,22 +948,25 @@
 msgid "No monitoring handler"
 msgstr "Geen monitoring handler"
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr "Kan mail hier niet indexeren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr "wordt al geindexeerd"
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr "staat op blacklist"
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "Geen titel"
+
+#~ msgid "Extract"
+#~ msgstr "Uitpakken"

Modified: trunk/po/pt.po
===================================================================
--- trunk/po/pt.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/pt.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-01-15 00:12+0000\n"
 "Last-Translator: _PN_boy <pedro_nuno_pn at iol.pt>\n"
 "Language-Team: Portuguese <pt at li.org>\n"
@@ -20,7 +20,8 @@
 msgid "Search Engines"
 msgstr "Motores de pesquisa"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 #, fuzzy
 msgid "Current User"
 msgstr "Utilizador corrente"
@@ -29,24 +30,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "As minhas p?ginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Os Meus Documentos"
 
@@ -92,7 +93,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Nenhum"
@@ -138,269 +139,269 @@
 msgid "Helper application"
 msgstr "Aplica??o"
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr "Nome da Consulta"
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "?ltima execu??o"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "Resumo"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "Mostrar todos os motores de pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 #, fuzzy
 msgid "Add an index"
 msgstr "Adicionar index"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 #, fuzzy
 msgid "Remove an index"
 msgstr "Remover index"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 #, fuzzy
 msgid "Add a query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 #, fuzzy
 msgid "Remove a query"
 msgstr "Consulta activa"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "A actualizar todos os documentos nas Minhas P?ginas Web ? recomendado"
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 #, fuzzy
 msgid "Don't warn me again"
 msgstr "N?o foi poss?vel renomear o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Actualizar"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr "N/D"
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 msgid "Undefined"
 msgstr "Indefinido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Consulta activa"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr "A localiza??o do resultado ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr "A localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr "N?o foi poss?vel encontrar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 #, fuzzy
 msgid "In Results"
 msgstr "resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 msgid "Showing"
 msgstr "Visualizando"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
 msgstr "documentos, come?ando em"
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr "Pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr "activar"
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr "terminado"
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr "Mais identico"
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "Documento actualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear o ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 #, fuzzy
 msgid "Export Results"
 msgstr "resultados"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "Remover este documento do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "Remover estes documentos do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca para o Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr "Pesquise a Web e os seus documentos"
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "N?o foi possivel remover o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa ainda n?o foi concluida. Sair agora?"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel actualizar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr "Consulta n?o foi actualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa seleccionado"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "Primeiro escolha a tecla para a API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr "A executar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "Nenhuma aplica??o associada ao tipo"
 
@@ -577,55 +578,55 @@
 msgstr "N?o foi poss?vel criar base de dados do hist?rico"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "Novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr "N?o classificado"
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "Nome :"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "Supervisar"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "Localiza??o"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr "Padr?o:"
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr "Novo t?tulo"
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "Direct?rio a indexar"
 
@@ -752,12 +753,12 @@
 msgstr "Extens?o do ficheiro"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr "Titulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "URL"
 
@@ -782,7 +783,7 @@
 msgstr "Etiqueta"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 msgid "Date"
 msgstr "Data"
 
@@ -839,14 +840,10 @@
 msgstr "Par?metros da consulta"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 msgid "Score"
 msgstr "Pontua??o"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr "Extrair"
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 msgid "Indexes"
 msgstr "?ndices"
@@ -968,22 +965,25 @@
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr "N?o foi poss?vel indexar o mail aqui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr "j? est? a ser indexado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "Sem t?tulo"
+
+#~ msgid "Extract"
+#~ msgstr "Extrair"

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/pt_BR.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-01-15 00:15+0000\n"
 "Last-Translator: Leonardo Melo <leonardovazmelo at gmail.com>\n"
 "Language-Team: Portuguese (Brazil) <pt_BR at li.org>\n"
@@ -20,7 +20,8 @@
 msgid "Search Engines"
 msgstr "Mecanismos de Pesquisa"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 msgid "Current User"
 msgstr "Usu?rio atual"
 
@@ -28,24 +29,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "Minhas P?ginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Meus Documentos"
 
@@ -92,7 +93,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Nenhum"
@@ -136,270 +137,270 @@
 msgid "Helper application"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "?ltimo executado"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "Resumo"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "Mostrar todos mecanimos de pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 #, fuzzy
 msgid "Add an index"
 msgstr "Adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 #, fuzzy
 msgid "Remove an index"
 msgstr "Remover ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 #, fuzzy
 msgid "Add a query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 #, fuzzy
 msgid "Remove a query"
 msgstr "Query ativa"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 #, fuzzy
 msgid "Don't warn me again"
 msgstr "N?o foi poss?vel renomear ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Atualizar"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 #, fuzzy
 msgid "Undefined"
 msgstr "<indefinido>"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Query ativa"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr "Local resultante ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr "Localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr "N?o foi poss?vel encontrar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 #, fuzzy
 msgid "In Results"
 msgstr "_Resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 msgid "Showing"
 msgstr "Exibindo"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
 msgstr "documentos, come?am no"
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr "Consulta"
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr "no"
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr "finalizada"
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr "Mais pr?xima"
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "Documento atualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexidado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 #, fuzzy
 msgid "Export Results"
 msgstr "_Resultados"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "Remover documento do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "Remover documentos do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca gr?tis para Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "N?o foi poss?vel remover ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa n?o terminou ainda. Sair assim mesmo?"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel atualizar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr "Consulta n?o foi atualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa selecionado"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "Primeiro informe a tecla para Google API"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr "Executando consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "Aplica??o associada ao tipo n?o definida"
 
@@ -577,55 +578,55 @@
 msgstr "N?o foi poss?vel criar base de hist?rico"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "Novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr "N?o classificado"
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "Nome"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "Monitor"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "Localiza??o"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr "Conjunto"
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr "Novo t?tulo"
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "Diret?rio do ?ndice"
 
@@ -755,12 +756,12 @@
 msgstr "Extens?o do arquivo"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr "T?tulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "URL"
 
@@ -785,7 +786,7 @@
 msgstr "T?tulo"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 #, fuzzy
 msgid "Date"
 msgstr "no"
@@ -844,14 +845,10 @@
 msgstr "Par?metros da consulta"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 msgid "Score"
 msgstr "Pontua??o"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr "Extrair"
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 #, fuzzy
 msgid "Indexes"
@@ -977,22 +974,25 @@
 msgid "No monitoring handler"
 msgstr "Nenhum manipulador de monitoramento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr "N?o foi poss?vel indexar mail aqui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr "j? est? sendo indexado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "Sem t?tulo"
+
+#~ msgid "Extract"
+#~ msgstr "Extrair"

Modified: trunk/po/ru.po
===================================================================
--- trunk/po/ru.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/ru.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-01-15 00:16+0000\n"
 "Last-Translator: Sergey Vostrikov <s.vostrikov at gmail.com>\n"
 "Language-Team: Russian <ru at li.org>\n"
@@ -20,7 +20,8 @@
 msgid "Search Engines"
 msgstr "????????? ??????"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 msgid "Current User"
 msgstr "??????? ????????????"
 
@@ -28,24 +29,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "??? web-????????"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "??? ?????????"
 
@@ -92,7 +93,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "???"
@@ -136,270 +137,270 @@
 msgid "Helper application"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "????????? ?????????"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "??????"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "??? ????????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 #, fuzzy
 msgid "Add an index"
 msgstr "???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 #, fuzzy
 msgid "Remove an index"
 msgstr "??????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 #, fuzzy
 msgid "Add a query"
 msgstr "???????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 #, fuzzy
 msgid "Remove a query"
 msgstr "???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 #, fuzzy
 msgid "Don't warn me again"
 msgstr "?????????? ????????????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 #, fuzzy
 msgid "Undefined"
 msgstr "<??????????????>"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "???????? ??????"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr "??????? ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr "???????????? ?????????"
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr "?????????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 #, fuzzy
 msgid "In Results"
 msgstr "_?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 msgid "Showing"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
 msgstr "??????????, ??????? ?"
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr "?????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr "????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr "????????? ????? (??)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "??????????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "?????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "?? ????????????? ??????????"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr "?????????? ????????????? ??????, ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 msgid "is already in use"
 msgstr "??? ????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "?????????? ????????????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr "?????????????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 #, fuzzy
 msgid "Export Results"
 msgstr "_?????????"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "??????? ???????? ?? ??????? ?"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "??????? ??? ????????? ?? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "?????????? ?????????? ??? ?????????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "???????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "???????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "?????????? ??????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?? ??????? ???? ???? ?????? ??? ?? ?????????. ????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr "???????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr "?????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr "???????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr "?????? ?? ??????????"
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "?? ???? ????????? ??????? ?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "??????????, ??????? ????????????? ???? Google API"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr "?????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "?? ???? ?????????? ?? ????????? ?? ?????????? ??? ???? ??????????"
 
@@ -577,55 +578,55 @@
 msgstr "?? ??????? ??????? ???? ?????? ???????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "?????"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "???????"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "??????"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr "??????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "???"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "?????????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr "????? ?????"
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "????? ??? ??????????????"
 
@@ -751,12 +752,12 @@
 msgstr "?????????? ?????"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr "????????"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "URL"
 
@@ -781,7 +782,7 @@
 msgstr "?????"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 #, fuzzy
 msgid "Date"
 msgstr "?"
@@ -840,14 +841,10 @@
 msgstr "????????? ???????"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 msgid "Score"
 msgstr "????"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr "??????????"
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 #, fuzzy
 msgid "Indexes"
@@ -973,22 +970,25 @@
 msgid "No monitoring handler"
 msgstr "??? ???????? ???????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr "?????? ????????????? ????? ?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr "??? ??????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr "??????????? ? ?????? ??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "??? ????????"
+
+#~ msgid "Extract"
+#~ msgstr "??????????"

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/sv.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-01-15 00:10+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
@@ -21,7 +21,8 @@
 msgid "Search Engines"
 msgstr "S?kmotorer"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 msgid "Current User"
 msgstr "Aktuell anv?ndare"
 
@@ -29,24 +30,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "Mina webbsidor"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Mina dokument"
 
@@ -92,7 +93,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "Ingen"
@@ -138,262 +139,262 @@
 msgid "Helper application"
 msgstr "Hj?lpprogram"
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr "Fr?genamn"
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "Senaste k?rning"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "Sammandrag"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "Visa alla s?kmotorer"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr "S?k dokument som matchar fr?gestr?ngen"
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 msgid "Add an index"
 msgstr "L?gg till ett index"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 msgid "Remove an index"
 msgstr "Ta bort ett index"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 msgid "Add a query"
 msgstr "L?gg till en ny fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 msgid "Remove a query"
 msgstr "Ta bort en fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr "Visa fr?gans tidigare resultat"
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr "S?k dokument som matchar fr?gan"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "Redo"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "Uppdatering av alla dokument i Mina webbsidor rekommenderas"
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 msgid "Don't warn me again"
 msgstr "Varna mig inte om detta igen"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Uppdatera"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr "-"
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 msgid "Undefined"
 msgstr "Odefinierad"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr "Levande fr?ga"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr "Resultatplatsen ?r"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr "Dokumentplatsen ?r"
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr "Kunde inte hitta fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 msgid "In Results"
 msgstr "I resultat"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 msgid "Showing"
 msgstr "Visar"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr "av"
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
 msgstr "dokument, b?rjar med"
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr "Fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr "p?"
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr "slutade"
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr "R?ttad"
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr "Kanske mer som"
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr "Uppdaterade etikett(er)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "Uppdaterade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "Indexerade"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "Ej indexerade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr "Kunde inte byta namn p? index, namn"
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 msgid "is already in use"
 msgstr "anv?nds redan"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "Kunde inte byta namn p? index"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr "Redigerade index"
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 msgid "Export Results"
 msgstr "Exportera resultat"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "Index"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "finns inte"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "Ta bort detta dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "Ta bort dessa dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Avindexera"
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Ett metas?kningsverktyg f?r Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr "S?k p? webben och i dina dokument!"
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "Indexnamn"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "Kunde inte l?gga till index"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "Lade till nytt index"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "Kunde inte ta bort index"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr "Ingen historik f?r"
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?tminstone en uppgift har inte f?rdigst?llts ?n. Avsluta nu?"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr "Avsluta"
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr "Fr?genamn"
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr "Kunde inte uppdatera fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr "Redigerade fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr "Kunde inte l?gga till fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr "Lade till ny fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr "Fr?gan ?r inte inst?lld"
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "Ingen s?kmotor vald"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "St?ll in Google API-nyckeln f?rst"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr "K?r fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "Inget standardprogram definierat f?r typen"
 
@@ -569,55 +570,55 @@
 msgstr "Kunde inte skapa historikdatabas"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "Viktigt"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "Ny"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "Personlig"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr "Jag"
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr "Oklassificerad"
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "Namn"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "?vervaka"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "Plats"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr "M?nster"
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr "Undanta dessa m?nster fr?n indexering"
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr "Indexera endast dessa m?nster"
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr "Ny etikett"
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "Katalog f?r index"
 
@@ -742,12 +743,12 @@
 msgstr "Fil?ndelse"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr "Titel"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "Url"
 
@@ -772,7 +773,7 @@
 msgstr "Etikett"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 msgid "Date"
 msgstr "Datum"
 
@@ -827,14 +828,10 @@
 msgstr "Fr?geparametrar"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 msgid "Score"
 msgstr "Betyg"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr "Utdrag"
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 msgid "Indexes"
 msgstr "Index"
@@ -949,22 +946,25 @@
 msgid "No monitoring handler"
 msgstr "Ingen ?vervakningshanterare"
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr "Kan inte indexera post h?r"
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr "h?ller redan p? att bli indexerad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr "?r svartlistad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "Ingen titel"
+
+#~ msgid "Extract"
+#~ msgstr "Utdrag"

Modified: trunk/po/zh_CN.po
===================================================================
--- trunk/po/zh_CN.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/zh_CN.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-03-24 14:32+0800\n"
 "Last-Translator: Ashlee Ma <ashlee8310 at hotmail.com>\n"
 "MIME-Version: 1.0\n"
@@ -17,7 +17,8 @@
 msgid "Search Engines"
 msgstr "????"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 msgid "Current User"
 msgstr "??????"
 
@@ -25,24 +26,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "????"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "????"
 
@@ -88,7 +89,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "?"
@@ -132,269 +133,269 @@
 msgid "Helper application"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "??"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 #, fuzzy
 msgid "Add an index"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 #, fuzzy
 msgid "Remove an index"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 #, fuzzy
 msgid "Add a query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 #, fuzzy
 msgid "Remove a query"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "???????????????"
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 #, fuzzy
 msgid "Don't warn me again"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr ""
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr "?????"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 #, fuzzy
 msgid "In Results"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 msgid "Showing"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr "?????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 msgid "is already in use"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 #, fuzzy
 msgid "Export Results"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Free Desktop ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr "???????????"
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "????Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "????????????"
 
@@ -571,55 +572,55 @@
 msgstr "?????????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "???"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "???"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr "?????????"
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr "????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "?????"
 
@@ -744,12 +745,12 @@
 msgstr "???"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr "??"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "??"
 
@@ -774,7 +775,7 @@
 msgstr "??"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 msgid "Date"
 msgstr "??"
 
@@ -833,14 +834,10 @@
 msgstr "?????"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 msgid "Score"
 msgstr "??"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr ""
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 msgid "Indexes"
 msgstr "??"
@@ -961,22 +958,22 @@
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr "?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "???"

Modified: trunk/po/zh_TW.po
===================================================================
--- trunk/po/zh_TW.po	2008-07-19 10:49:20 UTC (rev 1307)
+++ trunk/po/zh_TW.po	2008-07-19 10:56:13 UTC (rev 1308)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.86\n"
+"Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-06-20 08:52+0800\n"
+"POT-Creation-Date: 2008-07-19 16:20+0800\n"
 "PO-Revision-Date: 2008-01-15 00:13+0000\n"
 "Last-Translator: Yung-chung Lin <henearkrxern at gmail.com>\n"
 "Language-Team: Traditional Chinese <zh_TW at li.org>\n"
@@ -21,7 +21,8 @@
 msgid "Search Engines"
 msgstr "????"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:250 UI/GTK2/src/PinotSettings.cpp:342
+#: UI/GTK2/src/PinotSettings.cpp:348
 msgid "Current User"
 msgstr "??????"
 
@@ -29,24 +30,24 @@
 #. Add a row to the index tree
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:767
-#: UI/GTK2/src/mainWindow.cc:991 UI/GTK2/src/mainWindow.cc:1287
-#: UI/GTK2/src/mainWindow.cc:1437 UI/GTK2/src/mainWindow.cc:1440
-#: UI/GTK2/src/mainWindow.cc:1532 UI/GTK2/src/mainWindow.cc:1568
-#: UI/GTK2/src/mainWindow.cc:1590 UI/GTK2/src/mainWindow.cc:2301
-#: UI/GTK2/src/PinotSettings.cpp:323 UI/GTK2/src/PinotSettings.cpp:1474
-#: UI/GTK2/src/PinotSettings.cpp:1530 UI/GTK2/src/statisticsDialog.cc:79
-#: UI/GTK2/src/WorkerThreads.cpp:1009
+#: UI/GTK2/src/EnginesTree.cpp:355 UI/GTK2/src/mainWindow.cc:861
+#: UI/GTK2/src/mainWindow.cc:1085 UI/GTK2/src/mainWindow.cc:1381
+#: UI/GTK2/src/mainWindow.cc:1531 UI/GTK2/src/mainWindow.cc:1534
+#: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
+#: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
+#: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "????"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:770
-#: UI/GTK2/src/mainWindow.cc:985 UI/GTK2/src/mainWindow.cc:1291
-#: UI/GTK2/src/mainWindow.cc:1448 UI/GTK2/src/mainWindow.cc:1451
-#: UI/GTK2/src/mainWindow.cc:2305 UI/GTK2/src/PinotSettings.cpp:324
-#: UI/GTK2/src/PinotSettings.cpp:1475 UI/GTK2/src/PinotSettings.cpp:1531
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1019
+#: UI/GTK2/src/EnginesTree.cpp:356 UI/GTK2/src/mainWindow.cc:864
+#: UI/GTK2/src/mainWindow.cc:1079 UI/GTK2/src/mainWindow.cc:1385
+#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
+#: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
+#: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "????"
 
@@ -92,7 +93,7 @@
 
 #. Stemming language
 #. Labels
-#: UI/GTK2/src/importDialog.cc:73 UI/GTK2/src/queryDialog.cc:140
+#: UI/GTK2/src/importDialog.cc:101 UI/GTK2/src/queryDialog.cc:140
 #: UI/GTK2/src/queryDialog.cc:156
 msgid "None"
 msgstr "?"
@@ -136,269 +137,269 @@
 msgid "Helper application"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:166
+#: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:171
+#: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:176
+#: UI/GTK2/src/mainWindow.cc:177
 msgid "Summary"
 msgstr "??"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:206
+#: UI/GTK2/src/mainWindow.cc:220
 msgid "Show all search engines"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:207
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:208
+#: UI/GTK2/src/mainWindow.cc:222
 #, fuzzy
 msgid "Add an index"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:209
+#: UI/GTK2/src/mainWindow.cc:223
 #, fuzzy
 msgid "Remove an index"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:210
+#: UI/GTK2/src/mainWindow.cc:224
 #, fuzzy
 msgid "Add a query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:225
 #, fuzzy
 msgid "Remove a query"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:213
+#: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:232
+#: UI/GTK2/src/mainWindow.cc:246
 msgid "Ready"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:244
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
 msgstr "???????????????"
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:266
 #, fuzzy
 msgid "Don't warn me again"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:260 UI/GTK2/src/mainWindow_glade.cc:224
+#: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:316
+#: UI/GTK2/src/mainWindow.cc:330
 msgid "N/A"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:336
+#: UI/GTK2/src/mainWindow.cc:350
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:559 UI/GTK2/src/mainWindow.cc:2685
+#: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
 msgstr ""
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:699
+#: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
 msgstr "??????"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:781
+#: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:967 UI/GTK2/src/mainWindow.cc:2126
+#: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:981
+#: UI/GTK2/src/mainWindow.cc:1075
 #, fuzzy
 msgid "In Results"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1171
+#: UI/GTK2/src/mainWindow.cc:1265
 msgid "Showing"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1176
+#: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1181
+#: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1223
+#: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1227 UI/GTK2/src/mainWindow.cc:3273
+#: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1231
+#: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1237
+#: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1458
+#: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
 msgstr "?????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1630
+#: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
 msgid "Updated document"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1555
+#: UI/GTK2/src/mainWindow.cc:1649
 msgid "Indexed"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1591
+#: UI/GTK2/src/mainWindow.cc:1685
 msgid "Unindexed document(s)"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1692 UI/GTK2/src/mainWindow.cc:2509
-#: UI/GTK2/src/mainWindow.cc:3079
+#: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
+#: UI/GTK2/src/mainWindow.cc:3173
 msgid "is already in use"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1705
+#: UI/GTK2/src/mainWindow.cc:1802
 msgid "Couldn't rename index"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1718
+#: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2046
+#: UI/GTK2/src/mainWindow.cc:2140
 #, fuzzy
 msgid "Export Results"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2318
+#: UI/GTK2/src/mainWindow.cc:2412
 msgid "Index"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:2322
+#: UI/GTK2/src/mainWindow.cc:2416
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2393
+#: UI/GTK2/src/mainWindow.cc:2487
 msgid "Remove this document from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2412
+#: UI/GTK2/src/mainWindow.cc:2506
 msgid "Remove these documents from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2417 UI/GTK2/src/mainWindow_glade.cc:227
+#: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2459
+#: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Free Desktop ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2460
+#: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2505
+#: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2520
+#: UI/GTK2/src/mainWindow.cc:2614
 msgid "Couldn't add index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2536
+#: UI/GTK2/src/mainWindow.cc:2630
 msgid "Added new index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2571
+#: UI/GTK2/src/mainWindow.cc:2665
 msgid "Couldn't remove index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2774
+#: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2890
+#: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2892
+#: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3075
+#: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:3102
+#: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3113
+#: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3120
+#: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3128
+#: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3162
+#: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3173
+#: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3260
+#: UI/GTK2/src/mainWindow.cc:3354
 msgid "Please set the Google API key first"
 msgstr "????Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3269
+#: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3482
+#: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
 msgstr "????????????"
 
@@ -575,55 +576,55 @@
 msgstr "?????????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:329
+#: UI/GTK2/src/PinotSettings.cpp:365
 msgid "Important"
 msgstr "???"
 
-#: UI/GTK2/src/PinotSettings.cpp:330
+#: UI/GTK2/src/PinotSettings.cpp:366
 msgid "New"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:331
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Personal"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:351
+#: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1270
+#: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:83
+#: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:91
+#: UI/GTK2/src/prefsDialog.cc:113
 msgid "Monitor"
 msgstr "???"
 
-#: UI/GTK2/src/prefsDialog.cc:92
+#: UI/GTK2/src/prefsDialog.cc:114
 msgid "Location"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:100
+#: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog.cc:333
+#: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
 msgstr "?????????"
 
-#: UI/GTK2/src/prefsDialog.cc:334
+#: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
 msgstr "????????????"
 
-#: UI/GTK2/src/prefsDialog.cc:483
+#: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
 msgstr "????"
 
-#: UI/GTK2/src/prefsDialog.cc:524
+#: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
 msgstr "?????"
 
@@ -748,12 +749,12 @@
 msgstr "???"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:132
+#: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
 msgstr "??"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:142
+#: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
 msgid "URL"
 msgstr "??"
 
@@ -778,7 +779,7 @@
 msgstr "??"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:150
+#: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
 msgid "Date"
 msgstr "??"
 
@@ -837,14 +838,10 @@
 msgstr "?????"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:121
+#: UI/GTK2/src/ResultsTree.cpp:131
 msgid "Score"
 msgstr "??"
 
-#: UI/GTK2/src/ResultsTree.cpp:179
-msgid "Extract"
-msgstr ""
-
 #: UI/GTK2/src/statisticsDialog.cc:76
 msgid "Indexes"
 msgstr "??"
@@ -965,22 +962,22 @@
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:416
+#: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:450 UI/GTK2/src/WorkerThreads.cpp:715
+#: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:460
+#: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
 msgstr "?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"
 msgstr "???"



From fabricecolin at mail.berlios.de  Sat Jul 19 13:00:28 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 13:00:28 +0200
Subject: [Pinot-svn] r1310 - trunk
Message-ID: <200807191100.m6JB0SJZ031951@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 13:00:19 +0200 (Sat, 19 Jul 2008)
New Revision: 1310

Modified:
   trunk/NEWS
   trunk/TODO
Log:
This release's details.


Modified: trunk/NEWS
===================================================================
--- trunk/NEWS	2008-07-19 10:58:19 UTC (rev 1309)
+++ trunk/NEWS	2008-07-19 11:00:19 UTC (rev 1310)
@@ -1,3 +1,29 @@
+2008/07/20 version_0_8_7
+General :
+ - install the Amazon API plugin with other plugins
+Collect :
+ - obey META REFRESH if set
+Search :
+ - basic Xesam back-end based on xesam-glib. Enable with configure's option
+  --enable-xesam-glib
+ - in plugins, setting a value to "EDIT:description" makes it editable and
+  allows to assign it a value at search time
+ - pinot-search can set editable parameters with -e/--seteditable 
+Xapian :
+ - skip very short non-CJKV terms when expanding queries.
+ - fixed mangling of some CJKV queries
+ - abstract generation is less skewed towards common terms
+UI :
+ - support for drag-n-drop to the stored queries list. Dropping a file will
+  create a query to look for similar documents. Dropping text will create a new
+  query set to that text.
+ - preferences let the user edit all editable parameters defined in the plugins.
+  They are saved to the configuration file.
+ - extracts can be selected, copied and dropped onto the queries list to create
+  new queries
+ - let foreground threads run for a minute max
+ - search-only backends (such as Xesam) will appear in the Current User channel
+
 2008/06/21 version_0_8_6
 General :
  - make manuals generates the manuals with help2man

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-07-19 10:58:19 UTC (rev 1309)
+++ trunk/TODO	2008-07-19 11:00:19 UTC (rev 1310)
@@ -54,6 +54,7 @@
 - getCloseTerms() should be a search engine method so that WebEngine can use plugins'
  suggestions Url field (http://developer.mozilla.org/en/docs/Supporting_search_suggestions_in_search_plugins)
 - pinot-search should be able to run stored queries, as found in the configuration file
+- Move the Google API code into a search-only backend
 
 Index
 - Play around with the XAPIAN_FLUSH_THRESHOLD env var
@@ -70,6 +71,7 @@
 - Indexes have no knowledge of indexId's
 - Send a signal when crawling is done so that the UI can reopen the index
 - Be ready to catch DatabaseModifiedError exceptions and reopen the index
+- Associate URIs or IDs to labels to avoid expensive find and replace operations when they are renamed
 
 Mail
 - Find out what kind of locking scheme Mozilla uses (POSIX lock ?) and use that
@@ -107,4 +109,6 @@
 - Delete all temporary files when exiting
 - Query expansion should be interactive
 - Default cache provider should be configurable
+- Reorganize menus so that More Like This, Search This For etc... are available
+ on all documents, whether a result or from an index
 



From fabricecolin at mail.berlios.de  Sat Jul 19 13:12:08 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 13:12:08 +0200
Subject: [Pinot-svn] r1311 - trunk
Message-ID: <200807191112.m6JBC899015661@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 13:11:52 +0200 (Sat, 19 Jul 2008)
New Revision: 1311

Modified:
   trunk/ChangeLog
   trunk/ChangeLog-dijon
Log:
Current logs.


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2008-07-19 11:00:19 UTC (rev 1310)
+++ trunk/ChangeLog	2008-07-19 11:11:52 UTC (rev 1311)
@@ -1,4 +1,237 @@
 ------------------------------------------------------------------------
+r1310 | fabricecolin | 2008-07-19 19:00:19 +0800 (Sat, 19 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/NEWS
+   M /trunk/TODO
+
+This release's details.
+
+------------------------------------------------------------------------
+r1309 | fabricecolin | 2008-07-19 18:58:19 +0800 (Sat, 19 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/pinot.desktop
+
+Provide a comment for ru... in English, because it's not been translated yet.
+
+------------------------------------------------------------------------
+r1308 | fabricecolin | 2008-07-19 18:56:13 +0800 (Sat, 19 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/po/de.po
+   M /trunk/po/es.po
+   M /trunk/po/fr.po
+   M /trunk/po/it.po
+   M /trunk/po/ja.po
+   M /trunk/po/nl.po
+   M /trunk/po/pt.po
+   M /trunk/po/pt_BR.po
+   M /trunk/po/ru.po
+   M /trunk/po/sv.po
+   M /trunk/po/zh_CN.po
+   M /trunk/po/zh_TW.po
+
+Current ranslations.
+
+------------------------------------------------------------------------
+r1307 | fabricecolin | 2008-07-19 18:49:20 +0800 (Sat, 19 Jul 2008) | 4 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/AbstractGenerator.cpp
+   M /trunk/IndexSearch/pinot-index.cpp
+
+AbstractGenerator ignores the current term's other positions when weighting
+abstract windows.
+pinot-index only lists index-capable backends.
+
+------------------------------------------------------------------------
+r1306 | fabricecolin | 2008-07-19 18:47:28 +0800 (Sat, 19 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/pinot-index.1
+   M /trunk/IndexSearch/pinot-label.1
+   M /trunk/IndexSearch/pinot-search.1
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.1
+   M /trunk/UI/GTK2/src/pinot.1
+   M /trunk/configure.in
+
+Bumped version number to 0.87, updated manual pages.
+
+------------------------------------------------------------------------
+r1305 | fabricecolin | 2008-07-19 17:59:53 +0800 (Sat, 19 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/Makefile.am
+
+Don't move AmazonAPI out of the engines directory.
+
+------------------------------------------------------------------------
+r1304 | fabricecolin | 2008-07-19 17:58:39 +0800 (Sat, 19 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/Collect/CurlDownloader.cpp
+
+Follow META REFRESH if set.
+
+------------------------------------------------------------------------
+r1303 | fabricecolin | 2008-07-19 17:29:42 +0800 (Sat, 19 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/XesamGLib/XesamEngine.cpp
+
+Fixed UL/QL mixup.
+
+------------------------------------------------------------------------
+r1302 | fabricecolin | 2008-07-19 14:44:20 +0800 (Sat, 19 Jul 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/XesamGLib/XesamEngine.cpp
+
+Extract hits data, turn live search off, set the maximum number of results and
+abort the search after a few seconds.
+
+------------------------------------------------------------------------
+r1301 | fabricecolin | 2008-07-19 14:24:35 +0800 (Sat, 19 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.h
+   M /trunk/UI/GTK2/src/mainWindow.cc
+
+The UI will let foreground threads run for up to a minute.
+
+------------------------------------------------------------------------
+r1300 | fabricecolin | 2008-07-18 23:21:09 +0800 (Fri, 18 Jul 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/EnginesTree.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+
+Add search-only backends to the Current User channel and make sure it stays at
+the bottom of the engines tree.
+
+------------------------------------------------------------------------
+r1299 | fabricecolin | 2008-07-18 21:28:33 +0800 (Fri, 18 Jul 2008) | 6 lines
+Changed paths:
+   M /trunk/IndexSearch/PluginWebEngine.cpp
+   M /trunk/IndexSearch/Plugins/AmazonAPI.src
+   M /trunk/IndexSearch/SherlockParser.cpp
+   M /trunk/IndexSearch/pinot-search.cpp
+
+pinot-search can set a plugin editable parameter with -e/--seteditable.
+PluginWebEngine will output an error message if an editable parameter has no
+value.
+The Sherlock parser lower-cased input parameters for no specific reason.
+Moved the Amazon API plugin to the Shopping channel.
+
+------------------------------------------------------------------------
+r1298 | fabricecolin | 2008-07-13 21:51:08 +0800 (Sun, 13 Jul 2008) | 4 lines
+Changed paths:
+   M /trunk/UI/GTK2/metase-gtk2.glade
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+   M /trunk/UI/GTK2/src/PinotSettings.h
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/prefsDialog.cc
+   M /trunk/UI/GTK2/src/prefsDialog.hh
+   M /trunk/UI/GTK2/src/prefsDialog_glade.cc
+   M /trunk/UI/GTK2/src/prefsDialog_glade.hh
+
+Preferences let the user edit all editable parameters defined in the plugins.
+Values are saved to and loaded from the configuration file, and are passed to
+WebEngine-derived search engines.
+
+------------------------------------------------------------------------
+r1297 | fabricecolin | 2008-07-13 21:46:53 +0800 (Sun, 13 Jul 2008) | 8 lines
+Changed paths:
+   M /trunk/IndexSearch/ModuleFactory.cpp
+   M /trunk/IndexSearch/OpenSearchParser.cpp
+   M /trunk/IndexSearch/OpenSearchParser.h
+   M /trunk/IndexSearch/PluginParsers.h
+   M /trunk/IndexSearch/PluginWebEngine.cpp
+   M /trunk/IndexSearch/PluginWebEngine.h
+   M /trunk/IndexSearch/Plugins/A9.src
+   M /trunk/IndexSearch/Plugins/AmazonAPI.src
+   A /trunk/IndexSearch/Plugins/YahooBOSS.src
+   M /trunk/IndexSearch/SearchPluginProperties.cpp
+   M /trunk/IndexSearch/SearchPluginProperties.h
+   M /trunk/IndexSearch/SherlockParser.cpp
+   M /trunk/IndexSearch/SherlockParser.h
+   M /trunk/IndexSearch/WebEngine.cpp
+   M /trunk/IndexSearch/WebEngine.h
+
+Plugins may define user-editable parameters by setting values to
+EDIT:description. This is designed to let the user specify his/her own ID or
+key for the Amazon API or the new Yahoo! BOSS API without having to edit
+plugins.
+For Sherlock plugins that don't specify a USER INPUT, append the query terms to
+the action URL.
+Always set input and output encodings, if defined, to UTF-8.
+
+------------------------------------------------------------------------
+r1296 | fabricecolin | 2008-07-11 14:21:03 +0800 (Fri, 11 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/README
+
+Clarify some inaccuracies.
+
+------------------------------------------------------------------------
+r1295 | fabricecolin | 2008-07-11 14:17:47 +0800 (Fri, 11 Jul 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/ResultsTree.cpp
+   M /trunk/UI/GTK2/src/ResultsTree.h
+
+Use a TextView for extracts. This will allow dropping portions of the extract
+in the queries list. A bold tag is applied to words to highlight.
+
+------------------------------------------------------------------------
+r1294 | fabricecolin | 2008-07-11 12:47:39 +0800 (Fri, 11 Jul 2008) | 6 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/importDialog.cc
+   M /trunk/UI/GTK2/src/importDialog.hh
+   M /trunk/UI/GTK2/src/mainWindow.cc
+   M /trunk/UI/GTK2/src/mainWindow.hh
+
+Support for drag-n-drop.
+Dropping text on the stored queries list will create a new query with this text,
+while dropping files will generate a query to find similar documents in the
+indexes. If necessary, these files are indexed in My Web Pages.
+Files can be dropped on the import dialog's location field too.
+
+------------------------------------------------------------------------
+r1293 | fabricecolin | 2008-07-11 12:41:53 +0800 (Fri, 11 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+
+Skip very short non-CJKV terms when expanding queries.
+
+------------------------------------------------------------------------
+r1292 | fabricecolin | 2008-07-06 21:07:46 +0800 (Sun, 06 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+
+The QueryModifier would sometimes append n-1 bytes of the last CJKV character.
+
+------------------------------------------------------------------------
+r1291 | fabricecolin | 2008-07-06 21:03:23 +0800 (Sun, 06 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/ModuleFactory.cpp
+   M /trunk/IndexSearch/ModuleFactory.h
+   A /trunk/IndexSearch/XesamGLib/ModuleExports.cpp
+
+Backends that are search-only don't need to export index-related functions.
+
+------------------------------------------------------------------------
+r1290 | fabricecolin | 2008-06-28 20:34:01 +0800 (Sat, 28 Jun 2008) | 3 lines
+Changed paths:
+   A /trunk/IndexSearch/XesamGLib
+   A /trunk/IndexSearch/XesamGLib/Makefile.am
+   A /trunk/IndexSearch/XesamGLib/XesamEngine.cpp
+   A /trunk/IndexSearch/XesamGLib/XesamEngine.h
+   M /trunk/Makefile.am
+   M /trunk/configure.in
+   M /trunk/pinot.spec.in
+
+Experimental backend based on xesam-glib to query Xesam servers. Pass
+"--enable-xesam-glib=yes" to configure and "--with xesam-glib" to rpmbuild.
+
+------------------------------------------------------------------------
+r1288 | fabricecolin | 2008-06-21 16:16:00 +0800 (Sat, 21 Jun 2008) | 2 lines
+Changed paths:
+   M /trunk/ChangeLog
+
+Update logs.
+
+------------------------------------------------------------------------
 r1287 | fabricecolin | 2008-06-21 16:11:47 +0800 (Sat, 21 Jun 2008) | 2 lines
 Changed paths:
    D /trunk/IndexSearch/Plugins/Accoona.src

Modified: trunk/ChangeLog-dijon
===================================================================
--- trunk/ChangeLog-dijon	2008-07-19 11:00:19 UTC (rev 1310)
+++ trunk/ChangeLog-dijon	2008-07-19 11:11:52 UTC (rev 1311)
@@ -1,4 +1,18 @@
 ------------------------------------------------------------------------
+r109 | fabricecolin | 2008-07-19 15:37:59 +0800 (Sat, 19 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/HtmlFilter.cc
+
+Only check for META keywords, don't add them to the META tags map.
+
+------------------------------------------------------------------------
+r108 | fabricecolin | 2008-07-05 14:01:07 +0800 (Sat, 05 Jul 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/external-filters.xml
+
+Run pdftotext in raw mode, it helps with columns.
+
+------------------------------------------------------------------------
 r105 | fabricecolin | 2008-06-21 11:55:16 +0800 (Sat, 21 Jun 2008) | 2 lines
 Changed paths:
    M /trunk/filters/ExifImageFilter.cc



From fabricecolin at mail.berlios.de  Sat Jul 19 13:17:04 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 19 Jul 2008 13:17:04 +0200
Subject: [Pinot-svn] r1312 - tags
Message-ID: <200807191117.m6JBH4PV022563@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-19 13:16:57 +0200 (Sat, 19 Jul 2008)
New Revision: 1312

Added:
   tags/version_0_8_7/
Log:
Releasing v0.87.


Copied: tags/version_0_8_7 (from rev 1311, trunk)



From fabricecolin at mail.berlios.de  Sat Jul 26 06:21:48 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 26 Jul 2008 06:21:48 +0200
Subject: [Pinot-svn] r1313 - in trunk: IndexSearch UI/GTK2/src
Message-ID: <200807260421.m6Q4LmYE019566@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-26 06:20:04 +0200 (Sat, 26 Jul 2008)
New Revision: 1313

Modified:
   trunk/IndexSearch/DBusIndex.cpp
   trunk/IndexSearch/DBusIndex.h
   trunk/UI/GTK2/src/DaemonState.cpp
   trunk/UI/GTK2/src/DaemonState.h
   trunk/UI/GTK2/src/ServerThreads.cpp
   trunk/UI/GTK2/src/pinot-dbus-daemon.xml
   trunk/UI/GTK2/src/statisticsDialog.cc
   trunk/UI/GTK2/src/statisticsDialog.hh
Log:
Extended GetStatistics to return the flags "low disk space", "on battery" and
"crawling". The latter is new to the daemon and set while a DirectoryScanner is
running.
That information is displayed in the Status window.


Modified: trunk/IndexSearch/DBusIndex.cpp
===================================================================
--- trunk/IndexSearch/DBusIndex.cpp	2008-07-19 11:16:57 UTC (rev 1312)
+++ trunk/IndexSearch/DBusIndex.cpp	2008-07-26 04:20:04 UTC (rev 1313)
@@ -343,7 +343,67 @@
 	return false;
 }
 
+/// Gets some statistics from the D-Bus service.
+bool DBusIndex::getStatistics(unsigned int crawledCount, unsigned int docsCount,
+	bool &lowDiskSpace, bool &onBattery, bool &crawling)
+{
+	gboolean lowDiskSpaceB = FALSE, onBatteryB = FALSE, crawlingB = FALSE;
 
+	DBusGConnection *pBus = getBusConnection();
+	if (pBus == NULL)
+	{
+		return false;
+	}
+
+	DBusGProxy *pBusProxy = getBusProxy(pBus);
+	if (pBusProxy == NULL)
+	{
+		cerr << "DBusIndex::getStatistics: couldn't get bus proxy" << endl;
+		return false;
+	}
+
+	GError *pError = NULL;
+	if (dbus_g_proxy_call(pBusProxy, "GetStatistics", &pError,
+		G_TYPE_INVALID,
+		G_TYPE_UINT, &crawledCount,
+		G_TYPE_UINT, &docsCount,
+		G_TYPE_BOOLEAN, &lowDiskSpaceB,
+		G_TYPE_BOOLEAN, &onBatteryB,
+		G_TYPE_BOOLEAN, &crawlingB,
+		G_TYPE_INVALID) == FALSE)
+	{
+		if (pError != NULL)
+		{
+			cerr << "DBusIndex::getStatistics: " << pError->message << endl;
+			g_error_free(pError);
+		}
+	}
+	else
+	{
+#ifdef DEBUG
+		cout << "DBusIndex::getStatistics: got " << crawledCount << " " << docsCount
+			<< " " << lowDiskSpaceB << onBatteryB << crawlingB << endl;
+#endif
+		if (lowDiskSpaceB == TRUE)
+		{
+			lowDiskSpace = true;
+		}
+		if (onBatteryB == TRUE)
+		{
+			onBattery = true;
+		}
+		if (crawlingB == TRUE)
+		{
+			crawling = true;
+		}
+	}
+
+	g_object_unref(pBusProxy);
+	// FIXME: don't we have to call dbus_g_connection_unref(pBus); ?
+
+	return true;
+}
+
 //
 // Implementation of IndexInterface
 //

Modified: trunk/IndexSearch/DBusIndex.h
===================================================================
--- trunk/IndexSearch/DBusIndex.h	2008-07-19 11:16:57 UTC (rev 1312)
+++ trunk/IndexSearch/DBusIndex.h	2008-07-26 04:20:04 UTC (rev 1313)
@@ -56,6 +56,10 @@
 		/// Asks the D-Bus service to reload its configuration.
 		static bool reload(void);
 
+		/// Gets some statistics from the D-Bus service.
+		static bool getStatistics(unsigned int crawledCount, unsigned int docsCount,
+			bool &lowDiskSpace, bool &onBattery, bool &crawling);
+
 		/// Returns false if the index couldn't be opened.
 		virtual bool isGood(void) const;
 

Modified: trunk/UI/GTK2/src/DaemonState.cpp
===================================================================
--- trunk/UI/GTK2/src/DaemonState.cpp	2008-07-19 11:16:57 UTC (rev 1312)
+++ trunk/UI/GTK2/src/DaemonState.cpp	2008-07-26 04:20:04 UTC (rev 1313)
@@ -272,6 +272,7 @@
 	if (start_thread(pScannerThread, true) == true)
 	{
 		++m_crawlers;
+		set_flag(CRAWLING);
 
 		return true;
 	}
@@ -352,6 +353,8 @@
 		// Get the next location, unless something is still being crawled
 		if (m_crawlers == 0)
 		{
+			reset_flag(CRAWLING);
+
 			if (m_crawlQueue.empty() == false)
 			{
 				PinotSettings::IndexableLocation nextLocation(m_crawlQueue.front());

Modified: trunk/UI/GTK2/src/DaemonState.h
===================================================================
--- trunk/UI/GTK2/src/DaemonState.h	2008-07-19 11:16:57 UTC (rev 1312)
+++ trunk/UI/GTK2/src/DaemonState.h	2008-07-26 04:20:04 UTC (rev 1313)
@@ -36,7 +36,7 @@
 		DaemonState();
 		virtual ~DaemonState();
 
-		typedef enum { LOW_DISK_SPACE = 0, ON_BATTERY, STOPPED, DISCONNECTED } StatusFlag;
+		typedef enum { LOW_DISK_SPACE = 0, ON_BATTERY, CRAWLING, STOPPED, DISCONNECTED } StatusFlag;
 
 		void start(bool forceFullScan);
 

Modified: trunk/UI/GTK2/src/ServerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.cpp	2008-07-19 11:16:57 UTC (rev 1312)
+++ trunk/UI/GTK2/src/ServerThreads.cpp	2008-07-26 04:20:04 UTC (rev 1313)
@@ -668,6 +668,7 @@
 		CrawlHistory crawlHistory(settings.getHistoryDatabaseName());
 		unsigned int crawledFilesCount = crawlHistory.getItemsCount(CrawlHistory::CRAWLED);
 		unsigned int docsCount = pIndex->getDocumentsCount();
+		gboolean lowDiskSpace = FALSE, onBattery = FALSE, crawling = FALSE;
 
 #ifdef DEBUG
 		cout << "DBusServletThread::doWork: received GetStatistics" << endl;
@@ -676,9 +677,29 @@
 		m_pReply = newDBusReply(m_pRequest);
 		if (m_pReply != NULL)
 		{
+			if (m_pServer->is_flag_set(DaemonState::LOW_DISK_SPACE) == true)
+			{
+				lowDiskSpace = TRUE;
+			}
+			if (m_pServer->is_flag_set(DaemonState::ON_BATTERY) == true)
+			{
+				onBattery = TRUE;
+			}
+			if (m_pServer->is_flag_set(DaemonState::CRAWLING) == true)
+			{
+				crawling = TRUE;
+			}
+#ifdef DEBUG
+			cout << "DBusServletThread::doWork: replying with " << crawledFilesCount
+				<< " " << docsCount << " " << lowDiskSpace << onBattery << crawling << endl;
+#endif
+
 			dbus_message_append_args(m_pReply,
 				DBUS_TYPE_UINT32, &crawledFilesCount,
 				DBUS_TYPE_UINT32, &docsCount,
+				DBUS_TYPE_BOOLEAN, &lowDiskSpace,
+				DBUS_TYPE_BOOLEAN, &onBattery,
+				DBUS_TYPE_BOOLEAN, &crawling,
 				DBUS_TYPE_INVALID);
 		}
 	}

Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.xml
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.xml	2008-07-19 11:16:57 UTC (rev 1312)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.xml	2008-07-26 04:20:04 UTC (rev 1313)
@@ -18,6 +18,9 @@
       <annotation name="de.berlios.Pinot.GetStatistics" value="pinotDBus"/>
       <arg type="u" name="crawledCount" direction="out"/>
       <arg type="u" name="docsCount" direction="out"/>
+      <arg type="b" name="lowDiskSpace" direction="out" />
+      <arg type="b" name="onBattery" direction="out" />
+      <arg type="b" name="crawling" direction="out" />
     </method>
     <!--
 	Instructs the daemon program to reload the configuration file.

Modified: trunk/UI/GTK2/src/statisticsDialog.cc
===================================================================
--- trunk/UI/GTK2/src/statisticsDialog.cc	2008-07-19 11:16:57 UTC (rev 1312)
+++ trunk/UI/GTK2/src/statisticsDialog.cc	2008-07-26 04:20:04 UTC (rev 1313)
@@ -29,6 +29,7 @@
 #include "Url.h"
 #include "CrawlHistory.h"
 #include "ViewHistory.h"
+#include "DBusIndex.h"
 #include "ModuleFactory.h"
 #include "PinotSettings.h"
 #include "PinotUtils.h"
@@ -41,7 +42,8 @@
 
 statisticsDialog::statisticsDialog() :
 	statisticsDialog_glade(),
-	m_hasErrors(false)
+	m_hasErrors(false),
+	m_getStats(true)
 {
 	// Associate the columns model to the engines tree
 	m_refStore = TreeStore::create(m_statsColumns);
@@ -53,11 +55,14 @@
 		statisticsTreeview->append_column(*manage(pColumn));
 	}
 
+	// Resize the window
+	resize((int )(get_width() * 2), (int )(get_height() * 1.5));
+
 	// Populate
 	populate();
 	// ...and update regularly
 	m_idleConnection = Glib::signal_timeout().connect(sigc::mem_fun(*this,
-		&statisticsDialog::on_activity_timeout), 5000);
+		&statisticsDialog::on_activity_timeout), 10000);
 }
 
 statisticsDialog::~statisticsDialog()
@@ -108,21 +113,15 @@
 	row = *m_daemonIter;
 	row[m_statsColumns.m_name] = _("Daemon");
 	m_daemonProcIter = m_refStore->append(m_daemonIter->children());
+	m_diskSpaceIter = m_refStore->append(m_daemonIter->children());
+	m_batteryIter = m_refStore->append(m_daemonIter->children());
+	m_crawlIter = m_refStore->append(m_daemonIter->children());
 
 	// Expand everything
 	statisticsTreeview->expand_all();
 	TreeModel::Path enginesPath = m_refStore->get_path(enginesIter);
 	statisticsTreeview->collapse_row(enginesPath);
 
-	Adjustment *pAdjustement = statisticsScrolledwindow->get_hadjustment();
-#ifdef DEBUG
-	cout << "statisticsDialog: " << pAdjustement->get_value() << " "
-		<< pAdjustement->get_lower() << " " << pAdjustement->get_upper() << endl;
-#endif
-	pAdjustement->set_value(pAdjustement->get_upper());
-	statisticsScrolledwindow->set_hadjustment(pAdjustement);
-	resize((int )pAdjustement->get_upper() * 2, get_height());
-
 	on_activity_timeout();
 }
 
@@ -132,8 +131,10 @@
 	ViewHistory viewHistory(PinotSettings::getInstance().getHistoryDatabaseName());
 	TreeModel::Row row;
 	std::map<unsigned int, string> sources;
+	ustring yes(_("Yes")), no(_("No"));
 	string daemonDBusStatus;
 	char countStr[64];
+	bool lowDiskSpace = false, onBattery = false, crawling = false;
 
 	row = *m_myWebPagesIter;
 	IndexInterface *pIndex = PinotSettings::getInstance().getIndex(PinotSettings::getInstance().m_docsIndexLocation);
@@ -192,28 +193,52 @@
 		pidFile.close();
 	}
 	snprintf(countStr, 64, "%u", daemonPID);
+
 	row = *m_daemonProcIter;
 	if (daemonPID > 0)
 	{
 		// FIXME: check whether it's actually running !
 		row[m_statsColumns.m_name] = ustring(_("Running under PID")) + " " + countStr;
+
+		if (m_getStats == true)
+		{
+			unsigned int crawledCount = 0, docsCount = 0;
+
+			if (DBusIndex::getStatistics(crawledCount, docsCount, lowDiskSpace, onBattery, crawling) == false)
+			{
+#ifdef DEBUG
+				cout << "statisticsDialog::on_activity_timeout: failed to get statistics" << endl;
+#endif
+
+				// Don't try again
+				m_getStats = false;
+			}
+		}
 	}
 	else
 	{
 		if (daemonDBusStatus == "Disconnected")
 		{
-			row[m_statsColumns.m_name] = ustring(_("Disconnected from D-Bus"));
+			row[m_statsColumns.m_name] = _("Disconnected from D-Bus");
 		}
 		else if (daemonDBusStatus == "Stopped")
 		{
-			row[m_statsColumns.m_name] = ustring(_("Stopped"));
+			row[m_statsColumns.m_name] = _("Stopped");
 		}
 		else
 		{
-			row[m_statsColumns.m_name] = ustring(_("Currently not running"));
+			row[m_statsColumns.m_name] = _("Currently not running");
 		}
 	}
 
+	// Show status
+	row = *m_diskSpaceIter;
+	row[m_statsColumns.m_name] = ustring(_("Low disk space")) + ": " + (lowDiskSpace == true ? yes : no);
+	row = *m_batteryIter;
+	row[m_statsColumns.m_name] = ustring(_("On battery")) + ": " + (onBattery == true ? yes : no);
+	row = *m_crawlIter;
+	row[m_statsColumns.m_name] = ustring(_("Crawling")) + ": "+ (crawling == true ? yes : no);
+
 	// Show errors
 	crawlHistory.getSources(sources);
 	for (std::map<unsigned int, string>::iterator sourceIter = sources.begin();

Modified: trunk/UI/GTK2/src/statisticsDialog.hh
===================================================================
--- trunk/UI/GTK2/src/statisticsDialog.hh	2008-07-19 11:16:57 UTC (rev 1312)
+++ trunk/UI/GTK2/src/statisticsDialog.hh	2008-07-26 04:20:04 UTC (rev 1313)
@@ -40,13 +40,17 @@
 	Gtk::TreeModel::iterator m_myWebPagesIter;
 	Gtk::TreeModel::iterator m_myDocumentsIter;
 	Gtk::TreeModel::iterator m_viewStatIter;
+	Gtk::TreeModel::iterator m_crawledStatIter;
 	Gtk::TreeModel::iterator m_daemonIter;
 	Gtk::TreeModel::iterator m_daemonProcIter;
-	Gtk::TreeModel::iterator m_crawledStatIter;
+	Gtk::TreeModel::iterator m_diskSpaceIter;
+	Gtk::TreeModel::iterator m_batteryIter;
+	Gtk::TreeModel::iterator m_crawlIter;
 	Gtk::TreeModel::iterator m_errorsTopIter;
 	std::map<int, Gtk::TreeModel::iterator> m_errorsIters;
 	std::map<unsigned int, time_t> m_latestErrorDates;
 	bool m_hasErrors;
+	bool m_getStats;
 	sigc::connection m_idleConnection;
 
 	void populate(void);



From fabricecolin at mail.berlios.de  Sat Jul 26 08:11:20 2008
From: fabricecolin at mail.berlios.de (fabricecolin at mail.berlios.de)
Date: Sat, 26 Jul 2008 08:11:20 +0200
Subject: [Pinot-svn] r1314 - in trunk: . po
Message-ID: <200807260611.m6Q6BKVx025882@sheep.berlios.de>

Author: fabricecolin
Date: 2008-07-26 08:10:28 +0200 (Sat, 26 Jul 2008)
New Revision: 1314

Modified:
   trunk/AUTHORS
   trunk/po/de.po
   trunk/po/fr.po
   trunk/po/pt_BR.po
   trunk/po/sv.po
Log:
Updated de, pt_BR, sv and fr by Gena Haltmair, Rafael Porto Rodrigues, Daniel
Nylander and myself.


Modified: trunk/AUTHORS
===================================================================
--- trunk/AUTHORS	2008-07-26 04:20:04 UTC (rev 1313)
+++ trunk/AUTHORS	2008-07-26 06:10:28 UTC (rev 1314)
@@ -40,6 +40,7 @@
 		& Balaam's Miracle <balaam at balaamsmiracle dot com>
 	French - Nicolas Velin <nsv at fr dot st>
 	German - Christian Dywan <christian at twotoasts dot de>
+		& Gena Haltmair <gena at haltmair dot com>
 	Italian - Michele Angrisano <darksun1988 at gmail dot com>
 		& Vincenzo Consales <aquarius987 at gmail dot com>>
 		& Marco Bazzani <visik7 at tin dot it>
@@ -47,11 +48,12 @@
 	Portuguese - _PN_boy <pedro_nuno_pn at iol dot pt>
 		& Tiago Silva <???>
 	Portuguese (Brazil) - Leonardo Melo <leonardovazmelo at gmail dot com>
+		& Rafael Porto Rodrigues <rafporto at gmail dot com>
 	Russian - Sergey Vostrikov <memphis at jabber dot snc dot ru>
 	Spanish - Jes?s Tramullas <jesus at tramullas dot com>
 		& Garbage <garbage at openfutura.com>
 	Swedish - Daniel Nylander <po at danielnylander dot se>
-		Zirro <???>
+		& Zirro <???>
 	Simplified Chinese - Ashlee Ma <ashlee8310 at hotmail dot com>
 	Traditional Chinese - ??? Yung-Chung Lin <henearkrxern at gmail dot com>
 

Modified: trunk/po/de.po
===================================================================
--- trunk/po/de.po	2008-07-26 04:20:04 UTC (rev 1313)
+++ trunk/po/de.po	2008-07-26 06:10:28 UTC (rev 1314)
@@ -6,17 +6,17 @@
 msgstr ""
 "Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-07-19 16:20+0800\n"
-"PO-Revision-Date: 2008-01-15 00:16+0000\n"
-"Last-Translator: Christian Dywan <christian at twotoasts.de>\n"
+"POT-Creation-Date: 2008-07-26 13:36+0800\n"
+"PO-Revision-Date: 2008-07-24 07:31+0000\n"
+"Last-Translator: Gena Haltmair <Unknown>\n"
 "Language-Team: German <de at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-02-18 14:08+0000\n"
+"X-Launchpad-Export-Date: 2008-07-26 05:56+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:89
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:94
 msgid "Search Engines"
 msgstr "Suchmaschinen"
 
@@ -35,7 +35,7 @@
 #: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
 #: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
 #: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
-#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:84
 #: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "Meine Webseiten"
@@ -46,13 +46,13 @@
 #: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
 #: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
 #: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/statisticsDialog.cc:88 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Meine Dokumente"
 
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
-msgstr ""
+msgstr "Zugestellt von"
 
 #: UI/GTK2/src/indexDialog.cc:124
 msgid "Local"
@@ -60,11 +60,11 @@
 
 #: UI/GTK2/src/indexDialog.cc:286
 msgid "Index location"
-msgstr ""
+msgstr "Index Verzeichnis"
 
 #: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
-msgstr "Name"
+msgstr "Name:"
 
 #: UI/GTK2/src/indexDialog_glade.cc:66
 msgid "..."
@@ -80,11 +80,11 @@
 
 #: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
 msgid "Port:"
-msgstr "Port"
+msgstr "Port:"
 
 #: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
-msgstr "Adresse"
+msgstr "Adresse:"
 
 #: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
@@ -100,11 +100,11 @@
 #: UI/GTK2/src/importDialog_glade.cc:66
 #: UI/GTK2/src/propertiesDialog_glade.cc:63
 msgid "Title:"
-msgstr "Titel"
+msgstr "Titel:"
 
 #: UI/GTK2/src/importDialog_glade.cc:69
 msgid "Apply label:"
-msgstr ""
+msgstr "Kategorie hinzuf?gen:"
 
 #: UI/GTK2/src/importDialog_glade.cc:132 UI/GTK2/src/mainWindow_glade.cc:215
 msgid "Import URL"
@@ -112,15 +112,15 @@
 
 #: UI/GTK2/src/IndexPage.cpp:48
 msgid "Show Previous"
-msgstr "Voherige anzeigen"
+msgstr "Zur?ck"
 
 #: UI/GTK2/src/IndexPage.cpp:54
 msgid "Show Next"
-msgstr "N?chste anzeigen"
+msgstr "Weiter"
 
 #: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
-msgstr "Alles"
+msgstr "Alle"
 
 #: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
@@ -135,13 +135,12 @@
 msgstr "Verwende diesen Befehl f?r weitere Dokumente des selben Typs."
 
 #: UI/GTK2/src/launcherDialog_glade.cc:98
-#, fuzzy
 msgid "Helper application"
-msgstr "Hilfsprogramm"
+msgstr "Anwendung"
 
 #: UI/GTK2/src/mainWindow.cc:167
 msgid "Query Name"
-msgstr ""
+msgstr "Suchanfrage"
 
 #: UI/GTK2/src/mainWindow.cc:172
 msgid "Last Run"
@@ -158,34 +157,31 @@
 
 #: UI/GTK2/src/mainWindow.cc:221
 msgid "Find documents that match the query string"
-msgstr ""
+msgstr "Finde Dokumente, die der Suchanfrage entsprechen"
 
 #: UI/GTK2/src/mainWindow.cc:222
-#, fuzzy
 msgid "Add an index"
 msgstr "Index hinzuf?gen"
 
 #: UI/GTK2/src/mainWindow.cc:223
-#, fuzzy
 msgid "Remove an index"
 msgstr "Index entfernen"
 
 #: UI/GTK2/src/mainWindow.cc:224
 msgid "Add a query"
-msgstr ""
+msgstr "Suchanfrage hinzuf?gen"
 
 #: UI/GTK2/src/mainWindow.cc:225
-#, fuzzy
 msgid "Remove a query"
-msgstr "Index entfernen"
+msgstr "Suchanfrage entfernen"
 
 #: UI/GTK2/src/mainWindow.cc:226
 msgid "Show the query's previous results"
-msgstr ""
+msgstr "Vorhergehende Ergebnisse der Suchanfrage anzeigen"
 
 #: UI/GTK2/src/mainWindow.cc:227
 msgid "Find documents that match the query"
-msgstr ""
+msgstr "Suche"
 
 #. Now we are ready
 #: UI/GTK2/src/mainWindow.cc:246
@@ -194,12 +190,11 @@
 
 #: UI/GTK2/src/mainWindow.cc:258
 msgid "Updating all documents in My Web Pages is recommended"
-msgstr ""
+msgstr "Es wird empfohlen alle Dokumente in Meine Webseiten zu aktualisieren"
 
 #: UI/GTK2/src/mainWindow.cc:266
-#, fuzzy
 msgid "Don't warn me again"
-msgstr "Index konnte nicht umbenannt werden"
+msgstr "Warnung ausblenden"
 
 #: UI/GTK2/src/mainWindow.cc:274 UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
@@ -216,63 +211,61 @@
 #. Find this query
 #: UI/GTK2/src/mainWindow.cc:573 UI/GTK2/src/mainWindow.cc:2779
 msgid "Live query"
-msgstr ""
+msgstr "Suche"
 
 #. Show the URL of the first result in the status bar
 #: UI/GTK2/src/mainWindow.cc:793
 msgid "Result location is"
-msgstr ""
+msgstr "Ergebnis gefindet sich in"
 
 #. Show the URL in the status bar
 #: UI/GTK2/src/mainWindow.cc:875
 msgid "Document location is"
-msgstr ""
+msgstr "Dokoment befindet sich in"
 
 #: UI/GTK2/src/mainWindow.cc:1061 UI/GTK2/src/mainWindow.cc:2220
 msgid "Couldn't find query"
-msgstr ""
+msgstr "Nichts gefunden"
 
 #: UI/GTK2/src/mainWindow.cc:1075
-#, fuzzy
 msgid "In Results"
 msgstr "Ergebnisse"
 
 #: UI/GTK2/src/mainWindow.cc:1265
-#, fuzzy
 msgid "Showing"
-msgstr "Zeigen"
+msgstr "Anzeigen"
 
 #: UI/GTK2/src/mainWindow.cc:1270
 msgid "of"
-msgstr ""
+msgstr "von"
 
 #: UI/GTK2/src/mainWindow.cc:1275
 msgid "documents, starting at"
-msgstr ""
+msgstr "Dokumenten, beginnend bei"
 
 #: UI/GTK2/src/mainWindow.cc:1317
 msgid "Query"
-msgstr ""
+msgstr "Suche"
 
 #: UI/GTK2/src/mainWindow.cc:1321 UI/GTK2/src/mainWindow.cc:3367
 msgid "on"
-msgstr ""
+msgstr "am"
 
 #: UI/GTK2/src/mainWindow.cc:1325
 msgid "ended"
-msgstr ""
+msgstr "beendet"
 
 #: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
-msgstr ""
+msgstr "Verbessert"
 
 #: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
-msgstr ""
+msgstr "Mehr davon"
 
 #: UI/GTK2/src/mainWindow.cc:1552
 msgid "Updated label(s)"
-msgstr ""
+msgstr "Aktualisierte Kategorie(n)"
 
 #. Yes, it did
 #: UI/GTK2/src/mainWindow.cc:1636 UI/GTK2/src/mainWindow.cc:1724
@@ -289,11 +282,10 @@
 
 #: UI/GTK2/src/mainWindow.cc:1785
 msgid "Couldn't rename index, name"
-msgstr ""
+msgstr "Index konnte nicht umbenannt werden, Name"
 
 #: UI/GTK2/src/mainWindow.cc:1789 UI/GTK2/src/mainWindow.cc:2603
 #: UI/GTK2/src/mainWindow.cc:3173
-#, fuzzy
 msgid "is already in use"
 msgstr "wird bereits benutzt"
 
@@ -303,10 +295,9 @@
 
 #: UI/GTK2/src/mainWindow.cc:1815
 msgid "Edited index"
-msgstr ""
+msgstr "Ge?nderter Index"
 
 #: UI/GTK2/src/mainWindow.cc:2140
-#, fuzzy
 msgid "Export Results"
 msgstr "Ergebnisse exportieren"
 
@@ -328,11 +319,11 @@
 
 #: UI/GTK2/src/mainWindow.cc:2511 UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
-msgstr ""
+msgstr "Indizierung entfernen"
 
 #: UI/GTK2/src/mainWindow.cc:2553
 msgid "A metasearch tool for the Free Desktop"
-msgstr "Ein Werkzeug zur Metasuche f?r den kostenfreien Desktop"
+msgstr "Ein Werkzeug zur Metasuche f?r den Freien Desktop"
 
 #: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
@@ -356,7 +347,7 @@
 
 #: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
-msgstr ""
+msgstr "Kein Verlauf vorhanden f?r"
 
 #: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
@@ -366,31 +357,31 @@
 
 #: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
-msgstr ""
+msgstr "Beenden"
 
 #: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
-msgstr ""
+msgstr "Nache der Suchanfrage"
 
 #: UI/GTK2/src/mainWindow.cc:3196
 msgid "Couldn't update query"
-msgstr ""
+msgstr "Suchanfrage konnte nicht aktualisiert werden"
 
 #: UI/GTK2/src/mainWindow.cc:3207
 msgid "Edited query"
-msgstr ""
+msgstr "Ge?nderte Suchanfrage"
 
 #: UI/GTK2/src/mainWindow.cc:3214
 msgid "Couldn't add query"
-msgstr ""
+msgstr "Suchanfrage konnte nicht hinzugef?gt werden"
 
 #: UI/GTK2/src/mainWindow.cc:3222
 msgid "Added new query"
-msgstr ""
+msgstr "Neue Suchanfrage hinzugef?gt"
 
 #: UI/GTK2/src/mainWindow.cc:3256
 msgid "Query is not set"
-msgstr ""
+msgstr "Keine Suchanfrage eingestellt"
 
 #: UI/GTK2/src/mainWindow.cc:3267
 msgid "No search engine selected"
@@ -402,7 +393,7 @@
 
 #: UI/GTK2/src/mainWindow.cc:3363
 msgid "Running query"
-msgstr ""
+msgstr "Suche l?uft"
 
 #: UI/GTK2/src/mainWindow.cc:3576
 msgid "No default application defined for type"
@@ -410,18 +401,17 @@
 
 #: UI/GTK2/src/mainWindow_glade.cc:126
 msgid "Query:"
-msgstr ""
+msgstr "Suchanfrage:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:102
-#, fuzzy
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:107
 msgid "History"
-msgstr "Historie"
+msgstr "Verlauf"
 
 #: UI/GTK2/src/mainWindow_glade.cc:142
 msgid "Stored queries"
-msgstr ""
+msgstr "Gespeicherte Suchanfragen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:52
 #: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr "Status"
@@ -432,11 +422,11 @@
 
 #: UI/GTK2/src/mainWindow_glade.cc:179
 msgid "Host Name"
-msgstr ""
+msgstr "Rechnername"
 
 #: UI/GTK2/src/mainWindow_glade.cc:182
 msgid "Show Extract"
-msgstr ""
+msgstr "Auszug anzeigen"
 
 #: UI/GTK2/src/mainWindow_glade.cc:185
 msgid "Group By"
@@ -456,10 +446,9 @@
 
 #: UI/GTK2/src/mainWindow_glade.cc:203
 msgid "More Like This"
-msgstr ""
+msgstr "Mehr davon"
 
 #: UI/GTK2/src/mainWindow_glade.cc:206
-#, fuzzy
 msgid "Search This For"
 msgstr "Suchmaschinen"
 
@@ -502,7 +491,7 @@
 
 #: UI/GTK2/src/mainWindow_glade.cc:377
 msgid "Pinot"
-msgstr ""
+msgstr "Pinot"
 
 #: UI/GTK2/src/Notebook.cpp:146
 msgid "Close"
@@ -596,11 +585,11 @@
 
 #: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
-msgstr ""
+msgstr "Ich"
 
 #: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
-msgstr ""
+msgstr "nicht klassifiziert"
 
 #: UI/GTK2/src/prefsDialog.cc:105
 msgid "Name"
@@ -616,19 +605,19 @@
 
 #: UI/GTK2/src/prefsDialog.cc:122
 msgid "Pattern"
-msgstr ""
+msgstr "Dateiendung"
 
 #: UI/GTK2/src/prefsDialog.cc:390
 msgid "Exclude these patterns from indexing"
-msgstr ""
+msgstr "Dateien mit folgenden Dateiendungen von der Indizierungs ausschliessen"
 
 #: UI/GTK2/src/prefsDialog.cc:391
 msgid "Only index these patterns"
-msgstr ""
+msgstr "Nur Dateien mit diesen Dateiendungen indizieren"
 
 #: UI/GTK2/src/prefsDialog.cc:557
 msgid "New Label"
-msgstr ""
+msgstr "Neue Kategorie"
 
 #: UI/GTK2/src/prefsDialog.cc:598
 msgid "Directory to index"
@@ -656,7 +645,7 @@
 
 #: UI/GTK2/src/prefsDialog_glade.cc:73
 msgid "HTTP crawling:"
-msgstr ""
+msgstr "HTTP Crawling:"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:76
 msgid "General"
@@ -664,19 +653,19 @@
 
 #: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
-msgstr ""
+msgstr "Direkte Verbindung zum Internet"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
-msgstr ""
+msgstr "Manuele Proxy-Einstellungen:"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
-msgstr ""
+msgstr "Netzwerk"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:93
 msgid "Labels are used to classify indexed documents:"
-msgstr ""
+msgstr "Folgende Dokumente in der Kategorie:"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
 #: UI/GTK2/src/prefsDialog_glade.cc:134
@@ -689,7 +678,7 @@
 
 #: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
 msgid "Labels"
-msgstr ""
+msgstr "Kategorien"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:113
 msgid "These directories will be indexed and optionally monitored for changes:"
@@ -697,9 +686,8 @@
 "Diese Verzeichnisse werden indiziert und optional auf ?nderungen ?berwacht:"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:126
-#, fuzzy
 msgid "File patterns:"
-msgstr "Dateiendung"
+msgstr "Dateiendungen:"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:139
 #, fuzzy
@@ -719,7 +707,6 @@
 msgstr "Pro Dokument"
 
 #: UI/GTK2/src/propertiesDialog.cc:365
-#, fuzzy
 msgid "Export Terms"
 msgstr "Ergebnisse exportieren"
 
@@ -737,11 +724,11 @@
 
 #: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
-msgstr ""
+msgstr "Schlagw?rter:"
 
 #: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
-msgstr ""
+msgstr "Bytes"
 
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
@@ -758,7 +745,7 @@
 #. This is the title column
 #: UI/GTK2/src/queryDialog.cc:113 UI/GTK2/src/ResultsTree.cpp:142
 msgid "Title"
-msgstr ""
+msgstr "Titel"
 
 #. URL
 #: UI/GTK2/src/queryDialog.cc:114 UI/GTK2/src/ResultsTree.cpp:152
@@ -771,19 +758,19 @@
 
 #: UI/GTK2/src/queryDialog.cc:116
 msgid "Language code"
-msgstr ""
+msgstr "Sprachcode"
 
 #: UI/GTK2/src/queryDialog.cc:117
 msgid "MIME type"
-msgstr ""
+msgstr "MIME-Typ"
 
 #: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
-msgstr ""
+msgstr "MIME-Klasse"
 
 #: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
-msgstr ""
+msgstr "Kategorie"
 
 #. The last column is for the timestamp
 #: UI/GTK2/src/queryDialog.cc:122 UI/GTK2/src/ResultsTree.cpp:160
@@ -791,36 +778,33 @@
 msgstr "Datum"
 
 #: UI/GTK2/src/queryDialog.cc:123
-#, fuzzy
 msgid "Time"
-msgstr "Titel"
+msgstr "Zeit"
 
 #: UI/GTK2/src/queryDialog.cc:124
-#, fuzzy
 msgid "Size"
 msgstr "Gr??e"
 
 #. Sort order
 #: UI/GTK2/src/queryDialog.cc:128
 msgid "By relevance"
-msgstr ""
+msgstr "Nach Relevanz"
 
 #: UI/GTK2/src/queryDialog.cc:129
-#, fuzzy
 msgid "By date"
-msgstr "Aktualisieren"
+msgstr "Nach Datum"
 
 #: UI/GTK2/src/queryDialog_glade.cc:71
 msgid "New filter or range:"
-msgstr ""
+msgstr "Neuer Filter oder Auswahl:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
-msgstr ""
+msgstr "Suchanfrage"
 
 #: UI/GTK2/src/queryDialog_glade.cc:82
 msgid "Index results with label"
-msgstr ""
+msgstr "Ergebnisse zu Kategorie hinzuf?gen"
 
 #: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
@@ -828,91 +812,109 @@
 
 #: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
-msgstr ""
+msgstr "Sortierung:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:93
 msgid "Stemming:"
-msgstr ""
+msgstr "Abstammend:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:94
+#, fuzzy
 msgid "Only index new results"
-msgstr ""
+msgstr "Nur Dateien mit diesen Dateiendungen indizieren"
 
 #: UI/GTK2/src/queryDialog_glade.cc:208
 msgid "Query parameters"
-msgstr ""
+msgstr "Suchanfrage Parameter"
 
 #. This is the score column
 #: UI/GTK2/src/ResultsTree.cpp:131
-#, fuzzy
 msgid "Score"
 msgstr "Relevanz"
 
-#: UI/GTK2/src/statisticsDialog.cc:76
-#, fuzzy
+#: UI/GTK2/src/statisticsDialog.cc:81
 msgid "Indexes"
 msgstr "Indizes"
 
-#: UI/GTK2/src/statisticsDialog.cc:109
+#: UI/GTK2/src/statisticsDialog.cc:114
 msgid "Daemon"
 msgstr "D?mon"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
+#: UI/GTK2/src/statisticsDialog.cc:134
+msgid "Yes"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:134
+#, fuzzy
+msgid "No"
+msgstr "Keine"
+
+#: UI/GTK2/src/statisticsDialog.cc:146 UI/GTK2/src/statisticsDialog.cc:162
 msgid "documents"
 msgstr "Dokumente"
 
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
+#: UI/GTK2/src/statisticsDialog.cc:152 UI/GTK2/src/statisticsDialog.cc:170
 #: UI/GTK2/src/WorkerThreads.cpp:125
 msgid "Unknown error"
 msgstr "Unbekannter Fehler"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
-#, fuzzy
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Viewed"
 msgstr "Angesehen"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "results"
 msgstr "Ergebnisse"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:183
 msgid "Crawled"
-msgstr ""
+msgstr "Gesammelt"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:183
 msgid "files"
 msgstr "Dateien"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:199
+#: UI/GTK2/src/statisticsDialog.cc:201
 msgid "Running under PID"
-msgstr ""
+msgstr "L?uft unter PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:205
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Disconnected from D-Bus"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:209
+#: UI/GTK2/src/statisticsDialog.cc:226
 msgid "Stopped"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:213
+#: UI/GTK2/src/statisticsDialog.cc:230
 msgid "Currently not running"
+msgstr "L?uft derzeit nicht"
+
+#: UI/GTK2/src/statisticsDialog.cc:236
+msgid "Low disk space"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:238
+msgid "On battery"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:240
+#, fuzzy
+msgid "Crawling"
+msgstr "Gesammelt"
+
+#: UI/GTK2/src/statisticsDialog.cc:268
 msgid "Errors"
 msgstr "Fehler"
 
 #: UI/GTK2/src/WorkerThreads.cpp:92
-#, fuzzy
 msgid "Index error"
-msgstr "Indiziert"
+msgstr "Indizierungsfehler"
 
 #: UI/GTK2/src/WorkerThreads.cpp:94
-#, fuzzy
 msgid "Couldn't index document"
-msgstr "Dokument konnte nicht aktualisiert werden"
+msgstr "Dokument konnte nicht indiziert werden"
 
 #: UI/GTK2/src/WorkerThreads.cpp:96
 msgid "Couldn't update document"
@@ -920,39 +922,35 @@
 
 #: UI/GTK2/src/WorkerThreads.cpp:98
 msgid "Couldn't unindex document(s)"
-msgstr ""
+msgstr "Dokument(e) konnte(n) nicht aus dem Index entfernt werden"
 
 #: UI/GTK2/src/WorkerThreads.cpp:100
 msgid "Couldn't run query on search engine"
-msgstr ""
+msgstr "Suchanfrange konnte nicht in der Suchmasche ausgef?hrt werden"
 
 #: UI/GTK2/src/WorkerThreads.cpp:102
-#, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "Konnte Verlaufsdatenbank nicht anlegen"
 
 #: UI/GTK2/src/WorkerThreads.cpp:104
-#, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "Dokument konnte nicht aktualisiert werden"
 
 #: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
-msgstr ""
+msgstr "Fehler bei der Datei?berwachung"
 
 #: UI/GTK2/src/WorkerThreads.cpp:108
-#, fuzzy
 msgid "Couldn't open directory"
-msgstr "Konnte Index nicht ?ffnen"
+msgstr "Verzeichnis konnte nicht ge?ffnet werden"
 
 #: UI/GTK2/src/WorkerThreads.cpp:110
-#, fuzzy
 msgid "Index doesn't exist"
-msgstr "existiert nicht"
+msgstr "Index existiert nicht"
 
 #: UI/GTK2/src/WorkerThreads.cpp:112
 msgid "Couldn't create search engine"
-msgstr ""
+msgstr "Suchmaschine konnte nicht angelegt werden"
 
 #: UI/GTK2/src/WorkerThreads.cpp:114
 msgid "Cannot index document type"
@@ -960,7 +958,7 @@
 
 #: UI/GTK2/src/WorkerThreads.cpp:116
 msgid "No downloader for this protocol"
-msgstr ""
+msgstr "Kein Downloadprogramm f?r dieses Protokoll vorhanden"
 
 #: UI/GTK2/src/WorkerThreads.cpp:118
 msgid "Robots META tag forbids indexing"
@@ -968,23 +966,23 @@
 
 #: UI/GTK2/src/WorkerThreads.cpp:120
 msgid "No monitoring handler"
-msgstr ""
+msgstr "Kein ?berwachungsprogramm vorhanden"
 
 #: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
-msgstr ""
+msgstr "Indizierung angehalten"
 
 #: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"
-msgstr ""
+msgstr "E-Mail kann hier nicht indiziert werden"
 
 #: UI/GTK2/src/WorkerThreads.cpp:451 UI/GTK2/src/WorkerThreads.cpp:716
 msgid "is already being indexed"
-msgstr ""
+msgstr "bereits indiziert"
 
 #: UI/GTK2/src/WorkerThreads.cpp:461
 msgid "is blacklisted"
-msgstr ""
+msgstr "auf Blacklist gesetzt"
 
 #: UI/GTK2/src/WorkerThreads.cpp:973
 msgid "No title"

Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2008-07-26 04:20:04 UTC (rev 1313)
+++ trunk/po/fr.po	2008-07-26 06:10:28 UTC (rev 1314)
@@ -7,8 +7,8 @@
 msgstr ""
 "Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-07-19 16:20+0800\n"
-"PO-Revision-Date: 2008-03-24 18:17+0800\n"
+"POT-Creation-Date: 2008-07-26 13:36+0800\n"
+"PO-Revision-Date: 2008-07-26 13:36+0800\n"
 "Last-Translator: Fabrice Colin <fabricecolin at users.berlios.de>\n"
 "Language-Team: fr <fabricecolin at users.berlios.de>\n"
 "MIME-Version: 1.0\n"
@@ -17,7 +17,7 @@
 "X-Launchpad-Export-Date: 2008-02-18 14:08+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:89
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:94
 msgid "Search Engines"
 msgstr "Moteurs"
 
@@ -36,7 +36,7 @@
 #: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
 #: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
 #: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
-#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:84
 #: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "Mes Pages Web"
@@ -47,7 +47,7 @@
 #: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
 #: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
 #: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/statisticsDialog.cc:88 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Mes Documents"
 
@@ -403,7 +403,7 @@
 msgid "Query:"
 msgstr "Recherche:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:102
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:107
 msgid "History"
 msgstr "Historique"
 
@@ -411,7 +411,7 @@
 msgid "Stored queries"
 msgstr "Recherches sauvegardees"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:52
 #: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr "Statistiques"
@@ -495,7 +495,7 @@
 
 #: UI/GTK2/src/Notebook.cpp:146
 msgid "Close"
-msgstr ""
+msgstr "Fermer"
 
 #. Localize language names
 #: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:492
@@ -833,57 +833,80 @@
 msgid "Score"
 msgstr "Score"
 
-#: UI/GTK2/src/statisticsDialog.cc:76
+#: UI/GTK2/src/statisticsDialog.cc:81
 msgid "Indexes"
 msgstr "Indexes"
 
-#: UI/GTK2/src/statisticsDialog.cc:109
+#: UI/GTK2/src/statisticsDialog.cc:114
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
+#: UI/GTK2/src/statisticsDialog.cc:134
+msgid "Yes"
+msgstr "Oui"
+
+#: UI/GTK2/src/statisticsDialog.cc:134
+msgid "No"
+msgstr "Non"
+
+#: UI/GTK2/src/statisticsDialog.cc:146 UI/GTK2/src/statisticsDialog.cc:162
 msgid "documents"
 msgstr "documents"
 
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
+#: UI/GTK2/src/statisticsDialog.cc:152 UI/GTK2/src/statisticsDialog.cc:170
 #: UI/GTK2/src/WorkerThreads.cpp:125
 msgid "Unknown error"
 msgstr "Erreur inconnue"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Viewed"
 msgstr "Visualise"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "results"
 msgstr "resultats"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:183
 msgid "Crawled"
 msgstr "Parcouru"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:183
 msgid "files"
 msgstr "fichiers"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:199
+#: UI/GTK2/src/statisticsDialog.cc:201
 msgid "Running under PID"
 msgstr "PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:205
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Disconnected from D-Bus"
 msgstr "Deconnecte par D-Bus"
 
-#: UI/GTK2/src/statisticsDialog.cc:209
+#: UI/GTK2/src/statisticsDialog.cc:226
 msgid "Stopped"
 msgstr "Arrete"
 
-#: UI/GTK2/src/statisticsDialog.cc:213
+#: UI/GTK2/src/statisticsDialog.cc:230
 msgid "Currently not running"
 msgstr "Arrete"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:236
+#, fuzzy
+msgid "Low disk space"
+msgstr "Espace disque bas"
+
+#: UI/GTK2/src/statisticsDialog.cc:238
+#, fuzzy
+msgid "On battery"
+msgstr "Sur batterie"
+
+#: UI/GTK2/src/statisticsDialog.cc:240
+#, fuzzy
+msgid "Crawling"
+msgstr "En train de brouter"
+
+#: UI/GTK2/src/statisticsDialog.cc:268
 msgid "Errors"
 msgstr "Erreurs"
 

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2008-07-26 04:20:04 UTC (rev 1313)
+++ trunk/po/pt_BR.po	2008-07-26 06:10:28 UTC (rev 1314)
@@ -6,17 +6,17 @@
 msgstr ""
 "Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-07-19 16:20+0800\n"
-"PO-Revision-Date: 2008-01-15 00:15+0000\n"
-"Last-Translator: Leonardo Melo <leonardovazmelo at gmail.com>\n"
+"POT-Creation-Date: 2008-07-26 13:36+0800\n"
+"PO-Revision-Date: 2008-07-24 12:01+0000\n"
+"Last-Translator: Rafael Porto Rodrigues <rafporto at gmail.com>\n"
 "Language-Team: Portuguese (Brazil) <pt_BR at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-02-18 14:08+0000\n"
+"X-Launchpad-Export-Date: 2008-07-26 05:56+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:89
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:94
 msgid "Search Engines"
 msgstr "Mecanismos de Pesquisa"
 
@@ -35,7 +35,7 @@
 #: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
 #: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
 #: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
-#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:84
 #: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "Minhas P?ginas Web"
@@ -46,13 +46,13 @@
 #: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
 #: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
 #: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/statisticsDialog.cc:88 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Meus Documentos"
 
 #: UI/GTK2/src/indexDialog.cc:122
 msgid "Served by"
-msgstr ""
+msgstr "Servido por"
 
 #: UI/GTK2/src/indexDialog.cc:124
 #, fuzzy
@@ -85,7 +85,7 @@
 
 #: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
-msgstr ""
+msgstr "Endere?o:"
 
 #: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
@@ -121,7 +121,7 @@
 
 #: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
-msgstr ""
+msgstr "Todos"
 
 #: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
@@ -131,7 +131,7 @@
 
 #: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
-msgstr ""
+msgstr "Use este comando para outros documentos deste mesmo tipo"
 
 #: UI/GTK2/src/launcherDialog_glade.cc:98
 msgid "Helper application"
@@ -263,7 +263,7 @@
 
 #: UI/GTK2/src/mainWindow.cc:1331
 msgid "Corrected"
-msgstr ""
+msgstr "Corrigido"
 
 #: UI/GTK2/src/mainWindow.cc:1485
 msgid "More Like"
@@ -334,7 +334,7 @@
 
 #: UI/GTK2/src/mainWindow.cc:2554
 msgid "Search the Web and your documents !"
-msgstr ""
+msgstr "Procurar a Rede e seus documentos!"
 
 #: UI/GTK2/src/mainWindow.cc:2599
 msgid "Index name"
@@ -354,7 +354,7 @@
 
 #: UI/GTK2/src/mainWindow.cc:2868
 msgid "No history for"
-msgstr ""
+msgstr "Nenhum hist?rico para"
 
 #: UI/GTK2/src/mainWindow.cc:2984
 msgid "At least one task hasn't completed yet. Quit now ?"
@@ -362,7 +362,7 @@
 
 #: UI/GTK2/src/mainWindow.cc:2986
 msgid "Quit"
-msgstr ""
+msgstr "Sair"
 
 #: UI/GTK2/src/mainWindow.cc:3169
 msgid "Query name"
@@ -408,7 +408,7 @@
 msgid "Query:"
 msgstr "Consulta:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:102
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:107
 #, fuzzy
 msgid "History"
 msgstr "Diret?rio"
@@ -417,10 +417,10 @@
 msgid "Stored queries"
 msgstr "Consultas armazenadas"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:52
 #: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
-msgstr ""
+msgstr "Estado"
 
 #: UI/GTK2/src/mainWindow_glade.cc:176
 msgid "Search Engine"
@@ -535,7 +535,7 @@
 
 #: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:499
 msgid "Hungarian"
-msgstr ""
+msgstr "H?ngaro"
 
 #: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:500
 msgid "Italian"
@@ -551,7 +551,7 @@
 
 #: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:503
 msgid "Romanian"
-msgstr ""
+msgstr "Romeno"
 
 #: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:504
 msgid "Russian"
@@ -567,7 +567,7 @@
 
 #: UI/GTK2/src/pinot.cc:251 UI/GTK2/src/pinot-dbus-daemon.cc:507
 msgid "Turkish"
-msgstr ""
+msgstr "Turco"
 
 #: UI/GTK2/src/pinot.cc:272
 msgid "Couldn't open index"
@@ -592,7 +592,7 @@
 
 #: UI/GTK2/src/PinotSettings.cpp:387
 msgid "Me"
-msgstr ""
+msgstr "Eu"
 
 #: UI/GTK2/src/PinotSettings.cpp:1338
 msgid "Unclassified"
@@ -661,15 +661,15 @@
 
 #: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
-msgstr ""
+msgstr "Conec??o direta com a Internet"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
-msgstr ""
+msgstr "Manual de configura??o do proxy"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
-msgstr ""
+msgstr "Rede"
 
 #: UI/GTK2/src/prefsDialog_glade.cc:93
 #, fuzzy
@@ -733,15 +733,15 @@
 
 #: UI/GTK2/src/propertiesDialog_glade.cc:66
 msgid "Size:"
-msgstr ""
+msgstr "Tamanho:"
 
 #: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
-msgstr ""
+msgstr "Termos:"
 
 #: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
-msgstr ""
+msgstr "bytes"
 
 #: UI/GTK2/src/queryDialog.cc:110
 msgid "Host name"
@@ -779,7 +779,7 @@
 
 #: UI/GTK2/src/queryDialog.cc:118
 msgid "MIME class"
-msgstr ""
+msgstr "classe MIME"
 
 #: UI/GTK2/src/queryDialog.cc:119
 msgid "Label"
@@ -798,7 +798,7 @@
 
 #: UI/GTK2/src/queryDialog.cc:124
 msgid "Size"
-msgstr ""
+msgstr "Tamanho"
 
 #. Sort order
 #: UI/GTK2/src/queryDialog.cc:128
@@ -830,7 +830,7 @@
 
 #: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
-msgstr ""
+msgstr "Ordem de classifica??o:"
 
 #: UI/GTK2/src/queryDialog_glade.cc:93
 msgid "Stemming:"
@@ -849,65 +849,87 @@
 msgid "Score"
 msgstr "Pontua??o"
 
-#: UI/GTK2/src/statisticsDialog.cc:76
+#: UI/GTK2/src/statisticsDialog.cc:81
 #, fuzzy
 msgid "Indexes"
 msgstr "Indexado"
 
-#: UI/GTK2/src/statisticsDialog.cc:109
+#: UI/GTK2/src/statisticsDialog.cc:114
 msgid "Daemon"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
+#: UI/GTK2/src/statisticsDialog.cc:134
+msgid "Yes"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:134
 #, fuzzy
+msgid "No"
+msgstr "Nenhum"
+
+#: UI/GTK2/src/statisticsDialog.cc:146 UI/GTK2/src/statisticsDialog.cc:162
+#, fuzzy
 msgid "documents"
 msgstr "Meus Documentos"
 
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
+#: UI/GTK2/src/statisticsDialog.cc:152 UI/GTK2/src/statisticsDialog.cc:170
 #: UI/GTK2/src/WorkerThreads.cpp:125
 msgid "Unknown error"
-msgstr ""
+msgstr "Erro desconhecido"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:177
 #, fuzzy
 msgid "Viewed"
 msgstr "Visualizar"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:177
 #, fuzzy
 msgid "results"
 msgstr "_Resultados"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:183
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:183
 msgid "files"
-msgstr ""
+msgstr "arquivos"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:199
+#: UI/GTK2/src/statisticsDialog.cc:201
 #, fuzzy
 msgid "Running under PID"
 msgstr "Executando consulta"
 
-#: UI/GTK2/src/statisticsDialog.cc:205
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Disconnected from D-Bus"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:209
+#: UI/GTK2/src/statisticsDialog.cc:226
 msgid "Stopped"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:213
+#: UI/GTK2/src/statisticsDialog.cc:230
 msgid "Currently not running"
+msgstr "N?o executando atualmente"
+
+#: UI/GTK2/src/statisticsDialog.cc:236
+msgid "Low disk space"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:243
-msgid "Errors"
+#: UI/GTK2/src/statisticsDialog.cc:238
+msgid "On battery"
 msgstr ""
 
+#: UI/GTK2/src/statisticsDialog.cc:240
+#, fuzzy
+msgid "Crawling"
+msgstr "HTTP crawling:"
+
+#: UI/GTK2/src/statisticsDialog.cc:268
+msgid "Errors"
+msgstr "Erros"
+
 #: UI/GTK2/src/WorkerThreads.cpp:92
 #, fuzzy
 msgid "Index error"
@@ -942,7 +964,7 @@
 
 #: UI/GTK2/src/WorkerThreads.cpp:106
 msgid "File monitor error"
-msgstr ""
+msgstr "Monitor de erros de arquivo"
 
 #: UI/GTK2/src/WorkerThreads.cpp:108
 msgid "Couldn't open directory"
@@ -976,7 +998,7 @@
 
 #: UI/GTK2/src/WorkerThreads.cpp:417
 msgid "Indexing was stopped"
-msgstr ""
+msgstr "?ndice foi parado"
 
 #: UI/GTK2/src/WorkerThreads.cpp:430
 msgid "Can't index mail here"

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2008-07-26 04:20:04 UTC (rev 1313)
+++ trunk/po/sv.po	2008-07-26 06:10:28 UTC (rev 1314)
@@ -7,17 +7,17 @@
 msgstr ""
 "Project-Id-Version: pinot 0.87\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-07-19 16:20+0800\n"
-"PO-Revision-Date: 2008-01-15 00:10+0000\n"
+"POT-Creation-Date: 2008-07-26 13:36+0800\n"
+"PO-Revision-Date: 2008-07-23 21:55+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2008-02-18 14:08+0000\n"
+"X-Launchpad-Export-Date: 2008-07-26 05:56+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:89
+#: UI/GTK2/src/EnginesTree.cpp:68 UI/GTK2/src/statisticsDialog.cc:94
 msgid "Search Engines"
 msgstr "S?kmotorer"
 
@@ -36,7 +36,7 @@
 #: UI/GTK2/src/mainWindow.cc:1626 UI/GTK2/src/mainWindow.cc:1662
 #: UI/GTK2/src/mainWindow.cc:1684 UI/GTK2/src/mainWindow.cc:2395
 #: UI/GTK2/src/PinotSettings.cpp:359 UI/GTK2/src/PinotSettings.cpp:1570
-#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:79
+#: UI/GTK2/src/PinotSettings.cpp:1626 UI/GTK2/src/statisticsDialog.cc:84
 #: UI/GTK2/src/WorkerThreads.cpp:1010
 msgid "My Web Pages"
 msgstr "Mina webbsidor"
@@ -47,7 +47,7 @@
 #: UI/GTK2/src/mainWindow.cc:1542 UI/GTK2/src/mainWindow.cc:1545
 #: UI/GTK2/src/mainWindow.cc:2399 UI/GTK2/src/PinotSettings.cpp:360
 #: UI/GTK2/src/PinotSettings.cpp:1571 UI/GTK2/src/PinotSettings.cpp:1627
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:1020
+#: UI/GTK2/src/statisticsDialog.cc:88 UI/GTK2/src/WorkerThreads.cpp:1020
 msgid "My Documents"
 msgstr "Mina dokument"
 
@@ -402,7 +402,7 @@
 msgid "Query:"
 msgstr "Fr?ga:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:102
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:107
 msgid "History"
 msgstr "Historik"
 
@@ -410,7 +410,7 @@
 msgid "Stored queries"
 msgstr "Lagrade fr?gor"
 
-#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:52
 #: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr "Status"
@@ -832,57 +832,79 @@
 msgid "Score"
 msgstr "Betyg"
 
-#: UI/GTK2/src/statisticsDialog.cc:76
+#: UI/GTK2/src/statisticsDialog.cc:81
 msgid "Indexes"
 msgstr "Index"
 
-#: UI/GTK2/src/statisticsDialog.cc:109
+#: UI/GTK2/src/statisticsDialog.cc:114
 msgid "Daemon"
 msgstr "Demon"
 
-#: UI/GTK2/src/statisticsDialog.cc:145 UI/GTK2/src/statisticsDialog.cc:161
+#: UI/GTK2/src/statisticsDialog.cc:134
+msgid "Yes"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:134
+#, fuzzy
+msgid "No"
+msgstr "Ingen"
+
+#: UI/GTK2/src/statisticsDialog.cc:146 UI/GTK2/src/statisticsDialog.cc:162
 msgid "documents"
 msgstr "dokument"
 
-#: UI/GTK2/src/statisticsDialog.cc:151 UI/GTK2/src/statisticsDialog.cc:169
+#: UI/GTK2/src/statisticsDialog.cc:152 UI/GTK2/src/statisticsDialog.cc:170
 #: UI/GTK2/src/WorkerThreads.cpp:125
 msgid "Unknown error"
 msgstr "Ok?nt fel"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Viewed"
 msgstr "Visad"
 
-#: UI/GTK2/src/statisticsDialog.cc:176
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "results"
 msgstr "resultat"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:183
 msgid "Crawled"
 msgstr "Insamlad"
 
-#: UI/GTK2/src/statisticsDialog.cc:182
+#: UI/GTK2/src/statisticsDialog.cc:183
 msgid "files"
 msgstr "filer"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:199
+#: UI/GTK2/src/statisticsDialog.cc:201
 msgid "Running under PID"
 msgstr "K?r under PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:205
+#: UI/GTK2/src/statisticsDialog.cc:222
 msgid "Disconnected from D-Bus"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:209
+#: UI/GTK2/src/statisticsDialog.cc:226
 msgid "Stopped"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:213
+#: UI/GTK2/src/statisticsDialog.cc:230
 msgid "Currently not running"
 msgstr "K?r f?r tillf?llet inte"
 
-#: UI/GTK2/src/statisticsDialog.cc:243
+#: UI/GTK2/src/statisticsDialog.cc:236
+msgid "Low disk space"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:238
+msgid "On battery"
+msgstr ""
+
+#: UI/GTK2/src/statisticsDialog.cc:240
+#, fuzzy
+msgid "Crawling"
+msgstr "Insamlad"
+
+#: UI/GTK2/src/statisticsDialog.cc:268
 msgid "Errors"
 msgstr "Fel"
 



