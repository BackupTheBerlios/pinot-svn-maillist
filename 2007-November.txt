From fabricecolin at mail.berlios.de  Thu Nov  1 12:00:53 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 1 Nov 2007 12:00:53 +0100
Subject: [Pinot-svn] r1082 - trunk/UI/GTK2/src
Message-ID: <200711011100.lA1B0rQa015263@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-01 12:00:53 +0100 (Thu, 01 Nov 2007)
New Revision: 1082

Modified:
   trunk/UI/GTK2/src/propertiesDialog.cc
Log:
Hide the language when editing several documents' properties, at least until
that can be updated over D-Bus en masse.


Modified: trunk/UI/GTK2/src/propertiesDialog.cc
===================================================================
--- trunk/UI/GTK2/src/propertiesDialog.cc	2007-10-30 11:25:20 UTC (rev 1081)
+++ trunk/UI/GTK2/src/propertiesDialog.cc	2007-11-01 11:00:53 UTC (rev 1082)
@@ -137,6 +137,8 @@
 		// Hide these widgets
 		titleLabel->hide();
 		titleEntry->hide();
+		languageLabel->hide();
+		languageCombobox->hide();
 		typeLabel->hide();
 		typeEntry->hide();
 		sizeLabel->hide();



From fabricecolin at mail.berlios.de  Thu Nov  1 12:02:49 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 1 Nov 2007 12:02:49 +0100
Subject: [Pinot-svn] r1083 - in trunk: . Index Search UI/GTK2/src po
Message-ID: <200711011102.lA1B2nKh015329@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-01 12:02:46 +0100 (Thu, 01 Nov 2007)
New Revision: 1083

Modified:
   trunk/Index/pinot-index.1
   trunk/Index/pinot-label.1
   trunk/NEWS
   trunk/README
   trunk/Search/pinot-search.1
   trunk/TODO
   trunk/UI/GTK2/src/pinot-dbus-daemon.1
   trunk/UI/GTK2/src/pinot.1
   trunk/configure.in
   trunk/po/de.po
   trunk/po/es.po
   trunk/po/fr.po
   trunk/po/it.po
   trunk/po/nl.po
   trunk/po/pt.po
   trunk/po/pt_BR.po
   trunk/po/ru.po
   trunk/po/sv.po
   trunk/po/zh_TW.po
Log:
Updated for 0.80 release.
Clarified parts about document formats and external programs in the README.


Modified: trunk/Index/pinot-index.1
===================================================================
--- trunk/Index/pinot-index.1	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/Index/pinot-index.1	2007-11-01 11:02:46 UTC (rev 1083)
@@ -1,10 +1,10 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-INDEX "1" "August 2007" "pinot-index - pinot 0.76" "User Commands"
+.TH PINOT-INDEX "1" "November 2007" "pinot-index - pinot 0.80" "User Commands"
 .SH NAME
 pinot-index \- Index documents from the command-line
 .SH SYNOPSIS
 .B pinot-index
-[\fIOPTIONS\fR] \fIURL\fR
+[\fIOPTIONS\fR] \fIURLS\fR
 .SH DESCRIPTION
 pinot\-index \- Index documents from the command\-line
 .SH OPTIONS

Modified: trunk/Index/pinot-label.1
===================================================================
--- trunk/Index/pinot-label.1	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/Index/pinot-label.1	2007-11-01 11:02:46 UTC (rev 1083)
@@ -1,10 +1,10 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-LABEL "1" "October 2007" "pinot-label - pinot 0.76" "User Commands"
+.TH PINOT-LABEL "1" "November 2007" "pinot-label - pinot 0.80" "User Commands"
 .SH NAME
 pinot-label \- Label files from the command-line
 .SH SYNOPSIS
 .B pinot-label
-[\fIOPTIONS\fR] [\fIFILE\fR]
+[\fIOPTIONS\fR] [\fIFILES\fR]
 .SH DESCRIPTION
 pinot\-label \- Label files from the command\-line
 .SH OPTIONS
@@ -28,7 +28,7 @@
 .PP
 pinot\-label \fB\-\-list\fR
 .PP
-pinot\-label \fB\-\-set\fR "[Clowns][Fun][My Hero]" /home/fabrice/Documents/Bozo.txt/
+pinot\-label \fB\-\-set\fR "[Clowns][Fun][My Hero]" /home/fabrice/Documents/Bozo.txt
 .SH "REPORTING BUGS"
 Report bugs to fabricecolin at users.berlios.de
 .PP

Modified: trunk/NEWS
===================================================================
--- trunk/NEWS	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/NEWS	2007-11-01 11:02:46 UTC (rev 1083)
@@ -1,4 +1,4 @@
-??? version_0_8_0
+2007/11/01 version_0_8_0
 Build :
  - SMP builds, thanks to Gabriel C
 Index :
@@ -33,8 +33,8 @@
  - documents' terms can be saved to a file
  - Status window shows description of errors
  - send a Reload to the daemon only when the relevant preferences are modified
+ - updated Dutch translation by JW
  - updated Brazilian Portuguese translation by Leonardo Melo
- - updated Dutch translation by JW
 
 2007/08/23 version_0_7_6
 Build :

Modified: trunk/README
===================================================================
--- trunk/README	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/README	2007-11-01 11:02:46 UTC (rev 1083)
@@ -235,16 +235,22 @@
 8. File formats
 
 
-  The following document types are supported and will be fully indexed :
+  The following document types are supported internally :
     * plain text
     * HTML
-    * PDF (pdftotext is required)
-    * RTF (unrtf is required)
-    * MS Word (antiword is required)
     * XML
-    * OpenDocument/StarOffice files
     * mbox
-    * MP3 and Ogg Vorbis (TagLib required)
+    * MP3 and Ogg Vorbis
+
+  The following document types are supported through external programs :
+    * PDF (pdftotext required)
+    * RTF (unrtf required)
+    * OpenDocument/StarOffice files (unzip required)
+    * MS Word (antiword required)
+    * PowerPoint (catppt required)
+    * Excel (xls2csv required)
+    * DVI (catdvi required)
+    * DjVu (djvutext required)
     * RPM (rpm required)
     * DEB (dpkg required)
 
@@ -253,7 +259,7 @@
 
   If you wish to add support for another document type, and know of a
   command-line program that can convert that type to plain text, XML or HTML,
-  you should be able to add it to external-filters.xml, located in /etc/pinot/.
+  add it to external-filters.xml, located in /etc/pinot/.
 
 
 9. File patterns

Modified: trunk/Search/pinot-search.1
===================================================================
--- trunk/Search/pinot-search.1	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/Search/pinot-search.1	2007-11-01 11:02:46 UTC (rev 1083)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-SEARCH "1" "August 2007" "pinot-search - pinot 0.76" "User Commands"
+.TH PINOT-SEARCH "1" "November 2007" "pinot-search - pinot 0.80" "User Commands"
 .SH NAME
 pinot-search \- Query search engines from the command-line
 .SH SYNOPSIS

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/TODO	2007-11-01 11:02:46 UTC (rev 1083)
@@ -70,6 +70,7 @@
 - After indexing or updating a document, a call to getDocumentInfo() shouldn't be necessary
 - Labels and the rest of DocumentInfo are handled separately, they shouldn't be
 - Indexes have no knowledge of indexId's
+- Allow disabling spelling
 
 Mail
 - Find out what kind of locking scheme Mozilla uses (POSIX lock ?) and use that

Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.1
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.1	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.1	2007-11-01 11:02:46 UTC (rev 1083)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-DBUS-DAEMON "1" "August 2007" "pinot-dbus-daemon - pinot 0.76" "User Commands"
+.TH PINOT-DBUS-DAEMON "1" "November 2007" "pinot-dbus-daemon - pinot 0.80" "User Commands"
 .SH NAME
 pinot-dbus-daemon \- D-Bus search and index daemon
 .SH SYNOPSIS
@@ -18,6 +18,9 @@
 \fB\-p\fR, \fB\-\-priority\fR
 set the daemon's priority (default 15)
 .TP
+\fB\-r\fR, \fB\-\-reindex\fR
+force a reindex
+.TP
 \fB\-v\fR, \fB\-\-version\fR
 output version information and exit
 .SH "REPORTING BUGS"

Modified: trunk/UI/GTK2/src/pinot.1
===================================================================
--- trunk/UI/GTK2/src/pinot.1	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/UI/GTK2/src/pinot.1	2007-11-01 11:02:46 UTC (rev 1083)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT "1" "August 2007" "pinot - pinot 0.76" "User Commands"
+.TH PINOT "1" "November 2007" "pinot - pinot 0.80" "User Commands"
 .SH NAME
 pinot \- A metasearch tool for the Free Desktop
 .SH SYNOPSIS

Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/configure.in	2007-11-01 11:02:46 UTC (rev 1083)
@@ -2,7 +2,7 @@
 # using glademm V2.6.0
 
 AC_PREREQ(2.50)
-AC_INIT(pinot, 0.78,[fabricecolin at users.berlios.de])
+AC_INIT(pinot, 0.80,[fabricecolin at users.berlios.de])
 AM_INIT_AUTOMAKE
 AC_CONFIG_HEADERS(config.h)
 
@@ -16,7 +16,7 @@
 AM_PROG_LIBTOOL
 
 dnl An index with a version older than this should be upgraded
-AC_DEFINE_UNQUOTED(PINOT_INDEX_MIN_VERSION,"0.78",
+AC_DEFINE_UNQUOTED(PINOT_INDEX_MIN_VERSION,"0.80",
     [Minimum index version])
 
 dnl gettext support

Modified: trunk/po/de.po
===================================================================
--- trunk/po/de.po	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/po/de.po	2007-11-01 11:02:46 UTC (rev 1083)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.75\n"
+"Project-Id-Version: pinot 0.80\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-27 00:15+0800\n"
+"POT-Creation-Date: 2007-10-28 22:51+0800\n"
 "PO-Revision-Date: 2007-09-10 12:48+0000\n"
 "Last-Translator: Christian Dywan <christian at twotoasts.de>\n"
 "Language-Team: German <de at li.org>\n"
@@ -33,7 +33,7 @@
 #: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
 #: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
 msgid "My Web Pages"
 msgstr "Meine Webseiten"
 
@@ -42,7 +42,7 @@
 #: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
 #: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:982
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
 msgid "My Documents"
 msgstr "Meine Dokumente"
 
@@ -836,7 +836,7 @@
 msgstr "Dokumente"
 
 #: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/WorkerThreads.cpp:128
 msgid "Unknown error"
 msgstr "Unbekannter Fehler"
 
@@ -870,84 +870,84 @@
 msgid "Errors"
 msgstr "Fehler"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:95
 #, fuzzy
 msgid "Index error"
 msgstr "Indiziert"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:97
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "Dokument konnte nicht aktualisiert werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't update document"
 msgstr "Dokument konnte nicht aktualisiert werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't unindex document(s)"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't run query on search engine"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:105
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "Konnte Verlaufsdatenbank nicht anlegen"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "Dokument konnte nicht aktualisiert werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:111
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "Konnte Index nicht ?ffnen"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:113
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "existiert nicht"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "Couldn't create search engine"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Cannot index document type"
 msgstr "Kann Dokumenttyp nicht indizieren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No downloader for this protocol"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:121
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META-Tag verbietet das Indizieren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:123
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:391
+#: UI/GTK2/src/WorkerThreads.cpp:393
 msgid "Can't index mail here"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:412 UI/GTK2/src/WorkerThreads.cpp:666
+#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
 msgid "is already being indexed"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:422
+#: UI/GTK2/src/WorkerThreads.cpp:424
 msgid "is blacklisted"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:935
+#: UI/GTK2/src/WorkerThreads.cpp:937
 msgid "No title"
 msgstr "Kein Titel"

Modified: trunk/po/es.po
===================================================================
--- trunk/po/es.po	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/po/es.po	2007-11-01 11:02:46 UTC (rev 1083)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.75\n"
+"Project-Id-Version: pinot 0.80\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-27 00:15+0800\n"
+"POT-Creation-Date: 2007-10-28 22:51+0800\n"
 "PO-Revision-Date: 2007-09-20 21:14+0000\n"
 "Last-Translator: Gar Bage <garbage at openfutura.com>\n"
 "Language-Team: es <fabricecolin at users.berlios.de>\n"
@@ -34,7 +34,7 @@
 #: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
 #: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
 msgid "My Web Pages"
 msgstr "Mis Paginas Web"
 
@@ -43,7 +43,7 @@
 #: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
 #: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:982
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
 msgid "My Documents"
 msgstr "Mis documentos"
 
@@ -829,7 +829,7 @@
 msgstr "documentos"
 
 #: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/WorkerThreads.cpp:128
 msgid "Unknown error"
 msgstr "Error desconocido"
 
@@ -862,85 +862,85 @@
 msgid "Errors"
 msgstr "Errores"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:95
 #, fuzzy
 msgid "Index error"
 msgstr "Error en el ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:97
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "No se pudo des-indizar lo(s) documento(s)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't update document"
 msgstr "No se pudo actualizar el documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't unindex document(s)"
 msgstr "No se pudo des-indizar lo(s) documento(s)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't run query on search engine"
 msgstr "No se pudo ejecutar la b?squeda contra el motor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:105
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "No se pudo ejecutar la b?squeda contra el motor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "No se pudo actualizar el documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:111
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "No se pudo abrir el ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:113
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "no existe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "Couldn't create search engine"
 msgstr "No se pudo crear el motor de b?squeda"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Cannot index document type"
 msgstr "No se pudo indizar el tipo de documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:119
 #, fuzzy
 msgid "No downloader for this protocol"
 msgstr "No se pudo usar un recuperador para el protocolo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:121
 msgid "Robots META tag forbids indexing"
 msgstr "La etiqueta META Robots proh?be la indizaci?n"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:123
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:391
+#: UI/GTK2/src/WorkerThreads.cpp:393
 msgid "Can't index mail here"
 msgstr "No se pudo indizar el buzon de correo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:412 UI/GTK2/src/WorkerThreads.cpp:666
+#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
 msgid "is already being indexed"
 msgstr "ya est? indizado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:422
+#: UI/GTK2/src/WorkerThreads.cpp:424
 msgid "is blacklisted"
 msgstr "ya excluido"
 
-#: UI/GTK2/src/WorkerThreads.cpp:935
+#: UI/GTK2/src/WorkerThreads.cpp:937
 msgid "No title"
 msgstr "Sin t?tulo"

Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/po/fr.po	2007-11-01 11:02:46 UTC (rev 1083)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.75\n"
+"Project-Id-Version: pinot 0.80\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-27 00:15+0800\n"
+"POT-Creation-Date: 2007-10-28 22:51+0800\n"
 "PO-Revision-Date: 2007-10-19 22:30+0000\n"
 "Last-Translator: Fabrice Colin <fabricecolin at users.berlios.de>\n"
 "Language-Team: fr <fabricecolin at users.berlios.de>\n"
@@ -34,7 +34,7 @@
 #: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
 #: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
 msgid "My Web Pages"
 msgstr "Mes Pages Web"
 
@@ -43,7 +43,7 @@
 #: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
 #: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:982
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
 msgid "My Documents"
 msgstr "Mes Documents"
 
@@ -818,7 +818,7 @@
 msgstr "documents"
 
 #: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/WorkerThreads.cpp:128
 msgid "Unknown error"
 msgstr "Erreur inconnue"
 
@@ -851,78 +851,78 @@
 msgid "Errors"
 msgstr "Erreurs"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Index error"
 msgstr "Erreur sur l'index"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't index document"
 msgstr "N'a pas pu indexer le document"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't update document"
 msgstr "N'a pas pu mettre a jour le document"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't unindex document(s)"
 msgstr "N'a pas pu desindexer le(s) document(s)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't run query on search engine"
 msgstr "N'a pas pu lancer la recherche sur le moteur"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't get history for search engine"
 msgstr "N'a pas pu obtenir l'historique de la recherche"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:107
 msgid "Couldn't retrieve document"
 msgstr "N'a pas pu telecharger le document"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Couldn't initialize file monitor"
 msgstr "N'a pas pu initialiser le moniteur de fichiers"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't open directory"
 msgstr "N'a pas pu ouvrir le repertoire"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Index doesn't exist"
 msgstr "L'index n'existe pas"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "Couldn't create search engine"
 msgstr "N'a pas pu creer le moteur"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Cannot index document type"
 msgstr "Impossible d'indexer ce type de documents"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No downloader for this protocol"
 msgstr "Pas de brouteur pour ce protocole"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:121
 msgid "Robots META tag forbids indexing"
 msgstr "Le META tag Robots interdit d'indexer"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:123
 msgid "No monitoring handler"
 msgstr "Pas de moniteur de fichiers disponible"
 
-#: UI/GTK2/src/WorkerThreads.cpp:391
+#: UI/GTK2/src/WorkerThreads.cpp:393
 msgid "Can't index mail here"
 msgstr "Ne peut pas indexer le courrier ici"
 
-#: UI/GTK2/src/WorkerThreads.cpp:412 UI/GTK2/src/WorkerThreads.cpp:666
+#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
 msgid "is already being indexed"
 msgstr "est deja indexe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:422
+#: UI/GTK2/src/WorkerThreads.cpp:424
 msgid "is blacklisted"
 msgstr "est exclus"
 
-#: UI/GTK2/src/WorkerThreads.cpp:935
+#: UI/GTK2/src/WorkerThreads.cpp:937
 msgid "No title"
 msgstr "Pas de titre"

Modified: trunk/po/it.po
===================================================================
--- trunk/po/it.po	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/po/it.po	2007-11-01 11:02:46 UTC (rev 1083)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.75\n"
+"Project-Id-Version: pinot 0.80\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-27 00:15+0800\n"
+"POT-Creation-Date: 2007-10-28 22:51+0800\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: Marco Bazzani <visitors at libero.it>\n"
 "Language-Team: Italian <it at li.org>\n"
@@ -33,7 +33,7 @@
 #: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
 #: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
 msgid "My Web Pages"
 msgstr "Pagine web personali"
 
@@ -42,7 +42,7 @@
 #: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
 #: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:982
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
 msgid "My Documents"
 msgstr "Documenti personali"
 
@@ -831,7 +831,7 @@
 msgstr "documenti"
 
 #: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/WorkerThreads.cpp:128
 msgid "Unknown error"
 msgstr "errore Sconosciuto"
 
@@ -864,85 +864,85 @@
 msgid "Errors"
 msgstr "Errori"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:95
 #, fuzzy
 msgid "Index error"
 msgstr "Errori indice su"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:97
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "Impossiible rimuovere i(l) documento/i dall'indice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't update document"
 msgstr "Impossibile aggiornare il documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't unindex document(s)"
 msgstr "Impossiible rimuovere i(l) documento/i dall'indice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't run query on search engine"
 msgstr "Impossibile avviare un query sul motore di ricerca"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:105
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "Impossibile avviare un query sul motore di ricerca"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "Impossibile aggiornare il documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:111
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "Impossibile aprire l'indice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:113
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "non esiste"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "Couldn't create search engine"
 msgstr "Impossibile creare un motore di ricerca"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Cannot index document type"
 msgstr "Impossibile indicizzare tipo di documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:119
 #, fuzzy
 msgid "No downloader for this protocol"
 msgstr "Impossibile ottenere un downloader per il protocollo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:121
 msgid "Robots META tag forbids indexing"
 msgstr "il Robots META tag vieta l'indicizzazione"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:123
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:391
+#: UI/GTK2/src/WorkerThreads.cpp:393
 msgid "Can't index mail here"
 msgstr "Impossibile indicizzare la mail qui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:412 UI/GTK2/src/WorkerThreads.cpp:666
+#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
 msgid "is already being indexed"
 msgstr "? gia' stato indicizzato"
 
-#: UI/GTK2/src/WorkerThreads.cpp:422
+#: UI/GTK2/src/WorkerThreads.cpp:424
 msgid "is blacklisted"
 msgstr "e' blacklistato"
 
-#: UI/GTK2/src/WorkerThreads.cpp:935
+#: UI/GTK2/src/WorkerThreads.cpp:937
 msgid "No title"
 msgstr "Nessun titolo"

Modified: trunk/po/nl.po
===================================================================
--- trunk/po/nl.po	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/po/nl.po	2007-11-01 11:02:46 UTC (rev 1083)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.75\n"
+"Project-Id-Version: pinot 0.80\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-27 00:15+0800\n"
+"POT-Creation-Date: 2007-10-28 22:51+0800\n"
 "PO-Revision-Date: 2007-10-21 13:24+0000\n"
 "Last-Translator: JW <jw00000 at gmail.com>\n"
 "Language-Team: Dutch <nl at li.org>\n"
@@ -33,7 +33,7 @@
 #: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
 #: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
 msgid "My Web Pages"
 msgstr "Mijn webpagina's"
 
@@ -42,7 +42,7 @@
 #: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
 #: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:982
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
 msgid "My Documents"
 msgstr "Mijn documenten"
 
@@ -820,7 +820,7 @@
 msgstr "documenten"
 
 #: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/WorkerThreads.cpp:128
 msgid "Unknown error"
 msgstr "Onbekende fout."
 
@@ -853,78 +853,78 @@
 msgid "Errors"
 msgstr "Fouten"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Index error"
 msgstr "Indexfout"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't index document"
 msgstr "Het document kon niet ge?ndexeerd worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't update document"
 msgstr "Kan document niet actualiseren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't unindex document(s)"
 msgstr "Kan indexering van bestand(en) niet ongedaan maken"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't run query on search engine"
 msgstr "Kon query niet uitvoeren op zoekmachine"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't get history for search engine"
 msgstr "De geschiedenis voor de zoekmachine kon niet verkregen worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:107
 msgid "Couldn't retrieve document"
 msgstr "Het document kon niet verkregen worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Couldn't initialize file monitor"
 msgstr "Kan bestandsmonitor niet initialiseren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't open directory"
 msgstr "De map kon niet geopend worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Index doesn't exist"
 msgstr "De index bestaat niet"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "Couldn't create search engine"
 msgstr "Kon zoekmachine niet maken"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Cannot index document type"
 msgstr "Kan documenttype niet indexeren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No downloader for this protocol"
 msgstr "Er is geen downloader voor dit protocol"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:121
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META taf verbiedt indexeren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:123
 msgid "No monitoring handler"
 msgstr "Geen monitoring handler"
 
-#: UI/GTK2/src/WorkerThreads.cpp:391
+#: UI/GTK2/src/WorkerThreads.cpp:393
 msgid "Can't index mail here"
 msgstr "Kan mail hier niet indexeren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:412 UI/GTK2/src/WorkerThreads.cpp:666
+#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
 msgid "is already being indexed"
 msgstr "wordt al geindexeerd"
 
-#: UI/GTK2/src/WorkerThreads.cpp:422
+#: UI/GTK2/src/WorkerThreads.cpp:424
 msgid "is blacklisted"
 msgstr "staat op blacklist"
 
-#: UI/GTK2/src/WorkerThreads.cpp:935
+#: UI/GTK2/src/WorkerThreads.cpp:937
 msgid "No title"
 msgstr "Geen titel"

Modified: trunk/po/pt.po
===================================================================
--- trunk/po/pt.po	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/po/pt.po	2007-11-01 11:02:46 UTC (rev 1083)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.75\n"
+"Project-Id-Version: pinot 0.80\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-27 00:15+0800\n"
+"POT-Creation-Date: 2007-10-28 22:51+0800\n"
 "PO-Revision-Date: 2007-08-17 10:07+0000\n"
 "Last-Translator: _PN_boy <pedro_nuno_pn at iol.pt>\n"
 "Language-Team: Portuguese <pt at li.org>\n"
@@ -34,7 +34,7 @@
 #: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
 #: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
 msgid "My Web Pages"
 msgstr "As minhas p?ginas Web"
 
@@ -43,7 +43,7 @@
 #: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
 #: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:982
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
 msgid "My Documents"
 msgstr "Os Meus Documentos"
 
@@ -832,7 +832,7 @@
 msgstr "documentos"
 
 #: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/WorkerThreads.cpp:128
 msgid "Unknown error"
 msgstr "Erro desconhecido"
 
@@ -865,85 +865,85 @@
 msgid "Errors"
 msgstr "Erros"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:95
 #, fuzzy
 msgid "Index error"
 msgstr "Erro na indexa??o em"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:97
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't update document"
 msgstr "N?o foi poss?vel actualizar o documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't unindex document(s)"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't run query on search engine"
 msgstr "N?o foi poss?vel efectuar consulta no mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:105
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "N?o foi poss?vel efectuar consulta no mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "N?o foi poss?vel actualizar o documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:111
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "N?o foi poss?vel abrir o ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:113
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "Couldn't create search engine"
 msgstr "N?o foi poss?vel criar mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Cannot index document type"
 msgstr "Imposs?vel indexar tipo de ficheiro"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:119
 #, fuzzy
 msgid "No downloader for this protocol"
 msgstr "N?o foi poss?vel obter fonte de transfer?ncia para o protocolo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:121
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META tag n?o s?o permitidos no ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:123
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:391
+#: UI/GTK2/src/WorkerThreads.cpp:393
 msgid "Can't index mail here"
 msgstr "N?o foi poss?vel indexar o mail aqui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:412 UI/GTK2/src/WorkerThreads.cpp:666
+#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
 msgid "is already being indexed"
 msgstr "j? est? a ser indexado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:422
+#: UI/GTK2/src/WorkerThreads.cpp:424
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:935
+#: UI/GTK2/src/WorkerThreads.cpp:937
 msgid "No title"
 msgstr "Sem t?tulo"

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/po/pt_BR.po	2007-11-01 11:02:46 UTC (rev 1083)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.75\n"
+"Project-Id-Version: pinot 0.80\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-27 00:15+0800\n"
+"POT-Creation-Date: 2007-10-28 22:51+0800\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: Leonardo Melo <leonardovazmelo at gmail.com>\n"
 "Language-Team: Portuguese (Brazil) <pt_BR at li.org>\n"
@@ -33,7 +33,7 @@
 #: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
 #: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
 msgid "My Web Pages"
 msgstr "Minhas P?ginas Web"
 
@@ -42,7 +42,7 @@
 #: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
 #: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:982
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
 msgid "My Documents"
 msgstr "Meus Documentos"
 
@@ -838,7 +838,7 @@
 msgstr "Meus Documentos"
 
 #: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/WorkerThreads.cpp:128
 msgid "Unknown error"
 msgstr ""
 
@@ -874,84 +874,84 @@
 msgid "Errors"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:95
 #, fuzzy
 msgid "Index error"
 msgstr "Erro no ?ndice no"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:97
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't update document"
 msgstr "N?o foi poss?vel atualizar documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't unindex document(s)"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't run query on search engine"
 msgstr "N?o foi poss?vel executar consulta no mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:105
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "N?o foi poss?vel executar consulta no mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "N?o foi poss?vel atualizar documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Couldn't initialize file monitor"
 msgstr "N?o foi poss?vel inicializar monitor de arquivos"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't open directory"
 msgstr "N?o foi poss?vel abrir diret?rio"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:113
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "Couldn't create search engine"
 msgstr "N?o foi poss?vel criar mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Cannot index document type"
 msgstr "Imposs?vel indexar tipo de arquivo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:119
 #, fuzzy
 msgid "No downloader for this protocol"
 msgstr "N?o foi poss?vel obter fonte de download para o protocolo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:121
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META tag n?o s?o permitidos no ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:123
 msgid "No monitoring handler"
 msgstr "Nenhum manipulador de monitoramento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:391
+#: UI/GTK2/src/WorkerThreads.cpp:393
 msgid "Can't index mail here"
 msgstr "N?o foi poss?vel indexar mail aqui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:412 UI/GTK2/src/WorkerThreads.cpp:666
+#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
 msgid "is already being indexed"
 msgstr "j? est? sendo indexado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:422
+#: UI/GTK2/src/WorkerThreads.cpp:424
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:935
+#: UI/GTK2/src/WorkerThreads.cpp:937
 msgid "No title"
 msgstr "Sem t?tulo"

Modified: trunk/po/ru.po
===================================================================
--- trunk/po/ru.po	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/po/ru.po	2007-11-01 11:02:46 UTC (rev 1083)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.75\n"
+"Project-Id-Version: pinot 0.80\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-27 00:15+0800\n"
+"POT-Creation-Date: 2007-10-28 22:51+0800\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: Sergey Vostrikov <s.vostrikov at gmail.com>\n"
 "Language-Team: Russian <ru at li.org>\n"
@@ -33,7 +33,7 @@
 #: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
 #: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
 msgid "My Web Pages"
 msgstr "??? web-????????"
 
@@ -42,7 +42,7 @@
 #: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
 #: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:982
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
 msgid "My Documents"
 msgstr "??? ?????????"
 
@@ -834,7 +834,7 @@
 msgstr "??? ?????????"
 
 #: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/WorkerThreads.cpp:128
 msgid "Unknown error"
 msgstr ""
 
@@ -870,85 +870,85 @@
 msgid "Errors"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:95
 #, fuzzy
 msgid "Index error"
 msgstr "?????? ??????? ??"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:97
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "?????????? ??????????????? ????????(?)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't update document"
 msgstr "?????????? ???????? ????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't unindex document(s)"
 msgstr "?????????? ??????????????? ????????(?)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't run query on search engine"
 msgstr "?? ??????? ????????? ?????? ? ????????? ???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:105
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "?? ??????? ????????? ?????? ? ????????? ???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "?????????? ???????? ????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:111
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "?????????? ??????? ??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:113
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "Couldn't create search engine"
 msgstr "?? ??????? ??????? ????????? ???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Cannot index document type"
 msgstr "?????????? ????????????? ?????? ??? ??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:119
 #, fuzzy
 msgid "No downloader for this protocol"
 msgstr "?? ??????? ???????? ????????? ??? ?????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:121
 msgid "Robots META tag forbids indexing"
 msgstr "META-???? ??????? ????????? ??????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:123
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:391
+#: UI/GTK2/src/WorkerThreads.cpp:393
 msgid "Can't index mail here"
 msgstr "?????? ????????????? ????? ?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:412 UI/GTK2/src/WorkerThreads.cpp:666
+#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
 msgid "is already being indexed"
 msgstr "??? ??????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:422
+#: UI/GTK2/src/WorkerThreads.cpp:424
 msgid "is blacklisted"
 msgstr "??????????? ? ?????? ??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:935
+#: UI/GTK2/src/WorkerThreads.cpp:937
 msgid "No title"
 msgstr "??? ????????"

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/po/sv.po	2007-11-01 11:02:46 UTC (rev 1083)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot\n"
+"Project-Id-Version: pinot 0.80\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-27 00:15+0800\n"
+"POT-Creation-Date: 2007-10-28 22:51+0800\n"
 "PO-Revision-Date: 2007-07-29 16:48+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
@@ -34,7 +34,7 @@
 #: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
 #: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
 msgid "My Web Pages"
 msgstr "Mina webbsidor"
 
@@ -43,7 +43,7 @@
 #: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
 #: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:982
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
 msgid "My Documents"
 msgstr "Mina dokument"
 
@@ -830,7 +830,7 @@
 msgstr "dokument"
 
 #: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/WorkerThreads.cpp:128
 msgid "Unknown error"
 msgstr "Ok?nt fel"
 
@@ -863,85 +863,85 @@
 msgid "Errors"
 msgstr "Fel"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:95
 #, fuzzy
 msgid "Index error"
 msgstr "Indexfel p?"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:97
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "Kunde inte avindexera dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't update document"
 msgstr "Kunde inte uppdatera dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't unindex document(s)"
 msgstr "Kunde inte avindexera dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't run query on search engine"
 msgstr "Kunde inte k?ra fr?ga p? s?kmotor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:105
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "Kunde inte k?ra fr?ga p? s?kmotor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "Kunde inte uppdatera dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:111
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "Kunde inte ?ppna index"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:113
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "finns inte"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "Couldn't create search engine"
 msgstr "Kunde inte skapa s?kmotor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Cannot index document type"
 msgstr "Kan inte indexera dokumenttyp"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:119
 #, fuzzy
 msgid "No downloader for this protocol"
 msgstr "Kunde inte f? protokollh?mtare"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:121
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META-tagg f?rbjuder indexering"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:123
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:391
+#: UI/GTK2/src/WorkerThreads.cpp:393
 msgid "Can't index mail here"
 msgstr "Kan inte indexera post h?r"
 
-#: UI/GTK2/src/WorkerThreads.cpp:412 UI/GTK2/src/WorkerThreads.cpp:666
+#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
 msgid "is already being indexed"
 msgstr "h?ller redan p? att bli indexerad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:422
+#: UI/GTK2/src/WorkerThreads.cpp:424
 msgid "is blacklisted"
 msgstr "?r svartlistad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:935
+#: UI/GTK2/src/WorkerThreads.cpp:937
 msgid "No title"
 msgstr "Ingen titel"

Modified: trunk/po/zh_TW.po
===================================================================
--- trunk/po/zh_TW.po	2007-11-01 11:00:53 UTC (rev 1082)
+++ trunk/po/zh_TW.po	2007-11-01 11:02:46 UTC (rev 1083)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot\n"
+"Project-Id-Version: pinot 0.80\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-27 00:15+0800\n"
+"POT-Creation-Date: 2007-10-28 22:51+0800\n"
 "PO-Revision-Date: 2007-08-17 15:54+0000\n"
 "Last-Translator: Yung-chung Lin <henearkrxern at gmail.com>\n"
 "Language-Team: Traditional Chinese <zh_TW at li.org>\n"
@@ -34,7 +34,7 @@
 #: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
 #: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:972
+#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
 msgid "My Web Pages"
 msgstr "????"
 
@@ -43,7 +43,7 @@
 #: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
 #: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:982
+#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
 msgid "My Documents"
 msgstr "????"
 
@@ -828,7 +828,7 @@
 msgstr "??"
 
 #: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:126
+#: UI/GTK2/src/WorkerThreads.cpp:128
 msgid "Unknown error"
 msgstr "???????"
 
@@ -861,84 +861,84 @@
 msgid "Errors"
 msgstr "??"
 
-#: UI/GTK2/src/WorkerThreads.cpp:93
+#: UI/GTK2/src/WorkerThreads.cpp:95
 #, fuzzy
 msgid "Index error"
 msgstr "?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:97
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "?????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't update document"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't unindex document(s)"
 msgstr "?????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't run query on search engine"
 msgstr "??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:105
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:111
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:113
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "Couldn't create search engine"
 msgstr "????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Cannot index document type"
 msgstr "????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No downloader for this protocol"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:121
 msgid "Robots META tag forbids indexing"
 msgstr "Robots?meta???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:123
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:391
+#: UI/GTK2/src/WorkerThreads.cpp:393
 msgid "Can't index mail here"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:412 UI/GTK2/src/WorkerThreads.cpp:666
+#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
 msgid "is already being indexed"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:422
+#: UI/GTK2/src/WorkerThreads.cpp:424
 msgid "is blacklisted"
 msgstr "?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:935
+#: UI/GTK2/src/WorkerThreads.cpp:937
 msgid "No title"
 msgstr "???"



From fabricecolin at mail.berlios.de  Thu Nov  1 12:10:19 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 1 Nov 2007 12:10:19 +0100
Subject: [Pinot-svn] r1084 - tags
Message-ID: <200711011110.lA1BAJfs015818@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-01 12:10:18 +0100 (Thu, 01 Nov 2007)
New Revision: 1084

Added:
   tags/version_0_8_0/
Log:
Releasing 0.80.


Copied: tags/version_0_8_0 (from rev 1083, trunk)



From fabricecolin at mail.berlios.de  Fri Nov  2 16:43:09 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Fri, 2 Nov 2007 16:43:09 +0100
Subject: [Pinot-svn] r1085 - trunk
Message-ID: <200711021543.lA2Fh9up024648@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-02 16:43:08 +0100 (Fri, 02 Nov 2007)
New Revision: 1085

Modified:
   trunk/FAQ
Log:
Added item about KDE 3 and Autostart.


Modified: trunk/FAQ
===================================================================
--- trunk/FAQ	2007-11-01 11:10:18 UTC (rev 1084)
+++ trunk/FAQ	2007-11-02 15:43:08 UTC (rev 1085)
@@ -45,3 +45,9 @@
      [/usr/local/bin/pinot]
      libpthread.so.2         libc_r.so.6
      libpthread.so           libc_r.so
+
+  * If you are using KDE 3.* and pinot-dbus-daemon does not autostart, symlink
+    the file /etc/xdg/autostart/pinot-dbus-daemon.desktop to either
+    $(kde-config --prefix)/share/autostart (for all users) or ~/.kde/Autostart
+    (current user only).
+



From fabricecolin at mail.berlios.de  Sun Nov  4 05:45:10 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sun, 4 Nov 2007 05:45:10 +0100
Subject: [Pinot-svn] r1086 - trunk/UI/GTK2/src
Message-ID: <200711040445.lA44jAMK023466@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-04 05:45:02 +0100 (Sun, 04 Nov 2007)
New Revision: 1086

Modified:
   trunk/UI/GTK2/src/DaemonState.cpp
   trunk/UI/GTK2/src/DaemonState.h
   trunk/UI/GTK2/src/EnginesTree.cpp
   trunk/UI/GTK2/src/EnginesTree.h
   trunk/UI/GTK2/src/IndexPage.cpp
   trunk/UI/GTK2/src/IndexPage.h
   trunk/UI/GTK2/src/Notebook.cpp
   trunk/UI/GTK2/src/Notebook.h
   trunk/UI/GTK2/src/PinotUtils.cpp
   trunk/UI/GTK2/src/PinotUtils.h
   trunk/UI/GTK2/src/ResultsTree.cpp
   trunk/UI/GTK2/src/ResultsTree.h
   trunk/UI/GTK2/src/ServerThreads.cpp
   trunk/UI/GTK2/src/ServerThreads.h
   trunk/UI/GTK2/src/WorkerThreads.cpp
   trunk/UI/GTK2/src/WorkerThreads.h
   trunk/UI/GTK2/src/importDialog.cc
   trunk/UI/GTK2/src/importDialog.hh
   trunk/UI/GTK2/src/importDialog_glade.cc
   trunk/UI/GTK2/src/indexDialog_glade.cc
   trunk/UI/GTK2/src/launcherDialog.cc
   trunk/UI/GTK2/src/launcherDialog_glade.cc
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/mainWindow.hh
   trunk/UI/GTK2/src/mainWindow_glade.cc
   trunk/UI/GTK2/src/pinot-dbus-daemon.cc
   trunk/UI/GTK2/src/prefsDialog_glade.cc
   trunk/UI/GTK2/src/propertiesDialog_glade.cc
   trunk/UI/GTK2/src/queryDialog.cc
   trunk/UI/GTK2/src/queryDialog_glade.cc
   trunk/UI/GTK2/src/statisticsDialog.cc
   trunk/UI/GTK2/src/statisticsDialog.hh
   trunk/UI/GTK2/src/statisticsDialog_glade.cc
Log:
Replaced deprecated SigC calls. New versions of libsigc++ don't provide a
compatibility.h header.


Modified: trunk/UI/GTK2/src/DaemonState.cpp
===================================================================
--- trunk/UI/GTK2/src/DaemonState.cpp	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/DaemonState.cpp	2007-11-04 04:45:02 UTC (rev 1086)
@@ -18,9 +18,7 @@
 
 #include <stdlib.h>
 #include <iostream>
-#include <sigc++/class_slot.h>
-#include <sigc++/compatibility.h>
-#include <sigc++/slot.h>
+#include <sigc++/sigc++.h>
 #include <glibmm/ustring.h>
 #include <glibmm/stringutils.h>
 #include <glibmm/convert.h>
@@ -48,7 +46,7 @@
 	m_pDiskMonitor(MonitorFactory::getMonitor()),
 	m_pDiskHandler(NULL)
 {
-	m_onThreadEndSignal.connect(SigC::slot(*this, &DaemonState::on_thread_end));
+	m_onThreadEndSignal.connect(sigc::mem_fun(*this, &DaemonState::on_thread_end));
 }
 
 DaemonState::~DaemonState()
@@ -82,7 +80,7 @@
 		pScannerThread = new DirectoryScannerThread(locationToCrawl, isSource, m_fullScan,
 			m_pDiskMonitor, m_pDiskHandler);
 	}
-	pScannerThread->getFileFoundSignal().connect(SigC::slot(*this, &DaemonState::on_message_filefound));
+	pScannerThread->getFileFoundSignal().connect(sigc::mem_fun(*this, &DaemonState::on_message_filefound));
 
 	return start_thread(pScannerThread);
 }
@@ -119,7 +117,7 @@
 		m_pDiskHandler = new OnDiskHandler();
 	}
 	MonitorThread *pDiskMonitorThread = new MonitorThread(m_pDiskMonitor, m_pDiskHandler);
-	pDiskMonitorThread->getDirectoryFoundSignal().connect(SigC::slot(*this, &DaemonState::on_message_filefound));
+	pDiskMonitorThread->getDirectoryFoundSignal().connect(sigc::mem_fun(*this, &DaemonState::on_message_filefound));
 	start_thread(pDiskMonitorThread, true);
 
 	set<PinotSettings::IndexableLocation>::const_iterator locationIter = PinotSettings::getInstance().m_indexableLocations.begin();
@@ -302,7 +300,7 @@
 	}
 }
 
-SigC::Signal1<void, int>& DaemonState::getQuitSignal(void)
+sigc::signal1<void, int>& DaemonState::getQuitSignal(void)
 {
 	return m_signalQuit;
 }

Modified: trunk/UI/GTK2/src/DaemonState.h
===================================================================
--- trunk/UI/GTK2/src/DaemonState.h	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/DaemonState.h	2007-11-04 04:45:02 UTC (rev 1086)
@@ -42,14 +42,14 @@
 		void on_message_filefound(const DocumentInfo &docInfo, const std::string &sourceLabel,
 			bool isDirectory);
 
-		SigC::Signal1<void, int>& getQuitSignal(void);
+		sigc::signal1<void, int>& getQuitSignal(void);
 
 	protected:
 		bool m_fullScan;
 		bool m_reload;
 		MonitorInterface *m_pDiskMonitor;
 		MonitorHandler *m_pDiskHandler;
-		SigC::Signal1<void, int> m_signalQuit;
+		sigc::signal1<void, int> m_signalQuit;
 
 		bool crawlLocation(const std::string &locationToCrawl, bool isSource, bool doMonitoring);
 

Modified: trunk/UI/GTK2/src/EnginesTree.cpp
===================================================================
--- trunk/UI/GTK2/src/EnginesTree.cpp	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/EnginesTree.cpp	2007-11-04 04:45:02 UTC (rev 1086)
@@ -33,7 +33,6 @@
 #include "EnginesTree.h"
 
 using namespace std;
-using namespace SigC;
 using namespace Glib;
 using namespace Gdk;
 using namespace Gtk;
@@ -69,17 +68,17 @@
 	// Pack an icon renderer for engines icons
 	CellRendererPixbuf *pIconRenderer = new CellRendererPixbuf();
 	pColumn->pack_start(*manage(pIconRenderer), false);
-	pColumn->set_cell_data_func(*pIconRenderer, SigC::slot(*this, &EnginesTree::renderEngineIcon));
+	pColumn->set_cell_data_func(*pIconRenderer, sigc::mem_fun(*this, &EnginesTree::renderEngineIcon));
 	pColumn->pack_end(m_enginesColumns.m_name, false);
 	pColumn->set_sizing(TREE_VIEW_COLUMN_AUTOSIZE);
 	append_column(*manage(pColumn));
 
 	// Handle button presses
-	signal_button_press_event().connect_notify(SigC::slot(*this, &EnginesTree::onButtonPressEvent));
+	signal_button_press_event().connect_notify(sigc::mem_fun(*this, &EnginesTree::onButtonPressEvent));
 	// Control which rows can be selected
-	get_selection()->set_select_function(SigC::slot(*this, &EnginesTree::onSelectionSelect));
+	get_selection()->set_select_function(sigc::mem_fun(*this, &EnginesTree::onSelectionSelect));
 	// Listen for style changes
-	signal_style_changed().connect_notify(SigC::slot(*this, &EnginesTree::onStyleChanged));
+	signal_style_changed().connect_notify(sigc::mem_fun(*this, &EnginesTree::onStyleChanged));
 
 	// Render the icons
 	m_engineFolderIconPixbuf = render_icon(Stock::DIRECTORY, ICON_SIZE_MENU, "MetaSE-pinot");
@@ -383,7 +382,7 @@
 //
 // Returns the double-click signal.
 //
-Signal2<void, string, string>& EnginesTree::getDoubleClickSignal(void)
+sigc::signal2<void, string, string>& EnginesTree::getDoubleClickSignal(void)
 {
 	return m_signalDoubleClick;
 }

Modified: trunk/UI/GTK2/src/EnginesTree.h
===================================================================
--- trunk/UI/GTK2/src/EnginesTree.h	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/EnginesTree.h	2007-11-04 04:45:02 UTC (rev 1086)
@@ -23,7 +23,7 @@
 #include <vector>
 #include <set>
 #include <map>
-#include <sigc++/slot.h>
+#include <sigc++/sigc++.h>
 #include <glibmm/refptr.h>
 #include <glibmm/ustring.h>
 #include <gdkmm/pixbuf.h>
@@ -65,14 +65,14 @@
 		void save(void);
 
 		/// Returns the double-click signal.
-		SigC::Signal2<void, std::string, std::string>& getDoubleClickSignal(void);
+		sigc::signal2<void, std::string, std::string>& getDoubleClickSignal(void);
 
 	protected:
 		Glib::RefPtr<Gtk::TreeStore> m_refStore;
 		PinotSettings &m_settings;
 		Glib::RefPtr<Gdk::Pixbuf> m_engineFolderIconPixbuf;
 		EnginesModelColumns m_enginesColumns;
-		SigC::Signal2<void, std::string, std::string> m_signalDoubleClick;
+		sigc::signal2<void, std::string, std::string> m_signalDoubleClick;
 
 		void renderEngineIcon(Gtk::CellRenderer *renderer, const Gtk::TreeModel::iterator &iter);
 

Modified: trunk/UI/GTK2/src/IndexPage.cpp
===================================================================
--- trunk/UI/GTK2/src/IndexPage.cpp	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/IndexPage.cpp	2007-11-04 04:45:02 UTC (rev 1086)
@@ -31,7 +31,6 @@
 #include "IndexPage.h"
 
 using namespace std;
-using namespace SigC;
 using namespace Glib;
 using namespace Gtk;
 
@@ -110,11 +109,11 @@
 
 	// Connect the signals
 	m_pQueryCombobox->signal_changed().connect(
-		SigC::slot(*this, &IndexPage::onQueryChanged));
+		sigc::mem_fun(*this, &IndexPage::onQueryChanged));
 	m_pBackButton->signal_clicked().connect(
-		SigC::slot(*this, &IndexPage::onBackClicked));
+		sigc::mem_fun(*this, &IndexPage::onBackClicked));
 	m_pForwardButton->signal_clicked().connect(
-		SigC::slot(*this, &IndexPage::onForwardClicked));
+		sigc::mem_fun(*this, &IndexPage::onForwardClicked));
 
 	// Disable the buttons until something is being shown
 	m_pBackButton->set_sensitive(false);
@@ -272,7 +271,7 @@
 //
 // Returns the changed query signal.
 //
-Signal2<void, ustring, ustring>& IndexPage::getQueryChangedSignal(void)
+sigc::signal2<void, ustring, ustring>& IndexPage::getQueryChangedSignal(void)
 {
 	return m_signalQueryChanged;
 }
@@ -280,7 +279,7 @@
 //
 // Returns the back button clicked signal.
 //
-Signal1<void, ustring>& IndexPage::getBackClickedSignal(void)
+sigc::signal1<void, ustring>& IndexPage::getBackClickedSignal(void)
 {
 	return m_signalBackClicked;
 }
@@ -288,7 +287,7 @@
 //
 // Returns the forward button clicked signal.
 //
-Signal1<void, ustring>& IndexPage::getForwardClickedSignal(void)
+sigc::signal1<void, ustring>& IndexPage::getForwardClickedSignal(void)
 {
 	return m_signalForwardClicked;
 }

Modified: trunk/UI/GTK2/src/IndexPage.h
===================================================================
--- trunk/UI/GTK2/src/IndexPage.h	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/IndexPage.h	2007-11-04 04:45:02 UTC (rev 1086)
@@ -21,7 +21,7 @@
 
 #include <string>
 #include <vector>
-#include <sigc++/slot.h>
+#include <sigc++/sigc++.h>
 #include <glibmm/refptr.h>
 #include <glibmm/ustring.h>
 #include <gtkmm/menu.h>
@@ -70,13 +70,13 @@
 		void setFirstDocument(unsigned int startDoc);
 
 		/// Returns the changed query signal.
-		SigC::Signal2<void, Glib::ustring, Glib::ustring>& getQueryChangedSignal(void);
+		sigc::signal2<void, Glib::ustring, Glib::ustring>& getQueryChangedSignal(void);
 
 		/// Returns the back button clicked signal.
-		SigC::Signal1<void, Glib::ustring>& getBackClickedSignal(void);
+		sigc::signal1<void, Glib::ustring>& getBackClickedSignal(void);
 
 		/// Returns the forward button clicked signal.
-		SigC::Signal1<void, Glib::ustring>& getForwardClickedSignal(void);
+		sigc::signal1<void, Glib::ustring>& getForwardClickedSignal(void);
 
 	protected:
 		Glib::ustring m_indexName;
@@ -87,9 +87,9 @@
 		Gtk::Button *m_pForwardButton;
 		unsigned int m_docsCount;
 		unsigned int m_firstDoc;
-		SigC::Signal2<void, Glib::ustring, Glib::ustring> m_signalQueryChanged;
-		SigC::Signal1<void, Glib::ustring> m_signalBackClicked;
-		SigC::Signal1<void, Glib::ustring> m_signalForwardClicked;
+		sigc::signal2<void, Glib::ustring, Glib::ustring> m_signalQueryChanged;
+		sigc::signal1<void, Glib::ustring> m_signalBackClicked;
+		sigc::signal1<void, Glib::ustring> m_signalForwardClicked;
 
 		void onQueryChanged(void);
 

Modified: trunk/UI/GTK2/src/Notebook.cpp
===================================================================
--- trunk/UI/GTK2/src/Notebook.cpp	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/Notebook.cpp	2007-11-04 04:45:02 UTC (rev 1086)
@@ -16,12 +16,9 @@
  *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
  */
 
-#include <sigc++/slot.h>
-
 #include "Notebook.h"
 #include "PinotUtils.h"
 
-using namespace SigC;
 using namespace Glib;
 using namespace Gtk;
 
@@ -160,10 +157,10 @@
 
 #if _USE_BUTTON_TAB
 	m_tabButton->signal_clicked().connect(
-		SigC::slot(*this, &NotebookTabBox::onButtonClicked));
+		sigc::mem_fun(*this, &NotebookTabBox::onButtonClicked));
 #else
 	m_tabEventBox->signal_button_press_event().connect(
-		SigC::slot(*this, &NotebookTabBox::onButtonPressEvent));
+		sigc::mem_fun(*this, &NotebookTabBox::onButtonPressEvent));
 #endif
 }
 
@@ -187,7 +184,7 @@
 //
 // Returns the close signal.
 //
-Signal2<void, ustring, NotebookPageBox::PageType>& NotebookTabBox::getCloseSignal(void)
+sigc::signal2<void, ustring, NotebookPageBox::PageType>& NotebookTabBox::getCloseSignal(void)
 {
 	return m_signalClose;
 }

Modified: trunk/UI/GTK2/src/Notebook.h
===================================================================
--- trunk/UI/GTK2/src/Notebook.h	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/Notebook.h	2007-11-04 04:45:02 UTC (rev 1086)
@@ -19,7 +19,7 @@
 #ifndef _NOTEBOOK_HH
 #define _NOTEBOOK_HH
 
-#include <sigc++/signal.h>
+#include <sigc++/sigc++.h>
 #include <glibmm/ustring.h>
 #include <gtkmm/box.h>
 #include <gtkmm/paned.h>
@@ -80,7 +80,7 @@
 		virtual ~NotebookTabBox();
 
 		/// Returns the close signal.
-		SigC::Signal2<void, Glib::ustring, NotebookPageBox::PageType>& getCloseSignal(void);
+		sigc::signal2<void, Glib::ustring, NotebookPageBox::PageType>& getCloseSignal(void);
 
 	protected:
 		Glib::ustring m_title;
@@ -93,7 +93,7 @@
 #else
 		Gtk::EventBox *m_tabEventBox;
 #endif
-		SigC::Signal2<void, Glib::ustring, NotebookPageBox::PageType> m_signalClose;
+		sigc::signal2<void, Glib::ustring, NotebookPageBox::PageType> m_signalClose;
 
 #if _USE_BUTTON_TAB
 		void onButtonClicked(void);

Modified: trunk/UI/GTK2/src/PinotUtils.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotUtils.cpp	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/PinotUtils.cpp	2007-11-04 04:45:02 UTC (rev 1086)
@@ -26,7 +26,6 @@
 #include "PinotUtils.h"
 
 using namespace std;
-using namespace SigC;
 using namespace Glib;
 using namespace Gtk;
 

Modified: trunk/UI/GTK2/src/PinotUtils.h
===================================================================
--- trunk/UI/GTK2/src/PinotUtils.h	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/PinotUtils.h	2007-11-04 04:45:02 UTC (rev 1086)
@@ -21,9 +21,6 @@
 
 #include <string>
 #include <gtkmmconfig.h>
-#if GTKMM_MAJOR_VERSION==2 && GTKMM_MINOR_VERSION>2
-#include <sigc++/compatibility.h>
-#endif
 #include <glibmm/ustring.h>
 #include <gtkmm/window.h>
 #include <gtkmm/filechooserdialog.h>

Modified: trunk/UI/GTK2/src/ResultsTree.cpp
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.cpp	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/ResultsTree.cpp	2007-11-04 04:45:02 UTC (rev 1086)
@@ -40,7 +40,6 @@
 #include "ResultsTree.h"
 
 using namespace std;
-using namespace SigC;
 using namespace Glib;
 using namespace Gdk;
 using namespace Gtk;
@@ -106,15 +105,15 @@
 		// Pack an icon renderer for the viewed status
 		CellRendererPixbuf *pIconRenderer = new CellRendererPixbuf();
 		pColumn->pack_start(*manage(pIconRenderer), false);
-		pColumn->set_cell_data_func(*pIconRenderer, SigC::slot(*this, &ResultsTree::renderViewStatus));
+		pColumn->set_cell_data_func(*pIconRenderer, sigc::mem_fun(*this, &ResultsTree::renderViewStatus));
 		// Pack a second icon renderer for the indexed status
 		pIconRenderer = new CellRendererPixbuf();
 		pColumn->pack_start(*manage(pIconRenderer), false);
-		pColumn->set_cell_data_func(*pIconRenderer, SigC::slot(*this, &ResultsTree::renderIndexStatus));
+		pColumn->set_cell_data_func(*pIconRenderer, sigc::mem_fun(*this, &ResultsTree::renderIndexStatus));
 		// And a third one for the ranking
 		pIconRenderer = new CellRendererPixbuf();
 		pColumn->pack_start(*manage(pIconRenderer), false);
-		pColumn->set_cell_data_func(*pIconRenderer, SigC::slot(*this, &ResultsTree::renderRanking));
+		pColumn->set_cell_data_func(*pIconRenderer, sigc::mem_fun(*this, &ResultsTree::renderRanking));
 		pColumn->set_sizing(TREE_VIEW_COLUMN_AUTOSIZE);
 		append_column(*manage(pColumn));
 
@@ -133,7 +132,7 @@
 	pColumn = new TreeViewColumn(_("Title"));
 	CellRendererText *pTextRenderer = new CellRendererText();
 	pColumn->pack_start(*manage(pTextRenderer));
-	pColumn->set_cell_data_func(*pTextRenderer, SigC::slot(*this, &ResultsTree::renderTitleColumn));
+	pColumn->set_cell_data_func(*pTextRenderer, sigc::mem_fun(*this, &ResultsTree::renderTitleColumn));
 	pColumn->add_attribute(pTextRenderer->property_text(), m_resultsColumns.m_text);
 	pColumn->set_resizable(true);
 	pColumn->set_sort_column(m_resultsColumns.m_text);
@@ -157,16 +156,16 @@
 	
 	// Connect the signals
 	signal_button_press_event().connect_notify(
-		SigC::slot(*this, &ResultsTree::onButtonPressEvent));
+		sigc::mem_fun(*this, &ResultsTree::onButtonPressEvent));
 	get_selection()->signal_changed().connect(
-		SigC::slot(*this, &ResultsTree::onSelectionChanged));
+		sigc::mem_fun(*this, &ResultsTree::onSelectionChanged));
 
 	// Enable interactive search
 	set_search_column(m_resultsColumns.m_text.index());
 	// Control which rows can be selected
-	get_selection()->set_select_function(SigC::slot(*this, &ResultsTree::onSelectionSelect));
+	get_selection()->set_select_function(sigc::mem_fun(*this, &ResultsTree::onSelectionSelect));
 	// Listen for style changes
-	signal_style_changed().connect_notify(SigC::slot(*this, &ResultsTree::onStyleChanged));
+	signal_style_changed().connect_notify(sigc::mem_fun(*this, &ResultsTree::onStyleChanged));
 
 	// Render the icons
 	m_indexedIconPixbuf = render_icon(Stock::INDEX, ICON_SIZE_MENU, "MetaSE-pinot");
@@ -180,7 +179,7 @@
 	pColumn = new TreeViewColumn(_("Extract"));
 	pTextRenderer = new CellRendererText();
 	pColumn->pack_start(*manage(pTextRenderer));
-	pColumn->set_cell_data_func(*pTextRenderer, SigC::slot(*this, &ResultsTree::renderExtractColumn));
+	pColumn->set_cell_data_func(*pTextRenderer, sigc::mem_fun(*this, &ResultsTree::renderExtractColumn));
 	pColumn->add_attribute(pTextRenderer->property_text(), m_extractColumns.m_name);
 	pColumn->set_sizing(TREE_VIEW_COLUMN_AUTOSIZE);
 	m_extractTreeView->append_column(*manage(pColumn));
@@ -1327,7 +1326,7 @@
 //
 // Returns the changed selection signal.
 //
-Signal1<void, ustring>& ResultsTree::getSelectionChangedSignal(void)
+sigc::signal1<void, ustring>& ResultsTree::getSelectionChangedSignal(void)
 {
 	return m_signalSelectionChanged;
 }
@@ -1335,7 +1334,7 @@
 //
 // Returns the double-click signal.
 //
-Signal0<void>& ResultsTree::getDoubleClickSignal(void)
+sigc::signal0<void>& ResultsTree::getDoubleClickSignal(void)
 {
 	return m_signalDoubleClick;
 }

Modified: trunk/UI/GTK2/src/ResultsTree.h
===================================================================
--- trunk/UI/GTK2/src/ResultsTree.h	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/ResultsTree.h	2007-11-04 04:45:02 UTC (rev 1086)
@@ -23,7 +23,7 @@
 #include <vector>
 #include <set>
 #include <map>
-#include <sigc++/slot.h>
+#include <sigc++/sigc++.h>
 #include <glibmm/refptr.h>
 #include <glibmm/ustring.h>
 #include <gdkmm/pixbuf.h>
@@ -106,18 +106,18 @@
 		void exportResults(const std::string &fileName, bool csvFormat);
 
 		/// Returns the changed selection signal.
-		SigC::Signal1<void, Glib::ustring>& getSelectionChangedSignal(void);
+		sigc::signal1<void, Glib::ustring>& getSelectionChangedSignal(void);
 
 		/// Returns the double-click signal.
-		SigC::Signal0<void>& getDoubleClickSignal(void);
+		sigc::signal0<void>& getDoubleClickSignal(void);
 
 	protected:
 		Glib::ustring m_treeName;
 		Gtk::Menu *m_pPopupMenu;
 		Gtk::ScrolledWindow *m_pResultsScrolledwindow;
 		Glib::RefPtr<Gtk::TreeStore> m_refStore;
-		SigC::Signal1<void, Glib::ustring> m_signalSelectionChanged;
-		SigC::Signal0<void> m_signalDoubleClick;
+		sigc::signal1<void, Glib::ustring> m_signalSelectionChanged;
+		sigc::signal0<void> m_signalDoubleClick;
 		PinotSettings &m_settings;
 		Glib::RefPtr<Gdk::Pixbuf> m_indexedIconPixbuf;
 		Glib::RefPtr<Gdk::Pixbuf> m_viewededIconPixbuf;

Modified: trunk/UI/GTK2/src/ServerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.cpp	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/ServerThreads.cpp	2007-11-04 04:45:02 UTC (rev 1086)
@@ -28,9 +28,6 @@
 #include <exception>
 #include <iostream>
 #include <fstream>
-#include <sigc++/class_slot.h>
-#include <sigc++/compatibility.h>
-#include <sigc++/slot.h>
 #include <glibmm/miscutils.h>
 
 #include "Languages.h"
@@ -47,7 +44,6 @@
 #include "PinotSettings.h"
 #include "ServerThreads.h"
 
-using namespace SigC;
 using namespace Glib;
 using namespace std;
 
@@ -176,8 +172,8 @@
 bool DirectoryScannerThread::stop(void)
 {
 	// Disconnect the signal
-	Signal3<void, const DocumentInfo&, const string&, bool>::slot_list_type slotsList = m_signalFileFound.slots();
-	Signal3<void, const DocumentInfo&, const string&, bool>::slot_list_type::iterator slotIter = slotsList.begin();
+	sigc::signal3<void, const DocumentInfo&, const string&, bool>::slot_list_type slotsList = m_signalFileFound.slots();
+	sigc::signal3<void, const DocumentInfo&, const string&, bool>::slot_list_type::iterator slotIter = slotsList.begin();
 	if (slotIter != slotsList.end())
 	{
 		if (slotIter->empty() == false)
@@ -191,7 +187,7 @@
 	return true;
 }
 
-Signal3<void, const DocumentInfo&, const string&, bool>& DirectoryScannerThread::getFileFoundSignal(void)
+sigc::signal3<void, const DocumentInfo&, const string&, bool>& DirectoryScannerThread::getFileFoundSignal(void)
 {
 	return m_signalFileFound;
 }

Modified: trunk/UI/GTK2/src/ServerThreads.h
===================================================================
--- trunk/UI/GTK2/src/ServerThreads.h	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/ServerThreads.h	2007-11-04 04:45:02 UTC (rev 1086)
@@ -30,9 +30,7 @@
 #include <dbus/dbus-glib.h>
 #include <dbus/dbus-glib-lowlevel.h>
 }
-#include <sigc++/object.h>
-#include <sigc++/slot.h>
-#include <sigc++/connection.h>
+#include <sigc++/sigc++.h>
 #include <glibmm/ustring.h>
 
 #include "DocumentInfo.h"
@@ -57,7 +55,7 @@
 
 		virtual bool stop(void);
 
-		SigC::Signal3<void, const DocumentInfo&, const std::string&, bool>& getFileFoundSignal(void);
+		sigc::signal3<void, const DocumentInfo&, const std::string&, bool>& getFileFoundSignal(void);
 
 	protected:
 		std::string m_dirName;
@@ -68,7 +66,7 @@
 		unsigned int m_currentLevel;
 		unsigned int m_maxLevel;
 		bool m_followSymLinks;
-		SigC::Signal3<void, const DocumentInfo&, const std::string&, bool> m_signalFileFound;
+		sigc::signal3<void, const DocumentInfo&, const std::string&, bool> m_signalFileFound;
 		std::map<std::string, time_t> m_updateCache;
 
 		void cacheUpdate(const std::string &location, time_t mTime, CrawlHistory &history);

Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2007-11-04 04:45:02 UTC (rev 1086)
@@ -28,9 +28,6 @@
 #include <exception>
 #include <iostream>
 #include <fstream>
-#include <sigc++/class_slot.h>
-#include <sigc++/compatibility.h>
-#include <sigc++/slot.h>
 #include <glibmm/miscutils.h>
 #include <glibmm/exception.h>
 
@@ -54,7 +51,6 @@
 #include "PinotSettings.h"
 #include "WorkerThreads.h"
 
-using namespace SigC;
 using namespace Glib;
 using namespace std;
 
@@ -181,7 +177,7 @@
 	cout << "WorkerThread::start: " << getType() << " " << m_id << endl;
 #endif
 	// Create non-joinable threads
-	return Thread::create(slot_class(*this, &WorkerThread::threadHandler), false);
+	return Thread::create(sigc::mem_fun(*this, &WorkerThread::threadHandler), false);
 }
 
 bool WorkerThread::stop(void)
@@ -547,7 +543,7 @@
 
 	// Connect the dispatcher
 	m_threadsEndConnection = WorkerThread::getDispatcher().connect(
-		SigC::slot(*this, &ThreadsManager::on_thread_signal));
+		sigc::mem_fun(*this, &ThreadsManager::on_thread_signal));
 #ifdef DEBUG
 	cout << "ThreadsManager::connect: connected" << endl;
 #endif
@@ -1894,8 +1890,8 @@
 bool MonitorThread::stop(void)
 {
 	// Disconnect the signal
-	Signal3<void, const DocumentInfo&, const std::string&, bool>::slot_list_type slotsList = m_signalDirectoryFound.slots();
-	Signal3<void, const DocumentInfo&, const std::string&, bool>::slot_list_type::iterator slotIter = slotsList.begin();
+	sigc::signal3<void, const DocumentInfo&, const std::string&, bool>::slot_list_type slotsList = m_signalDirectoryFound.slots();
+	sigc::signal3<void, const DocumentInfo&, const std::string&, bool>::slot_list_type::iterator slotIter = slotsList.begin();
 	if (slotIter != slotsList.end())
 	{
 		if (slotIter->empty() == false)
@@ -1910,7 +1906,7 @@
 	return true;
 }
 
-Signal3<void, const DocumentInfo&, const std::string&, bool>& MonitorThread::getDirectoryFoundSignal(void)
+sigc::signal3<void, const DocumentInfo&, const std::string&, bool>& MonitorThread::getDirectoryFoundSignal(void)
 {
 	return m_signalDirectoryFound;
 }

Modified: trunk/UI/GTK2/src/WorkerThreads.h
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.h	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/WorkerThreads.h	2007-11-04 04:45:02 UTC (rev 1086)
@@ -26,9 +26,7 @@
 #include <set>
 #include <map>
 #include <pthread.h>
-#include <sigc++/object.h>
-#include <sigc++/slot.h>
-#include <sigc++/connection.h>
+#include <sigc++/sigc++.h>
 #include <glibmm/dispatcher.h>
 #include <glibmm/thread.h>
 #include <glibmm/ustring.h>
@@ -101,7 +99,7 @@
 
 };
 
-class ThreadsManager : virtual public SigC::Object
+class ThreadsManager : virtual public sigc::trackable
 {
 	public:
 		ThreadsManager(const std::string &defaultIndexLocation,
@@ -135,7 +133,7 @@
 		void get_statistics(unsigned int &queueSize);
 
 	protected:
-		SigC::Connection m_threadsEndConnection;
+		sigc::connection m_threadsEndConnection;
 		pthread_rwlock_t m_threadsLock;
 		pthread_rwlock_t m_listsLock;
 		std::map<WorkerThread *, Glib::Thread *> m_threads;
@@ -144,7 +142,7 @@
 		unsigned int m_nextThreadId;
 		unsigned int m_backgroundThreadsCount;
 		long m_numCPUs;
-		SigC::Signal1<void, WorkerThread *> m_onThreadEndSignal;
+		sigc::signal1<void, WorkerThread *> m_onThreadEndSignal;
 		std::set<std::string> m_beingIndexed;
 
 		bool read_lock_threads(void);
@@ -492,7 +490,7 @@
 
 		virtual bool stop(void);
 
-		SigC::Signal3<void, const DocumentInfo&, const std::string&, bool>& getDirectoryFoundSignal(void);
+		sigc::signal3<void, const DocumentInfo&, const std::string&, bool>& getDirectoryFoundSignal(void);
 
 	protected:
 		int m_ctrlReadPipe;
@@ -500,7 +498,7 @@
 		MonitorInterface *m_pMonitor;
 		MonitorHandler *m_pHandler;
 		bool m_checkHistory;
-		SigC::Signal3<void, const DocumentInfo&, const std::string&, bool> m_signalDirectoryFound;
+		sigc::signal3<void, const DocumentInfo&, const std::string&, bool> m_signalDirectoryFound;
 
 		void processEvents(void);
 		virtual void doWork(void);

Modified: trunk/UI/GTK2/src/importDialog.cc
===================================================================
--- trunk/UI/GTK2/src/importDialog.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/importDialog.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -21,7 +21,6 @@
 #include <iostream>
 #include <algorithm>
 #include <utility>
-#include <sigc++/class_slot.h>
 #include <glibmm/convert.h>
 #include <gtkmm/stock.h>
 
@@ -44,7 +43,7 @@
 	m_locationLength(0),
 	m_importing(false)
 {
-	m_onThreadEndSignal.connect(SigC::slot(*pWindow, &importDialog::on_thread_end));
+	m_onThreadEndSignal.connect(sigc::mem_fun(*pWindow, &importDialog::on_thread_end));
 }
 
 importDialog::InternalState::~InternalState()
@@ -122,7 +121,7 @@
 	ustring status = m_state.queue_index(docInfo);
 	if (status.empty() == true)
 	{
-		m_timeoutConnection = Glib::signal_timeout().connect(SigC::slot(*this,
+		m_timeoutConnection = Glib::signal_timeout().connect(sigc::mem_fun(*this,
 			&importDialog::on_activity_timeout), 1000);
 	}
 	else

Modified: trunk/UI/GTK2/src/importDialog.hh
===================================================================
--- trunk/UI/GTK2/src/importDialog.hh	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/importDialog.hh	2007-11-04 04:45:02 UTC (rev 1086)
@@ -21,8 +21,7 @@
 
 #include <string>
 #include <set>
-#include <sigc++/slot.h>
-#include <sigc++/connection.h>
+#include <sigc++/sigc++.h>
 #include <gtkmm/entrycompletion.h>
 #include <gtkmm/liststore.h>
 #include <glibmm/ustring.h>
@@ -55,7 +54,7 @@
 	Glib::RefPtr<Gtk::EntryCompletion> m_refLocationCompletion;
 	unsigned int m_docsCount;
 	// Activity timeout
-	SigC::Connection m_timeoutConnection;
+	sigc::connection m_timeoutConnection;
 	// Internal state
 	class InternalState : public ThreadsManager
 	{

Modified: trunk/UI/GTK2/src/importDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/importDialog_glade.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/importDialog_glade.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -28,8 +28,7 @@
 #endif
 #include <gtkmmconfig.h>
 #if GTKMM_MAJOR_VERSION==2 && GTKMM_MINOR_VERSION>2
-#include <sigc++/compatibility.h>
-#include <sigc++/bind.h>
+#include <sigc++/sigc++.h>
 #define GMM_GTKMM_22_24(a,b) b
 #else //gtkmm 2.2
 #define GMM_GTKMM_22_24(a,b) a
@@ -168,9 +167,9 @@
    importButton->show();
    importHbox->show();
    importVbox->show();
-   locationEntry->signal_changed().connect(SigC::slot(*this, &importDialog_glade::on_locationEntry_changed), false);
-   importButton->signal_clicked().connect(SigC::slot(*this, &importDialog_glade::on_importButton_clicked), false);
-   importDialog->signal_response().connect(SigC::slot(*this, &importDialog_glade::on_importDialog_response), false);
+   locationEntry->signal_changed().connect(sigc::mem_fun(*this, &importDialog_glade::on_locationEntry_changed), false);
+   importButton->signal_clicked().connect(sigc::mem_fun(*this, &importDialog_glade::on_importButton_clicked), false);
+   importDialog->signal_response().connect(sigc::mem_fun(*this, &importDialog_glade::on_importDialog_response), false);
 }
 
 importDialog_glade::~importDialog_glade()

Modified: trunk/UI/GTK2/src/indexDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/indexDialog_glade.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/indexDialog_glade.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -28,8 +28,7 @@
 #endif
 #include <gtkmmconfig.h>
 #if GTKMM_MAJOR_VERSION==2 && GTKMM_MINOR_VERSION>2
-#include <sigc++/compatibility.h>
-#include <sigc++/bind.h>
+#include <sigc++/sigc++.h>
 #define GMM_GTKMM_22_24(a,b) b
 #else //gtkmm 2.2
 #define GMM_GTKMM_22_24(a,b) a
@@ -204,12 +203,12 @@
    hostEntry->show();
    indexTable->show();
    indexDialog->show();
-   indexOkbutton->signal_clicked().connect(SigC::slot(*this, &indexDialog_glade::on_indexOkbutton_clicked), false);
-   locationEntry->signal_changed().connect(SigC::slot(*this, &indexDialog_glade::on_locationEntry_changed), false);
-   locationButton->signal_clicked().connect(SigC::slot(*this, &indexDialog_glade::on_locationButton_clicked), false);
-   nameEntry->signal_changed().connect(SigC::slot(*this, &indexDialog_glade::on_nameEntry_changed), false);
-   typeCombobox->signal_changed().connect(SigC::slot(*this, &indexDialog_glade::on_typeCombobox_changed), false);
-   hostEntry->signal_changed().connect(SigC::slot(*this, &indexDialog_glade::on_nameEntry_changed), false);
+   indexOkbutton->signal_clicked().connect(sigc::mem_fun(*this, &indexDialog_glade::on_indexOkbutton_clicked), false);
+   locationEntry->signal_changed().connect(sigc::mem_fun(*this, &indexDialog_glade::on_locationEntry_changed), false);
+   locationButton->signal_clicked().connect(sigc::mem_fun(*this, &indexDialog_glade::on_locationButton_clicked), false);
+   nameEntry->signal_changed().connect(sigc::mem_fun(*this, &indexDialog_glade::on_nameEntry_changed), false);
+   typeCombobox->signal_changed().connect(sigc::mem_fun(*this, &indexDialog_glade::on_typeCombobox_changed), false);
+   hostEntry->signal_changed().connect(sigc::mem_fun(*this, &indexDialog_glade::on_nameEntry_changed), false);
 }
 
 indexDialog_glade::~indexDialog_glade()

Modified: trunk/UI/GTK2/src/launcherDialog.cc
===================================================================
--- trunk/UI/GTK2/src/launcherDialog.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/launcherDialog.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -18,7 +18,7 @@
 #include <iostream>
 #include <string>
 #include <glibmm/ustring.h>
-#include <sigc++/slot.h>
+#include <sigc++/sigc++.h>
 
 #include "config.h"
 #include "NLS.h"

Modified: trunk/UI/GTK2/src/launcherDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/launcherDialog_glade.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/launcherDialog_glade.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -28,8 +28,7 @@
 #endif
 #include <gtkmmconfig.h>
 #if GTKMM_MAJOR_VERSION==2 && GTKMM_MINOR_VERSION>2
-#include <sigc++/compatibility.h>
-#include <sigc++/bind.h>
+#include <sigc++/sigc++.h>
 #define GMM_GTKMM_22_24(a,b) b
 #else //gtkmm 2.2
 #define GMM_GTKMM_22_24(a,b) a

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/mainWindow.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -23,7 +23,6 @@
 #include <iostream>
 #include <fstream>
 #include <list>
-#include <sigc++/class_slot.h>
 #include <glibmm/ustring.h>
 #include <glibmm/stringutils.h>
 #include <glibmm/convert.h>
@@ -143,7 +142,7 @@
 	m_currentPage(0),
 	m_browsingIndex(false)
 {
-	m_onThreadEndSignal.connect(SigC::slot(*pWindow, &mainWindow::on_thread_end));
+	m_onThreadEndSignal.connect(sigc::mem_fun(*pWindow, &mainWindow::on_thread_end));
 }
 
 mainWindow::InternalState::~InternalState()
@@ -192,10 +191,10 @@
 	m_pEnginesTree = manage(new EnginesTree(enginesVbox, m_settings));
 	// Connect to the "changed" signal
 	m_pEnginesTree->get_selection()->signal_changed().connect(
-		SigC::slot(*this, &mainWindow::on_enginesTreeviewSelection_changed));
+		sigc::mem_fun(*this, &mainWindow::on_enginesTreeviewSelection_changed));
 	// Connect to the edit index signal
 	m_pEnginesTree->getDoubleClickSignal().connect(
-		SigC::slot(*this, &mainWindow::on_editindex));
+		sigc::mem_fun(*this, &mainWindow::on_editindex));
 
 	// Enable completion on the live query field
 	m_refLiveQueryList = ListStore::create(m_liveQueryColumns);
@@ -224,7 +223,7 @@
 	queryTreeview->get_selection()->set_mode(SELECTION_SINGLE);
 	// Connect to the "changed" signal
 	queryTreeview->get_selection()->signal_changed().connect(
-		SigC::slot(*this, &mainWindow::on_queryTreeviewSelection_changed));
+		sigc::mem_fun(*this, &mainWindow::on_queryTreeviewSelection_changed));
 	// Populate
 	populate_queryTreeview("");
 
@@ -237,7 +236,7 @@
 	m_pNotebook->set_scrollable(false);
 	rightVbox->pack_start(*m_pNotebook, Gtk::PACK_EXPAND_WIDGET, 4);
 	m_pageSwitchConnection = m_pNotebook->signal_switch_page().connect(
-		SigC::slot(*this, &mainWindow::on_switch_page), false);
+		sigc::mem_fun(*this, &mainWindow::on_switch_page), false);
 
 	// Gray out menu items
 	removeQueryButton->set_sensitive(false);
@@ -420,7 +419,7 @@
 		m_pCacheMenu->items().clear();
 	}
 
-	SigC::Slot1<void, PinotSettings::CacheProvider> cacheSlot = SigC::slot(*this, &mainWindow::on_cache_changed);
+	sigc::slot1<void, PinotSettings::CacheProvider> cacheSlot = sigc::mem_fun(*this, &mainWindow::on_cache_changed);
 
 	if (m_settings.m_cacheProviders.empty() == true)
 	{
@@ -437,7 +436,7 @@
 			MenuItem *pCacheMenuItem = &m_pCacheMenu->items().back();
 
 			// Bind the callback's parameter to the cache provider
-			SigC::Slot0<void> cachedDocumentsActivateSlot = sigc::bind(cacheSlot, (*cacheIter));
+			sigc::slot0<void> cachedDocumentsActivateSlot = sigc::bind(cacheSlot, (*cacheIter));
 			pCacheMenuItem->signal_activate().connect(cachedDocumentsActivateSlot);
 		}
 	}
@@ -459,7 +458,7 @@
 		m_pIndexMenu->items().clear();
 	}
 
-	SigC::Slot1<void, ustring> indexSlot = SigC::slot(*this, &mainWindow::on_index_changed);
+	sigc::slot1<void, ustring> indexSlot = sigc::mem_fun(*this, &mainWindow::on_index_changed);
 
 	std::map<std::string, std::string> indexes = m_settings.getIndexes();
 	for (std::map<std::string, std::string>::const_iterator indexIter = indexes.begin();
@@ -470,7 +469,7 @@
 		m_pIndexMenu->items().push_back(Menu_Helpers::MenuElem(indexName));
 		MenuItem &menuItem = m_pIndexMenu->items().back();
 		// Bind the callback's parameter to the index name
-		SigC::Slot0<void> menuItemSlot = sigc::bind(indexSlot, indexName);
+		sigc::slot0<void> menuItemSlot = sigc::bind(indexSlot, indexName);
 		menuItem.signal_activate().connect(menuItemSlot);
 	}
 }
@@ -491,7 +490,7 @@
 		m_pFindMenu->items().clear();
 	}
 
-	SigC::Slot1<void, ustring> findSlot = SigC::slot(*this, &mainWindow::on_searchagain_changed);
+	sigc::slot1<void, ustring> findSlot = sigc::mem_fun(*this, &mainWindow::on_searchagain_changed);
 
 	TreeModel::Children children = m_refQueryTree->children();
 	for (TreeModel::Children::iterator iter = children.begin();
@@ -503,7 +502,7 @@
 		m_pFindMenu->items().push_back(Menu_Helpers::MenuElem(queryName));
 		MenuItem &menuItem = m_pFindMenu->items().back();
 		// Bind the callback's parameter to the query name
-		SigC::Slot0<void> menuItemSlot = sigc::bind(findSlot, queryName);
+		sigc::slot0<void> menuItemSlot = sigc::bind(findSlot, queryName);
 		menuItem.signal_activate().connect(menuItemSlot);
 	}
 }
@@ -855,7 +854,7 @@
 		NotebookTabBox *pTab = manage(new NotebookTabBox(indexName,
 			NotebookPageBox::INDEX_PAGE));
 		pTab->getCloseSignal().connect(
-			SigC::slot(*this, &mainWindow::on_close_page));
+			sigc::mem_fun(*this, &mainWindow::on_close_page));
 
 		// Position the index tree
 		pResultsTree = manage(new ResultsTree(indexName, indexMenuitem->get_submenu(),
@@ -863,18 +862,18 @@
 		pIndexPage = manage(new IndexPage(indexName, pResultsTree, m_settings));
 		// Connect to the "changed" signal
 		pResultsTree->getSelectionChangedSignal().connect(
-			SigC::slot(*this, &mainWindow::on_indexTreeviewSelection_changed));
+			sigc::mem_fun(*this, &mainWindow::on_indexTreeviewSelection_changed));
 		// Connect to the edit document signal
 		pResultsTree->getDoubleClickSignal().connect(
-			SigC::slot(*this, &mainWindow::on_showfromindex_activate));
+			sigc::mem_fun(*this, &mainWindow::on_showfromindex_activate));
 		// Connect to the label changed signal
 		pIndexPage->getQueryChangedSignal().connect(
-			SigC::slot(*this, &mainWindow::on_query_changed));
+			sigc::mem_fun(*this, &mainWindow::on_query_changed));
 		// ...and to the buttons clicked signals
 		pIndexPage->getBackClickedSignal().connect(
-			SigC::slot(*this, &mainWindow::on_indexBackButton_clicked));
+			sigc::mem_fun(*this, &mainWindow::on_indexBackButton_clicked));
 		pIndexPage->getForwardClickedSignal().connect(
-			SigC::slot(*this, &mainWindow::on_indexForwardButton_clicked));
+			sigc::mem_fun(*this, &mainWindow::on_indexForwardButton_clicked));
 
 		// Append the page
 		if (m_state.write_lock_lists() == true)
@@ -1258,7 +1257,7 @@
 			NotebookTabBox *pTab = manage(new NotebookTabBox(queryName,
 				NotebookPageBox::RESULTS_PAGE));
 			pTab->getCloseSignal().connect(
-				SigC::slot(*this, &mainWindow::on_close_page));
+				sigc::mem_fun(*this, &mainWindow::on_close_page));
 
 			ResultsTree::GroupByMode groupMode = ResultsTree::BY_ENGINE;
 			if (searchenginegroup1->get_active() == false)
@@ -1272,10 +1271,10 @@
 			pResultsTree->showExtract(showextract1->get_active());
 			// Connect to the "changed" signal
 			pResultsTree->getSelectionChangedSignal().connect(
-				SigC::slot(*this, &mainWindow::on_resultsTreeviewSelection_changed));
+				sigc::mem_fun(*this, &mainWindow::on_resultsTreeviewSelection_changed));
 			// Connect to the view results signal
 			pResultsTree->getDoubleClickSignal().connect(
-				SigC::slot(*this, &mainWindow::on_viewresults_activate));
+				sigc::mem_fun(*this, &mainWindow::on_viewresults_activate));
 
 			// Append the page
 			if (m_state.write_lock_lists() == true)
@@ -3577,7 +3576,7 @@
 		// Enable the activity progress bar
 		m_timeoutConnection.block();
 		m_timeoutConnection.disconnect();
-		m_timeoutConnection = Glib::signal_timeout().connect(SigC::slot(*this,
+		m_timeoutConnection = Glib::signal_timeout().connect(sigc::mem_fun(*this,
 			&mainWindow::on_activity_timeout), 1000);
 		m_timeoutConnection.unblock();
 	}

Modified: trunk/UI/GTK2/src/mainWindow.hh
===================================================================
--- trunk/UI/GTK2/src/mainWindow.hh	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/mainWindow.hh	2007-11-04 04:45:02 UTC (rev 1086)
@@ -21,7 +21,7 @@
 
 #include <string>
 #include <set>
-#include <sigc++/connection.h>
+#include <sigc++/sigc++.h>
 #include <glibmm/refptr.h>
 #include <gdkmm/pixbuf.h>
 #include <gdkmm/color.h>
@@ -169,9 +169,9 @@
 	// Tooltips
 	Gtk::Tooltips m_tooltips;
 	// Page switching
-	SigC::Connection m_pageSwitchConnection;
+	sigc::connection m_pageSwitchConnection;
 	// Activity timeout
-	SigC::Connection m_timeoutConnection;
+	sigc::connection m_timeoutConnection;
 	// Monitoring
 	MonitorInterface *m_pSettingsMonitor;
 	MonitorHandler *m_pSettingsHandler;

Modified: trunk/UI/GTK2/src/mainWindow_glade.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow_glade.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/mainWindow_glade.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -28,8 +28,7 @@
 #endif
 #include <gtkmmconfig.h>
 #if GTKMM_MAJOR_VERSION==2 && GTKMM_MINOR_VERSION>2
-#include <sigc++/compatibility.h>
-#include <sigc++/bind.h>
+#include <sigc++/sigc++.h>
 #define GMM_GTKMM_22_24(a,b) b
 #else //gtkmm 2.2
 #define GMM_GTKMM_22_24(a,b) a
@@ -452,38 +451,38 @@
    mainStatusbar->show();
    mainHbox->show();
    mainVbox->show();
-   configure1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_configure_activate), false);
-   statistics1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_statistics_activate), false);
-   quit1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_quit_activate), false);
-   cut1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_cut_activate), false);
-   copy1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_copy_activate), false);
-   paste1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_paste_activate), false);
-   delete1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_delete_activate), false);
-   showextract1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_showextract_activate), false);
-   searchenginegroup1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_groupresults_activate), false);
-   exportresults1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_exportresults_activate), false);
-   clearresults1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_clearresults_activate), false);
-   viewresults1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_viewresults_activate), false);
-   morelikethis1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_morelikethis_activate), false);
-   indexresults1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_indexresults_activate), false);
-   import1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_import_activate), false);
-   viewfromindex1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_viewfromindex_activate), false);
-   refreshindex1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_refreshindex_activate), false);
-   unindex1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_unindex_activate), false);
-   showfromindex1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_showfromindex_activate), false);
-   about1->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_about_activate), false);
-   addIndexButton->signal_clicked().connect(SigC::slot(*this, &mainWindow_glade::on_addIndexButton_clicked), false);
-   removeIndexButton->signal_clicked().connect(SigC::slot(*this, &mainWindow_glade::on_removeIndexButton_clicked), false);
-   enginesTogglebutton->signal_toggled().connect(SigC::slot(*this, &mainWindow_glade::on_enginesTogglebutton_toggled), false);
-   liveQueryEntry->signal_changed().connect(SigC::slot(*this, &mainWindow_glade::on_liveQueryEntry_changed), false);
-   liveQueryEntry->signal_activate().connect(SigC::slot(*this, &mainWindow_glade::on_liveQueryEntry_activate), false);
-   findButton->signal_clicked().connect(SigC::slot(*this, &mainWindow_glade::on_findButton_clicked), false);
-   queryTreeview->signal_button_press_event().connect(SigC::slot(*this, &mainWindow_glade::on_queryTreeview_button_press_event), false);
-   addQueryButton->signal_clicked().connect(SigC::slot(*this, &mainWindow_glade::on_addQueryButton_clicked), false);
-   removeQueryButton->signal_clicked().connect(SigC::slot(*this, &mainWindow_glade::on_removeQueryButton_clicked), false);
-   queryHistoryButton->signal_clicked().connect(SigC::slot(*this, &mainWindow_glade::on_queryHistoryButton_clicked), false);
-   findQueryButton->signal_clicked().connect(SigC::slot(*this, &mainWindow_glade::on_findQueryButton_clicked), false);
-   mainWindow->signal_delete_event().connect(SigC::slot(*this, &mainWindow_glade::on_mainWindow_delete_event), false);
+   configure1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_configure_activate), false);
+   statistics1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_statistics_activate), false);
+   quit1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_quit_activate), false);
+   cut1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_cut_activate), false);
+   copy1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_copy_activate), false);
+   paste1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_paste_activate), false);
+   delete1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_delete_activate), false);
+   showextract1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_showextract_activate), false);
+   searchenginegroup1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_groupresults_activate), false);
+   exportresults1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_exportresults_activate), false);
+   clearresults1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_clearresults_activate), false);
+   viewresults1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_viewresults_activate), false);
+   morelikethis1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_morelikethis_activate), false);
+   indexresults1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_indexresults_activate), false);
+   import1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_import_activate), false);
+   viewfromindex1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_viewfromindex_activate), false);
+   refreshindex1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_refreshindex_activate), false);
+   unindex1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_unindex_activate), false);
+   showfromindex1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_showfromindex_activate), false);
+   about1->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_about_activate), false);
+   addIndexButton->signal_clicked().connect(sigc::mem_fun(*this, &mainWindow_glade::on_addIndexButton_clicked), false);
+   removeIndexButton->signal_clicked().connect(sigc::mem_fun(*this, &mainWindow_glade::on_removeIndexButton_clicked), false);
+   enginesTogglebutton->signal_toggled().connect(sigc::mem_fun(*this, &mainWindow_glade::on_enginesTogglebutton_toggled), false);
+   liveQueryEntry->signal_changed().connect(sigc::mem_fun(*this, &mainWindow_glade::on_liveQueryEntry_changed), false);
+   liveQueryEntry->signal_activate().connect(sigc::mem_fun(*this, &mainWindow_glade::on_liveQueryEntry_activate), false);
+   findButton->signal_clicked().connect(sigc::mem_fun(*this, &mainWindow_glade::on_findButton_clicked), false);
+   queryTreeview->signal_button_press_event().connect(sigc::mem_fun(*this, &mainWindow_glade::on_queryTreeview_button_press_event), false);
+   addQueryButton->signal_clicked().connect(sigc::mem_fun(*this, &mainWindow_glade::on_addQueryButton_clicked), false);
+   removeQueryButton->signal_clicked().connect(sigc::mem_fun(*this, &mainWindow_glade::on_removeQueryButton_clicked), false);
+   queryHistoryButton->signal_clicked().connect(sigc::mem_fun(*this, &mainWindow_glade::on_queryHistoryButton_clicked), false);
+   findQueryButton->signal_clicked().connect(sigc::mem_fun(*this, &mainWindow_glade::on_findQueryButton_clicked), false);
+   mainWindow->signal_delete_event().connect(sigc::mem_fun(*this, &mainWindow_glade::on_mainWindow_delete_event), false);
 }
 
 mainWindow_glade::~mainWindow_glade()

Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.cc
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -26,6 +26,7 @@
 #include <unistd.h>
 #include <iostream>
 #include <fstream>
+#include <sigc++/sigc++.h>
 #include <glibmm.h>
 #include <glibmm/thread.h>
 #include <glibmm/ustring.h>
@@ -502,7 +503,7 @@
 			}
 
 			// Connect to the quit signal
-			server.getQuitSignal().connect(SigC::slot(&quitAll));
+			server.getQuitSignal().connect(sigc::ptr_fun(&quitAll));
 
 			// Connect to threads' finished signal
 			server.connect();

Modified: trunk/UI/GTK2/src/prefsDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/prefsDialog_glade.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/prefsDialog_glade.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -28,8 +28,7 @@
 #endif
 #include <gtkmmconfig.h>
 #if GTKMM_MAJOR_VERSION==2 && GTKMM_MINOR_VERSION>2
-#include <sigc++/compatibility.h>
-#include <sigc++/bind.h>
+#include <sigc++/sigc++.h>
 #define GMM_GTKMM_22_24(a,b) b
 #else //gtkmm 2.2
 #define GMM_GTKMM_22_24(a,b) a
@@ -580,15 +579,15 @@
    indexingLabel->show();
    prefsNotebook->show();
    prefsDialog->show();
-   prefsOkbutton->signal_clicked().connect(SigC::slot(*this, &prefsDialog_glade::on_prefsOkbutton_clicked), false);
-   directConnectionRadiobutton->signal_toggled().connect(SigC::slot(*this, &prefsDialog_glade::on_directConnectionRadiobutton_toggled), false);
-   addLabelButton->signal_clicked().connect(SigC::slot(*this, &prefsDialog_glade::on_addLabelButton_clicked), false);
-   removeLabelButton->signal_clicked().connect(SigC::slot(*this, &prefsDialog_glade::on_removeLabelButton_clicked), false);
-   addDirectoryButton->signal_clicked().connect(SigC::slot(*this, &prefsDialog_glade::on_addDirectoryButton_clicked), false);
-   removeDirectoryButton->signal_clicked().connect(SigC::slot(*this, &prefsDialog_glade::on_removeDirectoryButton_clicked), false);
-   patternsCombobox->signal_changed().connect(SigC::slot(*this, &prefsDialog_glade::on_patternsCombobox_changed), false);
-   addPatternButton->signal_clicked().connect(SigC::slot(*this, &prefsDialog_glade::on_addPatternButton_clicked), false);
-   removePatternButton->signal_clicked().connect(SigC::slot(*this, &prefsDialog_glade::on_removePatternButton_clicked), false);
+   prefsOkbutton->signal_clicked().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_prefsOkbutton_clicked), false);
+   directConnectionRadiobutton->signal_toggled().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_directConnectionRadiobutton_toggled), false);
+   addLabelButton->signal_clicked().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_addLabelButton_clicked), false);
+   removeLabelButton->signal_clicked().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_removeLabelButton_clicked), false);
+   addDirectoryButton->signal_clicked().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_addDirectoryButton_clicked), false);
+   removeDirectoryButton->signal_clicked().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_removeDirectoryButton_clicked), false);
+   patternsCombobox->signal_changed().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_patternsCombobox_changed), false);
+   addPatternButton->signal_clicked().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_addPatternButton_clicked), false);
+   removePatternButton->signal_clicked().connect(sigc::mem_fun(*this, &prefsDialog_glade::on_removePatternButton_clicked), false);
 }
 
 prefsDialog_glade::~prefsDialog_glade()

Modified: trunk/UI/GTK2/src/propertiesDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/propertiesDialog_glade.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/propertiesDialog_glade.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -28,8 +28,7 @@
 #endif
 #include <gtkmmconfig.h>
 #if GTKMM_MAJOR_VERSION==2 && GTKMM_MINOR_VERSION>2
-#include <sigc++/compatibility.h>
-#include <sigc++/bind.h>
+#include <sigc++/sigc++.h>
 #define GMM_GTKMM_22_24(a,b) b
 #else //gtkmm 2.2
 #define GMM_GTKMM_22_24(a,b) a
@@ -253,8 +252,8 @@
    viewport1->show();
    labelsScrolledwindow->show();
    propertiesVbox->show();
-   labelOkButton->signal_clicked().connect(SigC::slot(*this, &propertiesDialog_glade::on_labelOkButton_clicked), false);
-   saveTermsButton->signal_clicked().connect(SigC::slot(*this, &propertiesDialog_glade::on_saveTermsButton_clicked), false);
+   labelOkButton->signal_clicked().connect(sigc::mem_fun(*this, &propertiesDialog_glade::on_labelOkButton_clicked), false);
+   saveTermsButton->signal_clicked().connect(sigc::mem_fun(*this, &propertiesDialog_glade::on_saveTermsButton_clicked), false);
 }
 
 propertiesDialog_glade::~propertiesDialog_glade()

Modified: trunk/UI/GTK2/src/queryDialog.cc
===================================================================
--- trunk/UI/GTK2/src/queryDialog.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/queryDialog.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -90,7 +90,7 @@
 	unsigned int labelNum = 1;
 
 	// All supported filters
-	filterCombobox->set_row_separator_func(SigC::slot(*this, &queryDialog::is_separator));
+	filterCombobox->set_row_separator_func(sigc::mem_fun(*this, &queryDialog::is_separator));
 	filterCombobox->append_text(_("Host name"));
 	filterCombobox->append_text(_("File name"));
 	filterCombobox->append_text(_("File extension"));

Modified: trunk/UI/GTK2/src/queryDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/queryDialog_glade.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/queryDialog_glade.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -28,8 +28,7 @@
 #endif
 #include <gtkmmconfig.h>
 #if GTKMM_MAJOR_VERSION==2 && GTKMM_MINOR_VERSION>2
-#include <sigc++/compatibility.h>
-#include <sigc++/bind.h>
+#include <sigc++/sigc++.h>
 #define GMM_GTKMM_22_24(a,b) b
 #else //gtkmm 2.2
 #define GMM_GTKMM_22_24(a,b) a
@@ -220,9 +219,9 @@
    actionsTable->show();
    queryVbox->show();
    queryDialog->show();
-   queryOkbutton->signal_clicked().connect(SigC::slot(*this, &queryDialog_glade::on_queryOkbutton_clicked), false);
-   nameEntry->signal_changed().connect(SigC::slot(*this, &queryDialog_glade::on_nameEntry_changed), false);
-   addFilterButton->signal_clicked().connect(SigC::slot(*this, &queryDialog_glade::on_addFilterButton_clicked), false);
+   queryOkbutton->signal_clicked().connect(sigc::mem_fun(*this, &queryDialog_glade::on_queryOkbutton_clicked), false);
+   nameEntry->signal_changed().connect(sigc::mem_fun(*this, &queryDialog_glade::on_nameEntry_changed), false);
+   addFilterButton->signal_clicked().connect(sigc::mem_fun(*this, &queryDialog_glade::on_addFilterButton_clicked), false);
 }
 
 queryDialog_glade::~queryDialog_glade()

Modified: trunk/UI/GTK2/src/statisticsDialog.cc
===================================================================
--- trunk/UI/GTK2/src/statisticsDialog.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/statisticsDialog.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -21,7 +21,6 @@
 #include <map>
 #include <set>
 #include <iostream>
-#include <sigc++/class_slot.h>
 #include <glibmm/convert.h>
 #include <gtkmm/stock.h>
 
@@ -57,7 +56,7 @@
 	// Populate
 	populate();
 	// ...and update regularly
-	m_idleConnection = Glib::signal_timeout().connect(SigC::slot(*this,
+	m_idleConnection = Glib::signal_timeout().connect(sigc::mem_fun(*this,
 		&statisticsDialog::on_activity_timeout), 5000);
 }
 

Modified: trunk/UI/GTK2/src/statisticsDialog.hh
===================================================================
--- trunk/UI/GTK2/src/statisticsDialog.hh	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/statisticsDialog.hh	2007-11-04 04:45:02 UTC (rev 1086)
@@ -21,8 +21,7 @@
 
 #include <time.h>
 #include <map>
-#include <sigc++/slot.h>
-#include <sigc++/connection.h>
+#include <sigc++/sigc++.h>
 #include <glibmm/refptr.h>
 #include <gtkmm/treestore.h>
 
@@ -48,7 +47,7 @@
 	std::map<int, Gtk::TreeModel::iterator> m_errorsIters;
 	bool m_hasErrors;
 	time_t m_lastErrorDate;
-	SigC::Connection m_idleConnection;
+	sigc::connection m_idleConnection;
 
 	void populate(void);
 

Modified: trunk/UI/GTK2/src/statisticsDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/statisticsDialog_glade.cc	2007-11-02 15:43:08 UTC (rev 1085)
+++ trunk/UI/GTK2/src/statisticsDialog_glade.cc	2007-11-04 04:45:02 UTC (rev 1086)
@@ -28,8 +28,7 @@
 #endif
 #include <gtkmmconfig.h>
 #if GTKMM_MAJOR_VERSION==2 && GTKMM_MINOR_VERSION>2
-#include <sigc++/compatibility.h>
-#include <sigc++/bind.h>
+#include <sigc++/sigc++.h>
 #define GMM_GTKMM_22_24(a,b) b
 #else //gtkmm 2.2
 #define GMM_GTKMM_22_24(a,b) a



From fabricecolin at mail.berlios.de  Sun Nov  4 11:09:37 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sun, 4 Nov 2007 11:09:37 +0100
Subject: [Pinot-svn] r1087 - trunk
Message-ID: <200711041009.lA4A9bw4024445@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-04 11:09:37 +0100 (Sun, 04 Nov 2007)
New Revision: 1087

Modified:
   trunk/pinot-dbus-daemon.desktop
   trunk/pinot.desktop
Log:
Icon is not an absolute path and therefore shouldn't have an extension.


Modified: trunk/pinot-dbus-daemon.desktop
===================================================================
--- trunk/pinot-dbus-daemon.desktop	2007-11-04 04:45:02 UTC (rev 1086)
+++ trunk/pinot-dbus-daemon.desktop	2007-11-04 10:09:37 UTC (rev 1087)
@@ -2,7 +2,7 @@
 Name=Pinot
 Comment=Search the Web and your documents
 Exec=pinot-dbus-daemon
-Icon=pinot.png
+Icon=pinot
 Terminal=false
 Type=Application
 Categories=

Modified: trunk/pinot.desktop
===================================================================
--- trunk/pinot.desktop	2007-11-04 04:45:02 UTC (rev 1086)
+++ trunk/pinot.desktop	2007-11-04 10:09:37 UTC (rev 1087)
@@ -22,7 +22,7 @@
 Comment[zh_TW]=???????????
 Exec=pinot
 StartupNotify=true
-Icon=pinot.png
+Icon=pinot
 Terminal=false
 Type=Application
 Categories=GTK;Core;Network;Filesystem;



From fabricecolin at mail.berlios.de  Sun Nov  4 11:14:46 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sun, 4 Nov 2007 11:14:46 +0100
Subject: [Pinot-svn] r1088 - trunk
Message-ID: <200711041014.lA4AEksE024893@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-04 11:14:46 +0100 (Sun, 04 Nov 2007)
New Revision: 1088

Modified:
   trunk/FAQ
Log:
Added entries about stale lock files and flushing.


Modified: trunk/FAQ
===================================================================
--- trunk/FAQ	2007-11-04 10:09:37 UTC (rev 1087)
+++ trunk/FAQ	2007-11-04 10:14:46 UTC (rev 1088)
@@ -51,3 +51,17 @@
     $(kde-config --prefix)/share/autostart (for all users) or ~/.kde/Autostart
     (current user only).
 
+  * If pinot's status bar shows a message like "Couldn't open index ~/.pinot/index"
+    at startup, it may be that a previous instance crashed and left a lock file
+    in that same directory. Exit pinot, check that no other process is using
+    ~/.pinot/index/flintlock and delete that file.
+
+  * Flushing is not directly configurable in Pinot, but some control is
+    possible with the environment variable XAPIAN_FLUSH_THRESHOLD. It can be
+    set to the number of documents after which changes should be flushed to the
+    index. The default value is 10000.
+    The daemon explicitely flushes the index once it has crawled one of the
+    directories configured in Preferences, Indexing. if this directory has more
+    documents than XAPIAN_FLUSH_THRESHOLD, changes will be buffered in RAM until
+    the directory is fully crawled.
+



From fabricecolin at mail.berlios.de  Mon Nov  5 12:20:02 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 5 Nov 2007 12:20:02 +0100
Subject: [Pinot-svn] r1089 - trunk/Utils
Message-ID: <200711051120.lA5BK2LJ019702@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-05 12:20:01 +0100 (Mon, 05 Nov 2007)
New Revision: 1089

Modified:
   trunk/Utils/Url.cpp
Log:
Don't look for parameters in file URLs, that truncates file names that have
a question mark.


Modified: trunk/Utils/Url.cpp
===================================================================
--- trunk/Utils/Url.cpp	2007-11-04 10:14:46 UTC (rev 1088)
+++ trunk/Utils/Url.cpp	2007-11-05 11:20:01 UTC (rev 1089)
@@ -78,8 +78,8 @@
 
 void Url::parse(const string &url)
 {
-	string::size_type pos1 =0, pos2 = 0;
-	bool hasHostName = true;
+	string::size_type pos1 = 0, pos2 = 0;
+	bool hasHostName = true, hasParameters = true;
 
 	if ((url[0] == '/') ||
 		(url[0] == '.'))
@@ -92,7 +92,6 @@
 
 		// Assume default protocol
 		m_protocol = "file";
-
 		hasHostName = false;
 	}
 	else
@@ -101,7 +100,7 @@
 		pos1 = url.find("://");
 		if (pos1 != string::npos)
 		{
-			m_protocol = url.substr(0, pos1);
+			m_protocol = StringManip::toLowerCase(url.substr(0, pos1));
 			pos1 += 3;
 		}
 		else
@@ -118,6 +117,11 @@
 		}
 	}
 
+	if (m_protocol == "file")
+	{
+		hasParameters = false;
+	}
+
 	if (hasHostName == true)
 	{
 		string userAndPassword;
@@ -182,13 +186,16 @@
 		m_host = "localhost";
 	}
 
-	string locationAndFile = url.substr(pos2);
-	pos2 = locationAndFile.find("?");
+	string locationAndFile(url.substr(pos2));
 	// Parameters
-	if (pos2 != string::npos)
+	if (hasParameters == true)
 	{
-		m_parameters = locationAndFile.substr(pos2+1);
-		locationAndFile.resize(pos2);
+		pos2 = locationAndFile.find("?");
+		if (pos2 != string::npos)
+		{
+			m_parameters = locationAndFile.substr(pos2+1);
+			locationAndFile.resize(pos2);
+		}
 	}
 
 	// Location and file



From fabricecolin at mail.berlios.de  Mon Nov  5 12:28:06 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 5 Nov 2007 12:28:06 +0100
Subject: [Pinot-svn] r1090 - trunk/Index
Message-ID: <200711051128.lA5BS6rF020705@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-05 12:28:06 +0100 (Mon, 05 Nov 2007)
New Revision: 1090

Modified:
   trunk/Index/pinot-label.cpp
Log:
Don't loop forever if the file was not indexed !


Modified: trunk/Index/pinot-label.cpp
===================================================================
--- trunk/Index/pinot-label.cpp	2007-11-05 11:20:01 UTC (rev 1089)
+++ trunk/Index/pinot-label.cpp	2007-11-05 11:28:06 UTC (rev 1090)
@@ -35,6 +35,7 @@
 
 #include "StringManip.h"
 #include "MIMEScanner.h"
+#include "Url.h"
 #include "DBusXapianIndex.h"
 #include "XapianDatabaseFactory.h"
 
@@ -215,8 +216,10 @@
 			if (docId == 0)
 			{
 				cerr << fileParam << " is not indexed" << endl;
+				success = false;
 
-				success = false;
+				// Next
+				++optind;
 				continue;
 			}
 		}



From fabricecolin at mail.berlios.de  Mon Nov  5 12:32:31 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 5 Nov 2007 12:32:31 +0100
Subject: [Pinot-svn] r1091 - trunk/UI/GTK2/src
Message-ID: <200711051132.lA5BWVhB026348@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-05 12:32:28 +0100 (Mon, 05 Nov 2007)
New Revision: 1091

Modified:
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/propertiesDialog.cc
Log:
Don't show "unknown" if the number of terms is 0.
Removed unused variable in mainWindow.cc.


Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2007-11-05 11:28:06 UTC (rev 1090)
+++ trunk/UI/GTK2/src/mainWindow.cc	2007-11-05 11:32:28 UTC (rev 1091)
@@ -1002,7 +1002,6 @@
 	{
 		std::map<std::string, std::string> indexes = m_settings.getIndexes();
 		ustring queryName(queryProps.getName());
-		bool firstLocation = true;
 
 		queryProps.setName(queryName + " " + _("In Results"));
 

Modified: trunk/UI/GTK2/src/propertiesDialog.cc
===================================================================
--- trunk/UI/GTK2/src/propertiesDialog.cc	2007-11-05 11:28:06 UTC (rev 1090)
+++ trunk/UI/GTK2/src/propertiesDialog.cc	2007-11-05 11:32:28 UTC (rev 1091)
@@ -89,19 +89,14 @@
 
 			titleEntry->set_text(to_utf8(title));
 			typeEntry->set_text(to_utf8(docInfo.getType()));
+
 			unsigned int size = docInfo.getSize();
 			snprintf(numStr, 128, "%u", size);
 			sizeEntry->set_text(numStr);
-			if (termsCount == 0)
-			{
-				termsEntry->set_text(_("Unknown"));
-			}
-			else
-			{
-				snprintf(numStr, 128, "%u", termsCount);
-				termsEntry->set_text(numStr);
-			}
 
+			snprintf(numStr, 128, "%u", termsCount);
+			termsEntry->set_text(numStr);
+
 			m_editDocument = true;
 		}
 	}



From fabricecolin at mail.berlios.de  Tue Nov  6 15:08:57 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Tue, 6 Nov 2007 15:08:57 +0100
Subject: [Pinot-svn] r1092 - trunk
Message-ID: <200711061408.lA6E8vIw023283@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-06 15:08:57 +0100 (Tue, 06 Nov 2007)
New Revision: 1092

Modified:
   trunk/FAQ
Log:
There already was an entry about stale locks... Updated it.


Modified: trunk/FAQ
===================================================================
--- trunk/FAQ	2007-11-05 11:32:28 UTC (rev 1091)
+++ trunk/FAQ	2007-11-06 14:08:57 UTC (rev 1092)
@@ -1,10 +1,11 @@
   * At startup, when listing an index or indexing documents, Pinot complains
     of an "index error"
     This is likely because a previous instance didn't exit properly and one
-    (or more) index is still locked. Quit Pinot and look for a "db_lock" file
-    in "~/.pinot/index". If it's there, delete it and restart Pinot.
-    Starting with 0.60, indexes are created with the newer Flint back-end
-    which is immune to this issue.
+    (or more) index is still locked. Quit Pinot and look for a "db_lock",
+    "flicklock" or "flintlock" file (depending on what version of Xapian the
+    index was created with/is currently installed) in the directory that Pinot
+    complains about. If it's there, check that no other process is using this
+    file, delete it and restart Pinot.
 
   * When compiling from source, you may run into linking problems related to
     libstdc++.la. Try patching xapian-config as explained in the post at
@@ -51,11 +52,6 @@
     $(kde-config --prefix)/share/autostart (for all users) or ~/.kde/Autostart
     (current user only).
 
-  * If pinot's status bar shows a message like "Couldn't open index ~/.pinot/index"
-    at startup, it may be that a previous instance crashed and left a lock file
-    in that same directory. Exit pinot, check that no other process is using
-    ~/.pinot/index/flintlock and delete that file.
-
   * Flushing is not directly configurable in Pinot, but some control is
     possible with the environment variable XAPIAN_FLUSH_THRESHOLD. It can be
     set to the number of documents after which changes should be flushed to the



From fabricecolin at mail.berlios.de  Tue Nov  6 15:13:31 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Tue, 6 Nov 2007 15:13:31 +0100
Subject: [Pinot-svn] r1093 - in trunk: . po
Message-ID: <200711061413.lA6EDVXL023521@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-06 15:13:25 +0100 (Tue, 06 Nov 2007)
New Revision: 1093

Modified:
   trunk/AUTHORS
   trunk/po/pt.po
   trunk/po/sv.po
Log:
Mention Andreas Wagner's contribution.
Updated Portuguese and Swedish translations by Tiago Silva and Daniel Nylander.


Modified: trunk/AUTHORS
===================================================================
--- trunk/AUTHORS	2007-11-06 14:08:57 UTC (rev 1092)
+++ trunk/AUTHORS	2007-11-06 14:13:25 UTC (rev 1093)
@@ -18,6 +18,7 @@
 	Christian Dywan <christian at twotoasts dot de>
 	Lee Marks <ana_cata_hylo at yahoo dot com>
 	Adel Gadllah <adel dot gadllah at gmail dot com>
+	Andreas Wagner <A dot Wagner at stud dot uni-frankfurt dot de>
 
 The file Monitor/linux-inotify-syscalls.h is originally from libinotify
 (Copyright ? 2005 Ryan Lortie <desrt at desrt dot ca>).
@@ -39,6 +40,7 @@
 		& Vincenzo Consales <aquarius987 at gmail dot com>>
 		& Marco Bazzani <visik7 at tin dot it>
 	Portuguese - _PN_boy <pedro_nuno_pn at iol dot pt>
+		& Tiago Silva <???>
 	Portuguese (Brazil) - Leonardo Melo <leonardovazmelo at gmail dot com>
 	Russian - Sergey Vostrikov <memphis at jabber dot snc dot ru>
 	Spanish - Jes?s Tramullas <jesus at tramullas dot com>

Modified: trunk/po/pt.po
===================================================================
--- trunk/po/pt.po	2007-11-06 14:08:57 UTC (rev 1092)
+++ trunk/po/pt.po	2007-11-06 14:13:25 UTC (rev 1093)
@@ -4,23 +4,23 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.80\n"
+"Project-Id-Version: pinot 0.75\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-28 22:51+0800\n"
-"PO-Revision-Date: 2007-08-17 10:07+0000\n"
+"POT-Creation-Date: 2007-11-06 22:04+0800\n"
+"PO-Revision-Date: 2007-10-31 10:01+0000\n"
 "Last-Translator: _PN_boy <pedro_nuno_pn at iol.pt>\n"
 "Language-Team: Portuguese <pt at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2007-09-23 13:58+0000\n"
+"X-Launchpad-Export-Date: 2007-11-05 19:38+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68
+#: UI/GTK2/src/EnginesTree.cpp:67
 msgid "Search Engines"
 msgstr "Motores de pesquisa"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:325
 #, fuzzy
 msgid "Current User"
 msgstr "Utilizador corrente"
@@ -28,22 +28,22 @@
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:795
-#: UI/GTK2/src/mainWindow.cc:1017 UI/GTK2/src/mainWindow.cc:1354
-#: UI/GTK2/src/mainWindow.cc:1509 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
-#: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:794
+#: UI/GTK2/src/mainWindow.cc:1015 UI/GTK2/src/mainWindow.cc:1352
+#: UI/GTK2/src/mainWindow.cc:1507 UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1571 UI/GTK2/src/mainWindow.cc:2175
+#: UI/GTK2/src/mainWindow.cc:2285 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:976
 msgid "My Web Pages"
 msgstr "As minhas p?ginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:798
-#: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
-#: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:797
+#: UI/GTK2/src/mainWindow.cc:1009 UI/GTK2/src/mainWindow.cc:1359
+#: UI/GTK2/src/mainWindow.cc:2289 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:986
 msgid "My Documents"
 msgstr "Os Meus Documentos"
 
@@ -59,69 +59,69 @@
 msgid "Index location"
 msgstr "Localiza??o do index"
 
-#: UI/GTK2/src/indexDialog_glade.cc:65 UI/GTK2/src/queryDialog_glade.cc:68
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
 msgstr "Nome:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:66
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
 msgid "Type:"
 msgstr "Tipo:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:66
 msgid "Location:"
 msgstr "Localiza??o:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:72 UI/GTK2/src/prefsDialog_glade.cc:86
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
 msgid "Port:"
 msgstr "Porta:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:79 UI/GTK2/src/prefsDialog_glade.cc:82
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
 msgstr "Endere?o:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:183
+#: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
 msgstr "Index externo"
 
 #. Labels
-#: UI/GTK2/src/importDialog.cc:87 UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/importDialog.cc:86 UI/GTK2/src/queryDialog.cc:123
 msgid "None"
 msgstr "Nenhum"
 
-#: UI/GTK2/src/importDialog_glade.cc:68
-#: UI/GTK2/src/propertiesDialog_glade.cc:64
+#: UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
 msgid "Title:"
 msgstr "T?tulo:"
 
-#: UI/GTK2/src/importDialog_glade.cc:71
+#: UI/GTK2/src/importDialog_glade.cc:70
 msgid "Apply label:"
 msgstr "Aplicar t?tulo:"
 
-#: UI/GTK2/src/importDialog_glade.cc:77
+#: UI/GTK2/src/importDialog_glade.cc:76
 msgid "Import"
 msgstr "Importar"
 
-#: UI/GTK2/src/importDialog_glade.cc:148 UI/GTK2/src/mainWindow_glade.cc:216
+#: UI/GTK2/src/importDialog_glade.cc:147 UI/GTK2/src/mainWindow_glade.cc:215
 msgid "Import URL"
 msgstr "Importar URL"
 
-#: UI/GTK2/src/IndexPage.cpp:51
+#: UI/GTK2/src/IndexPage.cpp:50
 msgid "Show Previous"
 msgstr "Mostrar anterior"
 
-#: UI/GTK2/src/IndexPage.cpp:57
+#: UI/GTK2/src/IndexPage.cpp:56
 msgid "Show Next"
 msgstr "Mostrar pr?ximo"
 
-#: UI/GTK2/src/IndexPage.cpp:189
+#: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
 msgstr ""
 
-#: UI/GTK2/src/launcherDialog_glade.cc:64
+#: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
@@ -129,425 +129,424 @@
 "N?o existe nenhuma aplica??o definido para este tipo de documento.\n"
 "Por favor digite o comando para abrir este documento."
 
-#: UI/GTK2/src/launcherDialog_glade.cc:67
+#: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
 msgstr "Usar este comando para outros documentos do mesmo tipo"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:99
+#: UI/GTK2/src/launcherDialog_glade.cc:98
 msgid "Helper application"
 msgstr "Aplica??o"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:211
 msgid "Query Name"
 msgstr "Nome da Consulta"
 
-#: UI/GTK2/src/mainWindow.cc:217
+#: UI/GTK2/src/mainWindow.cc:216
 msgid "Last Run"
 msgstr "?ltima execu??o"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Summary"
 msgstr "Resumo"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:251
 msgid "Show all search engines"
 msgstr "Mostrar todos os motores de pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:252
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:254
+#: UI/GTK2/src/mainWindow.cc:253
 #, fuzzy
 msgid "Add an index"
 msgstr "Adicionar index"
 
-#: UI/GTK2/src/mainWindow.cc:255
+#: UI/GTK2/src/mainWindow.cc:254
 #, fuzzy
 msgid "Remove an index"
 msgstr "Remover index"
 
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:255
 #, fuzzy
 msgid "Add a query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:257
+#: UI/GTK2/src/mainWindow.cc:256
 #, fuzzy
 msgid "Remove a query"
 msgstr "Consulta activa"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:257
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:289
+#: UI/GTK2/src/mainWindow.cc:288
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:349
+#: UI/GTK2/src/mainWindow.cc:348
 msgid "N/A"
 msgstr "N/D"
 
-#: UI/GTK2/src/mainWindow.cc:364
+#: UI/GTK2/src/mainWindow.cc:363
 msgid "Undefined"
 msgstr "Indefinido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:587 UI/GTK2/src/mainWindow.cc:2675
+#: UI/GTK2/src/mainWindow.cc:586 UI/GTK2/src/mainWindow.cc:2673
 msgid "Live query"
 msgstr "Consulta activa"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:727
+#: UI/GTK2/src/mainWindow.cc:726
 msgid "Result location is"
 msgstr "A localiza??o do resultado ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:809
+#: UI/GTK2/src/mainWindow.cc:808
 msgid "Document location is"
 msgstr "A localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:993 UI/GTK2/src/mainWindow.cc:2109
+#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:2107
 msgid "Couldn't find query"
 msgstr "N?o foi poss?vel encontrar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:1008
+#: UI/GTK2/src/mainWindow.cc:1006
 #, fuzzy
 msgid "In Results"
 msgstr "resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1191
+#: UI/GTK2/src/mainWindow.cc:1189
 msgid "Showing"
 msgstr "Visualizando"
 
-#: UI/GTK2/src/mainWindow.cc:1196
+#: UI/GTK2/src/mainWindow.cc:1194
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1201
+#: UI/GTK2/src/mainWindow.cc:1199
 msgid "documents, starting at"
 msgstr "documentos, come?ando em"
 
-#: UI/GTK2/src/mainWindow.cc:1235
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Query"
 msgstr "Pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:1239 UI/GTK2/src/mainWindow.cc:3268
+#: UI/GTK2/src/mainWindow.cc:1237 UI/GTK2/src/mainWindow.cc:3266
 msgid "on"
 msgstr "activar"
 
-#: UI/GTK2/src/mainWindow.cc:1243
+#: UI/GTK2/src/mainWindow.cc:1241
 msgid "ended"
 msgstr "terminado"
 
-#: UI/GTK2/src/mainWindow.cc:1304
+#: UI/GTK2/src/mainWindow.cc:1302
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1393
+#: UI/GTK2/src/mainWindow.cc:1391
 msgid "More Like"
 msgstr "Mais identico"
 
-#: UI/GTK2/src/mainWindow.cc:1435
+#: UI/GTK2/src/mainWindow.cc:1433
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1519 UI/GTK2/src/mainWindow.cc:1613
+#: UI/GTK2/src/mainWindow.cc:1517 UI/GTK2/src/mainWindow.cc:1611
 msgid "Updated document"
 msgstr "Documento actualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1532
+#: UI/GTK2/src/mainWindow.cc:1530
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1574
+#: UI/GTK2/src/mainWindow.cc:1572
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1671
+#: UI/GTK2/src/mainWindow.cc:1669
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear o ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1675 UI/GTK2/src/mainWindow.cc:2501
-#: UI/GTK2/src/mainWindow.cc:3072
+#: UI/GTK2/src/mainWindow.cc:1673 UI/GTK2/src/mainWindow.cc:2499
+#: UI/GTK2/src/mainWindow.cc:3070
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1686
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1701
+#: UI/GTK2/src/mainWindow.cc:1699
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2029
+#: UI/GTK2/src/mainWindow.cc:2027
 #, fuzzy
 msgid "Export Results"
 msgstr "resultados"
 
-#: UI/GTK2/src/mainWindow.cc:2304
+#: UI/GTK2/src/mainWindow.cc:2302
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2308
+#: UI/GTK2/src/mainWindow.cc:2306
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2386
+#: UI/GTK2/src/mainWindow.cc:2384
 msgid "Remove this document from the index ?"
 msgstr "Remover este documento do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2405
+#: UI/GTK2/src/mainWindow.cc:2403
 msgid "Remove these documents from the index ?"
 msgstr "Remover estes documentos do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2451
+#: UI/GTK2/src/mainWindow.cc:2449
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca para o Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2452
+#: UI/GTK2/src/mainWindow.cc:2450
 msgid "Search the Web and your documents !"
 msgstr "Pesquise a Web e os seus documentos"
 
-#: UI/GTK2/src/mainWindow.cc:2497
+#: UI/GTK2/src/mainWindow.cc:2495
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2512
+#: UI/GTK2/src/mainWindow.cc:2510
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2528
+#: UI/GTK2/src/mainWindow.cc:2526
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2563
+#: UI/GTK2/src/mainWindow.cc:2561
 msgid "Couldn't remove index"
 msgstr "N?o foi possivel remover o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2768
+#: UI/GTK2/src/mainWindow.cc:2766
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2882
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa ainda n?o foi concluida. Sair agora?"
 
-#: UI/GTK2/src/mainWindow.cc:3068
+#: UI/GTK2/src/mainWindow.cc:3066
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3093
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel actualizar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3103
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3110
+#: UI/GTK2/src/mainWindow.cc:3108
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3118
+#: UI/GTK2/src/mainWindow.cc:3116
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3155
 msgid "Query is not set"
 msgstr "Consulta n?o foi actualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3166
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa seleccionado"
 
-#: UI/GTK2/src/mainWindow.cc:3255
+#: UI/GTK2/src/mainWindow.cc:3253
 msgid "Please set the Google API key first"
 msgstr "Primeiro escolha a tecla para a API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3264
+#: UI/GTK2/src/mainWindow.cc:3262
 msgid "Running query"
 msgstr "A executar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3473
+#: UI/GTK2/src/mainWindow.cc:3471
 msgid "No default application defined for type"
 msgstr "Nenhuma aplica??o associada ao tipo"
 
-#: UI/GTK2/src/mainWindow_glade.cc:127
+#: UI/GTK2/src/mainWindow_glade.cc:126
 msgid "Query:"
 msgstr "Pesquisa:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:138 UI/GTK2/src/statisticsDialog.cc:88
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:87
 msgid "History"
 msgstr "Hist?rico"
 
-#: UI/GTK2/src/mainWindow_glade.cc:143
+#: UI/GTK2/src/mainWindow_glade.cc:142
 msgid "Stored queries"
 msgstr "Consultas armazenadas"
 
-#: UI/GTK2/src/mainWindow_glade.cc:156 UI/GTK2/src/statisticsDialog.cc:51
-#: UI/GTK2/src/statisticsDialog_glade.cc:87
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr "Situa??o"
 
-#: UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow_glade.cc:176
 msgid "Search Engine"
 msgstr "Motor de busca"
 
-#: UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow_glade.cc:179
 msgid "Host Name"
 msgstr "Nome da M?quina"
 
-#: UI/GTK2/src/mainWindow_glade.cc:183
+#: UI/GTK2/src/mainWindow_glade.cc:182
 msgid "Show Extract"
 msgstr "Mostrar extracto"
 
-#: UI/GTK2/src/mainWindow_glade.cc:186
+#: UI/GTK2/src/mainWindow_glade.cc:185
 msgid "Group By"
 msgstr "Agrupar Por"
 
-#: UI/GTK2/src/mainWindow_glade.cc:192
+#: UI/GTK2/src/mainWindow_glade.cc:191
 msgid "Clear List"
 msgstr "Limpar Lista"
 
-#: UI/GTK2/src/mainWindow_glade.cc:198
+#: UI/GTK2/src/mainWindow_glade.cc:197
 msgid "Vie_w"
 msgstr "M_ostrar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:201
+#: UI/GTK2/src/mainWindow_glade.cc:200
 msgid "View Cache"
 msgstr "Ver Cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:204
+#: UI/GTK2/src/mainWindow_glade.cc:203
 msgid "More Like This"
 msgstr "Mais identicos"
 
-#: UI/GTK2/src/mainWindow_glade.cc:207
+#: UI/GTK2/src/mainWindow_glade.cc:206
 #, fuzzy
 msgid "Search This For"
 msgstr "Motores de pesquisa"
 
-#: UI/GTK2/src/mainWindow_glade.cc:210 UI/GTK2/src/mainWindow_glade.cc:246
+#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
 msgid "_Index"
 msgstr "?nd_ice"
 
-#: UI/GTK2/src/mainWindow_glade.cc:213
+#: UI/GTK2/src/mainWindow_glade.cc:212
 msgid "List Contents Of"
 msgstr "Mostrar conte?do(s) de"
 
-#: UI/GTK2/src/mainWindow_glade.cc:222
+#: UI/GTK2/src/mainWindow_glade.cc:221
 msgid "View"
 msgstr "Visualizar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Actualizar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:228
+#: UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow_glade.cc:231
-#: UI/GTK2/src/propertiesDialog_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:230
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
 msgid "Properties"
 msgstr "Propriedades"
 
-#: UI/GTK2/src/mainWindow_glade.cc:234
+#: UI/GTK2/src/mainWindow_glade.cc:233
 msgid "_About"
 msgstr "_Sobre"
 
-#: UI/GTK2/src/mainWindow_glade.cc:237
+#: UI/GTK2/src/mainWindow_glade.cc:236
 msgid "_Session"
 msgstr "_Sess?o"
 
-#: UI/GTK2/src/mainWindow_glade.cc:240
+#: UI/GTK2/src/mainWindow_glade.cc:239
 msgid "_Edit"
 msgstr "_Editar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:243
+#: UI/GTK2/src/mainWindow_glade.cc:242
 msgid "_Results"
 msgstr "_Resultados"
 
-#: UI/GTK2/src/mainWindow_glade.cc:249
+#: UI/GTK2/src/mainWindow_glade.cc:248
 msgid "_Help"
 msgstr "_Ajuda"
 
-#: UI/GTK2/src/mainWindow_glade.cc:378
+#: UI/GTK2/src/mainWindow_glade.cc:377
 msgid "Pinot"
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:312
-#: UI/GTK2/src/propertiesDialog.cc:97
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:313
 msgid "Unknown"
 msgstr "Desconhecido"
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:314
 msgid "Danish"
 msgstr "Dinamarqu?s"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:315
 msgid "Dutch"
 msgstr "Holand?s"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:316
 msgid "English"
 msgstr "Ingl?s"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:317
 msgid "Finnish"
 msgstr "Finl?ndes"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:318
 msgid "French"
 msgstr "Franc?s"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:319
 msgid "German"
 msgstr "Alem?o"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:320
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:321
 msgid "Italian"
 msgstr "Italiano"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:322
 msgid "Norwegian"
 msgstr "Noruegu?s"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:323
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:324
 msgid "Romanian"
 msgstr "Romeno"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:325
 msgid "Russian"
 msgstr "Russo"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:326
 msgid "Spanish"
 msgstr "Espanhol"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:327
 msgid "Swedish"
 msgstr "Sueco"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:328
 msgid "Turkish"
 msgstr "Turco"
 
@@ -617,108 +616,108 @@
 msgid "Directory to index"
 msgstr "Direct?rio a indexar"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:66
+#: UI/GTK2/src/prefsDialog_glade.cc:65
 msgid "Google API key:"
 msgstr "Tecla para a API Google:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
+#: UI/GTK2/src/prefsDialog_glade.cc:68
 msgid "New results:"
 msgstr "Novos resultados"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
+#: UI/GTK2/src/prefsDialog_glade.cc:69
 msgid "Queries:"
 msgstr "Pesquisas:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:71
+#: UI/GTK2/src/prefsDialog_glade.cc:70
 msgid "Enable search terms suggestion"
 msgstr "Habilitar sugest?o de termos"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
+#: UI/GTK2/src/prefsDialog_glade.cc:72
 msgid "Ignore robots.txt and Robots META tag"
 msgstr "Ignorar robots.txt e Robots META tag"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:74
+#: UI/GTK2/src/prefsDialog_glade.cc:73
 msgid "HTTP crawling:"
 msgstr "HTTP crawling:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:77
+#: UI/GTK2/src/prefsDialog_glade.cc:76
 msgid "General"
 msgstr "Geral"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
 msgstr "Conex?o directa ? Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:80
+#: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
 msgstr "Configura??o manual do proxy:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
+#: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
 msgstr "Rede"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:94
+#: UI/GTK2/src/prefsDialog_glade.cc:93
 msgid "Labels are used to classify indexed documents:"
 msgstr "T?tulos utilizados para classificar os documentos indexados:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:99 UI/GTK2/src/prefsDialog_glade.cc:119
-#: UI/GTK2/src/prefsDialog_glade.cc:135
+#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
+#: UI/GTK2/src/prefsDialog_glade.cc:134
 msgid "Add"
 msgstr "Adicionar"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:105
+#: UI/GTK2/src/prefsDialog_glade.cc:104
 msgid "Remove"
 msgstr "Remover"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113 UI/GTK2/src/propertiesDialog.cc:56
+#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
 msgid "Labels"
 msgstr "Etiquetas"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:114
+#: UI/GTK2/src/prefsDialog_glade.cc:113
 msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Direct?rios que ser?o indexados e opcionalmente ser?o monitorizadas as "
 "altera??es:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:127
+#: UI/GTK2/src/prefsDialog_glade.cc:126
 #, fuzzy
 msgid "File patterns:"
 msgstr "Extens?o do ficheiro"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
+#: UI/GTK2/src/prefsDialog_glade.cc:143
 msgid "Indexing"
 msgstr "Indexando"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:507
+#: UI/GTK2/src/prefsDialog_glade.cc:506
 msgid "Preferences"
 msgstr "Prefer?ncias"
 
-#: UI/GTK2/src/propertiesDialog.cc:110
+#: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Por documento"
 
-#: UI/GTK2/src/propertiesDialog.cc:368
+#: UI/GTK2/src/propertiesDialog.cc:365
 #, fuzzy
 msgid "Export Terms"
 msgstr "resultados"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:65
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
 msgstr "Idioma:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
 msgid "MIME type:"
 msgstr "Tipo MIME:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
 msgid "Size:"
 msgstr "Tamanho:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:68
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
 msgstr "Termos:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:78
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
 msgstr ""
 
@@ -735,12 +734,12 @@
 msgstr "Extens?o do ficheiro"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:133
+#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "Titulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:143
+#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
@@ -761,14 +760,13 @@
 msgstr "Etiqueta"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:151
+#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Data"
 
 #: UI/GTK2/src/queryDialog.cc:106
-#, fuzzy
 msgid "Time"
-msgstr "Titulo"
+msgstr "Tempo"
 
 #: UI/GTK2/src/queryDialog.cc:107
 #, fuzzy
@@ -785,165 +783,169 @@
 msgid "By date"
 msgstr "Actualizar"
 
-#: UI/GTK2/src/queryDialog_glade.cc:72
+#: UI/GTK2/src/queryDialog_glade.cc:71
 #, fuzzy
 msgid "New filter or range:"
 msgstr "Novo filtro:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:81
+#: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
 msgstr "Texto da consulta"
 
-#: UI/GTK2/src/queryDialog_glade.cc:83
+#: UI/GTK2/src/queryDialog_glade.cc:82
 msgid "Index results with label"
 msgstr "Indexar todos resultados com t?tulo"
 
-#: UI/GTK2/src/queryDialog_glade.cc:86
+#: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
 msgstr "N?mero de resultados:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:90
+#: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:192
+#: UI/GTK2/src/queryDialog_glade.cc:191
 msgid "Query parameters"
 msgstr "Par?metros da consulta"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:122
+#: UI/GTK2/src/ResultsTree.cpp:121
 msgid "Score"
 msgstr "Pontua??o"
 
-#: UI/GTK2/src/ResultsTree.cpp:180
+#: UI/GTK2/src/ResultsTree.cpp:179
 msgid "Extract"
 msgstr "Extrair"
 
-#: UI/GTK2/src/statisticsDialog.cc:73
+#: UI/GTK2/src/statisticsDialog.cc:72
 msgid "Indexes"
 msgstr "?ndices"
 
-#: UI/GTK2/src/statisticsDialog.cc:93
+#: UI/GTK2/src/statisticsDialog.cc:92
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:128 UI/GTK2/src/statisticsDialog.cc:144
+#: UI/GTK2/src/statisticsDialog.cc:127 UI/GTK2/src/statisticsDialog.cc:143
 msgid "documents"
 msgstr "documentos"
 
-#: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:128
+#: UI/GTK2/src/statisticsDialog.cc:133 UI/GTK2/src/statisticsDialog.cc:149
+#: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Erro desconhecido"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "Viewed"
 msgstr "Visualizado"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "results"
 msgstr "resultados"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:174
+#: UI/GTK2/src/statisticsDialog.cc:173
 msgid "Running under PID"
 msgstr "A correr com o PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:178
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Currently not running"
 msgstr "Presentemente n?o est? a correr"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "files"
 msgstr "ficheiros"
 
-#: UI/GTK2/src/statisticsDialog.cc:206
+#: UI/GTK2/src/statisticsDialog.cc:205
 msgid "Errors"
 msgstr "Erros"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:91
 #, fuzzy
 msgid "Index error"
 msgstr "Erro na indexa??o em"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:93
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Couldn't update document"
 msgstr "N?o foi poss?vel actualizar o documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't unindex document(s)"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't run query on search engine"
 msgstr "N?o foi poss?vel efectuar consulta no mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:101
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "N?o foi poss?vel efectuar consulta no mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:103
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "N?o foi poss?vel actualizar o documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "N?o foi poss?vel abrir o ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:109
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't create search engine"
 msgstr "N?o foi poss?vel criar mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Cannot index document type"
 msgstr "Imposs?vel indexar tipo de ficheiro"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:115
 #, fuzzy
 msgid "No downloader for this protocol"
 msgstr "N?o foi poss?vel obter fonte de transfer?ncia para o protocolo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META tag n?o s?o permitidos no ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:123
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:393
+#: UI/GTK2/src/WorkerThreads.cpp:385
+msgid "Indexing was stopped"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:398
 msgid "Can't index mail here"
 msgstr "N?o foi poss?vel indexar o mail aqui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
+#: UI/GTK2/src/WorkerThreads.cpp:419 UI/GTK2/src/WorkerThreads.cpp:670
 msgid "is already being indexed"
 msgstr "j? est? a ser indexado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:424
+#: UI/GTK2/src/WorkerThreads.cpp:429
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:937
+#: UI/GTK2/src/WorkerThreads.cpp:939
 msgid "No title"
 msgstr "Sem t?tulo"

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2007-11-06 14:08:57 UTC (rev 1092)
+++ trunk/po/sv.po	2007-11-06 14:13:25 UTC (rev 1093)
@@ -5,45 +5,45 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.80\n"
+"Project-Id-Version: pinot\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-28 22:51+0800\n"
-"PO-Revision-Date: 2007-07-29 16:48+0000\n"
+"POT-Creation-Date: 2007-11-06 22:04+0800\n"
+"PO-Revision-Date: 2007-10-27 14:02+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
-"X-Launchpad-Export-Date: 2007-09-23 13:58+0000\n"
+"X-Launchpad-Export-Date: 2007-11-05 19:38+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68
+#: UI/GTK2/src/EnginesTree.cpp:67
 msgid "Search Engines"
 msgstr "S?kmotorer"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:325
 msgid "Current User"
 msgstr "Aktuell anv?ndare"
 
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:795
-#: UI/GTK2/src/mainWindow.cc:1017 UI/GTK2/src/mainWindow.cc:1354
-#: UI/GTK2/src/mainWindow.cc:1509 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
-#: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:794
+#: UI/GTK2/src/mainWindow.cc:1015 UI/GTK2/src/mainWindow.cc:1352
+#: UI/GTK2/src/mainWindow.cc:1507 UI/GTK2/src/mainWindow.cc:1549
+#: UI/GTK2/src/mainWindow.cc:1571 UI/GTK2/src/mainWindow.cc:2175
+#: UI/GTK2/src/mainWindow.cc:2285 UI/GTK2/src/PinotSettings.cpp:311
 #: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:976
 msgid "My Web Pages"
 msgstr "Mina webbsidor"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:798
-#: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
-#: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:797
+#: UI/GTK2/src/mainWindow.cc:1009 UI/GTK2/src/mainWindow.cc:1359
+#: UI/GTK2/src/mainWindow.cc:2289 UI/GTK2/src/PinotSettings.cpp:312
 #: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:986
 msgid "My Documents"
 msgstr "Mina dokument"
 
@@ -59,69 +59,69 @@
 msgid "Index location"
 msgstr "Indexplats"
 
-#: UI/GTK2/src/indexDialog_glade.cc:65 UI/GTK2/src/queryDialog_glade.cc:68
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
 msgstr "Namn:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:66
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
 msgid "Type:"
 msgstr "Typ:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:66
 msgid "Location:"
 msgstr "Plats:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:72 UI/GTK2/src/prefsDialog_glade.cc:86
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
 msgid "Port:"
 msgstr "Port:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:79 UI/GTK2/src/prefsDialog_glade.cc:82
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
 msgstr "Adress:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:183
+#: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
 msgstr "Externt index"
 
 #. Labels
-#: UI/GTK2/src/importDialog.cc:87 UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/importDialog.cc:86 UI/GTK2/src/queryDialog.cc:123
 msgid "None"
 msgstr "Ingen"
 
-#: UI/GTK2/src/importDialog_glade.cc:68
-#: UI/GTK2/src/propertiesDialog_glade.cc:64
+#: UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
 msgid "Title:"
 msgstr "Titel:"
 
-#: UI/GTK2/src/importDialog_glade.cc:71
+#: UI/GTK2/src/importDialog_glade.cc:70
 msgid "Apply label:"
 msgstr "L?gg p? etikett:"
 
-#: UI/GTK2/src/importDialog_glade.cc:77
+#: UI/GTK2/src/importDialog_glade.cc:76
 msgid "Import"
 msgstr "Importera"
 
-#: UI/GTK2/src/importDialog_glade.cc:148 UI/GTK2/src/mainWindow_glade.cc:216
+#: UI/GTK2/src/importDialog_glade.cc:147 UI/GTK2/src/mainWindow_glade.cc:215
 msgid "Import URL"
 msgstr "Importera url"
 
-#: UI/GTK2/src/IndexPage.cpp:51
+#: UI/GTK2/src/IndexPage.cpp:50
 msgid "Show Previous"
 msgstr "Visa f?reg?ende"
 
-#: UI/GTK2/src/IndexPage.cpp:57
+#: UI/GTK2/src/IndexPage.cpp:56
 msgid "Show Next"
 msgstr "Visa n?sta"
 
-#: UI/GTK2/src/IndexPage.cpp:189
+#: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
 msgstr "Alla"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:64
+#: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
@@ -129,424 +129,417 @@
 "Det finns inget hj?lpprogram definierat f?r den h?r dokumenttypen.\n"
 "Ange kommandot f?r att ?ppna det h?r dokumentet."
 
-#: UI/GTK2/src/launcherDialog_glade.cc:67
+#: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
 msgstr "Anv?nd det h?r kommandot f?r andra dokument av samma typ."
 
-#: UI/GTK2/src/launcherDialog_glade.cc:99
+#: UI/GTK2/src/launcherDialog_glade.cc:98
 msgid "Helper application"
 msgstr "Hj?lpprogram"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:211
 msgid "Query Name"
 msgstr "Fr?genamn"
 
-#: UI/GTK2/src/mainWindow.cc:217
+#: UI/GTK2/src/mainWindow.cc:216
 msgid "Last Run"
 msgstr "Senaste k?rning"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:221
 msgid "Summary"
 msgstr "Sammandrag"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:251
 msgid "Show all search engines"
 msgstr "Visa alla s?kmotorer"
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:252
 msgid "Find documents that match the query string"
-msgstr ""
+msgstr "S?k dokument som matchar fr?gestr?ngen"
 
-#: UI/GTK2/src/mainWindow.cc:254
-#, fuzzy
+#: UI/GTK2/src/mainWindow.cc:253
 msgid "Add an index"
-msgstr "L?gg till index"
+msgstr "L?gg till ett index"
 
-#: UI/GTK2/src/mainWindow.cc:255
-#, fuzzy
+#: UI/GTK2/src/mainWindow.cc:254
 msgid "Remove an index"
-msgstr "Ta bort index"
+msgstr "Ta bort ett index"
 
-#: UI/GTK2/src/mainWindow.cc:256
-#, fuzzy
+#: UI/GTK2/src/mainWindow.cc:255
 msgid "Add a query"
-msgstr "Lade till ny fr?ga"
+msgstr "L?gg till en ny fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:257
-#, fuzzy
+#: UI/GTK2/src/mainWindow.cc:256
 msgid "Remove a query"
-msgstr "Levande fr?ga"
+msgstr "Ta bort en fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:257
 msgid "Show the query's previous results"
-msgstr ""
+msgstr "Visa fr?gans tidigare resultat"
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:258
 msgid "Find documents that match the query"
-msgstr ""
+msgstr "S?k dokument som matchar fr?gan"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:289
+#: UI/GTK2/src/mainWindow.cc:288
 msgid "Ready"
 msgstr "Redo"
 
-#: UI/GTK2/src/mainWindow.cc:349
+#: UI/GTK2/src/mainWindow.cc:348
 msgid "N/A"
 msgstr "-"
 
-#: UI/GTK2/src/mainWindow.cc:364
+#: UI/GTK2/src/mainWindow.cc:363
 msgid "Undefined"
 msgstr "Odefinierad"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:587 UI/GTK2/src/mainWindow.cc:2675
+#: UI/GTK2/src/mainWindow.cc:586 UI/GTK2/src/mainWindow.cc:2673
 msgid "Live query"
 msgstr "Levande fr?ga"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:727
+#: UI/GTK2/src/mainWindow.cc:726
 msgid "Result location is"
 msgstr "Resultatplatsen ?r"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:809
+#: UI/GTK2/src/mainWindow.cc:808
 msgid "Document location is"
 msgstr "Dokumentplatsen ?r"
 
-#: UI/GTK2/src/mainWindow.cc:993 UI/GTK2/src/mainWindow.cc:2109
+#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:2107
 msgid "Couldn't find query"
 msgstr "Kunde inte hitta fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:1008
-#, fuzzy
+#: UI/GTK2/src/mainWindow.cc:1006
 msgid "In Results"
-msgstr "resultat"
+msgstr "I resultat"
 
-#: UI/GTK2/src/mainWindow.cc:1191
+#: UI/GTK2/src/mainWindow.cc:1189
 msgid "Showing"
 msgstr "Visar"
 
-#: UI/GTK2/src/mainWindow.cc:1196
+#: UI/GTK2/src/mainWindow.cc:1194
 msgid "of"
 msgstr "av"
 
-#: UI/GTK2/src/mainWindow.cc:1201
+#: UI/GTK2/src/mainWindow.cc:1199
 msgid "documents, starting at"
 msgstr "dokument, b?rjar med"
 
-#: UI/GTK2/src/mainWindow.cc:1235
+#: UI/GTK2/src/mainWindow.cc:1233
 msgid "Query"
 msgstr "Fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:1239 UI/GTK2/src/mainWindow.cc:3268
+#: UI/GTK2/src/mainWindow.cc:1237 UI/GTK2/src/mainWindow.cc:3266
 msgid "on"
 msgstr "p?"
 
-#: UI/GTK2/src/mainWindow.cc:1243
+#: UI/GTK2/src/mainWindow.cc:1241
 msgid "ended"
 msgstr "slutade"
 
-#: UI/GTK2/src/mainWindow.cc:1304
+#: UI/GTK2/src/mainWindow.cc:1302
 msgid "Corrected"
-msgstr ""
+msgstr "R?ttad"
 
-#: UI/GTK2/src/mainWindow.cc:1393
+#: UI/GTK2/src/mainWindow.cc:1391
 msgid "More Like"
 msgstr "Kanske mer som"
 
-#: UI/GTK2/src/mainWindow.cc:1435
+#: UI/GTK2/src/mainWindow.cc:1433
 msgid "Updated label(s)"
 msgstr "Uppdaterade etikett(er)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1519 UI/GTK2/src/mainWindow.cc:1613
+#: UI/GTK2/src/mainWindow.cc:1517 UI/GTK2/src/mainWindow.cc:1611
 msgid "Updated document"
 msgstr "Uppdaterade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1532
+#: UI/GTK2/src/mainWindow.cc:1530
 msgid "Indexed"
 msgstr "Indexerade"
 
-#: UI/GTK2/src/mainWindow.cc:1574
+#: UI/GTK2/src/mainWindow.cc:1572
 msgid "Unindexed document(s)"
 msgstr "Ej indexerade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1671
+#: UI/GTK2/src/mainWindow.cc:1669
 msgid "Couldn't rename index, name"
 msgstr "Kunde inte byta namn p? index, namn"
 
-#: UI/GTK2/src/mainWindow.cc:1675 UI/GTK2/src/mainWindow.cc:2501
-#: UI/GTK2/src/mainWindow.cc:3072
+#: UI/GTK2/src/mainWindow.cc:1673 UI/GTK2/src/mainWindow.cc:2499
+#: UI/GTK2/src/mainWindow.cc:3070
 msgid "is already in use"
 msgstr "anv?nds redan"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1686
 msgid "Couldn't rename index"
 msgstr "Kunde inte byta namn p? index"
 
-#: UI/GTK2/src/mainWindow.cc:1701
+#: UI/GTK2/src/mainWindow.cc:1699
 msgid "Edited index"
 msgstr "Redigerade index"
 
-#: UI/GTK2/src/mainWindow.cc:2029
+#: UI/GTK2/src/mainWindow.cc:2027
 msgid "Export Results"
 msgstr "Exportresultat"
 
-#: UI/GTK2/src/mainWindow.cc:2304
+#: UI/GTK2/src/mainWindow.cc:2302
 msgid "Index"
 msgstr "Index"
 
-#: UI/GTK2/src/mainWindow.cc:2308
+#: UI/GTK2/src/mainWindow.cc:2306
 msgid "doesn't exist"
 msgstr "finns inte"
 
-#: UI/GTK2/src/mainWindow.cc:2386
+#: UI/GTK2/src/mainWindow.cc:2384
 msgid "Remove this document from the index ?"
 msgstr "Ta bort detta dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2405
+#: UI/GTK2/src/mainWindow.cc:2403
 msgid "Remove these documents from the index ?"
 msgstr "Ta bort dessa dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2451
+#: UI/GTK2/src/mainWindow.cc:2449
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Ett metas?kningsverktyg f?r Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2452
+#: UI/GTK2/src/mainWindow.cc:2450
 msgid "Search the Web and your documents !"
 msgstr "S?k p? webben och i dina dokument!"
 
-#: UI/GTK2/src/mainWindow.cc:2497
+#: UI/GTK2/src/mainWindow.cc:2495
 msgid "Index name"
 msgstr "Indexnamn"
 
-#: UI/GTK2/src/mainWindow.cc:2512
+#: UI/GTK2/src/mainWindow.cc:2510
 msgid "Couldn't add index"
 msgstr "Kunde inte l?gga till index"
 
-#: UI/GTK2/src/mainWindow.cc:2528
+#: UI/GTK2/src/mainWindow.cc:2526
 msgid "Added new index"
 msgstr "Lade till nytt index"
 
-#: UI/GTK2/src/mainWindow.cc:2563
+#: UI/GTK2/src/mainWindow.cc:2561
 msgid "Couldn't remove index"
 msgstr "Kunde inte ta bort index"
 
-#: UI/GTK2/src/mainWindow.cc:2768
+#: UI/GTK2/src/mainWindow.cc:2766
 msgid "No history for"
-msgstr ""
+msgstr "Ingen historik f?r"
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2882
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?tminstone en uppgift har inte f?rdigst?llts ?n. Avsluta nu?"
 
-#: UI/GTK2/src/mainWindow.cc:3068
+#: UI/GTK2/src/mainWindow.cc:3066
 msgid "Query name"
 msgstr "Fr?genamn"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3093
 msgid "Couldn't update query"
 msgstr "Kunde inte uppdatera fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3103
+#: UI/GTK2/src/mainWindow.cc:3101
 msgid "Edited query"
 msgstr "Redigerade fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3110
+#: UI/GTK2/src/mainWindow.cc:3108
 msgid "Couldn't add query"
 msgstr "Kunde inte l?gga till fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3118
+#: UI/GTK2/src/mainWindow.cc:3116
 msgid "Added new query"
 msgstr "Lade till ny fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3155
 msgid "Query is not set"
 msgstr "Fr?gan ?r inte inst?lld"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3166
 msgid "No search engine selected"
 msgstr "Ingen s?kmotor vald"
 
-#: UI/GTK2/src/mainWindow.cc:3255
+#: UI/GTK2/src/mainWindow.cc:3253
 msgid "Please set the Google API key first"
 msgstr "St?ll in Google API-nyckeln f?rst"
 
-#: UI/GTK2/src/mainWindow.cc:3264
+#: UI/GTK2/src/mainWindow.cc:3262
 msgid "Running query"
 msgstr "K?r fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3473
+#: UI/GTK2/src/mainWindow.cc:3471
 msgid "No default application defined for type"
 msgstr "Inget standardprogram definierat f?r typen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:127
+#: UI/GTK2/src/mainWindow_glade.cc:126
 msgid "Query:"
 msgstr "Fr?ga:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:138 UI/GTK2/src/statisticsDialog.cc:88
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:87
 msgid "History"
 msgstr "Historik"
 
-#: UI/GTK2/src/mainWindow_glade.cc:143
+#: UI/GTK2/src/mainWindow_glade.cc:142
 msgid "Stored queries"
 msgstr "Lagrade fr?gor"
 
-#: UI/GTK2/src/mainWindow_glade.cc:156 UI/GTK2/src/statisticsDialog.cc:51
-#: UI/GTK2/src/statisticsDialog_glade.cc:87
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr "Status"
 
-#: UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow_glade.cc:176
 msgid "Search Engine"
 msgstr "S?kmotor"
 
-#: UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow_glade.cc:179
 msgid "Host Name"
 msgstr "V?rdnamn"
 
-#: UI/GTK2/src/mainWindow_glade.cc:183
+#: UI/GTK2/src/mainWindow_glade.cc:182
 msgid "Show Extract"
 msgstr "Visa utdrag"
 
-#: UI/GTK2/src/mainWindow_glade.cc:186
+#: UI/GTK2/src/mainWindow_glade.cc:185
 msgid "Group By"
 msgstr "Gruppera efter"
 
-#: UI/GTK2/src/mainWindow_glade.cc:192
+#: UI/GTK2/src/mainWindow_glade.cc:191
 msgid "Clear List"
 msgstr "T?m lista"
 
-#: UI/GTK2/src/mainWindow_glade.cc:198
+#: UI/GTK2/src/mainWindow_glade.cc:197
 msgid "Vie_w"
 msgstr "Vi_sa"
 
-#: UI/GTK2/src/mainWindow_glade.cc:201
+#: UI/GTK2/src/mainWindow_glade.cc:200
 msgid "View Cache"
 msgstr "Visa cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:204
+#: UI/GTK2/src/mainWindow_glade.cc:203
 msgid "More Like This"
 msgstr "Mer som det h?r"
 
-#: UI/GTK2/src/mainWindow_glade.cc:207
-#, fuzzy
+#: UI/GTK2/src/mainWindow_glade.cc:206
 msgid "Search This For"
-msgstr "S?kmotorer"
+msgstr "S?k i denna efter"
 
-#: UI/GTK2/src/mainWindow_glade.cc:210 UI/GTK2/src/mainWindow_glade.cc:246
+#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
 msgid "_Index"
 msgstr "_Index"
 
-#: UI/GTK2/src/mainWindow_glade.cc:213
+#: UI/GTK2/src/mainWindow_glade.cc:212
 msgid "List Contents Of"
 msgstr "Lista inneh?ll f?r"
 
-#: UI/GTK2/src/mainWindow_glade.cc:222
+#: UI/GTK2/src/mainWindow_glade.cc:221
 msgid "View"
 msgstr "Visa"
 
-#: UI/GTK2/src/mainWindow_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Uppdatera"
 
-#: UI/GTK2/src/mainWindow_glade.cc:228
+#: UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Avindexera"
 
-#: UI/GTK2/src/mainWindow_glade.cc:231
-#: UI/GTK2/src/propertiesDialog_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:230
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
 msgid "Properties"
 msgstr "Egenskaper"
 
-#: UI/GTK2/src/mainWindow_glade.cc:234
+#: UI/GTK2/src/mainWindow_glade.cc:233
 msgid "_About"
 msgstr "_Om"
 
-#: UI/GTK2/src/mainWindow_glade.cc:237
+#: UI/GTK2/src/mainWindow_glade.cc:236
 msgid "_Session"
 msgstr "_Session"
 
-#: UI/GTK2/src/mainWindow_glade.cc:240
+#: UI/GTK2/src/mainWindow_glade.cc:239
 msgid "_Edit"
 msgstr "R_edigera"
 
-#: UI/GTK2/src/mainWindow_glade.cc:243
+#: UI/GTK2/src/mainWindow_glade.cc:242
 msgid "_Results"
 msgstr "_Resultat"
 
-#: UI/GTK2/src/mainWindow_glade.cc:249
+#: UI/GTK2/src/mainWindow_glade.cc:248
 msgid "_Help"
 msgstr "_Hj?lp"
 
-#: UI/GTK2/src/mainWindow_glade.cc:378
+#: UI/GTK2/src/mainWindow_glade.cc:377
 msgid "Pinot"
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:312
-#: UI/GTK2/src/propertiesDialog.cc:97
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:313
 msgid "Unknown"
 msgstr "Ok?nd"
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:314
 msgid "Danish"
 msgstr "Danska"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:315
 msgid "Dutch"
 msgstr "Nederl?ndska"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:316
 msgid "English"
 msgstr "Engelska"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:317
 msgid "Finnish"
 msgstr "Finska"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:318
 msgid "French"
 msgstr "Franska"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:319
 msgid "German"
 msgstr "Tyska"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:320
 msgid "Hungarian"
 msgstr "Ungerska"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:321
 msgid "Italian"
 msgstr "Italienska"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:322
 msgid "Norwegian"
 msgstr "Norska"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:323
 msgid "Portuguese"
 msgstr "Portugisiska"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:324
 msgid "Romanian"
 msgstr "Rum?nska"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:325
 msgid "Russian"
 msgstr "Ryska"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:326
 msgid "Spanish"
 msgstr "Spanska"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:327
 msgid "Swedish"
 msgstr "Svenska"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:328
 msgid "Turkish"
 msgstr "Turkiska"
 
@@ -578,7 +571,7 @@
 
 #: UI/GTK2/src/PinotSettings.cpp:358
 msgid "Me"
-msgstr ""
+msgstr "Jag"
 
 #: UI/GTK2/src/PinotSettings.cpp:1233
 msgid "Unclassified"
@@ -616,109 +609,108 @@
 msgid "Directory to index"
 msgstr "Katalog f?r index"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:66
+#: UI/GTK2/src/prefsDialog_glade.cc:65
 msgid "Google API key:"
 msgstr "Google API-nyckel:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
+#: UI/GTK2/src/prefsDialog_glade.cc:68
 msgid "New results:"
 msgstr "Nya resultat:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
+#: UI/GTK2/src/prefsDialog_glade.cc:69
 msgid "Queries:"
 msgstr "Fr?gor:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:71
+#: UI/GTK2/src/prefsDialog_glade.cc:70
 msgid "Enable search terms suggestion"
 msgstr "Aktivera s?kf?rslag"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
+#: UI/GTK2/src/prefsDialog_glade.cc:72
 msgid "Ignore robots.txt and Robots META tag"
 msgstr "Ignorera robots.txt och Robots META-tagg"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:74
+#: UI/GTK2/src/prefsDialog_glade.cc:73
 msgid "HTTP crawling:"
 msgstr "HTTP-insamling:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:77
+#: UI/GTK2/src/prefsDialog_glade.cc:76
 msgid "General"
 msgstr "Allm?nt"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
 msgstr "Direkt anslutning till Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:80
+#: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
 msgstr "Manuell proxykonfiguration:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
+#: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
 msgstr "N?tverk"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:94
+#: UI/GTK2/src/prefsDialog_glade.cc:93
 msgid "Labels are used to classify indexed documents:"
 msgstr "Etiketter som anv?nds f?r att klassificera indexerade dokument:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:99 UI/GTK2/src/prefsDialog_glade.cc:119
-#: UI/GTK2/src/prefsDialog_glade.cc:135
+#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
+#: UI/GTK2/src/prefsDialog_glade.cc:134
 msgid "Add"
 msgstr "L?gg till"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:105
+#: UI/GTK2/src/prefsDialog_glade.cc:104
 msgid "Remove"
 msgstr "Ta bort"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113 UI/GTK2/src/propertiesDialog.cc:56
+#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
 msgid "Labels"
 msgstr "Etiketter"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:114
+#: UI/GTK2/src/prefsDialog_glade.cc:113
 msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Dessa kataloger kommer att bli indexerade och ?vervakade f?r ?ndringar "
 "(valfritt):"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:127
+#: UI/GTK2/src/prefsDialog_glade.cc:126
 msgid "File patterns:"
 msgstr "Film?nster:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
+#: UI/GTK2/src/prefsDialog_glade.cc:143
 msgid "Indexing"
 msgstr "Indexering"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:507
+#: UI/GTK2/src/prefsDialog_glade.cc:506
 msgid "Preferences"
 msgstr "Inst?llningar"
 
-#: UI/GTK2/src/propertiesDialog.cc:110
+#: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Per dokument"
 
-#: UI/GTK2/src/propertiesDialog.cc:368
-#, fuzzy
+#: UI/GTK2/src/propertiesDialog.cc:365
 msgid "Export Terms"
-msgstr "Exportresultat"
+msgstr "Exportera termer"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:65
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
 msgstr "Spr?k:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
 msgid "MIME type:"
 msgstr "MIME-typ:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
 msgid "Size:"
 msgstr "Storlek:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:68
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
 msgstr "Villkor:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:78
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
-msgstr ""
+msgstr "byte"
 
 #: UI/GTK2/src/queryDialog.cc:94
 msgid "Host name"
@@ -733,12 +725,12 @@
 msgstr "Fil?ndelse"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:133
+#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "Titel"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:143
+#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "Url"
 
@@ -759,189 +751,182 @@
 msgstr "Etikett"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:151
+#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Datum"
 
 #: UI/GTK2/src/queryDialog.cc:106
-#, fuzzy
 msgid "Time"
-msgstr "Titel"
+msgstr "Tid"
 
 #: UI/GTK2/src/queryDialog.cc:107
-#, fuzzy
 msgid "Size"
-msgstr "Storlek:"
+msgstr "Storlek"
 
 #. Sort order
 #: UI/GTK2/src/queryDialog.cc:111
 msgid "By relevance"
-msgstr ""
+msgstr "Efter relevans"
 
 #: UI/GTK2/src/queryDialog.cc:112
-#, fuzzy
 msgid "By date"
-msgstr "Uppdatera"
+msgstr "Efter datum"
 
-#: UI/GTK2/src/queryDialog_glade.cc:72
-#, fuzzy
+#: UI/GTK2/src/queryDialog_glade.cc:71
 msgid "New filter or range:"
-msgstr "Nytt filter:"
+msgstr "Nytt filter eller intervall:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:81
+#: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
 msgstr "Fr?getext"
 
-#: UI/GTK2/src/queryDialog_glade.cc:83
+#: UI/GTK2/src/queryDialog_glade.cc:82
 msgid "Index results with label"
 msgstr "Indexera resultat med etikett"
 
-#: UI/GTK2/src/queryDialog_glade.cc:86
+#: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
 msgstr "Antal resultat:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:90
+#: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
-msgstr ""
+msgstr "Sorteringsordning:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:192
+#: UI/GTK2/src/queryDialog_glade.cc:191
 msgid "Query parameters"
 msgstr "Fr?geparametrar"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:122
+#: UI/GTK2/src/ResultsTree.cpp:121
 msgid "Score"
 msgstr "Betyg"
 
-#: UI/GTK2/src/ResultsTree.cpp:180
+#: UI/GTK2/src/ResultsTree.cpp:179
 msgid "Extract"
 msgstr "Utdrag"
 
-#: UI/GTK2/src/statisticsDialog.cc:73
+#: UI/GTK2/src/statisticsDialog.cc:72
 msgid "Indexes"
 msgstr "Index"
 
-#: UI/GTK2/src/statisticsDialog.cc:93
+#: UI/GTK2/src/statisticsDialog.cc:92
 msgid "Daemon"
 msgstr "Demon"
 
-#: UI/GTK2/src/statisticsDialog.cc:128 UI/GTK2/src/statisticsDialog.cc:144
+#: UI/GTK2/src/statisticsDialog.cc:127 UI/GTK2/src/statisticsDialog.cc:143
 msgid "documents"
 msgstr "dokument"
 
-#: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:128
+#: UI/GTK2/src/statisticsDialog.cc:133 UI/GTK2/src/statisticsDialog.cc:149
+#: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Ok?nt fel"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "Viewed"
 msgstr "Visad"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "results"
 msgstr "resultat"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:174
+#: UI/GTK2/src/statisticsDialog.cc:173
 msgid "Running under PID"
 msgstr "K?r under PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:178
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Currently not running"
 msgstr "K?r f?r tillf?llet inte"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "Crawled"
 msgstr "Insamlad"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "files"
 msgstr "filer"
 
-#: UI/GTK2/src/statisticsDialog.cc:206
+#: UI/GTK2/src/statisticsDialog.cc:205
 msgid "Errors"
 msgstr "Fel"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
-#, fuzzy
+#: UI/GTK2/src/WorkerThreads.cpp:91
 msgid "Index error"
-msgstr "Indexfel p?"
+msgstr "Indexfel"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
-#, fuzzy
+#: UI/GTK2/src/WorkerThreads.cpp:93
 msgid "Couldn't index document"
-msgstr "Kunde inte avindexera dokument"
+msgstr "Kunde inte indexera dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Couldn't update document"
 msgstr "Kunde inte uppdatera dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't unindex document(s)"
 msgstr "Kunde inte avindexera dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't run query on search engine"
 msgstr "Kunde inte k?ra fr?ga p? s?kmotor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
-#, fuzzy
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't get history for search engine"
-msgstr "Kunde inte k?ra fr?ga p? s?kmotor"
+msgstr "Kunde inte h?mta historik f?r s?kmotor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
-#, fuzzy
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't retrieve document"
-msgstr "Kunde inte uppdatera dokument"
+msgstr "Kunde inte h?mta dokument"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't initialize file monitor"
-msgstr ""
+msgstr "Kunde inte initiera fil?vervakare"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
-#, fuzzy
+#: UI/GTK2/src/WorkerThreads.cpp:107
 msgid "Couldn't open directory"
-msgstr "Kunde inte ?ppna index"
+msgstr "Kunde inte ?ppna katalog"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
-#, fuzzy
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Index doesn't exist"
-msgstr "finns inte"
+msgstr "Indexet finns inte"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't create search engine"
 msgstr "Kunde inte skapa s?kmotor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Cannot index document type"
 msgstr "Kan inte indexera dokumenttyp"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
-#, fuzzy
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "No downloader for this protocol"
-msgstr "Kunde inte f? protokollh?mtare"
+msgstr "Ingen h?mtare f?r detta protokoll"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META-tagg f?rbjuder indexering"
 
-#: UI/GTK2/src/WorkerThreads.cpp:123
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No monitoring handler"
+msgstr "Ingen ?vervakningshanterare"
+
+#: UI/GTK2/src/WorkerThreads.cpp:385
+msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:393
+#: UI/GTK2/src/WorkerThreads.cpp:398
 msgid "Can't index mail here"
 msgstr "Kan inte indexera post h?r"
 
-#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
+#: UI/GTK2/src/WorkerThreads.cpp:419 UI/GTK2/src/WorkerThreads.cpp:670
 msgid "is already being indexed"
 msgstr "h?ller redan p? att bli indexerad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:424
+#: UI/GTK2/src/WorkerThreads.cpp:429
 msgid "is blacklisted"
 msgstr "?r svartlistad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:937
+#: UI/GTK2/src/WorkerThreads.cpp:939
 msgid "No title"
 msgstr "Ingen titel"



From fabricecolin at mail.berlios.de  Thu Nov  8 03:46:35 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 8 Nov 2007 03:46:35 +0100
Subject: [Pinot-svn] r1094 - trunk/UI/GTK2/src
Message-ID: <200711080246.lA82kZbT016823@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-08 03:46:33 +0100 (Thu, 08 Nov 2007)
New Revision: 1094

Modified:
   trunk/UI/GTK2/src/DaemonState.cpp
   trunk/UI/GTK2/src/DaemonState.h
   trunk/UI/GTK2/src/PinotSettings.cpp
   trunk/UI/GTK2/src/PinotSettings.h
   trunk/UI/GTK2/src/WorkerThreads.cpp
   trunk/UI/GTK2/src/WorkerThreads.h
Log:
Stop indexing if the disk on which the daemon index resides is running out of
space. This is not directly configurable but the default value (10 Mb) can be
overriden by setting the environment variable PINOT_MINIMUM_DISK_SPACE.


Modified: trunk/UI/GTK2/src/DaemonState.cpp
===================================================================
--- trunk/UI/GTK2/src/DaemonState.cpp	2007-11-06 14:13:25 UTC (rev 1093)
+++ trunk/UI/GTK2/src/DaemonState.cpp	2007-11-08 02:46:33 UTC (rev 1094)
@@ -16,16 +16,24 @@
  *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
  */
 
+#include "config.h"
 #include <stdlib.h>
+#ifdef HAVE_STATFS
+#include <sys/vfs.h>
+#define CHECK_DISK_SPACE 1
+#else
+#ifdef HAVE_STATVFS
+#include <sys/statvfs.h>
+#define CHECK_DISK_SPACE 1
+#endif
+#endif
 #include <iostream>
-#include <sigc++/sigc++.h>
 #include <glibmm/ustring.h>
 #include <glibmm/stringutils.h>
 #include <glibmm/convert.h>
 #include <glibmm/thread.h>
 #include <glibmm/random.h>
 
-#include "config.h"
 #include "Url.h"
 #include "MonitorFactory.h"
 #include "CrawlHistory.h"
@@ -39,6 +47,62 @@
 using namespace std;
 using namespace Glib;
 
+static double getFSFreeSpace(const string &path)
+{
+	double availableBlocks = 0.0;
+	double blockSize = 0.0;
+	int statSuccess = -1;
+#ifdef HAVE_STATFS
+	struct statfs fsStats;
+
+	statSuccess = statfs(PinotSettings::getInstance().m_daemonIndexLocation.c_str(), &fsStats);
+	availableBlocks = (uintmax_t)fsStats.f_bavail;
+	blockSize = fsStats.f_bsize;
+#else
+#ifdef HAVE_STATVFS
+	struct statvfs vfsStats;
+
+	statSuccess = statvfs(path.c_str(), &vfsStats);
+	availableBlocks = (uintmax_t)vfsStats.f_bavail;
+	// f_frsize isn't supported by all implementations
+	blockSize = (vfsStats.f_frsize ? vfsStats.f_frsize : vfsStats.f_bsize);
+#endif
+#endif
+	// Did it fail ?
+	if ((statSuccess == -1) ||
+		(blockSize == 0.0))
+	{
+		return -1.0;
+	}
+
+	double mbRatio = blockSize / (1024 * 1024);
+	double availableMbSize = availableBlocks * mbRatio;
+#ifdef DEBUG
+	cout << "DaemonState::getFSFreeSpace: " << availableBlocks << " blocks of " << blockSize
+		<< " bytes (" << mbRatio << ")" << endl;
+#endif
+
+	return availableMbSize;
+}
+
+// A function object to stop DirectoryScanner threads with for_each()
+struct StopScannerThreadFunc
+{
+public:
+	void operator()(map<WorkerThread *, Thread *>::value_type &p)
+	{
+		string type(p.first->getType());
+
+		if (type == "DirectoryScannerThread")
+		{
+			p.first->stop();
+#ifdef DEBUG
+			cout << "StopScannerThreadFunc: stopped thread " << p.first->getId() << endl;
+#endif
+		}
+	}
+};
+
 DaemonState::DaemonState() :
 	ThreadsManager(PinotSettings::getInstance().m_daemonIndexLocation, 20),
 	m_fullScan(false),
@@ -46,6 +110,13 @@
 	m_pDiskMonitor(MonitorFactory::getMonitor()),
 	m_pDiskHandler(NULL)
 {
+#ifdef CHECK_DISK_SPACE
+	// Check every minute
+	m_timeoutConnection = Glib::signal_timeout().connect(sigc::mem_fun(*this,
+		&DaemonState::on_activity_timeout), 60000);
+	// Check right now before doing anything else
+	DaemonState::on_activity_timeout();
+#endif
 	m_onThreadEndSignal.connect(sigc::mem_fun(*this, &DaemonState::on_thread_end));
 }
 
@@ -59,10 +130,61 @@
 	// Since DaemonState is destroyed when the program exits, it's okay
 }
 
-bool DaemonState::crawlLocation(const string &locationToCrawl, bool isSource, bool doMonitoring)
+bool DaemonState::on_activity_timeout(void)
 {
+	if (m_timeoutConnection.blocked() == false)
+	{
+		double availableMbSize = getFSFreeSpace(PinotSettings::getInstance().m_daemonIndexLocation);
+		if (availableMbSize >= 0)
+		{
+#ifdef DEBUG
+			cout << "DaemonState::on_activity_timeout: " << availableMbSize << " Mb free for "
+				<< PinotSettings::getInstance().m_daemonIndexLocation << endl;
+#endif
+			if (availableMbSize < PinotSettings::getInstance().m_minimumDiskSpace)
+			{
+				// Stop indexing
+				m_stopIndexing = true;
+
+				if (m_threads.empty() == false)
+				{
+					if (write_lock_threads() == true)
+					{
+						// Stop threads
+						for_each(m_threads.begin(), m_threads.end(), StopScannerThreadFunc());
+						m_threads.clear();
+
+						unlock_threads();
+					}
+				}
+
+				cerr << "Stopped indexing because of low disk space" << endl;
+			}
+			else if (m_stopIndexing == true)
+			{
+				// Go ahead
+				m_stopIndexing = false;
+
+				cerr << "Resumed indexing following low disk space condition" << endl;
+			}
+		}
+	}
+
+	return true;
+}
+
+bool DaemonState::crawl_location(const string &locationToCrawl, bool isSource, bool doMonitoring)
+{
 	DirectoryScannerThread *pScannerThread = NULL;
 
+	if (m_stopIndexing == true)
+	{
+#ifdef DEBUG
+		cout << "DaemonState::crawl_location: stopped indexing" << endl;
+#endif
+		return true;
+	}
+
 	if (locationToCrawl.empty() == true)
 	{
 		return false;
@@ -124,7 +246,7 @@
 	if (locationIter != PinotSettings::getInstance().m_indexableLocations.end())
 	{
 		// Crawl this now
-		crawlLocation(locationIter->m_name, true, locationIter->m_monitor);
+		crawl_location(locationIter->m_name, true, locationIter->m_monitor);
 	}
 }
 
@@ -179,7 +301,7 @@
 				++locationIter;
 				if (locationIter != PinotSettings::getInstance().m_indexableLocations.end())
 				{
-					crawlLocation(locationIter->m_name, true, locationIter->m_monitor);
+					crawl_location(locationIter->m_name, true, locationIter->m_monitor);
 				}
 			}
 #ifdef DEBUG
@@ -223,6 +345,12 @@
 
 		if (pDBusThread->mustQuit() == true)
 		{
+			// Disconnect the timeout signal
+			if (m_timeoutConnection.connected() == true)
+			{
+				m_timeoutConnection.block();
+				m_timeoutConnection.disconnect();
+			}
 			m_signalQuit(0);
 		}
 	}
@@ -293,7 +421,7 @@
 	{
 		string location(docInfo.getLocation());
 
-		crawlLocation(location.substr(7), false, true);
+		crawl_location(location.substr(7), false, true);
 #ifdef DEBUG
 		cout << "DaemonState::on_message_filefound: new directory " << location.substr(7) << endl;
 #endif

Modified: trunk/UI/GTK2/src/DaemonState.h
===================================================================
--- trunk/UI/GTK2/src/DaemonState.h	2007-11-06 14:13:25 UTC (rev 1093)
+++ trunk/UI/GTK2/src/DaemonState.h	2007-11-08 02:46:33 UTC (rev 1094)
@@ -22,6 +22,7 @@
 #include <string>
 #include <queue>
 #include <set>
+#include <sigc++/sigc++.h>
 
 #include "MonitorInterface.h"
 #include "MonitorHandler.h"
@@ -49,10 +50,13 @@
 		bool m_reload;
 		MonitorInterface *m_pDiskMonitor;
 		MonitorHandler *m_pDiskHandler;
+		sigc::connection m_timeoutConnection;
 		sigc::signal1<void, int> m_signalQuit;
 
-		bool crawlLocation(const std::string &locationToCrawl, bool isSource, bool doMonitoring);
+		bool on_activity_timeout(void);
 
+		bool crawl_location(const std::string &locationToCrawl, bool isSource, bool doMonitoring);
+
 };
 
 #endif

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2007-11-06 14:13:25 UTC (rev 1093)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2007-11-08 02:46:33 UTC (rev 1094)
@@ -90,6 +90,7 @@
 bool PinotSettings::m_clientMode = false;
 
 PinotSettings::PinotSettings() :
+	m_minimumDiskSpace(10),
 	m_xPos(0),
 	m_yPos(0),
 	m_width(0),
@@ -130,6 +131,14 @@
 	m_docsIndexLocation += "/index";
 	m_daemonIndexLocation = directoryName;
 	m_daemonIndexLocation += "/daemon";
+
+	// This is not set in the configuration file
+	char *minDiskSpace = getenv("PINOT_MINIMUM_DISK_SPACE");
+	if ((minDiskSpace != NULL) &&
+		(strlen(minDiskSpace) > 0))
+	{
+		m_minimumDiskSpace = atof(minDiskSpace);
+	}
 }
 
 PinotSettings::~PinotSettings()

Modified: trunk/UI/GTK2/src/PinotSettings.h
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.h	2007-11-06 14:13:25 UTC (rev 1093)
+++ trunk/UI/GTK2/src/PinotSettings.h	2007-11-08 02:46:33 UTC (rev 1094)
@@ -187,6 +187,7 @@
 		Glib::ustring m_googleAPIKey;
 		Glib::ustring m_docsIndexLocation;
 		Glib::ustring m_daemonIndexLocation;
+		double m_minimumDiskSpace;
 		int m_xPos;
 		int m_yPos;
 		int m_width;

Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2007-11-06 14:13:25 UTC (rev 1093)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2007-11-08 02:46:33 UTC (rev 1094)
@@ -262,7 +262,8 @@
 	m_maxIndexThreads(maxIndexThreads),
 	m_nextThreadId(1),
 	m_backgroundThreadsCount(0),
-	m_numCPUs(1)
+	m_numCPUs(1),
+	m_stopIndexing(false)
 {
 	pthread_rwlock_init(&m_threadsLock, NULL);
 	pthread_rwlock_init(&m_listsLock, NULL);
@@ -376,6 +377,14 @@
 {
 	string location(docInfo.getLocation());
 
+	if (m_stopIndexing == true)
+	{
+#ifdef DEBUG
+		cout << "ThreadsManager::index_document: stopped indexing" << endl;
+#endif
+		return _("Indexing was stopped");
+	}
+
 	if (location.empty() == true)
 	{
 		// Nothing to do
@@ -576,9 +585,6 @@
 	double averageLoad[3];
 	bool addToQueue = false;
 
-#ifdef DEBUG
-	cout << "ThreadsManager::queue_index: called" << endl;
-#endif
 	if (get_threads_count() >= m_maxIndexThreads)
 	{
 #ifdef DEBUG

Modified: trunk/UI/GTK2/src/WorkerThreads.h
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.h	2007-11-06 14:13:25 UTC (rev 1093)
+++ trunk/UI/GTK2/src/WorkerThreads.h	2007-11-08 02:46:33 UTC (rev 1094)
@@ -144,6 +144,7 @@
 		long m_numCPUs;
 		sigc::signal1<void, WorkerThread *> m_onThreadEndSignal;
 		std::set<std::string> m_beingIndexed;
+		bool m_stopIndexing;
 
 		bool read_lock_threads(void);
 



From fabricecolin at mail.berlios.de  Thu Nov  8 07:15:37 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 8 Nov 2007 07:15:37 +0100
Subject: [Pinot-svn] r1095 - in trunk: Monitor UI/GTK2/src
Message-ID: <200711080615.lA86FbQ8018433@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-08 07:15:34 +0100 (Thu, 08 Nov 2007)
New Revision: 1095

Modified:
   trunk/Monitor/MonitorHandler.h
   trunk/UI/GTK2/src/OnDiskHandler.cpp
   trunk/UI/GTK2/src/OnDiskHandler.h
   trunk/UI/GTK2/src/WorkerThreads.cpp
   trunk/UI/GTK2/src/WorkerThreads.h
   trunk/UI/GTK2/src/mainWindow.cc
Log:
MonitorHandler has a directoryCreated() method. In practice, this means that
MonitorThread doesn't shortcut the handler when a directory is created, and
that OnDiskHandler can fire the "file found" signal on its own. This also
unifies indexing between monitoring and crawling, and should ensure no indexing
takes place when the new stop indexing flag is up.


Modified: trunk/Monitor/MonitorHandler.h
===================================================================
--- trunk/Monitor/MonitorHandler.h	2007-11-08 02:46:33 UTC (rev 1094)
+++ trunk/Monitor/MonitorHandler.h	2007-11-08 06:15:34 UTC (rev 1095)
@@ -44,6 +44,9 @@
 		/// Handles file creation events.
 		virtual bool fileCreated(const std::string &fileName) = 0;
 
+		/// Handles directory creation events.
+		virtual bool directoryCreated(const std::string &dirName) = 0;
+
 		/// Handles file modified events.
 		virtual bool fileModified(const std::string &fileName) = 0;
 

Modified: trunk/UI/GTK2/src/OnDiskHandler.cpp
===================================================================
--- trunk/UI/GTK2/src/OnDiskHandler.cpp	2007-11-08 02:46:33 UTC (rev 1094)
+++ trunk/UI/GTK2/src/OnDiskHandler.cpp	2007-11-08 06:15:34 UTC (rev 1095)
@@ -30,7 +30,6 @@
 #include "Url.h"
 #include "FilterWrapper.h"
 #include "XapianDatabase.h"
-#include "FileCollector.h"
 #include "PinotSettings.h"
 #include "OnDiskHandler.h"
 
@@ -47,6 +46,18 @@
 OnDiskHandler::~OnDiskHandler()
 {
 	pthread_mutex_destroy(&m_mutex);
+
+	// Disconnect the signal
+	sigc::signal3<void, const DocumentInfo&, const string&, bool>::slot_list_type slotsList = m_signalFileFound.slots();
+	sigc::signal3<void, const DocumentInfo&, const string&, bool>::slot_list_type::iterator slotIter = slotsList.begin();
+	if (slotIter != slotsList.end())
+	{
+		if (slotIter->empty() == false)
+		{
+			slotIter->block();
+			slotIter->disconnect();
+		}
+	}
 }
 
 bool OnDiskHandler::fileMoved(const string &fileName, const string &previousFileName,
@@ -158,15 +169,13 @@
 	return handledEvent;
 }
 
-bool OnDiskHandler::indexFile(const string &fileName, bool alwaysUpdate, unsigned int &sourceId)
+bool OnDiskHandler::indexFile(const string &fileName, bool isDirectory, unsigned int &sourceId)
 {
 	string location(string("file://") + fileName);
 	Url urlObj(location);
-	set<string> labels;
-	bool indexedFile = false;
+	char labelStr[64];
 
-	if ((m_index.isGood() == false) || 
-		(fileName.empty() == true))
+	if (fileName.empty() == true)
 	{
 		return false;
 	}
@@ -177,15 +186,6 @@
 		return false;
 	}
 
-	// Has this file been indexed already ?
-	unsigned int docId = m_index.hasDocument(location);
-	if ((docId > 0) &&
-		(alwaysUpdate == false))
-	{
-		// No need to update
-		return true;
-	}
-
 	// What source does it belong to ?
 	for(map<unsigned int, string>::const_iterator sourceIter = m_fileSources.begin();
 		sourceIter != m_fileSources.end(); ++sourceIter)
@@ -200,52 +200,18 @@
 
 		if (sourceIter->second.substr(0, location.length()) == location)
 		{
-			char sourceStr[64];
 
 			// That's the one
-			snprintf(sourceStr, 64, "X-SOURCE%u", sourceIter->first);
-			labels.insert(sourceStr);
+			snprintf(labelStr, 64, "X-SOURCE%u", sourceIter->first);
 			break;
 		}
 	}
 
 	DocumentInfo docInfo("", location, MIMEScanner::scanUrl(urlObj), "");
 
-	FileCollector fileCollector;
-	Document *pDoc = fileCollector.retrieveUrl(docInfo);
-	if (pDoc == NULL)
-	{
-#ifdef DEBUG
-		cout << "OnDiskHandler::indexFile: couldn't download " << location << endl;
-#endif
+	m_signalFileFound(docInfo, labelStr, isDirectory);
 
-		// The file  couldn't be downloaded but exists nonetheless !
-		pDoc = new Document(docInfo);
-	}
-
-	FilterWrapper wrapFilter(&m_index);
-
-	// Get an ad hoc tokenizer for the message
-	// Index or update ?
-	if (docId == 0)
-	{
-		indexedFile = wrapFilter.indexDocument(*pDoc, labels, docId);
-	}
-	else
-	{
-		indexedFile = wrapFilter.updateDocument(*pDoc, docId);
-	}
-
-#ifdef DEBUG
-	if (indexedFile == false)
-	{
-		cout << "OnDiskHandler::indexFile: couldn't index " << location << endl;
-	}
-#endif
-
-	delete pDoc;
-
-	return indexedFile;
+	return true;
 }
 
 bool OnDiskHandler::replaceFile(unsigned int docId, DocumentInfo &docInfo)
@@ -288,16 +254,16 @@
 			// Is this an indexable location ?
 			if (directories.find(sourceIter->second.substr(7)) == directories.end())
 			{
-				char sourceStr[64];
+				char labelStr[64];
 
-				snprintf(sourceStr, 64, "X-SOURCE%u", sourceId);
+				snprintf(labelStr, 64, "X-SOURCE%u", sourceId);
 
 #ifdef DEBUG
 				cout << "OnDiskHandler::initialize: " << sourceIter->second
 					<< ", source " << sourceId << " was removed" << endl;
 #endif
 				// All documents with this label will be unindexed
-				if (m_index.unindexDocuments(sourceStr, IndexInterface::BY_LABEL) == true)
+				if (m_index.unindexDocuments(labelStr, IndexInterface::BY_LABEL) == true)
 				{
 					// Delete the source itself and all its items
 					m_history.deleteSource(sourceId);
@@ -345,6 +311,22 @@
 	return handledEvent;
 }
 
+bool OnDiskHandler::directoryCreated(const string &dirName)
+{
+	unsigned int sourceId;
+	bool handledEvent = false;
+
+#ifdef DEBUG
+	cout << "OnDiskHandler::directoryCreated: " << dirName << endl;
+#endif
+	pthread_mutex_lock(&m_mutex);
+	handledEvent = indexFile(dirName, true, sourceId);
+	// History will be set by crawling
+	pthread_mutex_unlock(&m_mutex);
+
+	return handledEvent;
+}
+
 bool OnDiskHandler::fileModified(const string &fileName)
 {
 	unsigned int sourceId;
@@ -355,7 +337,7 @@
 #endif
 	pthread_mutex_lock(&m_mutex);
 	// Update the file, or index if necessary
-	handledEvent = indexFile(fileName, true, sourceId);
+	handledEvent = indexFile(fileName, false, sourceId);
 	if (handledEvent == true)
 	{
 		m_history.updateItem("file://" + fileName, CrawlHistory::CRAWLED, time(NULL));
@@ -386,3 +368,8 @@
 	return fileDeleted(dirName, IndexInterface::BY_DIRECTORY);
 }
 
+sigc::signal3<void, const DocumentInfo&, const string&, bool>& OnDiskHandler::getFileFoundSignal(void)
+{
+	return m_signalFileFound;
+}
+

Modified: trunk/UI/GTK2/src/OnDiskHandler.h
===================================================================
--- trunk/UI/GTK2/src/OnDiskHandler.h	2007-11-08 02:46:33 UTC (rev 1094)
+++ trunk/UI/GTK2/src/OnDiskHandler.h	2007-11-08 06:15:34 UTC (rev 1095)
@@ -23,6 +23,7 @@
 #include <pthread.h>
 #include <string>
 #include <map>
+#include <sigc++/sigc++.h>
 
 #include "CrawlHistory.h"
 #include "MonitorHandler.h"
@@ -47,6 +48,9 @@
 		/// Handles file creation events.
 		virtual bool fileCreated(const std::string &fileName);
 
+		/// Handles directory creation events.
+		virtual bool directoryCreated(const std::string &dirName);
+
 		/// Handles file modified events.
 		virtual bool fileModified(const std::string &fileName);
 
@@ -64,8 +68,11 @@
 		/// Handles directory deleted events.
 		virtual bool directoryDeleted(const std::string &dirName);
 
+		sigc::signal3<void, const DocumentInfo&, const std::string&, bool>& getFileFoundSignal(void);
+
 	protected:
 		pthread_mutex_t m_mutex;
+		sigc::signal3<void, const DocumentInfo&, const std::string&, bool> m_signalFileFound;
 		std::map<unsigned int, std::string> m_fileSources;
 		CrawlHistory m_history;
 		XapianIndex m_index;
@@ -76,7 +83,7 @@
 
 		bool fileDeleted(const std::string &fileName, IndexInterface::NameType type);
 
-		bool indexFile(const std::string &fileName, bool alwaysUpdate, unsigned int &sourceId);
+		bool indexFile(const std::string &fileName, bool isDirectory, unsigned int &sourceId);
 
 		bool replaceFile(unsigned int docId, DocumentInfo &docInfo);
 

Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2007-11-08 02:46:33 UTC (rev 1094)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2007-11-08 06:15:34 UTC (rev 1095)
@@ -1895,28 +1895,12 @@
 
 bool MonitorThread::stop(void)
 {
-	// Disconnect the signal
-	sigc::signal3<void, const DocumentInfo&, const std::string&, bool>::slot_list_type slotsList = m_signalDirectoryFound.slots();
-	sigc::signal3<void, const DocumentInfo&, const std::string&, bool>::slot_list_type::iterator slotIter = slotsList.begin();
-	if (slotIter != slotsList.end())
-	{
-		if (slotIter->empty() == false)
-		{
-			slotIter->block();
-			slotIter->disconnect();
-		}
-	}
 	m_done = true;
 	write(m_ctrlWritePipe, "X", 1);
 
 	return true;
 }
 
-sigc::signal3<void, const DocumentInfo&, const std::string&, bool>& MonitorThread::getDirectoryFoundSignal(void)
-{
-	return m_signalDirectoryFound;
-}
-
 void MonitorThread::processEvents(void)
 {
 	CrawlHistory history(PinotSettings::getInstance().getHistoryDatabaseName());
@@ -1980,10 +1964,7 @@
 			}
 			else
 			{
-				DocumentInfo docInfo("", string("file://") + event.m_location, "", "");
-
-				// Report this directory so that it is crawled
-				m_signalDirectoryFound(docInfo, "", true);
+				m_pHandler->directoryCreated(event.m_location);
 			}
 		}
 		else if (event.m_type == MonitorEvent::WRITE_CLOSED)

Modified: trunk/UI/GTK2/src/WorkerThreads.h
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.h	2007-11-08 02:46:33 UTC (rev 1094)
+++ trunk/UI/GTK2/src/WorkerThreads.h	2007-11-08 06:15:34 UTC (rev 1095)
@@ -491,15 +491,12 @@
 
 		virtual bool stop(void);
 
-		sigc::signal3<void, const DocumentInfo&, const std::string&, bool>& getDirectoryFoundSignal(void);
-
 	protected:
 		int m_ctrlReadPipe;
 		int m_ctrlWritePipe;
 		MonitorInterface *m_pMonitor;
 		MonitorHandler *m_pHandler;
 		bool m_checkHistory;
-		sigc::signal3<void, const DocumentInfo&, const std::string&, bool> m_signalDirectoryFound;
 
 		void processEvents(void);
 		virtual void doWork(void);

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2007-11-08 02:46:33 UTC (rev 1094)
+++ trunk/UI/GTK2/src/mainWindow.cc	2007-11-08 06:15:34 UTC (rev 1095)
@@ -88,6 +88,13 @@
 			return true; 
 		}
 
+		/// Handles directory creation events.
+		virtual bool directoryCreated(const std::string &dirName)
+		{
+			// Nothing to do here
+			return true; 
+		}
+
 		/// Handles file modified events.
 		virtual bool fileModified(const std::string &fileName)
 		{



From fabricecolin at mail.berlios.de  Thu Nov  8 07:21:35 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 8 Nov 2007 07:21:35 +0100
Subject: [Pinot-svn] r1096 - trunk/UI/GTK2/src
Message-ID: <200711080621.lA86LZ18008618@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-08 07:21:35 +0100 (Thu, 08 Nov 2007)
New Revision: 1096

Modified:
   trunk/UI/GTK2/src/DaemonState.cpp
Log:
FileFoundSignal is on OnDiskHandler now.


Modified: trunk/UI/GTK2/src/DaemonState.cpp
===================================================================
--- trunk/UI/GTK2/src/DaemonState.cpp	2007-11-08 06:15:34 UTC (rev 1095)
+++ trunk/UI/GTK2/src/DaemonState.cpp	2007-11-08 06:21:35 UTC (rev 1096)
@@ -236,10 +236,11 @@
 	// Fire up the disk monitor thread
 	if (m_pDiskHandler == NULL)
 	{
-		m_pDiskHandler = new OnDiskHandler();
+		OnDiskHandler *pDiskHandler = new OnDiskHandler();
+		pDiskHandler->getFileFoundSignal().connect(sigc::mem_fun(*this, &DaemonState::on_message_filefound));
+		m_pDiskHandler = pDiskHandler;
 	}
 	MonitorThread *pDiskMonitorThread = new MonitorThread(m_pDiskMonitor, m_pDiskHandler);
-	pDiskMonitorThread->getDirectoryFoundSignal().connect(sigc::mem_fun(*this, &DaemonState::on_message_filefound));
 	start_thread(pDiskMonitorThread, true);
 
 	set<PinotSettings::IndexableLocation>::const_iterator locationIter = PinotSettings::getInstance().m_indexableLocations.begin();



From fabricecolin at mail.berlios.de  Thu Nov  8 07:25:25 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 8 Nov 2007 07:25:25 +0100
Subject: [Pinot-svn] r1097 - trunk
Message-ID: <200711080625.lA86PP8G010359@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-08 07:25:25 +0100 (Thu, 08 Nov 2007)
New Revision: 1097

Modified:
   trunk/configure.in
Log:
Check for stavfs(2) and statfs(2).


Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2007-11-08 06:21:35 UTC (rev 1096)
+++ trunk/configure.in	2007-11-08 06:25:25 UTC (rev 1097)
@@ -312,6 +312,8 @@
 AC_CHECK_FUNCS(socketpair)
 AC_CHECK_FUNCS(fork)
 AC_CHECK_FUNCS(setrlimit)
+AC_CHECK_FUNCS(statvfs)
+AC_CHECK_FUNCS(statfs)
 
 AC_OUTPUT( pinot.spec UI/GTK2/src/de.berlios.Pinot.service Makefile \
 	Utils/Makefile Tokenize/Makefile SQL/Makefile po/Makefile.in Collect/Makefile )



From fabricecolin at mail.berlios.de  Sun Nov 11 08:03:01 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sun, 11 Nov 2007 08:03:01 +0100
Subject: [Pinot-svn] r1098 - in trunk: . Collect Index Monitor SQL Search
	Search/Google Tokenize UI/GTK2/src Utils
Message-ID: <200711110703.lAB731Wa015495@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-11 08:03:00 +0100 (Sun, 11 Nov 2007)
New Revision: 1098

Modified:
   trunk/Collect/Makefile.am
   trunk/Index/Makefile.am
   trunk/Makefile.am
   trunk/Monitor/Makefile.am
   trunk/SQL/Makefile.am
   trunk/Search/Google/Makefile.am
   trunk/Search/Makefile.am
   trunk/Tokenize/FilterUtils.cpp
   trunk/Tokenize/FilterUtils.h
   trunk/Tokenize/Makefile.am
   trunk/UI/GTK2/src/Makefile.am
   trunk/Utils/Makefile.am
Log:
Patches from Gabriel C to build from any directory.


Modified: trunk/Collect/Makefile.am
===================================================================
--- trunk/Collect/Makefile.am	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/Collect/Makefile.am	2007-11-11 07:03:00 UTC (rev 1098)
@@ -17,6 +17,10 @@
 	FileCollector.cpp \
 	MboxCollector.cpp
 
-AM_CXXFLAGS = -I$(srcdir)/../Utils -I$(srcdir)/../Tokenize -I$(srcdir)/../Tokenize/filters \
-	@INDEX_CFLAGS@ @XML_CFLAGS@ @HTTP_CFLAGS@ @GMIME_CFLAGS@ @GLIBMM_CFLAGS@
+libCollect_la_CXXFLAGS = \
+	-I$(top_srcdir)/Utils \
+	-I$(top_srcdir)/Tokenize \
+	-I$(top_srcdir)/Tokenize/filters \
+	@INDEX_CFLAGS@ @XML_CFLAGS@ @HTTP_CFLAGS@ \
+	@GMIME_CFLAGS@ @GLIBMM_CFLAGS@
 

Modified: trunk/Index/Makefile.am
===================================================================
--- trunk/Index/Makefile.am	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/Index/Makefile.am	2007-11-11 07:03:00 UTC (rev 1098)
@@ -23,24 +23,33 @@
 
 bin_PROGRAMS = pinot-index pinot-label
 
-pinot_index_LDADD = -L../Utils -L../Tokenize -L../Collect \
+pinot_index_LDADD = \
+	-L$(top_builddir)/Utils \
+	-L$(top_builddir)/Tokenize \
+	-L$(top_builddir)/Collect \
 	-lIndex -lCollect -lTokenize -lBasicUtils -lUtils \
-	@GLIBMM_LIBS@ @INDEX_LIBS@ @DBUS_LIBS@ @XML_LIBS@ @GMIME_LIBS@ @HTTP_LIBS@ @MISC_LIBS@
+	@GLIBMM_LIBS@ @INDEX_LIBS@ @DBUS_LIBS@ @XML_LIBS@ \
+	@GMIME_LIBS@ @HTTP_LIBS@ @MISC_LIBS@
 
-pinot_index_SOURCES = \
-	pinot-index.cpp
+pinot_index_SOURCES = pinot-index.cpp
 
 pinot_index_DEPENDENCIES = libIndex.la
 
-pinot_label_LDADD = -L../Utils -L../Tokenize \
+pinot_label_LDADD = \
+	-L$(top_builddir)/Utils \
+	-L$(top_builddir)/Tokenize \
 	-lIndex -lTokenize -lBasicUtils -lUtils \
-	@GLIBMM_LIBS@ @INDEX_LIBS@ @DBUS_LIBS@ @XML_LIBS@ @GMIME_LIBS@ @MISC_LIBS@
+	@GLIBMM_LIBS@ @INDEX_LIBS@ @DBUS_LIBS@ \
+	@XML_LIBS@ @GMIME_LIBS@ @MISC_LIBS@
 
-pinot_label_SOURCES = \
-	pinot-label.cpp
+pinot_label_SOURCES = pinot-label.cpp
 
 pinot_label_DEPENDENCIES = libIndex.la
 
-AM_CXXFLAGS = -I$(srcdir)/../Utils -I$(srcdir)/../Tokenize -I$(srcdir)/../Tokenize/filters \
-	-I$(srcdir)/../Collect @HTTP_CFLAGS@ @GMIME_CFLAGS@ @XML_CFLAGS@ @DBUS_CFLAGS@ @INDEX_CFLAGS@
+AM_CXXFLAGS = \
+	-I$(top_srcdir)/Utils \
+	-I$(top_srcdir)/Tokenize \
+	-I$(top_srcdir)/Tokenize/filters \
+	-I$(top_srcdir)/Collect \
+	@HTTP_CFLAGS@ @GMIME_CFLAGS@ @XML_CFLAGS@ @DBUS_CFLAGS@ @INDEX_CFLAGS@
 

Modified: trunk/Makefile.am
===================================================================
--- trunk/Makefile.am	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/Makefile.am	2007-11-11 07:03:00 UTC (rev 1098)
@@ -1,7 +1,8 @@
 
 SUBDIRS = po Utils Tokenize SQL Collect Index @SOAP_SUBDIRS@ Search Monitor UI/GTK2/src
 
-EXTRA_DIST = AUTHORS ChangeLog ChangeLog-dijon FAQ NEWS README TODO mkinstalldirs \
+# TODO: Fix that when cleaning up for distcheck! - crazy -
+EXTRA_DIST = AUTHORS ChangeLog ChangeLog-dijon FAQ NEWS README TODO \
 	Tokenize/filters/external-filters.xml globalconfig.xml \
 	textcat_conf.txt textcat3_conf.txt \
 	pinot.desktop pinot-dbus-daemon.desktop pinot.spec \
@@ -20,39 +21,40 @@
 
 install-data-local:
 	@mkdir -p $(DESTDIR)$(sysconfdir)/pinot
-	$(INSTALL_DATA) Tokenize/filters/external-filters.xml $(DESTDIR)$(sysconfdir)/pinot/external-filters.xml
-	$(INSTALL_DATA) globalconfig.xml $(DESTDIR)$(sysconfdir)/pinot/globalconfig.xml
-	$(INSTALL_DATA) textcat_conf.txt $(DESTDIR)$(sysconfdir)/pinot/textcat_conf.txt
-	$(INSTALL_DATA) textcat3_conf.txt $(DESTDIR)$(sysconfdir)/pinot/textcat3_conf.txt
+	$(INSTALL_DATA) \
+		$(top_srcdir)/Tokenize/filters/external-filters.xml $(DESTDIR)$(sysconfdir)/pinot/external-filters.xml
+	$(INSTALL_DATA) $(top_srcdir)/globalconfig.xml $(DESTDIR)$(sysconfdir)/pinot/globalconfig.xml
+	$(INSTALL_DATA) $(top_srcdir)/textcat_conf.txt $(DESTDIR)$(sysconfdir)/pinot/textcat_conf.txt
+	$(INSTALL_DATA) $(top_srcdir)/textcat3_conf.txt $(DESTDIR)$(sysconfdir)/pinot/textcat3_conf.txt
 	@mkdir -p $(DESTDIR)$(datadir)/pinot $(DESTDIR)$(datadir)/dbus-1/services
-	$(INSTALL_DATA) UI/GTK2/xapian-powered.png $(DESTDIR)$(datadir)/pinot/xapian-powered.png
-	$(INSTALL_DATA) UI/GTK2/metase-gtk2.glade $(DESTDIR)$(datadir)/pinot/metase-gtk2.glade
-	$(INSTALL_DATA) UI/GTK2/metase-gtk2.gladep $(DESTDIR)$(datadir)/pinot/metase-gtk2.gladep
-	$(INSTALL_DATA) UI/GTK2/src/pinot-dbus-daemon.xml $(DESTDIR)$(datadir)/pinot/pinot-dbus-daemon.xml
-	$(INSTALL_DATA) UI/GTK2/src/de.berlios.Pinot.service $(DESTDIR)$(datadir)/dbus-1/services/de.berlios.Pinot.service
+	$(INSTALL_DATA) $(top_srcdir)/UI/GTK2/xapian-powered.png $(DESTDIR)$(datadir)/pinot/xapian-powered.png
+	$(INSTALL_DATA) $(top_srcdir)/UI/GTK2/metase-gtk2.glade $(DESTDIR)$(datadir)/pinot/metase-gtk2.glade
+	$(INSTALL_DATA) $(top_srcdir)/UI/GTK2/metase-gtk2.gladep $(DESTDIR)$(datadir)/pinot/metase-gtk2.gladep
+	$(INSTALL_DATA) $(top_srcdir)/UI/GTK2/src/pinot-dbus-daemon.xml $(DESTDIR)$(datadir)/pinot/pinot-dbus-daemon.xml
+	$(INSTALL_DATA) $(top_builddir)/UI/GTK2/src/de.berlios.Pinot.service $(DESTDIR)$(datadir)/dbus-1/services/de.berlios.Pinot.service
 	@mkdir -p $(DESTDIR)$(datadir)/pinot/engines
-	$(INSTALL_DATA) Search/Plugins/*.src $(DESTDIR)$(datadir)/pinot/engines/
+	$(INSTALL_DATA) $(top_srcdir)/Search/Plugins/*.src $(DESTDIR)$(datadir)/pinot/engines/
 	@mv $(DESTDIR)$(datadir)/pinot/engines/AmazonAPI.src $(DESTDIR)$(datadir)/pinot/
-	$(INSTALL_DATA) Search/Plugins/*.xml $(DESTDIR)$(datadir)/pinot/engines/
+	$(INSTALL_DATA) $(top_srcdir)/Search/Plugins/*.xml $(DESTDIR)$(datadir)/pinot/engines/
 	@mkdir -p $(DESTDIR)$(libdir)/pinot/filters
 	@rm $(DESTDIR)$(libdir)/lib*filter.a $(DESTDIR)$(libdir)/lib*filter.la
 	@mv $(DESTDIR)$(libdir)/lib*filter* $(DESTDIR)$(libdir)/pinot/filters/
 	@mkdir -p $(DESTDIR)$(datadir)/icons/hicolor/48x48/apps/
-	$(INSTALL_DATA) UI/icons/48x48/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/48x48/apps/pinot.png
+	$(INSTALL_DATA) $(top_srcdir)/UI/icons/48x48/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/48x48/apps/pinot.png
 	@mkdir -p $(DESTDIR)$(datadir)/icons/hicolor/32x32/apps/
-	$(INSTALL_DATA) UI/icons/32x32/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/32x32/apps/pinot.png
+	$(INSTALL_DATA) $(top_srcdir)/UI/icons/32x32/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/32x32/apps/pinot.png
 	@mkdir -p $(DESTDIR)$(datadir)/icons/hicolor/24x24/apps/
-	$(INSTALL_DATA) UI/icons/24x24/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/24x24/apps/pinot.png
+	$(INSTALL_DATA) $(top_srcdir)/UI/icons/24x24/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/24x24/apps/pinot.png
 	@mkdir -p $(DESTDIR)$(datadir)/icons/hicolor/22x22/apps/
-	$(INSTALL_DATA) UI/icons/22x22/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/22x22/apps/pinot.png
+	$(INSTALL_DATA) $(top_srcdir)/UI/icons/22x22/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/22x22/apps/pinot.png
 	@mkdir -p $(DESTDIR)$(datadir)/icons/hicolor/16x16/apps/
-	$(INSTALL_DATA) UI/icons/16x16/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/16x16/apps/pinot.png
+	$(INSTALL_DATA) $(top_srcdir)/UI/icons/16x16/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/16x16/apps/pinot.png
 	@mkdir -p $(DESTDIR)$(datadir)/applications
-	@desktop-file-install --vendor="" --dir=$(DESTDIR)$(datadir)/applications pinot.desktop
+	@desktop-file-install --vendor="" --dir=$(DESTDIR)$(datadir)/applications $(top_srcdir)/pinot.desktop
 	@mkdir -p $(DESTDIR)${sysconfdir}/xdg/autostart
-	@desktop-file-install --vendor="" --dir=$(DESTDIR)${sysconfdir}/xdg/autostart pinot-dbus-daemon.desktop
+	@desktop-file-install --vendor="" --dir=$(DESTDIR)${sysconfdir}/xdg/autostart $(top_srcdir)/pinot-dbus-daemon.desktop
 	@mkdir -p $(DESTDIR)$(libdir)/deskbar-applet/handlers/
-	$(INSTALL_DATA) scripts/python/pinot-live.py $(DESTDIR)$(libdir)/deskbar-applet/handlers/
+	$(INSTALL_DATA) $(top_srcdir)/scripts/python/pinot-live.py $(DESTDIR)$(libdir)/deskbar-applet/handlers/
 
 uninstall-local:
 	@rm -rf $(DESTDIR)$(sysconfdir)/pinot

Modified: trunk/Monitor/Makefile.am
===================================================================
--- trunk/Monitor/Makefile.am	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/Monitor/Makefile.am	2007-11-11 07:03:00 UTC (rev 1098)
@@ -14,14 +14,23 @@
 	MonitorEvent.cpp \
 	MonitorFactory.cpp \
 	MonitorHandler.cpp
+
 if HAVE_LINUX_INOTIFY
 libMonitor_la_SOURCES += INotifyMonitor.cpp
 endif
 
-AM_CXXFLAGS = -I$(srcdir)/../Utils -I$(srcdir)/../Tokenize -I$(srcdir)/../Tokenize/filters \
-	-I$(srcdir)/../SQL -I$(srcdir)/../Collect -I$(srcdir)/../Index -I$(srcdir)/../Search \
-	@HTTP_CFLAGS@ @XML_CFLAGS@ @INDEX_CFLAGS@ @SOAP_CFLAGS@ @GMIME_CFLAGS@ @SIGCPP_CFLAGS@
+libMonitor_la_CXXFLAGS = \
+	-I$(top_srcdir)/Utils \
+	-I$(top_srcdir)/Tokenize \
+	-I$(top_srcdir)/Tokenize/filters \
+	-I$(top_srcdir)/SQL \
+	-I$(top_srcdir)/Collect \
+	-I$(top_srcdir)/Index \
+	-I$(top_srcdir)/Search \
+	@HTTP_CFLAGS@ @XML_CFLAGS@ @INDEX_CFLAGS@ \
+	@SOAP_CFLAGS@ @GMIME_CFLAGS@ @SIGCPP_CFLAGS@
+
 if HAVE_LINUX_INOTIFY
-AM_CXXFLAGS += -DHAVE_LINUX_INOTIFY
+libMonitor_la_CXXFLAGS += -DHAVE_LINUX_INOTIFY
 endif
 

Modified: trunk/SQL/Makefile.am
===================================================================
--- trunk/SQL/Makefile.am	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/SQL/Makefile.am	2007-11-11 07:03:00 UTC (rev 1098)
@@ -16,5 +16,5 @@
 	SQLiteBase.cpp \
 	ViewHistory.cpp
 
-AM_CXXFLAGS = -I$(srcdir)/../Utils
+libSQL_la_CXXFLAGS = -I$(top_srcdir)/Utils
 

Modified: trunk/Search/Google/Makefile.am
===================================================================
--- trunk/Search/Google/Makefile.am	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/Search/Google/Makefile.am	2007-11-11 07:03:00 UTC (rev 1098)
@@ -22,8 +22,13 @@
 GAPIClientLib.cpp : GoogleSearch.h
 	soapcpp2 -n -pGAPI -I /usr/include/gsoap/import GoogleSearch.h
 
-AM_CXXFLAGS = -I$(srcdir)/../../Utils -I$(srcdir)/../../Tokenize \
-	-I$(srcdir)/../../Tokenize/filters -I$(srcdir)/../../Collect \
-	-I$(srcdir)/../../Index -I$(srcdir)/.. \
-	@HTTP_CFLAGS@ @XML_CFLAGS@ @SOAP_CFLAGS@ @INDEX_CFLAGS@ @GMIME_CFLAGS@
+libSearchGoogle_la_CXXFLAGS = \
+	-I$(top_srcdir)/Search \
+	-I$(top_srcdir)/Utils \
+	-I$(top_srcdir)/Tokenize \
+	-I$(top_srcdir)/Tokenize/filters \
+	-I$(top_srcdir)/Collect \
+	-I$(top_srcdir)/Index \
+	@HTTP_CFLAGS@ @XML_CFLAGS@ @SOAP_CFLAGS@ \
+	@INDEX_CFLAGS@ @GMIME_CFLAGS@
 

Modified: trunk/Search/Makefile.am
===================================================================
--- trunk/Search/Makefile.am	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/Search/Makefile.am	2007-11-11 07:03:00 UTC (rev 1098)
@@ -16,11 +16,11 @@
 	SOAPEnvStub.h \
 	WebEngine.h \
 	XapianEngine.h \
-	xesam/XapianQueryBuilder.h \
-	xesam/XesamParser.h \
-	xesam/XesamQLParser.h \
-	xesam/XesamQueryBuilder.h \
-	xesam/XesamULParser.h
+	$(top_srcdir)/Search/xesam/XapianQueryBuilder.h \
+	$(top_srcdir)/Search/xesam/XesamParser.h \
+	$(top_srcdir)/Search/xesam/XesamQLParser.h \
+	$(top_srcdir)/Search/xesam/XesamQueryBuilder.h \
+	$(top_srcdir)/Search/xesam/XesamULParser.h
 
 if HAVE_SOAP
 noinst_LTLIBRARIES = libSearch.la libSearchSOAP.la
@@ -39,25 +39,32 @@
 	SearchPluginProperties.cpp \
 	WebEngine.cpp \
 	XapianEngine.cpp \
-	xesam/XapianQueryBuilder.cc \
-	xesam/XesamQLParser.cc \
-	xesam/XesamQueryBuilder.cc \
-	xesam/XesamULParser.cc
+	$(top_srcdir)/Search/xesam/XapianQueryBuilder.cc \
+	$(top_srcdir)/Search/xesam/XesamQLParser.cc \
+	$(top_srcdir)/Search/xesam/XesamQueryBuilder.cc \
+	$(top_srcdir)/Search/xesam/XesamULParser.cc
+
 if HAVE_BOOST_SPIRIT
 libSearch_la_SOURCES += SherlockParser.cpp
 endif
 
 if HAVE_SOAP
-libSearchSOAP_la_SOURCES = \
-	SOAPEnvC.cpp \
-	SOAPEnvNS.cpp
+libSearchSOAP_la_SOURCES = SOAPEnvC.cpp SOAPEnvNS.cpp
 endif
 
 bin_PROGRAMS = pinot-search
 
-pinot_search_LDADD = -L../Utils -L../Tokenize -L../Collect -L../Index -LGoogle -Lxesam \
-	@SEARCH_LIBS@ -lIndex -lCollect -lTokenize -lUtils -lBasicUtils \
-	@GLIBMM_LIBS@ @INDEX_LIBS@ @SOAP_LIBS@ @XML_LIBS@ @GMIME_LIBS@ @HTTP_LIBS@ @MISC_LIBS@
+pinot_search_LDADD = \
+	-L$(top_builddir)/Utils \
+	-L$(top_builddir)/Tokenize \
+	-L$(top_builddir)/Collect \
+	-L$(top_builddir)/Index \
+	-L$(top_srcdir)/Search/Google \
+	-L$(top_srcdir)/Search/xesam \
+	@SEARCH_LIBS@ -lIndex -lCollect \
+	-lTokenize -lUtils -lBasicUtils \
+	@GLIBMM_LIBS@ @INDEX_LIBS@ @SOAP_LIBS@ \
+	@XML_LIBS@ @GMIME_LIBS@ @HTTP_LIBS@ @MISC_LIBS@
 
 pinot_search_SOURCES = \
 	pinot-search.cpp
@@ -68,12 +75,22 @@
 pinot_search_DEPENDENCIES = libSearch.la
 endif
 
+if HAVE_SOAP
 SOAPEnvC.cpp : SOAPEnv.h
 	soapcpp2 -pSOAPEnv SOAPEnv.h
+endif
 
-AM_CXXFLAGS = -I$(srcdir)/../Utils -I$(srcdir)/../Tokenize -I$(srcdir)/../Tokenize/filters \
-	-I$(srcdir)/../Collect -I$(srcdir)/../Index -IGoogle -Ixesam \
-	@HTTP_CFLAGS@ @XML_CFLAGS@ @INDEX_CFLAGS@ @SOAP_CFLAGS@ @GMIME_CFLAGS@ @GLIBMM_CFLAGS@
+AM_CXXFLAGS = \
+	-I$(top_srcdir)/Utils \
+	-I$(top_srcdir)/Tokenize \
+	-I$(top_srcdir)/Tokenize/filters \
+	-I$(top_srcdir)/Collect \
+	-I$(top_srcdir)/Index \
+	-I$(top_srcdir)/Search/Google \
+	-I$(top_srcdir)/Search/xesam \
+	@HTTP_CFLAGS@ @XML_CFLAGS@ \
+	@INDEX_CFLAGS@ @SOAP_CFLAGS@ @GMIME_CFLAGS@ @GLIBMM_CFLAGS@
+
 if HAVE_BOOST_SPIRIT
 AM_CXXFLAGS += -DHAVE_BOOST_SPIRIT
 endif

Modified: trunk/Tokenize/FilterUtils.cpp
===================================================================
--- trunk/Tokenize/FilterUtils.cpp	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/Tokenize/FilterUtils.cpp	2007-11-11 07:03:00 UTC (rev 1098)
@@ -17,7 +17,7 @@
  */
 
 #include <stdlib.h>
-#include <unistd.h> 
+#include <unistd.h>
 #include <iostream>
 #include <set>
 
@@ -25,7 +25,7 @@
 #include "StringManip.h"
 #include "TimeConverter.h"
 #include "Url.h"
-#include "FilterFactory.h"
+#include "filters/FilterFactory.h"
 #include "FilterUtils.h"
 
 #define UNSUPPORTED_TYPE "X-Unsupported"

Modified: trunk/Tokenize/FilterUtils.h
===================================================================
--- trunk/Tokenize/FilterUtils.h	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/Tokenize/FilterUtils.h	2007-11-11 07:03:00 UTC (rev 1098)
@@ -23,7 +23,7 @@
 #include <map>
 
 #include "Document.h"
-#include "Filter.h"
+#include "filters/Filter.h"
 
 /// Utility functions for dealing with Dijon filters.
 class FilterUtils

Modified: trunk/Tokenize/Makefile.am
===================================================================
--- trunk/Tokenize/Makefile.am	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/Tokenize/Makefile.am	2007-11-11 07:03:00 UTC (rev 1098)
@@ -3,38 +3,38 @@
 noinst_HEADERS = \
 	FilterUtils.h \
 	Tokenizer.h \
-	filters/ExternalFilter.h \
-	filters/Filter.h \
-	filters/FilterFactory.h \
-	filters/GMimeMboxFilter.h \
-	filters/HtmlFilter.h \
-	filters/TagLibMusicFilter.h \
-	filters/TextFilter.h \
-	filters/XmlFilter.h
+	$(top_srcdir)/Tokenize/filters/ExternalFilter.h \
+	$(top_srcdir)/Tokenize/filters/Filter.h \
+	$(top_srcdir)/Tokenize/filters/FilterFactory.h \
+	$(top_srcdir)/Tokenize/filters/GMimeMboxFilter.h \
+	$(top_srcdir)/Tokenize/filters/HtmlFilter.h \
+	$(top_srcdir)/Tokenize/filters/TagLibMusicFilter.h \
+	$(top_srcdir)/Tokenize/filters/TextFilter.h \
+	$(top_srcdir)/Tokenize/filters/XmlFilter.h
 
 lib_LTLIBRARIES = libexternalfilter.la libmboxfilter.la libtaglibfilter.la
 
 noinst_LTLIBRARIES = libTokenize.la
 
 libexternalfilter_la_SOURCES = \
-	filters/Filter.cc \
-	filters/ExternalFilter.cc
+	$(top_srcdir)/Tokenize/filters/Filter.cc \
+	$(top_srcdir)/Tokenize/filters/ExternalFilter.cc
 
 libexternalfilter_la_LDFLAGS = -module @XML_CFLAGS@
 
 libexternalfilter_la_LIBADD =
 
 libmboxfilter_la_SOURCES = \
-	filters/Filter.cc \
-	filters/GMimeMboxFilter.cc
+	$(top_srcdir)/Tokenize/filters/Filter.cc \
+	$(top_srcdir)/Tokenize/filters/GMimeMboxFilter.cc
 
 libmboxfilter_la_LDFLAGS = -module @GMIME_CFLAGS@
 
 libmboxfilter_la_LIBADD =
 
 libtaglibfilter_la_SOURCES = \
-	filters/Filter.cc \
-	filters/TagLibMusicFilter.cc
+	$(top_srcdir)/Tokenize/filters/Filter.cc \
+	$(top_srcdir)/Tokenize/filters/TagLibMusicFilter.cc
 
 libtaglibfilter_la_LDFLAGS = -module @TAGLIB_LIBS@
 
@@ -43,13 +43,15 @@
 libTokenize_la_SOURCES = \
 	FilterUtils.cpp \
 	Tokenizer.cpp \
-	filters/Filter.cc \
-	filters/FilterFactory.cc \
-	filters/HtmlFilter.cc \
-	filters/TextFilter.cc \
-	filters/XmlFilter.cc
+	$(top_srcdir)/Tokenize/filters/Filter.cc \
+	$(top_srcdir)/Tokenize/filters/FilterFactory.cc \
+	$(top_srcdir)/Tokenize/filters/HtmlFilter.cc \
+	$(top_srcdir)/Tokenize/filters/TextFilter.cc \
+	$(top_srcdir)/Tokenize/filters/XmlFilter.cc
 
-AM_CXXFLAGS = -fPIC -I$(srcdir)/../Utils -Ifilters \
+AM_CXXFLAGS = \
+	-fPIC \
+	-I$(top_srcdir)/Utils -Ifilters \
 	@GMIME_CFLAGS@ @XML_CFLAGS@ @TAGLIB_CFLAGS@ -D_DYNAMIC_DIJON_FILTERS \
 	-D_DIJON_EXTERNALFILTER_CONFFILE=\"$(sysconfdir)/pinot/external-filters.xml\"
 

Modified: trunk/UI/GTK2/src/Makefile.am
===================================================================
--- trunk/UI/GTK2/src/Makefile.am	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/UI/GTK2/src/Makefile.am	2007-11-11 07:03:00 UTC (rev 1098)
@@ -66,18 +66,44 @@
 
 bin_PROGRAMS = pinot pinot-dbus-daemon
 
-AM_CXXFLAGS = -I$(top_srcdir)/Utils -I$(top_srcdir)/Tokenize -I$(top_srcdir)/Tokenize/filters \
-	-I$(top_srcdir)/SQL -I$(top_srcdir)/Monitor -I$(top_srcdir)/Collect \
-	-I$(top_srcdir)/Index -I$(top_srcdir)/Search -I$(top_srcdir)/Search/Google \
-	@SQL_CFLAGS@ @HTTP_CFLAGS@ @GMIME_CFLAGS@ @XML_CFLAGS@ @SOAP_CFLAGS@ @DBUS_CFLAGS@ @INDEX_CFLAGS@ @UI_CFLAGS@
+AM_CXXFLAGS = \
+	-I$(top_srcdir)/Utils \
+	-I$(top_srcdir)/Tokenize \
+	-I$(top_srcdir)/Tokenize/filters \
+	-I$(top_srcdir)/SQL \
+	-I$(top_srcdir)/Monitor \
+	-I$(top_srcdir)/Collect \
+	-I$(top_srcdir)/Index \
+	-I$(top_srcdir)/Search \
+	-I$(top_srcdir)/Search/Google \
+	@SQL_CFLAGS@ @HTTP_CFLAGS@ @GMIME_CFLAGS@ @XML_CFLAGS@ \
+	@SOAP_CFLAGS@ @DBUS_CFLAGS@ @INDEX_CFLAGS@ @UI_CFLAGS@
 
-pinot_LDADD = -L$(top_srcdir)/Utils -L$(top_srcdir)/Tokenize -L$(top_srcdir)/SQL -L$(top_srcdir)/Monitor \
-	-L$(top_srcdir)/Collect -L$(top_srcdir)/Index -L$(top_srcdir)/Search -L$(top_srcdir)/Search/Google \
-	@SEARCH_LIBS@ -lIndex -lMonitor -lCollect -lSQL -lTokenize -lUtils -lBasicUtils \
-	@LIBS@ @UI_LIBS@ @INDEX_LIBS@ @DBUS_LIBS@ @SOAP_LIBS@ @XML_LIBS@ @GMIME_LIBS@ @HTTP_LIBS@ @SQL_LIBS@ @MISC_LIBS@
+pinot_LDADD = \
+	-L$(top_builddir)/Utils \
+	-L$(top_builddir)/Tokenize \
+	-L$(top_builddir)/SQL \
+	-L$(top_builddir)/Monitor \
+	-L$(top_builddir)/Collect \
+	-L$(top_builddir)/Index \
+	-L$(top_builddir)/Search \
+	-L$(top_srcdir)/Search/Google \
+	@SEARCH_LIBS@ -lIndex -lMonitor -lCollect -lSQL \
+	-lTokenize -lUtils -lBasicUtils @LIBS@ @UI_LIBS@ \
+	@INDEX_LIBS@ @DBUS_LIBS@ @SOAP_LIBS@ @XML_LIBS@ \
+	@GMIME_LIBS@ @HTTP_LIBS@ @SQL_LIBS@ @MISC_LIBS@
 
-pinot_dbus_daemon_LDADD = -L$(top_srcdir)/Utils -L$(top_srcdir)/Tokenize -L$(top_srcdir)/SQL -L$(top_srcdir)/Monitor \
-	-L$(top_srcdir)/Collect -L$(top_srcdir)/Index -L$(top_srcdir)/Search -L$(top_srcdir)/Search/Google \
-	@SEARCH_LIBS@ -lIndex -lMonitor -lCollect -lSQL -lTokenize -lUtils -lBasicUtils \
-	@LIBS@ @GLIBMM_LIBS@ @INDEX_LIBS@ @DBUS_LIBS@ @SOAP_LIBS@ @XML_LIBS@ @GMIME_LIBS@ @HTTP_LIBS@ @SQL_LIBS@ @MISC_LIBS@
+pinot_dbus_daemon_LDADD = \
+	-L$(top_builddir)/Utils \
+	-L$(top_builddir)/Tokenize \
+	-L$(top_builddir)/SQL \
+	-L$(top_builddir)/Monitor \
+	-L$(top_builddir)/Collect \
+	-L$(top_builddir)/Index \
+	-L$(top_builddir)/Search \
+	-L$(top_srcdir)/Search/Google \
+	@SEARCH_LIBS@ -lIndex -lMonitor -lCollect -lSQL \
+	-lTokenize -lUtils -lBasicUtils @LIBS@ @GLIBMM_LIBS@ \
+	@INDEX_LIBS@ @DBUS_LIBS@ @SOAP_LIBS@ @XML_LIBS@ @GMIME_LIBS@ \
+	@HTTP_LIBS@ @SQL_LIBS@ @MISC_LIBS@
 

Modified: trunk/Utils/Makefile.am
===================================================================
--- trunk/Utils/Makefile.am	2007-11-08 06:25:25 UTC (rev 1097)
+++ trunk/Utils/Makefile.am	2007-11-11 07:03:00 UTC (rev 1098)
@@ -11,13 +11,13 @@
 	TimeConverter.h \
 	Timer.h \
 	Url.h \
-	xdgmime/xdgmimealias.h \
-	xdgmime/xdgmimecache.h \
-	xdgmime/xdgmimeglob.h \
-	xdgmime/xdgmime.h \
-	xdgmime/xdgmimeint.h \
-	xdgmime/xdgmimemagic.h \
-	xdgmime/xdgmimeparent.h
+	$(top_srcdir)/Utils/xdgmime/xdgmimealias.h \
+	$(top_srcdir)/Utils/xdgmime/xdgmimecache.h \
+	$(top_srcdir)/Utils/xdgmime/xdgmimeglob.h \
+	$(top_srcdir)/Utils/xdgmime/xdgmime.h \
+	$(top_srcdir)/Utils/xdgmime/xdgmimeint.h \
+	$(top_srcdir)/Utils/xdgmime/xdgmimemagic.h \
+	$(top_srcdir)/Utils/xdgmime/xdgmimeparent.h
 
 noinst_LTLIBRARIES = libBasicUtils.la libUtils.la
 
@@ -33,13 +33,13 @@
 	Languages.cpp \
 	MIMEScanner.cpp \
 	Timer.cpp \
-	xdgmime/xdgmimealias.c \
-	xdgmime/xdgmime.c \
-	xdgmime/xdgmimecache.c \
-	xdgmime/xdgmimeglob.c \
-	xdgmime/xdgmimeint.c \
-	xdgmime/xdgmimemagic.c \
-	xdgmime/xdgmimeparent.c
+	$(top_srcdir)/Utils/xdgmime/xdgmimealias.c \
+	$(top_srcdir)/Utils/xdgmime/xdgmime.c \
+	$(top_srcdir)/Utils/xdgmime/xdgmimecache.c \
+	$(top_srcdir)/Utils/xdgmime/xdgmimeglob.c \
+	$(top_srcdir)/Utils/xdgmime/xdgmimeint.c \
+	$(top_srcdir)/Utils/xdgmime/xdgmimemagic.c \
+	$(top_srcdir)/Utils/xdgmime/xdgmimeparent.c
 
 AM_CFLAGS = -fPIC -DXDG_PREFIX=pinot_xdg
 AM_CXXFLAGS = -fPIC @HTTP_CFLAGS@ @INDEX_CFLAGS@ @GMIME_CFLAGS@ @GLIBMM_CFLAGS@ -DXDG_PREFIX=pinot_xdg



From fabricecolin at mail.berlios.de  Mon Nov 12 13:32:50 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Mon, 12 Nov 2007 13:32:50 +0100
Subject: [Pinot-svn] r1099 - in trunk: Monitor UI/GTK2/src
Message-ID: <200711121232.lACCWowN005903@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-12 13:32:47 +0100 (Mon, 12 Nov 2007)
New Revision: 1099

Modified:
   trunk/Monitor/MonitorHandler.cpp
   trunk/Monitor/MonitorHandler.h
   trunk/UI/GTK2/src/DaemonState.cpp
   trunk/UI/GTK2/src/DaemonState.h
   trunk/UI/GTK2/src/mainWindow.cc
Log:
MonitorHandler's methods have a default, empty implementation.
DaemonState monitors the battery state file found under /proc/acpi/ac_adapter
and stops crawling when the system goes on battery. Indexing is not affected,
ie files reported by the crawler before it stops or the file monitor will be
indexed as per normal.
The ReloadHandler in mainWindow needs less hand-holding.


Modified: trunk/Monitor/MonitorHandler.cpp
===================================================================
--- trunk/Monitor/MonitorHandler.cpp	2007-11-11 07:03:00 UTC (rev 1098)
+++ trunk/Monitor/MonitorHandler.cpp	2007-11-12 12:32:47 UTC (rev 1099)
@@ -28,7 +28,58 @@
 {
 }
 
+void MonitorHandler::initialize(void)
+{
+}
+
+void MonitorHandler::flushIndex(void)
+{
+}
+
+bool MonitorHandler::fileExists(const string &fileName)
+{
+	return false;
+}
+
+bool MonitorHandler::fileCreated(const string &fileName)
+{
+	return false;
+}
+
+bool MonitorHandler::directoryCreated(const string &dirName)
+{
+	return false;
+}
+
+bool MonitorHandler::fileModified(const string &fileName)
+{
+	return false;
+}
+
+bool MonitorHandler::fileMoved(const string &fileName,
+	const string &previousFileName)
+{
+	return false;
+}
+
+bool MonitorHandler::directoryMoved(const string &dirName,
+	const string &previousDirName)
+{
+	return false;
+}
+
+bool MonitorHandler::fileDeleted(const string &fileName)
+{
+	return false;
+}
+
+bool MonitorHandler::directoryDeleted(const string &dirName)
+{
+	return false;
+}
+
 const set<string> &MonitorHandler::getFileNames(void) const
 {
 	return m_fileNames;
 }
+

Modified: trunk/Monitor/MonitorHandler.h
===================================================================
--- trunk/Monitor/MonitorHandler.h	2007-11-11 07:03:00 UTC (rev 1098)
+++ trunk/Monitor/MonitorHandler.h	2007-11-12 12:32:47 UTC (rev 1099)
@@ -33,36 +33,36 @@
 		virtual ~MonitorHandler();
 
 		/// Initializes things before starting monitoring.
-		virtual void initialize(void) = 0;
+		virtual void initialize(void);
 
 		/// Handles flushing the index.
-		virtual void flushIndex(void) = 0;
+		virtual void flushIndex(void);
 
 		/// Handles file existence events.
-		virtual bool fileExists(const std::string &fileName) = 0;
+		virtual bool fileExists(const std::string &fileName);
 
 		/// Handles file creation events.
-		virtual bool fileCreated(const std::string &fileName) = 0;
+		virtual bool fileCreated(const std::string &fileName);
 
 		/// Handles directory creation events.
-		virtual bool directoryCreated(const std::string &dirName) = 0;
+		virtual bool directoryCreated(const std::string &dirName);
 
 		/// Handles file modified events.
-		virtual bool fileModified(const std::string &fileName) = 0;
+		virtual bool fileModified(const std::string &fileName);
 
 		/// Handles file moved events.
 		virtual bool fileMoved(const std::string &fileName,
-			const std::string &previousFileName) = 0;
+			const std::string &previousFileName);
 
 		/// Handles directory moved events.
 		virtual bool directoryMoved(const std::string &dirName,
-			const std::string &previousDirName) = 0;
+			const std::string &previousDirName);
 
 		/// Handles file deleted events.
-		virtual bool fileDeleted(const std::string &fileName) = 0;
+		virtual bool fileDeleted(const std::string &fileName);
 
 		/// Handles directory deleted events.
-		virtual bool directoryDeleted(const std::string &dirName) = 0;
+		virtual bool directoryDeleted(const std::string &dirName);
 
 		/// Returns the names of files to monitor.
 		const std::set<std::string> &getFileNames(void) const;

Modified: trunk/UI/GTK2/src/DaemonState.cpp
===================================================================
--- trunk/UI/GTK2/src/DaemonState.cpp	2007-11-11 07:03:00 UTC (rev 1098)
+++ trunk/UI/GTK2/src/DaemonState.cpp	2007-11-12 12:32:47 UTC (rev 1099)
@@ -17,6 +17,11 @@
  */
 
 #include "config.h"
+#include <strings.h>
+#include <sys/types.h>
+#include <dirent.h>
+#include <sys/stat.h>
+#include <unistd.h>
 #include <stdlib.h>
 #ifdef HAVE_STATFS
 #include <sys/vfs.h>
@@ -27,6 +32,7 @@
 #define CHECK_DISK_SPACE 1
 #endif
 #endif
+#include <fstream>
 #include <iostream>
 #include <glibmm/ustring.h>
 #include <glibmm/stringutils.h>
@@ -85,6 +91,110 @@
 	return availableMbSize;
 }
 
+class BatteryHandler : public MonitorHandler
+{
+	public:
+		BatteryHandler(DaemonState *pServer) : MonitorHandler(), m_pServer(pServer)
+		{		
+			// Scan /proc/acpi/ac_adapter for battery states, eg AC/state
+			DIR *pDir = opendir("/proc/acpi/ac_adapter");
+			if (pDir != NULL)
+			{
+				// Iterate through this directory's entries
+				struct dirent *pDirEntry = readdir(pDir);
+				while ((pDirEntry != NULL) &&
+					(m_fileNames.empty() == true))
+				{
+					char *pEntryName = pDirEntry->d_name;
+
+					// Skip . .. and dotfiles
+					if ((pEntryName != NULL) &&
+						(pEntryName[0] != '.'))
+					{
+						string subEntryName("/proc/acpi/ac_adapter/");
+						struct stat fileStat;
+
+						subEntryName += pEntryName;
+#ifdef DEBUG
+						cout << "BatteryHandler: found " << subEntryName << endl;
+#endif
+
+						// Is this a directory ?
+						int entryStatus = stat(subEntryName.c_str(), &fileStat);
+						if ((entryStatus == 0) &&
+							(S_ISDIR(fileStat.st_mode)))
+						{
+							string stateFile(subEntryName);
+
+							stateFile += "/state";
+							// Does it contain a state file ?
+							if (access(stateFile.c_str(), R_OK) == 0)
+							{
+								// Check the current state
+								fileModified(stateFile);
+								// ...and add it for monitoring
+								m_fileNames.insert(stateFile);
+#ifdef DEBUG
+								cout << "BatteryHandler: monitoring " << stateFile << endl;
+#endif
+							}
+						}
+					}
+
+					// Next entry
+					pDirEntry = readdir(pDir);
+				}
+
+				// Close the directory
+				closedir(pDir);
+			}
+		}
+		virtual ~BatteryHandler() {}
+
+		/// Handles file modified events.
+		virtual bool fileModified(const std::string &fileName)
+		{
+			ifstream stateFile;
+			string battState;
+
+			if (m_pServer == NULL)
+			{
+				return false;
+			}
+
+			// What's the new state
+			stateFile.open(fileName.c_str());
+			if (stateFile.is_open() == true)
+			{
+				stateFile >> battState;
+
+				if (strncasecmp(battState.c_str(), "off-line", 8) == 0)
+				{
+					// We are now on battery
+					m_pServer->set_flag(DaemonState::ON_BATTERY);
+					m_pServer->stop_crawling();
+				}
+				else
+				{
+					// Back on-line
+					m_pServer->reset_flag(DaemonState::ON_BATTERY);
+				}
+
+				stateFile.close();
+			}
+
+			return true;
+		}
+
+	protected:
+		DaemonState *m_pServer;
+
+	private:
+		BatteryHandler(const BatteryHandler &other);
+		BatteryHandler &operator=(const BatteryHandler &other);
+
+};
+
 // A function object to stop DirectoryScanner threads with for_each()
 struct StopScannerThreadFunc
 {
@@ -107,9 +217,13 @@
 	ThreadsManager(PinotSettings::getInstance().m_daemonIndexLocation, 20),
 	m_fullScan(false),
 	m_reload(false),
+	m_pBatteryMonitor(MonitorFactory::getMonitor()),
 	m_pDiskMonitor(MonitorFactory::getMonitor()),
-	m_pDiskHandler(NULL)
+	m_pDiskHandler(NULL),
+	m_pBatteryHandler(NULL)
 {
+	FD_ZERO(&m_flagsSet);
+
 #ifdef CHECK_DISK_SPACE
 	// Check every minute
 	m_timeoutConnection = Glib::signal_timeout().connect(sigc::mem_fun(*this,
@@ -128,6 +242,14 @@
 	}
 	// Don't delete m_pDiskHandler, threads may need it
 	// Since DaemonState is destroyed when the program exits, it's okay
+	if (m_pBatteryMonitor != NULL)
+	{
+		delete m_pBatteryMonitor;
+	}
+	if (m_pBatteryHandler != NULL)
+	{
+		delete m_pBatteryHandler;
+	}
 }
 
 bool DaemonState::on_activity_timeout(void)
@@ -145,25 +267,17 @@
 			{
 				// Stop indexing
 				m_stopIndexing = true;
+				// Stop crawling
+				set_flag(LOW_DISK_SPACE);
+				stop_crawling();
 
-				if (m_threads.empty() == false)
-				{
-					if (write_lock_threads() == true)
-					{
-						// Stop threads
-						for_each(m_threads.begin(), m_threads.end(), StopScannerThreadFunc());
-						m_threads.clear();
-
-						unlock_threads();
-					}
-				}
-
 				cerr << "Stopped indexing because of low disk space" << endl;
 			}
 			else if (m_stopIndexing == true)
 			{
 				// Go ahead
 				m_stopIndexing = false;
+				reset_flag(LOW_DISK_SPACE);
 
 				cerr << "Resumed indexing following low disk space condition" << endl;
 			}
@@ -177,10 +291,11 @@
 {
 	DirectoryScannerThread *pScannerThread = NULL;
 
-	if (m_stopIndexing == true)
+	if ((is_flag_set(LOW_DISK_SPACE) == true) ||
+		(is_flag_set(ON_BATTERY) == true))
 	{
 #ifdef DEBUG
-		cout << "DaemonState::crawl_location: stopped indexing" << endl;
+		cout << "DaemonState::crawl_location: stopped crawling" << endl;
 #endif
 		return true;
 	}
@@ -233,6 +348,23 @@
 #endif
 	}
 
+	// Monitor battery state
+	if (m_pBatteryHandler == NULL)
+	{
+		m_pBatteryHandler = new BatteryHandler(this);
+	}
+	if (m_pBatteryHandler->getFileNames().empty() == false)
+	{
+		MonitorThread *pBatteryMonitorThread = new MonitorThread(m_pBatteryMonitor, m_pBatteryHandler);
+		start_thread(pBatteryMonitorThread, true);
+
+		cout << "Monitoring battery state" << endl;
+	}
+	else
+	{
+		cout << "Not monitoring battery state" << endl;
+	}
+
 	// Fire up the disk monitor thread
 	if (m_pDiskHandler == NULL)
 	{
@@ -257,6 +389,20 @@
 	m_reload = true;
 }
 
+void DaemonState::stop_crawling(void)
+{
+	if (m_threads.empty() == false)
+	{
+		if (write_lock_threads() == true)
+		{
+			// Stop all DirectoryScanner threads
+			for_each(m_threads.begin(), m_threads.end(), StopScannerThreadFunc());
+
+			unlock_threads();
+		}
+	}
+}
+
 void DaemonState::on_thread_end(WorkerThread *pThread)
 {
 	string indexedUrl;
@@ -434,3 +580,23 @@
 	return m_signalQuit;
 }
 
+void DaemonState::set_flag(StatusFlag flag)
+{
+	FD_SET((int)flag, &m_flagsSet);
+}
+
+bool DaemonState::is_flag_set(StatusFlag flag)
+{
+	if (FD_ISSET((int)flag, &m_flagsSet))
+	{
+		return true;
+	}
+
+	return false;
+}
+
+void DaemonState::reset_flag(StatusFlag flag)
+{
+	FD_CLR((int)flag, &m_flagsSet);
+}
+

Modified: trunk/UI/GTK2/src/DaemonState.h
===================================================================
--- trunk/UI/GTK2/src/DaemonState.h	2007-11-11 07:03:00 UTC (rev 1098)
+++ trunk/UI/GTK2/src/DaemonState.h	2007-11-12 12:32:47 UTC (rev 1099)
@@ -19,6 +19,7 @@
 #ifndef _DBUSERVER_HH
 #define _DBUSERVER_HH
 
+#include <sys/select.h>
 #include <string>
 #include <queue>
 #include <set>
@@ -34,10 +35,14 @@
 		DaemonState();
 		virtual ~DaemonState();
 
+		typedef enum { LOW_DISK_SPACE = 0, ON_BATTERY } StatusFlag;
+
 		void start(bool forceFullScan);
 
 		void reload(void);
 
+		void stop_crawling(void);
+
 		void on_thread_end(WorkerThread *pThread);
 
 		void on_message_filefound(const DocumentInfo &docInfo, const std::string &sourceLabel,
@@ -45,11 +50,20 @@
 
 		sigc::signal1<void, int>& getQuitSignal(void);
 
+		void set_flag(StatusFlag flag);
+
+		bool is_flag_set(StatusFlag flag);
+
+		void reset_flag(StatusFlag flag);
+
 	protected:
 		bool m_fullScan;
 		bool m_reload;
+		fd_set m_flagsSet;
+		MonitorInterface *m_pBatteryMonitor;
 		MonitorInterface *m_pDiskMonitor;
 		MonitorHandler *m_pDiskHandler;
+		MonitorHandler *m_pBatteryHandler;
 		sigc::connection m_timeoutConnection;
 		sigc::signal1<void, int> m_signalQuit;
 

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2007-11-11 07:03:00 UTC (rev 1098)
+++ trunk/UI/GTK2/src/mainWindow.cc	2007-11-12 12:32:47 UTC (rev 1099)
@@ -65,36 +65,14 @@
 class ReloadHandler : public MonitorHandler
 {
 	public:
-		ReloadHandler() : MonitorHandler() {}
-		virtual ~ReloadHandler() {}
-
-		/// Initializes things before starting monitoring.
-		virtual void initialize(void) {}
-
-		/// Handles flushing the index.
-		virtual void flushIndex(void) {}
-
-		/// Handles file existence events.
-		virtual bool fileExists(const std::string &fileName)
+		ReloadHandler() : MonitorHandler()
 		{
-			// Nothing to do here
-			return true; 
+			// Get the list of files we will be handling
+			MIMEScanner::listConfigurationFiles(PinotSettings::getHomeDirectory() + "/.local", m_fileNames);
+			MIMEScanner::listConfigurationFiles(string(SHARED_MIME_INFO_PREFIX), m_fileNames);
 		}
+		virtual ~ReloadHandler() {}
 
-		/// Handles file creation events.
-		virtual bool fileCreated(const std::string &fileName)
-		{
-			// Nothing to do here
-			return true; 
-		}
-
-		/// Handles directory creation events.
-		virtual bool directoryCreated(const std::string &dirName)
-		{
-			// Nothing to do here
-			return true; 
-		}
-
 		/// Handles file modified events.
 		virtual bool fileModified(const std::string &fileName)
 		{
@@ -103,36 +81,6 @@
 				string(SHARED_MIME_INFO_PREFIX));
 		}
 
-		/// Handles file moved events.
-		virtual bool fileMoved(const std::string &fileName,
-			const std::string &previousFileName)
-		{
-			// Nothing to do here
-			return true; 
-		}
-
-		/// Handles directory moved events.
-		virtual bool directoryMoved(const std::string &dirName,
-			const std::string &previousDirName)
-		{
-			// Nothing to do here
-			return true; 
-		}
-
-		/// Handles file deleted events.
-		virtual bool fileDeleted(const std::string &fileName)
-		{
-			// Nothing to do here
-			return true; 
-		}
-
-		/// Handles directory deleted events.
-		virtual bool directoryDeleted(const std::string &dirName)
-		{
-			// Nothing to do here
-			return true; 
-		}
-
 	private:
 		ReloadHandler(const ReloadHandler &other);
 		ReloadHandler &operator=(const ReloadHandler &other);
@@ -269,17 +217,6 @@
 
 	if (m_pSettingsMonitor != NULL)
 	{
-		set<string> mimeFiles;
-
-		// Monitor MIME settings files for changes
-		MIMEScanner::listConfigurationFiles(PinotSettings::getHomeDirectory() + "/.local", mimeFiles);
-		MIMEScanner::listConfigurationFiles(string(SHARED_MIME_INFO_PREFIX), mimeFiles);
-		for (set<string>::const_iterator fileIter = mimeFiles.begin();
-			fileIter != mimeFiles.end(); ++fileIter)
-		{
-			m_pSettingsMonitor->addLocation(*fileIter, false);
-		}
-
 		// Run this in the background
 		m_pSettingsHandler = new ReloadHandler();
 		MonitorThread *pSettingsMonitorThread = new MonitorThread(m_pSettingsMonitor, m_pSettingsHandler, false);



From fabricecolin at mail.berlios.de  Tue Nov 13 12:33:04 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Tue, 13 Nov 2007 12:33:04 +0100
Subject: [Pinot-svn] r1100 - in trunk: Index UI/GTK2/src
Message-ID: <200711131133.lADBX4vf018834@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-13 12:32:58 +0100 (Tue, 13 Nov 2007)
New Revision: 1100

Modified:
   trunk/Index/XapianDatabase.cpp
   trunk/UI/GTK2/src/PinotSettings.cpp
Log:
PINOT_MINIMUM_DISK_SPACE defaults to 50Mb.
Cosmetic changes.


Modified: trunk/Index/XapianDatabase.cpp
===================================================================
--- trunk/Index/XapianDatabase.cpp	2007-11-12 12:32:47 UTC (rev 1099)
+++ trunk/Index/XapianDatabase.cpp	2007-11-13 11:32:58 UTC (rev 1100)
@@ -229,7 +229,7 @@
 			}
 			catch (const Xapian::Error &error)
 			{
-				cerr << "XapianDatabase::openDatabase: " << error.get_type()
+				cerr << "Error opening " << m_databaseName << ": " << error.get_type()
 					<< ": " << error.get_msg() << endl;
 			}
 		}
@@ -307,7 +307,7 @@
 #if XAPIAN_MAJOR_VERSION>0
 	catch (const Xapian::DatabaseVersionError &error)
 	{
-		cerr << "XapianDatabase::openDatabase: " << error.get_type()
+		cerr << "Error opening " << m_databaseName << ": " << error.get_type()
 			<< ": " << error.get_msg() << endl;
 
 		// This format is no longer supported
@@ -319,7 +319,7 @@
 #endif
 	catch (const Xapian::Error &error)
 	{
-		cerr << "XapianDatabase::openDatabase: " << error.get_type()
+		cerr << "Error opening " << m_databaseName << ": " << error.get_type()
 			<< ": " << error.get_msg() << endl;
 	}
 

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2007-11-12 12:32:47 UTC (rev 1099)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2007-11-13 11:32:58 UTC (rev 1100)
@@ -90,7 +90,7 @@
 bool PinotSettings::m_clientMode = false;
 
 PinotSettings::PinotSettings() :
-	m_minimumDiskSpace(10),
+	m_minimumDiskSpace(50),
 	m_xPos(0),
 	m_yPos(0),
 	m_width(0),



From fabricecolin at mail.berlios.de  Tue Nov 13 12:37:54 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Tue, 13 Nov 2007 12:37:54 +0100
Subject: [Pinot-svn] r1101 - trunk/Search
Message-ID: <200711131137.lADBbsMs030434@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-13 12:37:46 +0100 (Tue, 13 Nov 2007)
New Revision: 1101

Modified:
   trunk/Search/XapianEngine.cpp
Log:
This should have been included in revision 1098.


Modified: trunk/Search/XapianEngine.cpp
===================================================================
--- trunk/Search/XapianEngine.cpp	2007-11-13 11:32:58 UTC (rev 1100)
+++ trunk/Search/XapianEngine.cpp	2007-11-13 11:37:46 UTC (rev 1101)
@@ -33,9 +33,9 @@
 #include "XapianDatabaseFactory.h"
 #include "AbstractGenerator.h"
 #include "XapianEngine.h"
-#include "XapianQueryBuilder.h"
-#include "XesamQLParser.h"
-#include "XesamULParser.h"
+#include "xesam/XapianQueryBuilder.h"
+#include "xesam/XesamQLParser.h"
+#include "xesam/XesamULParser.h"
 
 using std::string;
 using std::multimap;



From fabricecolin at mail.berlios.de  Tue Nov 13 16:17:13 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Tue, 13 Nov 2007 16:17:13 +0100
Subject: [Pinot-svn] r1102 - trunk/scripts/python
Message-ID: <200711131517.lADFHDEV011737@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-13 16:17:13 +0100 (Tue, 13 Nov 2007)
New Revision: 1102

Added:
   trunk/scripts/python/pinot-module.py
Log:
First shot at a plugin for Deskbar 2.20.


Added: trunk/scripts/python/pinot-module.py
===================================================================
--- trunk/scripts/python/pinot-module.py	2007-11-13 11:37:46 UTC (rev 1101)
+++ trunk/scripts/python/pinot-module.py	2007-11-13 15:17:13 UTC (rev 1102)
@@ -0,0 +1,170 @@
+#
+# Copyright 2005-2007 Fabrice Colin
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU Library General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+#
+
+import gnome
+import deskbar
+from deskbar.handlers.actions.OpenFileAction import OpenFileAction
+from deskbar.handlers.actions.ActionsFactory import get_actions_for_uri
+import gobject
+from gettext import gettext as _
+
+HANDLERS = ['PinotFileSearchModule']
+
+TYPES = {
+    "Documents"    : {
+        "name"    : ("caption",),
+        "category": "documents",
+        "extra": {"uri":("url",), "mime_type":("type",), "language":("language",), "mod_time":("modtime",), "size":("size",)},
+        },
+}
+
+class PinotFileMatch(deskbar.interfaces.Match):
+	def __init__(self, fields, **args):
+		deskbar.interfaces.Match.__init__ (self)
+		self.result = fields
+		self.url = fields["url"]
+		url_scheme = self.url[:self.url.index("://")]
+		# The mailbox scheme is specific to Pinot
+		if url_scheme == "mailbox":
+			mailbox_url = self.url
+			print "Mailbox hit: ", mailbox_url
+			self.url = "file://" + mailbox_url[len("mailbox://"):mailbox_url.index('?')]
+			url_scheme = "file"
+
+		self.result["url"] = self.url
+		print "Action: ", self.result["caption"], " ", self.result["url"]
+
+		if url_scheme == "file":
+			print "File hit: ", file_path
+			self.add_action(OpenFileAction(self.result["caption"], self.result["url"]))
+		else:
+			self.add_all_actions(get_actions_for_uri(self.result["url"]))
+
+	def get_hash(self, text=None):
+		return self.result["url"]
+
+	def get_name(self, text = None):
+		return self.result["caption"]
+
+class PinotFileSearchModule(deskbar.interfaces.Module):
+	INFOS = {
+			'icon': deskbar.core.Utils.load_icon('pinot'),
+			'name': _('Pinot Search'),
+			'description': _('Search with Pinot'),
+			'version': deskbar.defs.VERSION,
+			'categories': {
+			'documents': {
+				'name': _('My Documents'),
+			},
+		},
+	}
+
+	@staticmethod
+	def has_prerequisites ():
+		try:
+			import dbus
+			try :
+				if getattr(dbus, 'version', (0,0,0)) >= (0,41,0):
+					import dbus.glib
+
+				# Can we rely on dbus activation ?
+				bus = dbus.SessionBus()
+				proxy_obj = bus.get_object('org.freedesktop.DBus', '/org/freedesktop/DBus')
+				dbus_iface = dbus.Interface(proxy_obj, 'org.freedesktop.DBus')
+				activatables = dbus_iface.ListActivatableNames()
+				if not 'de.berlios.Pinot' in activatables:
+					PinotFileSearchModule.INSTRUCTIONS = ('D-Bus activation will not start the Pinot daemon')
+					return False
+			except:
+				PinotFileSearchModule.INSTRUCTIONS = ('Python dbus.glib bindings not found.')
+				return False
+			return True
+		except:
+			PinotFileSearchModule.INSTRUCTIONS = ('Python dbus bindings not found.')
+			return False
+
+	def __init__(self):
+		deskbar.interfaces.Module.__init__(self)
+		self.query_string = ""
+		self.matches = []
+		self.matches_count = 10
+		# The dbus connection will be set in query()
+		self.bus = self.proxy_obj = self.pinot_iface = None
+
+	def query (self, qstring):
+		print "SimpleQuery: ", qstring
+		doc_ids = []
+		max = 10
+		# Do we need to set up the dbus connection ?
+		if self.proxy_obj:
+			try:
+				print 'Getting statistics'
+				self.proxy_obj.GetStatistics()
+			except:
+				print 'GetStatistics failed'
+				self.proxy_obj = None
+		if not self.proxy_obj:
+			try:
+				import dbus
+				print 'Connecting'
+				self.bus = dbus.SessionBus()
+				self.proxy_obj = self.bus.get_object('de.berlios.Pinot', '/de/berlios/Pinot')
+				self.pinot_iface = dbus.Interface(self.proxy_obj, 'de.berlios.Pinot')
+			except Exception, msg:
+				print 'Caught exception: ', msg
+			except:
+				print 'Caught unexpected exception'
+				return
+		# Run the query
+		try :
+			import dbus
+			print 'Querying'
+			doc_ids = self.pinot_iface.SimpleQuery(qstring, dbus.UInt32(max))
+		except Exception, msg:
+			print 'Caught exception (SimpleQuery): ', msg
+		# Save the query's details
+		self.query_string = qstring
+		self.matches = []
+		self.matches_count = len(doc_ids)
+		try :
+			# Get the details of each hit
+			for doc_id in doc_ids:
+				print "Hit on document ", doc_id
+				self.pinot_iface.GetDocumentInfo (dbus.UInt32(doc_id),
+					reply_handler=self.__receive_hits, error_handler=self.__receive_error)
+		except Exception, msg:
+			print 'Caught exception (GetDocumentInfo): ', msg
+
+	def __receive_hits (self, fields_list):
+		match_fields = {
+        	    "name": "Unknown",
+        	    "type": "application/octet-stream",
+        	}
+
+		# Get the fields we need to build a match
+		for field in fields_list:
+			match_fields[field[0]] = field[1]
+
+		self.matches.append( PinotFileMatch(match_fields) )
+		print "Got hit ", len(self.matches)
+		if len(self.matches) == self.matches_count:
+			self._emit_query_ready(self.query_string, self.matches)
+
+	def __receive_error (self, error):
+		print 'D-Bus error: ', error
+



From fabricecolin at mail.berlios.de  Tue Nov 13 16:18:38 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Tue, 13 Nov 2007 16:18:38 +0100
Subject: [Pinot-svn] r1103 - trunk
Message-ID: <200711131518.lADFIcbo011846@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-13 16:18:37 +0100 (Tue, 13 Nov 2007)
New Revision: 1103

Modified:
   trunk/Makefile.am
   trunk/pinot.spec.in
Log:
Distribute and install pinot-module.py.


Modified: trunk/Makefile.am
===================================================================
--- trunk/Makefile.am	2007-11-13 15:17:13 UTC (rev 1102)
+++ trunk/Makefile.am	2007-11-13 15:18:37 UTC (rev 1103)
@@ -14,7 +14,8 @@
 	UI/icons/32x32/pinot.png UI/icons/24x24/pinot.png \
 	UI/icons/22x22/pinot.png UI/icons/16x16/pinot.png \
 	UI/GTK2/metase-gtk2.glade UI/GTK2/metase-gtk2.gladep \
-	scripts/bash/pinot-enum-index.sh scripts/python/pinot-live.py
+	scripts/bash/pinot-enum-index.sh \
+	scripts/python/pinot-live.py scripts/python/pinot-module.py
 
 man_MANS = Index/pinot-index.1 Index/pinot-label.1 Search/pinot-search.1 \
 	UI/GTK2/src/pinot.1 UI/GTK2/src/pinot-dbus-daemon.1
@@ -55,6 +56,8 @@
 	@desktop-file-install --vendor="" --dir=$(DESTDIR)${sysconfdir}/xdg/autostart $(top_srcdir)/pinot-dbus-daemon.desktop
 	@mkdir -p $(DESTDIR)$(libdir)/deskbar-applet/handlers/
 	$(INSTALL_DATA) $(top_srcdir)/scripts/python/pinot-live.py $(DESTDIR)$(libdir)/deskbar-applet/handlers/
+	@mkdir -p $(DESTDIR)$(libdir)/deskbar-applet/modules-2.20-compatible/
+	$(INSTALL_DATA) $(top_srcdir)/scripts/python/pinot-module.py $(DESTDIR)$(libdir)/deskbar-applet/modules-2.20-compatible/
 
 uninstall-local:
 	@rm -rf $(DESTDIR)$(sysconfdir)/pinot
@@ -69,6 +72,7 @@
 	@rm -rf $(DESTDIR)$(datadir)/applications/pinot.desktop
 	@rm -rf $(DESTDIR)${sysconfdir}/xdg/autostart/pinot-dbus-daemon.desktop
 	@rm -rf $(DESTDIR)$(libdir)/deskbar-applet/handlers/pinot-live.py*
+	@rm -rf $(DESTDIR)$(libdir)/deskbar-applet/modules-2.20-compatible/pinot-module.py*
 
 ACLOCAL_AMFLAGS = -I m4
 

Modified: trunk/pinot.spec.in
===================================================================
--- trunk/pinot.spec.in	2007-11-13 15:17:13 UTC (rev 1102)
+++ trunk/pinot.spec.in	2007-11-13 15:18:37 UTC (rev 1103)
@@ -87,6 +87,7 @@
 %{_libdir}/pinot/filters/libmboxfilter.so*
 %{_libdir}/pinot/filters/libtaglibfilter.so*
 %{_libdir}/deskbar-applet/handlers/pinot-live.py*
+%{_libdir}/deskbar-applet/modules-2.20-compatible/pinot-module.py*
 %{_datadir}/dbus-1/services/de.berlios.Pinot.service
 %{_datadir}/pinot/
 %{_datadir}/icons/hicolor/48x48/apps/pinot.png



From fabricecolin at mail.berlios.de  Tue Nov 13 16:36:22 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Tue, 13 Nov 2007 16:36:22 +0100
Subject: [Pinot-svn] r1104 - trunk/Index
Message-ID: <200711131536.lADFaMkG013226@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-13 16:36:22 +0100 (Tue, 13 Nov 2007)
New Revision: 1104

Modified:
   trunk/Index/XapianDatabase.cpp
   trunk/Index/XapianDatabase.h
   trunk/Index/XapianIndex.cpp
   trunk/Index/XapianIndex.h
Log:
When opened, XapianDatabase checks whether the env var PINOT_SPELLING_DB is set
to NO. If it is, spelling support is disabled.


Modified: trunk/Index/XapianDatabase.cpp
===================================================================
--- trunk/Index/XapianDatabase.cpp	2007-11-13 15:18:37 UTC (rev 1103)
+++ trunk/Index/XapianDatabase.cpp	2007-11-13 15:36:22 UTC (rev 1104)
@@ -21,6 +21,7 @@
 #include <fcntl.h>
 #include <unistd.h>
 #include <stdlib.h>
+#include <strings.h>
 #include <regex.h>
 #include <stdio.h>
 #include <iostream>
@@ -41,6 +42,7 @@
 XapianDatabase::XapianDatabase(const string &databaseName,
 	bool readOnly, bool overwrite) :
 	m_databaseName(databaseName),
+	m_withSpelling(true),
 	m_readOnly(readOnly),
 	m_overwrite(overwrite),
 	m_obsoleteFormat(false),
@@ -57,6 +59,7 @@
 XapianDatabase::XapianDatabase(const string &databaseName, 
 	XapianDatabase *pFirst, XapianDatabase *pSecond) :
 	m_databaseName(databaseName),
+	m_withSpelling(true),
 	m_readOnly(true),
 	m_overwrite(false),
 	m_obsoleteFormat(false),
@@ -71,6 +74,7 @@
 
 XapianDatabase::XapianDatabase(const XapianDatabase &other) :
 	m_databaseName(other.m_databaseName),
+	m_withSpelling(other.m_withSpelling),
 	m_readOnly(other.m_readOnly),
 	m_overwrite(other.m_overwrite),
 	m_obsoleteFormat(other.m_obsoleteFormat),
@@ -104,6 +108,7 @@
 	if (this != &other)
 	{
 		m_databaseName = other.m_databaseName;
+		m_withSpelling = other.m_withSpelling;
 		m_readOnly = other.m_readOnly;
 		m_overwrite = other.m_overwrite;
 		m_obsoleteFormat = other.m_obsoleteFormat;
@@ -147,6 +152,20 @@
 		return;
 	}
 
+	// Should we build the spelling database ?
+	char *pEnvVar = getenv("PINOT_SPELLING_DB");
+	if ((pEnvVar != NULL) &&
+		(strncasecmp(pEnvVar, "no", 2) == 0))
+	{
+		// No
+		m_withSpelling = false;
+	}
+	else
+	{
+		// Yes
+		m_withSpelling = true;
+	}
+
 	// Assume things will fail
 	m_isOpen = false;
 
@@ -334,6 +353,12 @@
 	}
 }
 
+/// Returns true if the database supports spelling.
+bool XapianDatabase::withSpelling(void)
+{
+	return m_withSpelling;
+}
+
 /// Returns false if the database couldn't be opened.
 bool XapianDatabase::isOpen(void) const
 {

Modified: trunk/Index/XapianDatabase.h
===================================================================
--- trunk/Index/XapianDatabase.h	2007-11-13 15:18:37 UTC (rev 1103)
+++ trunk/Index/XapianDatabase.h	2007-11-13 15:36:22 UTC (rev 1104)
@@ -42,6 +42,9 @@
 		/// Returns false if the database couldn't be opened.
 		bool isOpen(void) const;
 
+		/// Returns true if the database supports spelling.
+		bool withSpelling(void);
+
 		/// Returns false if the database was of an obsolete format.
 		bool wasObsoleteFormat(void) const;
 
@@ -72,6 +75,7 @@
 	protected:
 		static const unsigned int m_maxTermLength;
 		std::string m_databaseName;
+		bool m_withSpelling;
 		bool m_readOnly;
 		bool m_overwrite;
 		bool m_obsoleteFormat;

Modified: trunk/Index/XapianIndex.cpp
===================================================================
--- trunk/Index/XapianIndex.cpp	2007-11-13 15:18:37 UTC (rev 1103)
+++ trunk/Index/XapianIndex.cpp	2007-11-13 15:36:22 UTC (rev 1104)
@@ -91,7 +91,7 @@
 	IndexInterface(),
 	m_databaseName(indexName),
 	m_goodIndex(false),
-	m_supportSpellingCorrection(true)
+	m_doSpelling(true)
 {
 	// Open in read-only mode
 	XapianDatabase *pDatabase = XapianDatabaseFactory::getDatabase(m_databaseName);
@@ -99,6 +99,7 @@
 		(pDatabase->isOpen() == true))
 	{
 		m_goodIndex = true;
+		m_doSpelling = pDatabase->withSpelling();
 	}
 }
 
@@ -106,7 +107,7 @@
 	IndexInterface(other),
 	m_databaseName(other.m_databaseName),
 	m_goodIndex(other .m_goodIndex),
-	m_supportSpellingCorrection(other.m_supportSpellingCorrection),
+	m_doSpelling(other.m_doSpelling),
 	m_stemLanguage(other.m_stemLanguage)
 {
 }
@@ -122,7 +123,7 @@
 		IndexInterface::operator=(other);
 		m_databaseName = other.m_databaseName;
 		m_goodIndex = other .m_goodIndex;
-		m_supportSpellingCorrection = other.m_supportSpellingCorrection;
+		m_doSpelling = other.m_doSpelling;
 		m_stemLanguage = other.m_stemLanguage;
 	}
 
@@ -208,7 +209,7 @@
 	try
 	{
 		// Older Xapian backends don't support spelling correction
-		if (m_supportSpellingCorrection == true)
+		if (m_doSpelling == true)
 		{
 			// The database is required for the spelling dictionary
 			generator.set_flags(Xapian::TermGenerator::FLAG_SPELLING);
@@ -221,9 +222,9 @@
 	{
 		cerr << "Couldn't index with spelling correction: " << error.get_type() << ": " << error.get_msg() << endl;
 
-		if (m_supportSpellingCorrection == true)
+		if (m_doSpelling == true)
 		{
-			m_supportSpellingCorrection = false;
+			m_doSpelling = false;
 
 			// Try again without spelling correction
 			// Let the caller catch the exception

Modified: trunk/Index/XapianIndex.h
===================================================================
--- trunk/Index/XapianIndex.h	2007-11-13 15:18:37 UTC (rev 1103)
+++ trunk/Index/XapianIndex.h	2007-11-13 15:36:22 UTC (rev 1104)
@@ -149,7 +149,7 @@
 		static const std::string MAGIC_TERM;
 		std::string m_databaseName;
 		bool m_goodIndex;
-		bool m_supportSpellingCorrection;
+		bool m_doSpelling;
 		std::string m_stemLanguage;
 
 		bool listDocumentsWithTerm(const std::string &term, std::set<unsigned int> &docIds,



From fabricecolin at mail.berlios.de  Wed Nov 14 14:47:43 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Wed, 14 Nov 2007 14:47:43 +0100
Subject: [Pinot-svn] r1105 - trunk/UI/GTK2/src
Message-ID: <200711141347.lAEDlhHJ015331@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-14 14:47:42 +0100 (Wed, 14 Nov 2007)
New Revision: 1105

Modified:
   trunk/UI/GTK2/src/OnDiskHandler.cpp
Log:
When inserting items in the history database, check whether they exist first.


Modified: trunk/UI/GTK2/src/OnDiskHandler.cpp
===================================================================
--- trunk/UI/GTK2/src/OnDiskHandler.cpp	2007-11-13 15:36:22 UTC (rev 1104)
+++ trunk/UI/GTK2/src/OnDiskHandler.cpp	2007-11-14 13:47:42 UTC (rev 1105)
@@ -300,11 +300,23 @@
 	cout << "OnDiskHandler::fileCreated: " << fileName << endl;
 #endif
 	pthread_mutex_lock(&m_mutex);
-	// The file shouldn't exist in the index, but if it does for some reason, don't update it
+	// The file may exist in the index
 	handledEvent = indexFile(fileName, false, sourceId);
 	if (handledEvent == true)
 	{
-		m_history.insertItem("file://" + fileName, CrawlHistory::CRAWLED, sourceId, time(NULL));
+	        string location("file://" + fileName);
+		CrawlHistory::CrawlStatus status = CrawlHistory::UNKNOWN;
+	        time_t itemDate;
+
+		// ...and therefore may exist in the history database
+		if (m_history.hasItem(location, status, itemDate) == true)
+		{
+			m_history.updateItem(location, CrawlHistory::CRAWLED, sourceId, time(NULL));
+		}
+		else
+		{
+			m_history.insertItem(location, CrawlHistory::CRAWLED, time(NULL));
+		}
 	}
 	pthread_mutex_unlock(&m_mutex);
 



From fabricecolin at mail.berlios.de  Wed Nov 14 14:48:52 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Wed, 14 Nov 2007 14:48:52 +0100
Subject: [Pinot-svn] r1106 - trunk/scripts/python
Message-ID: <200711141348.lAEDmqqI015499@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-14 14:48:52 +0100 (Wed, 14 Nov 2007)
New Revision: 1106

Modified:
   trunk/scripts/python/pinot-module.py
Log:
Undefined variable fix.


Modified: trunk/scripts/python/pinot-module.py
===================================================================
--- trunk/scripts/python/pinot-module.py	2007-11-14 13:47:42 UTC (rev 1105)
+++ trunk/scripts/python/pinot-module.py	2007-11-14 13:48:52 UTC (rev 1106)
@@ -50,9 +50,10 @@
 		print "Action: ", self.result["caption"], " ", self.result["url"]
 
 		if url_scheme == "file":
-			print "File hit: ", file_path
+			print "File hit"
 			self.add_action(OpenFileAction(self.result["caption"], self.result["url"]))
 		else:
+			print "Other hit"
 			self.add_all_actions(get_actions_for_uri(self.result["url"]))
 
 	def get_hash(self, text=None):



From fabricecolin at mail.berlios.de  Wed Nov 14 14:52:26 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Wed, 14 Nov 2007 14:52:26 +0100
Subject: [Pinot-svn] r1107 - trunk
Message-ID: <200711141352.lAEDqQi6015950@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-14 14:52:25 +0100 (Wed, 14 Nov 2007)
New Revision: 1107

Added:
   trunk/ChangeLog-dijon
Log:
This file is required by make dist. Up to date as of Pinot v0.80.


Added: trunk/ChangeLog-dijon
===================================================================
--- trunk/ChangeLog-dijon	2007-11-14 13:48:52 UTC (rev 1106)
+++ trunk/ChangeLog-dijon	2007-11-14 13:52:25 UTC (rev 1107)
@@ -0,0 +1,592 @@
+------------------------------------------------------------------------
+r66 | fabricecolin | 2007-10-18 19:18:40 +0800 (Thu, 18 Oct 2007) | 4 lines
+Changed paths:
+   M /branches/pinot/filters/ExternalFilter.cc
+   M /branches/pinot/filters/ExternalFilter.h
+
+If socketpair(), fork() and setrlimit() are available, fork and exec external
+programs, and limit their CPU time to 5 minutes. Most of that code comes from
+Xapian Omega's runfilter.cc, with some modifications.
+
+------------------------------------------------------------------------
+r65 | fabricecolin | 2007-10-17 21:41:35 +0800 (Wed, 17 Oct 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/external-filters.xml
+
+Keep an entry for application/msword.
+
+------------------------------------------------------------------------
+r64 | fabricecolin | 2007-10-10 21:53:45 +0800 (Wed, 10 Oct 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/GMimeMboxFilter.cc
+
+Removed dependency on TimeConverter.
+
+------------------------------------------------------------------------
+r63 | fabricecolin | 2007-09-22 00:49:44 +0800 (Sat, 22 Sep 2007) | 3 lines
+Changed paths:
+   M /branches/pinot/xesam/XapianQueryBuilder.cc
+   M /branches/pinot/xesam/XapianQueryBuilder.h
+
+Date filters are applied with a DateValueRangeProcessor. Time is ignored for
+the time being.  
+
+------------------------------------------------------------------------
+r62 | fabricecolin | 2007-09-22 00:47:22 +0800 (Sat, 22 Sep 2007) | 3 lines
+Changed paths:
+   M /branches/pinot/xesam/XesamQLParser.cc
+   M /branches/pinot/xesam/XesamQueryBuilder.h
+   M /branches/pinot/xesam/XesamULParser.cc
+
+The query element in the Query Language has two attributes : content and
+storedAs.
+
+------------------------------------------------------------------------
+r61 | fabricecolin | 2007-09-22 00:45:45 +0800 (Sat, 22 Sep 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/ExternalFilter.cc
+   M /branches/pinot/filters/Filter.cc
+   M /branches/pinot/filters/GMimeMboxFilter.cc
+   M /branches/pinot/filters/HtmlFilter.cc
+   M /branches/pinot/filters/TagLibMusicFilter.cc
+   M /branches/pinot/filters/XmlFilter.cc
+
+Removed dependencies on Pinot's code.
+
+------------------------------------------------------------------------
+r60 | fabricecolin | 2007-09-08 18:11:22 +0800 (Sat, 08 Sep 2007) | 4 lines
+Changed paths:
+   M /branches/pinot/filters/external-filters.xml
+
+Added support for Excel, PowerPoint and DVI documents. xls2csv, catppt (both
+come with catdoc), and catdvi are required.
+Added -mUTF-8.txt to parameters for antiword.
+
+------------------------------------------------------------------------
+r59 | fabricecolin | 2007-09-04 23:13:12 +0800 (Tue, 04 Sep 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/XapianQueryBuilder.cc
+   M /branches/pinot/xesam/XesamQLParser.cc
+   M /branches/pinot/xesam/XesamQLParser.h
+   M /branches/pinot/xesam/XesamQueryBuilder.h
+
+Support for the type selector, as in xesam-tools 0.4.3.
+
+------------------------------------------------------------------------
+r58 | fabricecolin | 2007-08-19 18:37:58 +0800 (Sun, 19 Aug 2007) | 4 lines
+Changed paths:
+   M /branches/pinot/filters/HtmlFilter.cc
+   M /branches/pinot/filters/HtmlFilter.h
+
+Try to determine the document's charset to drive the parser. If the encoding is
+not supported, fall back to defaults.
+Replace tags with a space to avoid cramming text together.
+
+------------------------------------------------------------------------
+r57 | fabricecolin | 2007-08-14 22:41:35 +0800 (Tue, 14 Aug 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/GMimeMboxFilter.cc
+
+Try to open files with O_NOATIME.
+
+------------------------------------------------------------------------
+r56 | fabricecolin | 2007-07-24 21:23:34 +0800 (Tue, 24 Jul 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/XapianQueryBuilder.cc
+   M /branches/pinot/xesam/XapianQueryBuilder.h
+   M /branches/pinot/xesam/XesamQLParser.cc
+   M /branches/pinot/xesam/XesamQLParser.h
+   M /branches/pinot/xesam/XesamQueryBuilder.h
+   M /branches/pinot/xesam/XesamULParser.cc
+
+Keep values in the order they are found.
+
+------------------------------------------------------------------------
+r55 | fabricecolin | 2007-07-24 19:59:10 +0800 (Tue, 24 Jul 2007) | 3 lines
+Changed paths:
+   M /branches/pinot/xesam/XapianQueryBuilder.cc
+   M /branches/pinot/xesam/XapianQueryBuilder.h
+
+Xesam fields can be mapped to Xapian prefixes. Special considerations apply
+to "mime". Proximity search works as expected with two field values.
+
+------------------------------------------------------------------------
+r54 | fabricecolin | 2007-07-23 23:16:05 +0800 (Mon, 23 Jul 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/XesamQLParser.cc
+   M /branches/pinot/xesam/XesamQueryBuilder.cc
+   M /branches/pinot/xesam/XesamQueryBuilder.h
+
+Caught up with the Xesam Query Langauge spec, as found in xesam-tools 0.4.1.
+
+------------------------------------------------------------------------
+r53 | fabricecolin | 2007-07-09 22:09:49 +0800 (Mon, 09 Jul 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/external-filters.xml
+
+Use djvutxt on type "image/vnd.djvu".
+
+------------------------------------------------------------------------
+r51 | fabricecolin | 2007-06-19 22:08:47 +0800 (Tue, 19 Jun 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/XesamULParser.cc
+
+Renamed skip grammar.
+
+------------------------------------------------------------------------
+r50 | fabricecolin | 2007-06-19 21:58:27 +0800 (Tue, 19 Jun 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/XesamULParser.cc
+
+Removed unused variable.
+
+------------------------------------------------------------------------
+r49 | fabricecolin | 2007-06-13 22:08:02 +0800 (Wed, 13 Jun 2007) | 2 lines
+Changed paths:
+   A /branches/pinot/xesam/XesamParser.h
+   M /branches/pinot/xesam/XesamQLParser.cc
+   M /branches/pinot/xesam/XesamQLParser.h
+   M /branches/pinot/xesam/XesamULParser.cc
+   M /branches/pinot/xesam/XesamULParser.h
+
+Both classes inherit from the XesamParser interface.
+
+------------------------------------------------------------------------
+r48 | fabricecolin | 2007-06-04 20:46:42 +0800 (Mon, 04 Jun 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/XesamULParser.cc
+
+Moved semantic actions to ULActions class.
+
+------------------------------------------------------------------------
+r47 | fabricecolin | 2007-05-31 13:03:32 +0800 (Thu, 31 May 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/XapianQueryBuilder.cc
+
+Removed unused include.
+
+------------------------------------------------------------------------
+r46 | fabricecolin | 2007-05-31 12:52:20 +0800 (Thu, 31 May 2007) | 4 lines
+Changed paths:
+   M /branches/pinot/xesam/XapianQueryBuilder.cc
+   M /branches/pinot/xesam/XapianQueryBuilder.h
+   M /branches/pinot/xesam/XesamULParser.cc
+
+In XesamULParser::parse(), if parsing stops half-way through, try parsing the
+remainder on its own.
+XapianQueryBuilder lets the caller initialize Xapian specifics.
+
+------------------------------------------------------------------------
+r45 | fabricecolin | 2007-05-31 12:23:16 +0800 (Thu, 31 May 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/XapianQueryBuilder.cc
+   M /branches/pinot/xesam/XapianQueryBuilder.h
+   M /branches/pinot/xesam/XesamQLParser.cc
+   M /branches/pinot/xesam/XesamULParser.cc
+
+Synced with changes made to XesamQueryBuilder.
+
+------------------------------------------------------------------------
+r44 | fabricecolin | 2007-05-31 12:19:13 +0800 (Thu, 31 May 2007) | 5 lines
+Changed paths:
+   A /branches/pinot/xesam/XesamQueryBuilder.cc
+   M /branches/pinot/xesam/XesamQueryBuilder.h
+
+Moved implementation to cc file. Modifiers is now a class and I don't have to
+remember what values its members should default to.
+Provide a default implementation of on_user_query() that passes the string to a
+XesamULParser object.
+
+------------------------------------------------------------------------
+r43 | fabricecolin | 2007-05-31 11:40:26 +0800 (Thu, 31 May 2007) | 4 lines
+Changed paths:
+   M /branches/pinot/xesam/XesamULParser.cc
+
+Try to do the right thing in on_selection_action().
+Make sure on_phrase_action extracts the text correctly. Catch end of statements
+and reset globals.
+
+------------------------------------------------------------------------
+r42 | fabricecolin | 2007-05-29 23:04:10 +0800 (Tue, 29 May 2007) | 3 lines
+Changed paths:
+   M /branches/pinot/xesam/XesamULParser.cc
+
+Started implementing on_phrase_action(). Made sure modifiers are right after
+the double-quote that ends the phrase. Added comments.
+
+------------------------------------------------------------------------
+r41 | fabricecolin | 2007-05-29 22:55:59 +0800 (Tue, 29 May 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/XesamQLParser.cc
+   M /branches/pinot/xesam/XesamQLParser.h
+   M /branches/pinot/xesam/XesamQueryBuilder.h
+
+Negation and boost may be set by collectors and selections.
+
+------------------------------------------------------------------------
+r40 | fabricecolin | 2007-05-28 22:50:32 +0800 (Mon, 28 May 2007) | 3 lines
+Changed paths:
+   A /branches/pinot/xesam/XesamULParser.cc
+   A /branches/pinot/xesam/XesamULParser.h
+
+First shot at a parser for the Xesam User Search Language, full of boost
+Spirit goodness :-)
+
+------------------------------------------------------------------------
+r39 | fabricecolin | 2007-05-28 22:49:01 +0800 (Mon, 28 May 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/XesamQLParser.cc
+   M /branches/pinot/xesam/XesamQueryBuilder.h
+
+Cosmetic mods.
+
+------------------------------------------------------------------------
+r38 | fabricecolin | 2007-05-26 14:09:55 +0800 (Sat, 26 May 2007) | 2 lines
+Changed paths:
+   A /branches/pinot/xesam/XapianQueryBuilder.cc (from /branches/pinot/xesam/querylanguage/XapianQueryBuilder.cc:37)
+   A /branches/pinot/xesam/XapianQueryBuilder.h (from /branches/pinot/xesam/querylanguage/XapianQueryBuilder.h:37)
+   A /branches/pinot/xesam/XesamQLParser.cc (from /branches/pinot/xesam/querylanguage/XesamQLParser.cc:37)
+   A /branches/pinot/xesam/XesamQLParser.h (from /branches/pinot/xesam/querylanguage/XesamQLParser.h:37)
+   A /branches/pinot/xesam/XesamQueryBuilder.h (from /branches/pinot/xesam/querylanguage/XesamQueryBuilder.h:37)
+   D /branches/pinot/xesam/querylanguage
+
+Moved code out of querylanguage directory.
+
+------------------------------------------------------------------------
+r37 | fabricecolin | 2007-05-26 13:13:34 +0800 (Sat, 26 May 2007) | 4 lines
+Changed paths:
+   M /branches/pinot/xesam/querylanguage/XapianQueryBuilder.cc
+   M /branches/pinot/xesam/querylanguage/XapianQueryBuilder.h
+   M /branches/pinot/xesam/querylanguage/XesamQLParser.cc
+   M /branches/pinot/xesam/querylanguage/XesamQLParser.h
+   A /branches/pinot/xesam/querylanguage/XesamQueryBuilder.h
+
+Moved XesamQueryBuilder to its own header.
+Implemented changes agreed in IRC meeting on May 23rd : distance is an attribute
+of proximity, and property is renamed field.
+
+------------------------------------------------------------------------
+r36 | fabricecolin | 2007-05-20 16:40:08 +0800 (Sun, 20 May 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/querylanguage/XesamQLParser.h
+
+Made set_collector() virtual, added comments.
+
+------------------------------------------------------------------------
+r35 | fabricecolin | 2007-05-20 15:45:51 +0800 (Sun, 20 May 2007) | 5 lines
+Changed paths:
+   M /branches/pinot/xesam/querylanguage/XapianQueryBuilder.cc
+   M /branches/pinot/xesam/querylanguage/XapianQueryBuilder.h
+   M /branches/pinot/xesam/querylanguage/XesamQLParser.cc
+   M /branches/pinot/xesam/querylanguage/XesamQLParser.h
+
+Renamed query buioder's on_userQuery() to on_user_query().
+Modified parse() and added parse_file().
+Support for any number of properties in a select statement and String's
+attributes, passed as Modifiers.
+
+------------------------------------------------------------------------
+r34 | oever | 2007-05-19 19:42:37 +0800 (Sat, 19 May 2007) | 1 line
+Changed paths:
+   D /branches/pinot/xesam/querylanguage/test
+
+
+------------------------------------------------------------------------
+r33 | oever | 2007-05-19 19:42:17 +0800 (Sat, 19 May 2007) | 1 line
+Changed paths:
+   A /branches/pinot/xesam/querylanguage/test
+
+
+------------------------------------------------------------------------
+r32 | fabricecolin | 2007-05-19 19:31:16 +0800 (Sat, 19 May 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/xesam/querylanguage/XapianQueryBuilder.cc
+   M /branches/pinot/xesam/querylanguage/XapianQueryBuilder.h
+   M /branches/pinot/xesam/querylanguage/XesamQLParser.h
+
+Fleshed out Xapian query builder.
+
+------------------------------------------------------------------------
+r31 | fabricecolin | 2007-05-19 18:29:05 +0800 (Sat, 19 May 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/ExternalFilter.h
+   M /branches/pinot/filters/GMimeMboxFilter.h
+   M /branches/pinot/filters/HtmlFilter.h
+   M /branches/pinot/filters/TagLibMusicFilter.h
+   M /branches/pinot/filters/TextFilter.h
+   M /branches/pinot/filters/XmlFilter.h
+
+Cosmetic change.
+
+------------------------------------------------------------------------
+r30 | fabricecolin | 2007-05-19 17:22:04 +0800 (Sat, 19 May 2007) | 3 lines
+Changed paths:
+   A /branches/pinot/xesam
+   A /branches/pinot/xesam/querylanguage
+   A /branches/pinot/xesam/querylanguage/XapianQueryBuilder.cc
+   A /branches/pinot/xesam/querylanguage/XapianQueryBuilder.h
+   A /branches/pinot/xesam/querylanguage/XesamQLParser.cc
+   A /branches/pinot/xesam/querylanguage/XesamQLParser.h
+
+First shot at a parser for the XML based Xesam Query Language.
+Note this code is under the LGPL, not the GPL.
+
+------------------------------------------------------------------------
+r29 | fabricecolin | 2007-05-12 15:25:28 +0800 (Sat, 12 May 2007) | 4 lines
+Changed paths:
+   M /branches/pinot/filters/GMimeMboxFilter.cc
+   M /branches/pinot/filters/TagLibMusicFilter.cc
+
+In GMimeMbox's set_document_file(), don't extract the first message, wait until
+a call to next_document() or skip_to_document().
+TagLibMusic's next_document() provides a default title if the file has no tag.
+
+------------------------------------------------------------------------
+r28 | fabricecolin | 2007-05-12 11:52:23 +0800 (Sat, 12 May 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/GMimeMboxFilter.cc
+
+Fixed pretty stupid bug in set_document_file() that would reset the file name.
+
+------------------------------------------------------------------------
+r26 | fabricecolin | 2007-04-16 21:26:16 +0800 (Mon, 16 Apr 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/ExternalFilter.cc
+   M /branches/pinot/filters/ExternalFilter.h
+   M /branches/pinot/filters/GMimeMboxFilter.cc
+   M /branches/pinot/filters/GMimeMboxFilter.h
+   M /branches/pinot/filters/HtmlFilter.cc
+   M /branches/pinot/filters/HtmlFilter.h
+   M /branches/pinot/filters/TagLibMusicFilter.cc
+   M /branches/pinot/filters/TagLibMusicFilter.h
+   M /branches/pinot/filters/TextFilter.cc
+   M /branches/pinot/filters/TextFilter.h
+   M /branches/pinot/filters/XmlFilter.cc
+   M /branches/pinot/filters/XmlFilter.h
+
+Make use of base class rewind() and set_document_file() methods.
+
+------------------------------------------------------------------------
+r25 | fabricecolin | 2007-04-16 21:23:36 +0800 (Mon, 16 Apr 2007) | 3 lines
+Changed paths:
+   A /branches/pinot/filters/Filter.cc
+   M /branches/pinot/filters/Filter.h
+
+Provide a default implementation of set_document_file(). Base class handles
+deletion of temporary files, upon destruction or call to rewind() method.
+
+------------------------------------------------------------------------
+r23 | fabricecolin | 2007-03-24 15:30:20 +0800 (Sat, 24 Mar 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/GMimeMboxFilter.cc
+
+MIME type may have a charset appended so cater for that.
+
+------------------------------------------------------------------------
+r22 | fabricecolin | 2007-03-16 23:50:47 +0800 (Fri, 16 Mar 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/external-filters.xml
+
+Take a peek at deb files with dpkg.
+
+------------------------------------------------------------------------
+r21 | fabricecolin | 2007-03-14 22:19:58 +0800 (Wed, 14 Mar 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/GMimeMboxFilter.cc
+
+Only add headers to plain text parts. Part number starts at 0, not 1.
+
+------------------------------------------------------------------------
+r20 | fabricecolin | 2007-03-12 22:32:28 +0800 (Mon, 12 Mar 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/GMimeMboxFilter.cc
+   M /branches/pinot/filters/GMimeMboxFilter.h
+
+Return the message's headers in view mode.
+
+------------------------------------------------------------------------
+r19 | fabricecolin | 2007-03-10 15:07:54 +0800 (Sat, 10 Mar 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/FilterFactory.cc
+   M /branches/pinot/filters/FilterFactory.h
+   M /branches/pinot/filters/HtmlFilter.cc
+   M /branches/pinot/filters/HtmlFilter.h
+
+Better initialize libxml2 once in the main thread than on a need-to basis.
+
+------------------------------------------------------------------------
+r16 | fabricecolin | 2007-02-24 16:11:37 +0800 (Sat, 24 Feb 2007) | 5 lines
+Changed paths:
+   M /branches/pinot/filters/ExternalFilter.cc
+   M /branches/pinot/filters/ExternalFilter.h
+   M /branches/pinot/filters/Filter.h
+   M /branches/pinot/filters/GMimeMboxFilter.cc
+   M /branches/pinot/filters/GMimeMboxFilter.h
+   M /branches/pinot/filters/HtmlFilter.cc
+   M /branches/pinot/filters/HtmlFilter.h
+   M /branches/pinot/filters/TagLibMusicFilter.cc
+   M /branches/pinot/filters/TagLibMusicFilter.h
+   M /branches/pinot/filters/TextFilter.cc
+   M /branches/pinot/filters/TextFilter.h
+   M /branches/pinot/filters/XmlFilter.cc
+   M /branches/pinot/filters/XmlFilter.h
+
+Changed set_document_file() to allow feeding a temporary file, and delete it
+when the filter is done.
+Moved temporary file code out of TagLibMusicFilter.
+In GMimeMboxFilter, fixed issues with skip_to_document().
+
+------------------------------------------------------------------------
+r15 | fabricecolin | 2007-02-23 23:20:36 +0800 (Fri, 23 Feb 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/external-filters.xml
+
+Better use short form for parameters to unrtf.
+
+------------------------------------------------------------------------
+r14 | fabricecolin | 2007-02-22 22:54:51 +0800 (Thu, 22 Feb 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/external-filters.xml
+
+Added tar.gz, tar.bz2 and zip.
+
+------------------------------------------------------------------------
+r13 | fabricecolin | 2007-02-20 13:20:43 +0800 (Tue, 20 Feb 2007) | 3 lines
+Changed paths:
+   M /branches/pinot/filters/FilterFactory.cc
+   M /branches/pinot/filters/external-filters.xml
+
+Added rpm and tar files to external-filters.xml.
+Minor fix to FilterFactory.cc.
+
+------------------------------------------------------------------------
+r12 | fabricecolin | 2007-02-17 12:15:50 +0800 (Sat, 17 Feb 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/ExternalFilter.cc
+   M /branches/pinot/filters/HtmlFilter.cc
+
+Minor fixes.
+
+------------------------------------------------------------------------
+r11 | fabricecolin | 2007-02-10 10:14:37 +0800 (Sat, 10 Feb 2007) | 3 lines
+Changed paths:
+   A /branches/pinot/filters/external-filters.xml
+
+ExternalFilter configuration file for common formats.
+The format is very similar to that used by Beagle with some alterations.
+
+------------------------------------------------------------------------
+r10 | fabricecolin | 2007-02-06 22:11:16 +0800 (Tue, 06 Feb 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/FilterFactory.cc
+   M /branches/pinot/filters/HtmlFilter.cc
+   M /branches/pinot/filters/HtmlFilter.h
+   M /branches/pinot/filters/XmlFilter.cc
+
+Allow building the HTML and XML filters statically.
+
+------------------------------------------------------------------------
+r9 | fabricecolin | 2007-02-01 20:44:41 +0800 (Thu, 01 Feb 2007) | 5 lines
+Changed paths:
+   M /branches/pinot/filters/FilterFactory.cc
+   M /branches/pinot/filters/XmlFilter.cc
+   M /branches/pinot/filters/filter-test.cc
+
+Removed reference to library-handled types from factory code.
+In XmlFilter, replace tags with spaces to make sure text is not crammed into
+one block.
+Test program unload filters before exiting.
+
+------------------------------------------------------------------------
+r8 | fabricecolin | 2007-01-29 22:30:39 +0800 (Mon, 29 Jan 2007) | 5 lines
+Changed paths:
+   M /branches/pinot/filters/ExternalFilter.cc
+   M /branches/pinot/filters/ExternalFilter.h
+   M /branches/pinot/filters/filter-test.cc
+
+In ExternalFilter's configuration file, the element "output" specifies the MIME
+type of the output generated by the program "command", so that it can be passed
+to another filter for processing.
+The test program shows how to chain filters.
+
+------------------------------------------------------------------------
+r7 | fabricecolin | 2007-01-29 21:17:56 +0800 (Mon, 29 Jan 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/ExternalFilter.cc
+   M /branches/pinot/filters/FilterFactory.cc
+   M /branches/pinot/filters/FilterFactory.h
+   M /branches/pinot/filters/filter-test.cc
+
+Can build ExternalFilter as a library.
+
+------------------------------------------------------------------------
+r6 | fabricecolin | 2007-01-27 15:09:10 +0800 (Sat, 27 Jan 2007) | 3 lines
+Changed paths:
+   A /branches/pinot/filters/GMimeMboxFilter.cc (from /branches/pinot/filters/MboxFilter.cc:5)
+   A /branches/pinot/filters/GMimeMboxFilter.h (from /branches/pinot/filters/MboxFilter.h:5)
+   D /branches/pinot/filters/MboxFilter.cc
+   D /branches/pinot/filters/MboxFilter.h
+   D /branches/pinot/filters/TagLibFilter.cc
+   D /branches/pinot/filters/TagLibFilter.h
+   A /branches/pinot/filters/TagLibMusicFilter.cc (from /branches/pinot/filters/TagLibFilter.cc:5)
+   A /branches/pinot/filters/TagLibMusicFilter.h (from /branches/pinot/filters/TagLibFilter.h:5)
+   M /branches/pinot/filters/filter-test.cc
+
+Renamed filters to make it more obvious what they handle and with what
+third-party library.
+
+------------------------------------------------------------------------
+r5 | fabricecolin | 2007-01-27 14:55:03 +0800 (Sat, 27 Jan 2007) | 2 lines
+Changed paths:
+   M /branches/pinot/filters/ExternalFilter.cc
+   M /branches/pinot/filters/ExternalFilter.h
+   M /branches/pinot/filters/Filter.h
+   M /branches/pinot/filters/FilterFactory.cc
+   M /branches/pinot/filters/FilterFactory.h
+   M /branches/pinot/filters/HtmlFilter.cc
+   M /branches/pinot/filters/HtmlFilter.h
+   M /branches/pinot/filters/MboxFilter.cc
+   M /branches/pinot/filters/MboxFilter.h
+   M /branches/pinot/filters/TagLibFilter.cc
+   M /branches/pinot/filters/TagLibFilter.h
+   M /branches/pinot/filters/TextFilter.cc
+   M /branches/pinot/filters/TextFilter.h
+   M /branches/pinot/filters/XmlFilter.cc
+   M /branches/pinot/filters/XmlFilter.h
+   M /branches/pinot/filters/filter-test.cc
+
+Changes for building filters into .so's and loading them in the factory class.
+
+------------------------------------------------------------------------
+r4 | fabricecolin | 2007-01-27 12:03:28 +0800 (Sat, 27 Jan 2007) | 4 lines
+Changed paths:
+   A /branches/pinot/filters
+   A /branches/pinot/filters/ExternalFilter.cc
+   A /branches/pinot/filters/ExternalFilter.h
+   A /branches/pinot/filters/Filter.h
+   A /branches/pinot/filters/FilterFactory.cc
+   A /branches/pinot/filters/FilterFactory.h
+   A /branches/pinot/filters/HtmlFilter.cc
+   A /branches/pinot/filters/HtmlFilter.h
+   A /branches/pinot/filters/MboxFilter.cc
+   A /branches/pinot/filters/MboxFilter.h
+   A /branches/pinot/filters/TagLibFilter.cc
+   A /branches/pinot/filters/TagLibFilter.h
+   A /branches/pinot/filters/TextFilter.cc
+   A /branches/pinot/filters/TextFilter.h
+   A /branches/pinot/filters/XmlFilter.cc
+   A /branches/pinot/filters/XmlFilter.h
+   A /branches/pinot/filters/filter-test.cc
+
+First shot at importing filters from Pinot 0.65's Tokenize directory.
+Most classes, and the included test program, have dependencies on Pinot's code
+base that will eventually be removed.
+
+------------------------------------------------------------------------
+r3 | fabricecolin | 2007-01-27 11:59:01 +0800 (Sat, 27 Jan 2007) | 2 lines
+Changed paths:
+   A /branches/pinot
+
+Import of Pinot's filters.
+
+------------------------------------------------------------------------



From fabricecolin at mail.berlios.de  Wed Nov 14 15:25:39 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Wed, 14 Nov 2007 15:25:39 +0100
Subject: [Pinot-svn] r1108 - trunk/UI/GTK2/src
Message-ID: <200711141425.lAEEPdHE021298@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-14 15:25:39 +0100 (Wed, 14 Nov 2007)
New Revision: 1108

Modified:
   trunk/UI/GTK2/src/OnDiskHandler.cpp
Log:
Fix for previous check-in.


Modified: trunk/UI/GTK2/src/OnDiskHandler.cpp
===================================================================
--- trunk/UI/GTK2/src/OnDiskHandler.cpp	2007-11-14 13:52:25 UTC (rev 1107)
+++ trunk/UI/GTK2/src/OnDiskHandler.cpp	2007-11-14 14:25:39 UTC (rev 1108)
@@ -311,11 +311,11 @@
 		// ...and therefore may exist in the history database
 		if (m_history.hasItem(location, status, itemDate) == true)
 		{
-			m_history.updateItem(location, CrawlHistory::CRAWLED, sourceId, time(NULL));
+			m_history.updateItem(location, CrawlHistory::CRAWLED, time(NULL));
 		}
 		else
 		{
-			m_history.insertItem(location, CrawlHistory::CRAWLED, time(NULL));
+			m_history.insertItem(location, CrawlHistory::CRAWLED, sourceId, time(NULL));
 		}
 	}
 	pthread_mutex_unlock(&m_mutex);



From fabricecolin at mail.berlios.de  Thu Nov 15 12:08:51 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 15 Nov 2007 12:08:51 +0100
Subject: [Pinot-svn] r1109 - trunk/scripts/python
Message-ID: <200711151108.lAFB8pJZ028036@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-15 12:08:50 +0100 (Thu, 15 Nov 2007)
New Revision: 1109

Modified:
   trunk/scripts/python/pinot-module.py
Log:
The initialize() method connects to D-Bus.
GetStatistics() is called on the interface object.
Matches category is "documents".


Modified: trunk/scripts/python/pinot-module.py
===================================================================
--- trunk/scripts/python/pinot-module.py	2007-11-14 14:25:39 UTC (rev 1108)
+++ trunk/scripts/python/pinot-module.py	2007-11-15 11:08:50 UTC (rev 1109)
@@ -36,6 +36,7 @@
 class PinotFileMatch(deskbar.interfaces.Match):
 	def __init__(self, fields, **args):
 		deskbar.interfaces.Match.__init__ (self)
+		self._category = "documents"
 		self.result = fields
 		self.url = fields["url"]
 		url_scheme = self.url[:self.url.index("://")]
@@ -104,22 +105,34 @@
 		self.query_string = ""
 		self.matches = []
 		self.matches_count = 10
-		# The dbus connection will be set in query()
+		# Connect to dbus in initialize() and if need be, query()
 		self.bus = self.proxy_obj = self.pinot_iface = None
 
+	def initialize(self):
+		try:
+			import dbus
+			print 'First time connection'
+			self.bus = dbus.SessionBus()
+			self.proxy_obj = self.bus.get_object('de.berlios.Pinot', '/de/berlios/Pinot')
+			self.pinot_iface = dbus.Interface(self.proxy_obj, 'de.berlios.Pinot')
+		except Exception, msg:
+			print 'Caught exception: ', msg
+		except:
+			print 'Caught unexpected exception'
+
 	def query (self, qstring):
 		print "SimpleQuery: ", qstring
 		doc_ids = []
 		max = 10
 		# Do we need to set up the dbus connection ?
-		if self.proxy_obj:
+		if self.pinot_iface:
 			try:
 				print 'Getting statistics'
-				self.proxy_obj.GetStatistics()
+				self.pinot_iface.GetStatistics()
 			except:
 				print 'GetStatistics failed'
-				self.proxy_obj = None
-		if not self.proxy_obj:
+				self.pinot_iface = None
+		if not self.pinot_iface:
 			try:
 				import dbus
 				print 'Connecting'



From fabricecolin at mail.berlios.de  Thu Nov 15 13:47:14 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 15 Nov 2007 13:47:14 +0100
Subject: [Pinot-svn] r1110 - trunk
Message-ID: <200711151247.lAFClEpT018989@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-15 13:47:14 +0100 (Thu, 15 Nov 2007)
New Revision: 1110

Modified:
   trunk/pinot.spec.in
Log:
Put pinot-deskbar back in, as in the Fedora spec. This will simplify things
for Fedora users.


Modified: trunk/pinot.spec.in
===================================================================
--- trunk/pinot.spec.in	2007-11-15 11:08:50 UTC (rev 1109)
+++ trunk/pinot.spec.in	2007-11-15 12:47:14 UTC (rev 1110)
@@ -26,7 +26,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
 Requires: xapian-core-libs >= 1.0.3, libtextcat >= 2.2, sqlite >= 3.3.1, curl >= 7.13, gmime >= 2.1
 Requires: gtkmm24 >= 2.6, libxml++ >= 2.12, %{dbus_pkg} >= 0.60, shared-mime-info
-Requires: deskbar-applet, taglib >= 1.4, unzip, antiword, unrtf, %{pftotext_pkg}
+Requires: taglib >= 1.4, unzip, antiword, unrtf, %{pftotext_pkg}
 #Suggests: xapian-omega
 BuildRequires: xapian-core-devel >= 1.0.3, libtextcat-devel >= 2.2, sqlite-devel >= 3.3.1, curl-devel >= 7.13, gmime-devel >= 2.1, boost-devel >= 1.32
 BuildRequires: gtkmm24-devel >= 2.6, libxml++-devel >= 2.12, %{dbus_dev_pkg} >= 0.60, gettext-devel, desktop-file-utils
@@ -37,7 +37,6 @@
 %endif
 # These used to be independant packages
 Obsoletes: pinot-audio-docs
-Obsoletes: pinot-deskbar
 Obsoletes: pinot-omega
 
 %description
@@ -47,6 +46,15 @@
 analyze the results.
 A plugin for DeskbarApplet is included.
 
+%package deskbar
+Summary: Pinot plugin for DeskbarApplet
+Group: Applications/Internet
+Requires: %{name} = %{version}
+Requires: deskbar-applet
+
+%description deskbar
+The included plugin enables Deskbar to search documents indexed by Pinot.
+
 %prep
 %setup -q
 
@@ -86,8 +94,6 @@
 %{_libdir}/pinot/filters/libexternalfilter.so*
 %{_libdir}/pinot/filters/libmboxfilter.so*
 %{_libdir}/pinot/filters/libtaglibfilter.so*
-%{_libdir}/deskbar-applet/handlers/pinot-live.py*
-%{_libdir}/deskbar-applet/modules-2.20-compatible/pinot-module.py*
 %{_datadir}/dbus-1/services/de.berlios.Pinot.service
 %{_datadir}/pinot/
 %{_datadir}/icons/hicolor/48x48/apps/pinot.png
@@ -99,5 +105,10 @@
 %{_datadir}/applications/*.desktop
 %{_mandir}/man1/pinot*
 
+%files deskbar
+%defattr(-,root,root,-)
+%{_libdir}/deskbar-applet/handlers/pinot-*
+%{_libdir}/deskbar-applet/modules-2.20-compatible/pinot-*
+
 %changelog
 



From fabricecolin at mail.berlios.de  Thu Nov 15 13:49:31 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 15 Nov 2007 13:49:31 +0100
Subject: [Pinot-svn] r1111 - trunk/Utils
Message-ID: <200711151249.lAFCnV3d019144@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-15 13:49:30 +0100 (Thu, 15 Nov 2007)
New Revision: 1111

Modified:
   trunk/Utils/MIMEScanner.cpp
Log:
Work around broken shared-mime-info rules that identify all HTML files as
Mozilla bookmarks.


Modified: trunk/Utils/MIMEScanner.cpp
===================================================================
--- trunk/Utils/MIMEScanner.cpp	2007-11-15 12:47:14 UTC (rev 1110)
+++ trunk/Utils/MIMEScanner.cpp	2007-11-15 12:49:30 UTC (rev 1111)
@@ -478,6 +478,14 @@
 		return "";
 	}
 
+	// Quick and dirty fix to work-around shared-mime-info mistakenly identifying
+	// HTML files as Mozilla bookmarks
+	if ((fileName.find(".htm") != string::npos) &&
+		(strncasecmp(pType, "application/x-mozilla-bookmarks", strlen(pType)) == 0))
+	{
+		return "text/html";
+	}
+
 	return pType;
 }
 



From fabricecolin at mail.berlios.de  Thu Nov 15 13:51:08 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 15 Nov 2007 13:51:08 +0100
Subject: [Pinot-svn] r1112 - trunk
Message-ID: <200711151251.lAFCp8Hx019360@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-15 13:51:08 +0100 (Thu, 15 Nov 2007)
New Revision: 1112

Modified:
   trunk/README
Log:
Document Search This For, the new environment variables and Deskbar plugins.


Modified: trunk/README
===================================================================
--- trunk/README	2007-11-15 12:49:30 UTC (rev 1111)
+++ trunk/README	2007-11-15 12:51:08 UTC (rev 1112)
@@ -12,12 +12,13 @@
 7. Viewing cached results
 8. File formats
 9. File patterns
-10. More Like This
+10. Digging deeper
 11. Saving results
 12. D-Bus service
-13. Deskbar Applet plugin
-14. How to reset indexes
-15. Dependencies
+13. Deskbar Applet plugins
+14. Environment variables
+15. How to reset indexes
+16. Dependencies
 
 
 1. What is Pinot
@@ -275,68 +276,72 @@
   common picture and video types such as JPG, GIF, ZIP and MPG.
 
 
-10. More Like This
+10. Digging deeper
 
 
-   The More Like This feature is enabled when at least one of the results
-   currently selected is indexed, ie if the result was previously manually
-   indexed in My Web Pages, or if it's a local file indexed in My Documents.
-   Its role is to expand queries.
+  Pinot offers two ways you can dig deeper in your documents : More Like This
+  suggests terms specific to documents that may help in finding related
+  documents, and Search This For allows to search in results.
+  Both features are enabled if one or more of the results currently selected
+  is indexed, and only operate on those.
 
-   When activated, it will suggest other terms from the selected results
-   and create a new Stored Query prefixed with "More Like". For instance,
-   if you run a Stored Query with name "Me", the expanded query's name will be
-   "More Like Me".
+  When activated, More Like This will create a new Stored Query prefixed with
+  "More Like". For instance, if you run a Stored Query with name "Me", the
+  expanded query's name will be "More Like Me".
 
+  Search For This will search those results for the Stored Query selected in
+  the sub-menu and will present results in a new tab. For instance, running
+  the Stored Query "Me" on a set of results will open a "Me In Results" tab.
 
+
 11. Saving results
 
 
-   Starting with version 0.72, lists of results can be saved to disk by
-   selecting the Save As menuitem under Results. Two output formats are
-   available to choose from in the file selector opened by Save As :
-     * CSV, a text format
-       The semi-colon character (';') is used to delimit fields.
-     * OpenSearch response, a XML/RSS format
-       See http://www.opensearch.org/Specifications/OpenSearch/1.1#OpenSearch_response_elements
-       for details.
+  Starting with version 0.72, lists of results can be saved to disk by
+  selecting the Save As menuitem under Results. Two output formats are
+  available to choose from in the file selector opened by Save As :
+    * CSV, a text format
+      The semi-colon character (';') is used to delimit fields.
+    * OpenSearch response, a XML/RSS format
+      See http://www.opensearch.org/Specifications/OpenSearch/1.1#OpenSearch_response_elements
+      for details.
 
 
 12. D-Bus service
 
 
-   D-Bus activation makes sure the service is running whenever one of its
-   methods is invoked by any consumer application. For instance, clicking
-   OK on the Preferences box will call the service's Reload method, thus
-   ensuring the service is running. This also causes the service to reload
-   the configuration file.
+  D-Bus activation makes sure the service is running whenever one of its
+  methods is invoked by any consumer application. For instance, clicking
+  OK on the Preferences box will call the service's Reload method, thus
+  ensuring the service is running. This also causes the service to reload
+  the configuration file.
 
-   Starting with 0.63, the service is auto-started. The file that enables
-   this is located at /etc/xdg/autostart/pinot-dbus-daemon.desktop.
-   For older versions, if you want the service to be started with your X
-   session, add pinot-dbus-daemon to your desktop environment's startup
-   programs list.
+  Starting with 0.63, the service is auto-started. The file that enables
+  this is located at /etc/xdg/autostart/pinot-dbus-daemon.desktop.
+  For older versions, if you want the service to be started with your X
+  session, add pinot-dbus-daemon to your desktop environment's startup
+  programs list.
 
-   A few things to keep in mind :
-     * in version 0.75 and older, the service didn't reload its configuration
-       while running, so any change (for instance, adding or removing an
-       indexable directory) only took effect when the service was restarted.
-     * when starting, the service will first crawl all configured locations
-       and (re)index new and modified files. Starting with 0.64, the daemon's
-       scheduling priority is set very low (15, can be adjusted with --priority)
-       so that you can do stuff while it is indexing !
-     * when finished crawling, the service will monitor these locations
-       for changes and should consume little resources, unless a huge
-       quantity of files needs its attention.
-     * any change detected by the monitor is immediately queued and acted upon
-       as soon as possible, eg reindex a file that was modified. This and low
-       priority should make the daemon not very intrusive.
-     * operations that involve communicating with the daemon, such as editing
-       documents metadata, may timeout if the system is under heavy load and/or
-       the daemon is busy. In most cases, the message will have been received
-       by the daemon, but the reply may take longer than expected. The Pinot
-       UI may report that the operation failed, even though it was queued for
-       processing and will be acted upon by the daemon as soon as possible.
+  A few things to keep in mind :
+    * in version 0.75 and older, the service didn't reload its configuration
+      while running, so any change (for instance, adding or removing an
+      indexable directory) only took effect when the service was restarted.
+    * when starting, the service will first crawl all configured locations
+      and (re)index new and modified files. Starting with 0.64, the daemon's
+      scheduling priority is set very low (15, can be adjusted with --priority)
+      so that you can do stuff while it is indexing !
+    * when finished crawling, the service will monitor these locations
+      for changes and should consume little resources, unless a huge
+      quantity of files needs its attention.
+    * any change detected by the monitor is immediately queued and acted upon
+      as soon as possible, eg reindex a file that was modified. This and low
+      priority should make the daemon not very intrusive.
+    * operations that involve communicating with the daemon, such as editing
+      documents metadata, may timeout if the system is under heavy load and/or
+      the daemon is busy. In most cases, the message will have been received
+      by the daemon, but the reply may take longer than expected. The Pinot
+      UI may report that the operation failed, even though it was queued for
+      processing and will be acted upon by the daemon as soon as possible.
 
   If you have dbus-send installed, you can start the daemon manually by calling
   the GetStatistics method with
@@ -350,25 +355,62 @@
   For a list of available D-Bus methods, see the file pinot-dbus-daemon.xml.
 
 
-13. Deskbar Applet plugin
+13. Deskbar Applet plugins
 
 
   Deskbar Applet provides an omnipresent versatile search interface for Gnome.
-  Searching documents indexed by Pinot with the applet is possible. Users
-  of RPM-based systems may install the pinot-desbar RPM. Otherwise, the
-  file scripts/python/pinot-live.py can simply be copied into
-  $PREFIX/lib/deskbar-applet/handlers (or, on 64 bit systems,
-  $PREFIX/lib64/deskbar-applet/handlers) for use by all users, or into
-  ~/.gnome2/deskbar-applet/handlers for use only by the current user.
-  Once enabled, the plugin will rely on the D-Bus service to query the My
-  Documents index.
+  Searching documents indexed by Pinot with the applet is possible.
+
+  Starting with Pinot 0.81, two plugins are available : a "module" for Deskbar
+  2.20 or newer, and a "handler" for older versions. Both plugins rely on the
+  D-Bus service to query the My Documents index.
+
+  The module is at scripts/python/pinot-module.py, while the handler is at
+  scripts/python/pinot-live.py. The module should be copied into
+  $LIBS/deskbar-applet/modules-2.20-compatible and the handler in
+  $LIBS/deskbar-applet/handlers for use by all users.
+  For use only by the current user, the directories to copy to are
+  ~/.gnome2/deskbar-applet/modules-2.20-compatible and
+  ~/.gnome2/deskbar-applet/handlers respectively.
+
   Deskbar Applet appears to sort results by names, so it may not present
-  results in the same order as the Pinot UI.
+  results in the same order as the Pinot UI. Additionally, searches run through
+  the D-Bus interface are treated a bit differently, as terms are OR'ed
+  together if no exact match is found.
 
 
-14. How to reset indexes
+14. Environment variables
 
 
+  Pinot tries to provide reasonable defaults for most systems, but there may be
+  situations where you want to tweak these values through environment variables :
+    * PINOT_SPELLING_DB
+      By default, Pinot builds indexes with a spelling database. This spelling
+      database may make up as much as a third of the size of the index.
+      If your system is low on disk space, you can disable this with
+      $ export PINOT_SPELLING_DB=NO
+      Make sure this is set for your login session, ie whenever the daemon is
+      auto-started. You will also have to reset indexes, as described in
+      section "15. How to reset indexes".
+    * PINOT_MINIMUM_DISK_SPACE
+      The daemon will stop crawling and indexing files when the partition on
+      which the index resides runs out of free space. By default, this means
+      less than 50 Mb. To change this value to 100 Mb for instance, use 
+      $ export PINOT_MINIMUM_DISK_SPACE=100
+
+  Another environment variable that you may want to tweak comes from Xapian.
+  XAPIAN_FLUSH_THRESHOLD can be set to the number of documents after which
+  Xapian is to flush changes to the index. The default value is set to 10000
+  at the time of writing this.
+  Lowering this value should decrease the amount of memory used to cache
+  changes to the index. Note that pinot-dbus-daemon explicitely flushes the
+  index once it has crawled a directory (directory configured in Preferences,
+  Indexing).
+
+
+15. How to reset indexes
+
+
   You may wish to reset one of the index and start from scratch. There
   are several ways to do this, depending on which index it is.
 
@@ -391,7 +433,7 @@
   $ pinot-dbus-daemon --reindex
 
 
-15. Dependencies
+16. Dependencies
 
 
   The version numbers indicate the minimum version Pinot has been tested
@@ -406,6 +448,9 @@
 xapian-core						1.0.3
 http://www.xapian.org/
 
+ zlib							1.2.0
+ http://www.gzip.org/zlib/
+
 curl (1)						7.13.1
 http://curl.haxx.se/
 - OR -



From fabricecolin at mail.berlios.de  Sat Nov 17 06:19:46 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 17 Nov 2007 06:19:46 +0100
Subject: [Pinot-svn] r1113 - trunk
Message-ID: <200711170519.lAH5JkA1011977@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-17 06:19:45 +0100 (Sat, 17 Nov 2007)
New Revision: 1113

Modified:
   trunk/pinot-dbus-daemon.desktop
Log:
Fixed comment : the daemon doesn't allow searching anything but My Documents.


Modified: trunk/pinot-dbus-daemon.desktop
===================================================================
--- trunk/pinot-dbus-daemon.desktop	2007-11-15 12:51:08 UTC (rev 1112)
+++ trunk/pinot-dbus-daemon.desktop	2007-11-17 05:19:45 UTC (rev 1113)
@@ -1,6 +1,6 @@
 [Desktop Entry]
 Name=Pinot
-Comment=Search the Web and your documents
+Comment=Search your documents
 Exec=pinot-dbus-daemon
 Icon=pinot
 Terminal=false



From fabricecolin at mail.berlios.de  Sat Nov 17 08:50:53 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 17 Nov 2007 08:50:53 +0100
Subject: [Pinot-svn] r1114 - trunk/scripts/python
Message-ID: <200711170750.lAH7oruQ005230@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-17 08:50:51 +0100 (Sat, 17 Nov 2007)
New Revision: 1114

Modified:
   trunk/scripts/python/pinot-module.py
Log:
Use get_category() to specify the category, it's cleaner.


Modified: trunk/scripts/python/pinot-module.py
===================================================================
--- trunk/scripts/python/pinot-module.py	2007-11-17 05:19:45 UTC (rev 1113)
+++ trunk/scripts/python/pinot-module.py	2007-11-17 07:50:51 UTC (rev 1114)
@@ -36,7 +36,6 @@
 class PinotFileMatch(deskbar.interfaces.Match):
 	def __init__(self, fields, **args):
 		deskbar.interfaces.Match.__init__ (self)
-		self._category = "documents"
 		self.result = fields
 		self.url = fields["url"]
 		url_scheme = self.url[:self.url.index("://")]
@@ -60,6 +59,12 @@
 	def get_hash(self, text=None):
 		return self.result["url"]
 
+	def get_category (self):
+		try:
+			return TYPES["Documents"]["category"]
+		except:
+			return 'files'
+
 	def get_name(self, text = None):
 		return self.result["caption"]
 



From fabricecolin at mail.berlios.de  Wed Nov 21 15:44:21 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Wed, 21 Nov 2007 15:44:21 +0100
Subject: [Pinot-svn] r1115 - trunk/UI/GTK2/src
Message-ID: <200711211444.lALEiLOv006230@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-21 15:44:20 +0100 (Wed, 21 Nov 2007)
New Revision: 1115

Modified:
   trunk/UI/GTK2/src/DaemonState.cpp
   trunk/UI/GTK2/src/DaemonState.h
   trunk/UI/GTK2/src/pinot-dbus-daemon.cc
Log:
Prox files can't be monitored with inotify so I am changing tactics. Now the
daemon listens for the battery state change signal sent on the message bus by
org.freedesktop.PowerManagement (as defined in the spec v0.1 and v0.2) as well
as the one from org.gnome.PowerManager (for older Gnome installations).
On FreeBSD, we query the sysctl hw.acpi.acline at the same time as the disk
usage check. I am not sure yet how useful it is, so this may be removed.


Modified: trunk/UI/GTK2/src/DaemonState.cpp
===================================================================
--- trunk/UI/GTK2/src/DaemonState.cpp	2007-11-17 07:50:51 UTC (rev 1114)
+++ trunk/UI/GTK2/src/DaemonState.cpp	2007-11-21 14:44:20 UTC (rev 1115)
@@ -32,7 +32,12 @@
 #define CHECK_DISK_SPACE 1
 #endif
 #endif
-#include <fstream>
+#ifdef __FreeBSD__
+#ifdef HAVE_SYSCTLBYNAME
+#include <sys/sysctl.h>
+#define CHECK_BATTERY_SYSCTL 1
+#endif
+#endif
 #include <iostream>
 #include <glibmm/ustring.h>
 #include <glibmm/stringutils.h>
@@ -91,110 +96,6 @@
 	return availableMbSize;
 }
 
-class BatteryHandler : public MonitorHandler
-{
-	public:
-		BatteryHandler(DaemonState *pServer) : MonitorHandler(), m_pServer(pServer)
-		{		
-			// Scan /proc/acpi/ac_adapter for battery states, eg AC/state
-			DIR *pDir = opendir("/proc/acpi/ac_adapter");
-			if (pDir != NULL)
-			{
-				// Iterate through this directory's entries
-				struct dirent *pDirEntry = readdir(pDir);
-				while ((pDirEntry != NULL) &&
-					(m_fileNames.empty() == true))
-				{
-					char *pEntryName = pDirEntry->d_name;
-
-					// Skip . .. and dotfiles
-					if ((pEntryName != NULL) &&
-						(pEntryName[0] != '.'))
-					{
-						string subEntryName("/proc/acpi/ac_adapter/");
-						struct stat fileStat;
-
-						subEntryName += pEntryName;
-#ifdef DEBUG
-						cout << "BatteryHandler: found " << subEntryName << endl;
-#endif
-
-						// Is this a directory ?
-						int entryStatus = stat(subEntryName.c_str(), &fileStat);
-						if ((entryStatus == 0) &&
-							(S_ISDIR(fileStat.st_mode)))
-						{
-							string stateFile(subEntryName);
-
-							stateFile += "/state";
-							// Does it contain a state file ?
-							if (access(stateFile.c_str(), R_OK) == 0)
-							{
-								// Check the current state
-								fileModified(stateFile);
-								// ...and add it for monitoring
-								m_fileNames.insert(stateFile);
-#ifdef DEBUG
-								cout << "BatteryHandler: monitoring " << stateFile << endl;
-#endif
-							}
-						}
-					}
-
-					// Next entry
-					pDirEntry = readdir(pDir);
-				}
-
-				// Close the directory
-				closedir(pDir);
-			}
-		}
-		virtual ~BatteryHandler() {}
-
-		/// Handles file modified events.
-		virtual bool fileModified(const std::string &fileName)
-		{
-			ifstream stateFile;
-			string battState;
-
-			if (m_pServer == NULL)
-			{
-				return false;
-			}
-
-			// What's the new state
-			stateFile.open(fileName.c_str());
-			if (stateFile.is_open() == true)
-			{
-				stateFile >> battState;
-
-				if (strncasecmp(battState.c_str(), "off-line", 8) == 0)
-				{
-					// We are now on battery
-					m_pServer->set_flag(DaemonState::ON_BATTERY);
-					m_pServer->stop_crawling();
-				}
-				else
-				{
-					// Back on-line
-					m_pServer->reset_flag(DaemonState::ON_BATTERY);
-				}
-
-				stateFile.close();
-			}
-
-			return true;
-		}
-
-	protected:
-		DaemonState *m_pServer;
-
-	private:
-		BatteryHandler(const BatteryHandler &other);
-		BatteryHandler &operator=(const BatteryHandler &other);
-
-};
-
 // A function object to stop DirectoryScanner threads with for_each()
 struct StopScannerThreadFunc
 {
@@ -217,20 +118,17 @@
 	ThreadsManager(PinotSettings::getInstance().m_daemonIndexLocation, 20),
 	m_fullScan(false),
 	m_reload(false),
-	m_pBatteryMonitor(MonitorFactory::getMonitor()),
 	m_pDiskMonitor(MonitorFactory::getMonitor()),
-	m_pDiskHandler(NULL),
-	m_pBatteryHandler(NULL)
+	m_pDiskHandler(NULL)
 {
 	FD_ZERO(&m_flagsSet);
 
-#ifdef CHECK_DISK_SPACE
-	// Check every minute
+	// Check disk usage every minute
 	m_timeoutConnection = Glib::signal_timeout().connect(sigc::mem_fun(*this,
 		&DaemonState::on_activity_timeout), 60000);
 	// Check right now before doing anything else
 	DaemonState::on_activity_timeout();
-#endif
+
 	m_onThreadEndSignal.connect(sigc::mem_fun(*this, &DaemonState::on_thread_end));
 }
 
@@ -242,20 +140,13 @@
 	}
 	// Don't delete m_pDiskHandler, threads may need it
 	// Since DaemonState is destroyed when the program exits, it's okay
-	if (m_pBatteryMonitor != NULL)
-	{
-		delete m_pBatteryMonitor;
-	}
-	if (m_pBatteryHandler != NULL)
-	{
-		delete m_pBatteryHandler;
-	}
 }
 
 bool DaemonState::on_activity_timeout(void)
 {
 	if (m_timeoutConnection.blocked() == false)
 	{
+#ifdef CHECK_DISK_SPACE
 		double availableMbSize = getFSFreeSpace(PinotSettings::getInstance().m_daemonIndexLocation);
 		if (availableMbSize >= 0)
 		{
@@ -282,11 +173,53 @@
 				cerr << "Resumed indexing following low disk space condition" << endl;
 			}
 		}
+#endif
+#ifdef CHECK_BATTERY_SYSCTL
+		// Check the battery state too
+		check_battery_state();
+#endif
 	}
 
 	return true;
 }
 
+void DaemonState::check_battery_state(void)
+{
+#ifdef CHECK_BATTERY_SYSCTL
+	int acline = 1;
+	size_t len = sizeof(acline);
+	bool onBattery = false;
+
+	// Are we on battery power ?
+	if (sysctlbyname("hw.acpi.acline", &acline, &len, NULL, 0) == 0)
+	{
+#ifdef DEBUG
+		cout << "DaemonState::check_battery_state: acline " << acline << endl;
+#endif
+		if (acline == 0)
+		{
+			onBattery = true;
+		}
+
+		bool wasOnBattery = is_flag_set(DaemonState::ON_BATTERY);
+		if (onBattery != wasOnBattery)
+		{
+			if (onBattery == true)
+			{
+				// We are now on battery
+				set_flag(DaemonState::ON_BATTERY);
+				stop_crawling();
+			}
+			else
+			{
+				// Back on-line
+				reset_flag(DaemonState::ON_BATTERY);
+			}
+		}
+	}
+#endif
+}
+
 bool DaemonState::crawl_location(const string &locationToCrawl, bool isSource, bool doMonitoring)
 {
 	DirectoryScannerThread *pScannerThread = NULL;
@@ -348,23 +281,6 @@
 #endif
 	}
 
-	// Monitor battery state
-	if (m_pBatteryHandler == NULL)
-	{
-		m_pBatteryHandler = new BatteryHandler(this);
-	}
-	if (m_pBatteryHandler->getFileNames().empty() == false)
-	{
-		MonitorThread *pBatteryMonitorThread = new MonitorThread(m_pBatteryMonitor, m_pBatteryHandler);
-		start_thread(pBatteryMonitorThread, true);
-
-		cout << "Monitoring battery state" << endl;
-	}
-	else
-	{
-		cout << "Not monitoring battery state" << endl;
-	}
-
 	// Fire up the disk monitor thread
 	if (m_pDiskHandler == NULL)
 	{

Modified: trunk/UI/GTK2/src/DaemonState.h
===================================================================
--- trunk/UI/GTK2/src/DaemonState.h	2007-11-17 07:50:51 UTC (rev 1114)
+++ trunk/UI/GTK2/src/DaemonState.h	2007-11-21 14:44:20 UTC (rev 1115)
@@ -60,15 +60,15 @@
 		bool m_fullScan;
 		bool m_reload;
 		fd_set m_flagsSet;
-		MonitorInterface *m_pBatteryMonitor;
 		MonitorInterface *m_pDiskMonitor;
 		MonitorHandler *m_pDiskHandler;
-		MonitorHandler *m_pBatteryHandler;
 		sigc::connection m_timeoutConnection;
 		sigc::signal1<void, int> m_signalQuit;
 
 		bool on_activity_timeout(void);
 
+		void check_battery_state(void);
+
 		bool crawl_location(const std::string &locationToCrawl, bool isSource, bool doMonitoring);
 
 };

Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.cc
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2007-11-17 07:50:51 UTC (rev 1114)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2007-11-21 14:44:20 UTC (rev 1115)
@@ -136,7 +136,53 @@
 		cout << "filterHandler: received NameOwnerChanged" << endl;
 #endif
 	}
+	// The first two signals are specified by the freedesktop.org Power Management spec v0.1 and v0.2
+	else if ((dbus_message_is_signal(pMessage, "org.freedesktop.PowerManagement", "BatteryStateChanged") == TRUE) ||
+		(dbus_message_is_signal(pMessage, "org.freedesktop.PowerManagement", "OnBatteryChanged") == TRUE) ||
+		(dbus_message_is_signal(pMessage, "org.gnome.PowerManager", "OnAcChanged") == TRUE))
+	{
+		DBusError error;
+		gboolean onBattery = FALSE;
 
+#ifdef DEBUG
+		cout << "filterHandler: received OnBatteryChanged" << endl;
+#endif
+		dbus_error_init(&error);
+		if ((dbus_message_get_args(pMessage, &error,
+			DBUS_TYPE_BOOLEAN, &onBattery,
+			DBUS_TYPE_INVALID) == TRUE) &&
+			(pData != NULL))
+		{
+			DaemonState *pServer = (DaemonState *)pData;
+
+			if (dbus_message_is_signal(pMessage, "org.gnome.PowerManager", "OnAcChanged") == TRUE)
+			{
+				// This tells us if we are on AC, not on battery
+				if (onBattery == true)
+				{
+					onBattery = false;
+				}
+				else
+				{
+					onBattery = true;
+				}
+			}
+
+			if (onBattery == true)
+			{
+				// We are now on battery
+				pServer->set_flag(DaemonState::ON_BATTERY);
+				pServer->stop_crawling();
+			}
+			else
+			{
+				// Back on-line
+				pServer->reset_flag(DaemonState::ON_BATTERY);
+			}
+		}
+		dbus_error_free(&error);
+	}
+
 	return DBUS_HANDLER_RESULT_NOT_YET_HANDLED;
 }
 
@@ -431,6 +477,12 @@
 		dbus_bus_request_name(pConnection, g_pinotDBusService, 0, &error);
 		if (dbus_error_is_set(&error) == FALSE)
 		{
+			// See power management signals
+			dbus_bus_add_match(pConnection,
+				"type='signal',interface='org.freedesktop.PowerManagement'", &error);
+			dbus_bus_add_match(pConnection,
+				"type='signal',interface='org.gnome.PowerManager'", &error);
+
 			dbus_connection_add_filter(pConnection,
 				(DBusHandleMessageFunction)filterHandler, &server, NULL);
 		}



From fabricecolin at mail.berlios.de  Thu Nov 22 12:17:37 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 22 Nov 2007 12:17:37 +0100
Subject: [Pinot-svn] r1116 - trunk
Message-ID: <200711221117.lAMBHbJ2010744@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-22 12:17:36 +0100 (Thu, 22 Nov 2007)
New Revision: 1116

Modified:
   trunk/configure.in
Log:
The function statfs(2) may be in sys/vfs.h, sys/statfs.h or sys/mount.h so check
for those, as well as sys/statvfs.h and sysctlbyname(3).


Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2007-11-21 14:44:20 UTC (rev 1115)
+++ trunk/configure.in	2007-11-22 11:17:36 UTC (rev 1116)
@@ -262,7 +262,7 @@
 dnl Other libraries
 MISC_LIBS="-lcrypt $PTHREAD_LIBS"
 AC_SUBST(MISC_LIBS)
-AC_CHECK_HEADERS([netinet/in.h arpa/inet.h])
+AC_CHECK_HEADERS([sys/vfs.h sys/statfs.h sys/mount.h sys/statvfs.h])
 PKG_CHECK_MODULES(MIMEINFO, shared-mime-info )
 SHARED_MIME_INFO_PREFIX=`pkg-config --variable=prefix shared-mime-info`
 AC_SUBST(SHARED_MIME_INFO_PREFIX)
@@ -314,6 +314,7 @@
 AC_CHECK_FUNCS(setrlimit)
 AC_CHECK_FUNCS(statvfs)
 AC_CHECK_FUNCS(statfs)
+AC_CHECK_FUNCS(sysctlbyname)
 
 AC_OUTPUT( pinot.spec UI/GTK2/src/de.berlios.Pinot.service Makefile \
 	Utils/Makefile Tokenize/Makefile SQL/Makefile po/Makefile.in Collect/Makefile )



From fabricecolin at mail.berlios.de  Thu Nov 22 12:20:31 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 22 Nov 2007 12:20:31 +0100
Subject: [Pinot-svn] r1117 - trunk/Search
Message-ID: <200711221120.lAMBKVxu011265@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-22 12:20:31 +0100 (Thu, 22 Nov 2007)
New Revision: 1117

Modified:
   trunk/Search/Makefile.am
   trunk/Search/XapianEngine.cpp
Log:
XesamULParser depends on boost Spirit and should be built conditionally, just
like SherlockParser. This was reported by Reuben Thomas.


Modified: trunk/Search/Makefile.am
===================================================================
--- trunk/Search/Makefile.am	2007-11-22 11:17:36 UTC (rev 1116)
+++ trunk/Search/Makefile.am	2007-11-22 11:20:31 UTC (rev 1117)
@@ -41,11 +41,11 @@
 	XapianEngine.cpp \
 	$(top_srcdir)/Search/xesam/XapianQueryBuilder.cc \
 	$(top_srcdir)/Search/xesam/XesamQLParser.cc \
-	$(top_srcdir)/Search/xesam/XesamQueryBuilder.cc \
-	$(top_srcdir)/Search/xesam/XesamULParser.cc
+	$(top_srcdir)/Search/xesam/XesamQueryBuilder.cc
 
 if HAVE_BOOST_SPIRIT
-libSearch_la_SOURCES += SherlockParser.cpp
+libSearch_la_SOURCES += SherlockParser.cpp \
+	$(top_srcdir)/Search/xesam/XesamULParser.cc
 endif
 
 if HAVE_SOAP

Modified: trunk/Search/XapianEngine.cpp
===================================================================
--- trunk/Search/XapianEngine.cpp	2007-11-22 11:17:36 UTC (rev 1116)
+++ trunk/Search/XapianEngine.cpp	2007-11-22 11:20:31 UTC (rev 1117)
@@ -35,7 +35,9 @@
 #include "XapianEngine.h"
 #include "xesam/XapianQueryBuilder.h"
 #include "xesam/XesamQLParser.h"
+#ifdef HAVE_BOOST_SPIRIT
 #include "xesam/XesamULParser.h"
+#endif
 
 using std::string;
 using std::multimap;
@@ -251,10 +253,12 @@
 		{
 			pParser = new XesamQLParser();
 		}
+#ifdef HAVE_BOOST_SPIRIT_CORE_HPP
 		else if (type == QueryProperties::XESAM_UL)
 		{
 			pParser = new XesamULParser();
 		}
+#endif
 
 		if (pParser != NULL)
 		{



From fabricecolin at mail.berlios.de  Thu Nov 22 12:29:16 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 22 Nov 2007 12:29:16 +0100
Subject: [Pinot-svn] r1118 - trunk/UI/GTK2/src
Message-ID: <200711221129.lAMBTGIs011700@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-22 12:29:14 +0100 (Thu, 22 Nov 2007)
New Revision: 1118

Modified:
   trunk/UI/GTK2/src/DaemonState.cpp
   trunk/UI/GTK2/src/DaemonState.h
   trunk/UI/GTK2/src/PinotSettings.cpp
   trunk/UI/GTK2/src/PinotSettings.h
   trunk/UI/GTK2/src/WorkerThreads.cpp
   trunk/UI/GTK2/src/WorkerThreads.h
   trunk/UI/GTK2/src/pinot-dbus-daemon.cc
Log:
Locations to crawl are queued and only popped from the queue if the crawler
wasn't stopped. This allows restarting crawling more or less where it stopped
when the system went on battery.
The battery state is queried at startup (through D-Bus) and crawling is
restarted when the system goes on AC.


Modified: trunk/UI/GTK2/src/DaemonState.cpp
===================================================================
--- trunk/UI/GTK2/src/DaemonState.cpp	2007-11-22 11:20:31 UTC (rev 1117)
+++ trunk/UI/GTK2/src/DaemonState.cpp	2007-11-22 11:29:14 UTC (rev 1118)
@@ -24,14 +24,26 @@
 #include <unistd.h>
 #include <stdlib.h>
 #ifdef HAVE_STATFS
-#include <sys/vfs.h>
-#define CHECK_DISK_SPACE 1
+  #ifdef HAVE_SYS_VFS_H
+  #include <sys/vfs.h>
+  #define CHECK_DISK_SPACE 1
+  #else
+    #ifdef HAVE_SYS_STATFS_H
+      #include <sys/statfs.h>
+      #define CHECK_DISK_SPACE 1
+    #else
+      #ifdef HAVE_SYS_MOUNT_H
+        #include <sys/mount.h>
+        #define CHECK_DISK_SPACE 1
+      #endif
+    #endif
+  #endif
 #else
-#ifdef HAVE_STATVFS
-#include <sys/statvfs.h>
-#define CHECK_DISK_SPACE 1
+  #ifdef HAVE_STATVFS
+  #include <sys/statvfs.h>
+  #define CHECK_DISK_SPACE 1
+  #endif
 #endif
-#endif
 #ifdef __FreeBSD__
 #ifdef HAVE_SYSCTLBYNAME
 #include <sys/sysctl.h>
@@ -119,7 +131,8 @@
 	m_fullScan(false),
 	m_reload(false),
 	m_pDiskMonitor(MonitorFactory::getMonitor()),
-	m_pDiskHandler(NULL)
+	m_pDiskHandler(NULL),
+	m_crawlers(0)
 {
 	FD_ZERO(&m_flagsSet);
 
@@ -220,15 +233,19 @@
 #endif
 }
 
-bool DaemonState::crawl_location(const string &locationToCrawl, bool isSource, bool doMonitoring)
+bool DaemonState::crawl_location(const PinotSettings::IndexableLocation &location)
 {
+	string locationToCrawl(location.m_name);
+	bool doMonitoring = location.m_monitor;
+	bool isSource = location.m_isSource;
 	DirectoryScannerThread *pScannerThread = NULL;
 
+	// Can we go ahead and crawl ?
 	if ((is_flag_set(LOW_DISK_SPACE) == true) ||
 		(is_flag_set(ON_BATTERY) == true))
 	{
 #ifdef DEBUG
-		cout << "DaemonState::crawl_location: stopped crawling" << endl;
+		cout << "DaemonState::crawl_location: crawling was stopped" << endl;
 #endif
 		return true;
 	}
@@ -252,7 +269,14 @@
 	}
 	pScannerThread->getFileFoundSignal().connect(sigc::mem_fun(*this, &DaemonState::on_message_filefound));
 
-	return start_thread(pScannerThread);
+	if (start_thread(pScannerThread) == true)
+	{
+		++m_crawlers;
+
+		return true;
+	}
+
+	return false;
 }
 
 void DaemonState::start(bool forceFullScan)
@@ -291,12 +315,22 @@
 	MonitorThread *pDiskMonitorThread = new MonitorThread(m_pDiskMonitor, m_pDiskHandler);
 	start_thread(pDiskMonitorThread, true);
 
-	set<PinotSettings::IndexableLocation>::const_iterator locationIter = PinotSettings::getInstance().m_indexableLocations.begin();
-	if (locationIter != PinotSettings::getInstance().m_indexableLocations.end())
+	for (set<PinotSettings::IndexableLocation>::const_iterator locationIter = PinotSettings::getInstance().m_indexableLocations.begin();
+		locationIter != PinotSettings::getInstance().m_indexableLocations.end(); ++locationIter)
 	{
-		// Crawl this now
-		crawl_location(locationIter->m_name, true, locationIter->m_monitor);
+		m_crawlQueue.push(*locationIter);
 	}
+#ifdef DEBUG
+	cout << "DaemonState::start: " << m_crawlQueue.size() << " locations to crawl" << endl;
+#endif
+
+	// Initiate crawling
+	if (m_crawlQueue.empty() == false)
+	{
+		PinotSettings::IndexableLocation firstLocation(m_crawlQueue.front());
+
+		crawl_location(firstLocation);
+	}
 }
 
 void DaemonState::reload(void)
@@ -305,17 +339,39 @@
 	m_reload = true;
 }
 
+void DaemonState::start_crawling(void)
+{
+	if (write_lock_lists() == true)
+	{
+#ifdef DEBUG
+		cout << "DaemonState::start_crawling: " << m_crawlQueue.size() << " locations to crawl, "
+			<< m_crawlers << " crawlers" << endl;
+#endif
+		// Get the next location, unless something is still being crawled
+		if ((m_crawlers == 0) &&
+			(m_crawlQueue.empty() == false))
+		{
+			PinotSettings::IndexableLocation nextLocation(m_crawlQueue.front());
+
+			crawl_location(nextLocation);
+		}
+
+		unlock_lists();
+	}
+
+}
+
 void DaemonState::stop_crawling(void)
 {
-	if (m_threads.empty() == false)
+	if (write_lock_threads() == true)
 	{
-		if (write_lock_threads() == true)
+		if (m_threads.empty() == false)
 		{
 			// Stop all DirectoryScanner threads
 			for_each(m_threads.begin(), m_threads.end(), StopScannerThreadFunc());
+		}
 
-			unlock_threads();
-		}
+		unlock_threads();
 	}
 }
 
@@ -341,41 +397,23 @@
 			delete pThread;
 			return;
 		}
+		--m_crawlers;
+#ifdef DEBUG
+		cout << "DaemonState::on_thread_end: done crawling " << pScannerThread->getDirectory() << endl;
+#endif
 
-		string crawledLocation(pScannerThread->getDirectory());
-
 		// Explicitely flush the index once a directory has been crawled
 		XapianIndex index(PinotSettings::getInstance().m_daemonIndexLocation);
 		index.flush();
 
-#ifdef DEBUG
-		cout << "DaemonState::on_thread_end: done crawling " << crawledLocation << endl;
-#endif
-		// Another location to crawl ?
-		if (write_lock_lists() == true)
+		if (pScannerThread->isStopped() == false)
 		{
-			PinotSettings::IndexableLocation currentLocation;
-			currentLocation.m_name = crawledLocation;
+			// Pop the queue
+			m_crawlQueue.pop();
+		}
+		// Else, the directory wasn't fully crawled so better leave it in the queue
 
-			set<PinotSettings::IndexableLocation>::const_iterator locationIter = PinotSettings::getInstance().m_indexableLocations.find(currentLocation);
-			if (locationIter != PinotSettings::getInstance().m_indexableLocations.end())
-			{
-				// Get the next location
-				++locationIter;
-				if (locationIter != PinotSettings::getInstance().m_indexableLocations.end())
-				{
-					crawl_location(locationIter->m_name, true, locationIter->m_monitor);
-				}
-			}
-#ifdef DEBUG
-			else cout << "DaemonState::on_thread_end: nothing else to crawl" << endl;
-#endif
-
-			unlock_lists();
-		}
-#ifdef DEBUG
-		else cout << "DaemonState::on_thread_end: nothing else to crawl" << endl;
-#endif
+		start_crawling();
 	}
 	else if (type == "IndexingThread")
 	{
@@ -388,6 +426,17 @@
 
 		// Get the URL we have just indexed
 		indexedUrl = pIndexThread->getURL();
+
+		// Did it fail ?
+		int errorNum = pThread->getErrorNum();
+		if ((errorNum > 0) &&
+			(indexedUrl.empty() == false))
+		{
+			CrawlHistory history(PinotSettings::getInstance().getHistoryDatabaseName());
+
+			// An entry should already exist for this
+			history.updateItem(indexedUrl, CrawlHistory::ERROR, time(NULL), errorNum);
+		}
 	}
 	else if (type == "UnindexingThread")
 	{
@@ -418,17 +467,6 @@
 		}
 	}
 
-	// Did it fail ?
-	int errorNum = pThread->getErrorNum();
-	if ((errorNum > 0) &&
-		(indexedUrl.empty() == false))
-	{
-		CrawlHistory history(PinotSettings::getInstance().getHistoryDatabaseName());
-
-		// An entry should already exist for this
-		history.updateItem(indexedUrl, CrawlHistory::ERROR, time(NULL), errorNum);
-	}
-
 	// Delete the thread
 	delete pThread;
 
@@ -482,11 +520,16 @@
 	}
 	else
 	{
-		string location(docInfo.getLocation());
+		PinotSettings::IndexableLocation newLocation;
 
-		crawl_location(location.substr(7), false, true);
+		newLocation.m_monitor = true;
+		newLocation.m_name = docInfo.getLocation().substr(7);
+		newLocation.m_isSource = false;
+
+		// Queue for later crawling
+		m_crawlQueue.push(newLocation);
 #ifdef DEBUG
-		cout << "DaemonState::on_message_filefound: new directory " << location.substr(7) << endl;
+		cout << "DaemonState::on_message_filefound: new directory " << newLocation.m_name << endl;
 #endif
 	}
 }

Modified: trunk/UI/GTK2/src/DaemonState.h
===================================================================
--- trunk/UI/GTK2/src/DaemonState.h	2007-11-22 11:20:31 UTC (rev 1117)
+++ trunk/UI/GTK2/src/DaemonState.h	2007-11-22 11:29:14 UTC (rev 1118)
@@ -27,6 +27,7 @@
 
 #include "MonitorInterface.h"
 #include "MonitorHandler.h"
+#include "PinotSettings.h"
 #include "WorkerThreads.h"
 
 class DaemonState : public ThreadsManager
@@ -41,6 +42,8 @@
 
 		void reload(void);
 
+		void start_crawling(void);
+
 		void stop_crawling(void);
 
 		void on_thread_end(WorkerThread *pThread);
@@ -64,12 +67,14 @@
 		MonitorHandler *m_pDiskHandler;
 		sigc::connection m_timeoutConnection;
 		sigc::signal1<void, int> m_signalQuit;
+		unsigned int m_crawlers;
+		std::queue<PinotSettings::IndexableLocation> m_crawlQueue;
 
 		bool on_activity_timeout(void);
 
 		void check_battery_state(void);
 
-		bool crawl_location(const std::string &locationToCrawl, bool isSource, bool doMonitoring);
+		bool crawl_location(const PinotSettings::IndexableLocation &location);
 
 };
 

Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2007-11-22 11:20:31 UTC (rev 1117)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2007-11-22 11:29:14 UTC (rev 1118)
@@ -1823,13 +1823,15 @@
 }
 
 PinotSettings::IndexableLocation::IndexableLocation() :
-	m_monitor(false)
+	m_monitor(false),
+	m_isSource(true)
 {
 }
 
 PinotSettings::IndexableLocation::IndexableLocation(const IndexableLocation &other) :
 	m_monitor(other.m_monitor),
-	m_name(other.m_name)
+	m_name(other.m_name),
+	m_isSource(other.m_isSource)
 {
 }
 
@@ -1843,6 +1845,7 @@
 	{
 		m_monitor = other.m_monitor;
 		m_name = other.m_name;
+		m_isSource = other.m_isSource;
 	}
 
 	return *this;

Modified: trunk/UI/GTK2/src/PinotSettings.h
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.h	2007-11-22 11:20:31 UTC (rev 1117)
+++ trunk/UI/GTK2/src/PinotSettings.h	2007-11-22 11:29:14 UTC (rev 1118)
@@ -164,6 +164,7 @@
 
 				bool m_monitor;
 				Glib::ustring m_name;
+				bool m_isSource;
 
 		};
 

Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2007-11-22 11:20:31 UTC (rev 1117)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2007-11-22 11:29:14 UTC (rev 1118)
@@ -137,6 +137,7 @@
 WorkerThread::WorkerThread() :
 	m_id(0),
 	m_background(false),
+	m_stopped(false),
 	m_done(false),
 	m_errorNum(0)
 {
@@ -182,11 +183,16 @@
 
 bool WorkerThread::stop(void)
 {
-	m_done = true;
+	m_stopped = m_done = true;
 
 	return true;
 }
 
+bool WorkerThread::isStopped(void) const
+{
+	return m_stopped;
+}
+
 bool WorkerThread::isDone(void) const
 {
 	return m_done;

Modified: trunk/UI/GTK2/src/WorkerThreads.h
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.h	2007-11-22 11:20:31 UTC (rev 1117)
+++ trunk/UI/GTK2/src/WorkerThreads.h	2007-11-22 11:29:14 UTC (rev 1118)
@@ -70,6 +70,8 @@
 
 		virtual bool stop(void);
 
+		bool isStopped(void) const;
+
 		bool isDone(void) const;
 
 		int getErrorNum(void) const;
@@ -83,6 +85,7 @@
 		static bool m_immediateFlush;
 		unsigned int m_id;
 		bool m_background;
+		bool m_stopped;
 		bool m_done;
 		int m_errorNum;
 		std::string m_errorParam;

Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.cc
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2007-11-22 11:20:31 UTC (rev 1117)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.cc	2007-11-22 11:29:14 UTC (rev 1118)
@@ -158,26 +158,31 @@
 			if (dbus_message_is_signal(pMessage, "org.gnome.PowerManager", "OnAcChanged") == TRUE)
 			{
 				// This tells us if we are on AC, not on battery
-				if (onBattery == true)
+				if (onBattery == TRUE)
 				{
-					onBattery = false;
+					onBattery = FALSE;
 				}
 				else
 				{
-					onBattery = true;
+					onBattery = TRUE;
 				}
 			}
 
-			if (onBattery == true)
+			if (onBattery == TRUE)
 			{
 				// We are now on battery
 				pServer->set_flag(DaemonState::ON_BATTERY);
 				pServer->stop_crawling();
+
+				cout << "System is now on battery" << endl;
 			}
 			else
 			{
 				// Back on-line
 				pServer->reset_flag(DaemonState::ON_BATTERY);
+				pServer->start_crawling();
+
+				cout << "System is now on AC" << endl;
 			}
 		}
 		dbus_error_free(&error);
@@ -214,6 +219,46 @@
 	return DBUS_HANDLER_RESULT_HANDLED;
 }
 
+static bool getBatteryState(DBusGConnection *pBus, const string &name, const string &path,
+	const string &method, gboolean &result)
+{
+	bool callSuccess = true;
+
+	if ((pBus == NULL) ||
+		(name.empty() == true) ||
+		(path.empty() == true) ||
+		(method.empty() == true))
+	{
+		return false;
+	}
+
+	DBusGProxy *pBusProxy = dbus_g_proxy_new_for_name(pBus, name.c_str(),
+		path.c_str(), name.c_str());
+	if (pBusProxy == NULL)
+	{
+		return false;
+	}
+
+	GError *pError = NULL;
+	if (dbus_g_proxy_call(pBusProxy, method.c_str(), &pError,
+		G_TYPE_INVALID,
+		G_TYPE_BOOLEAN, &result,
+		G_TYPE_INVALID) == FALSE)
+	{
+		if (pError != NULL)
+		{
+			cerr << "Couldn't get battery state: " << pError->message << endl;
+			g_error_free(pError);
+		}
+
+		callSuccess = false;
+	}
+
+	g_object_unref(pBusProxy);
+
+	return callSuccess;
+}
+
 int main(int argc, char **argv)
 {
 	string prefixDir(PREFIX);
@@ -501,6 +546,7 @@
 			set<string> labels;
 			string indexVersion(index.getVersion());
 			bool gotLabels = index.getLabels(labels);
+			bool onBattery = false;
 
 			// What version is the index at ?
 			if (indexVersion < PINOT_INDEX_MIN_VERSION)
@@ -560,6 +606,35 @@
 			// Connect to threads' finished signal
 			server.connect();
 
+			// Try and get the battery state
+			gboolean result = FALSE;
+			if ((getBatteryState(pBus, "org.freedesktop.PowerManagement",
+				"/org/freedesktop/PowerManagement", "GetOnBattery", result) == true) ||
+				(getBatteryState(pBus, "org.freedesktop.PowerManagement",
+				"/org/freedesktop/PowerManagement", "GetBatteryState", result) == true))
+			{
+				if (result == TRUE)
+				{
+					onBattery = true;
+				}
+			}
+			else if (getBatteryState(pBus, "org.gnome.PowerManager",
+				"/org/gnome/PowerManager", "GetOnAc", result) == true)
+			{
+				if (result == FALSE)
+				{
+					onBattery = true;
+				}
+			}
+			if (onBattery == true)
+			{
+				// We are on battery
+				server.set_flag(DaemonState::ON_BATTERY);
+				server.stop_crawling();
+
+				cout << "System is on battery" << endl;
+			}
+
 			server.start(fullScan);
 
 			// Run the main loop



From fabricecolin at mail.berlios.de  Thu Nov 22 12:35:57 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 22 Nov 2007 12:35:57 +0100
Subject: [Pinot-svn] r1119 - trunk
Message-ID: <200711221135.lAMBZvqJ029082@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-22 12:35:50 +0100 (Thu, 22 Nov 2007)
New Revision: 1119

Modified:
   trunk/Makefile.am
Log:
look for data files to install in srcdir.


Modified: trunk/Makefile.am
===================================================================
--- trunk/Makefile.am	2007-11-22 11:29:14 UTC (rev 1118)
+++ trunk/Makefile.am	2007-11-22 11:35:50 UTC (rev 1119)
@@ -22,42 +22,41 @@
 
 install-data-local:
 	@mkdir -p $(DESTDIR)$(sysconfdir)/pinot
-	$(INSTALL_DATA) \
-		$(top_srcdir)/Tokenize/filters/external-filters.xml $(DESTDIR)$(sysconfdir)/pinot/external-filters.xml
-	$(INSTALL_DATA) $(top_srcdir)/globalconfig.xml $(DESTDIR)$(sysconfdir)/pinot/globalconfig.xml
-	$(INSTALL_DATA) $(top_srcdir)/textcat_conf.txt $(DESTDIR)$(sysconfdir)/pinot/textcat_conf.txt
-	$(INSTALL_DATA) $(top_srcdir)/textcat3_conf.txt $(DESTDIR)$(sysconfdir)/pinot/textcat3_conf.txt
+	$(INSTALL_DATA) $(srcdir)/Tokenize/filters/external-filters.xml $(DESTDIR)$(sysconfdir)/pinot/external-filters.xml
+	$(INSTALL_DATA) $(srcdir)/globalconfig.xml $(DESTDIR)$(sysconfdir)/pinot/globalconfig.xml
+	$(INSTALL_DATA) $(srcdir)/textcat_conf.txt $(DESTDIR)$(sysconfdir)/pinot/textcat_conf.txt
+	$(INSTALL_DATA) $(srcdir)/textcat3_conf.txt $(DESTDIR)$(sysconfdir)/pinot/textcat3_conf.txt
 	@mkdir -p $(DESTDIR)$(datadir)/pinot $(DESTDIR)$(datadir)/dbus-1/services
-	$(INSTALL_DATA) $(top_srcdir)/UI/GTK2/xapian-powered.png $(DESTDIR)$(datadir)/pinot/xapian-powered.png
-	$(INSTALL_DATA) $(top_srcdir)/UI/GTK2/metase-gtk2.glade $(DESTDIR)$(datadir)/pinot/metase-gtk2.glade
-	$(INSTALL_DATA) $(top_srcdir)/UI/GTK2/metase-gtk2.gladep $(DESTDIR)$(datadir)/pinot/metase-gtk2.gladep
-	$(INSTALL_DATA) $(top_srcdir)/UI/GTK2/src/pinot-dbus-daemon.xml $(DESTDIR)$(datadir)/pinot/pinot-dbus-daemon.xml
-	$(INSTALL_DATA) $(top_builddir)/UI/GTK2/src/de.berlios.Pinot.service $(DESTDIR)$(datadir)/dbus-1/services/de.berlios.Pinot.service
+	$(INSTALL_DATA) $(srcdir)/UI/GTK2/xapian-powered.png $(DESTDIR)$(datadir)/pinot/xapian-powered.png
+	$(INSTALL_DATA) $(srcdir)/UI/GTK2/metase-gtk2.glade $(DESTDIR)$(datadir)/pinot/metase-gtk2.glade
+	$(INSTALL_DATA) $(srcdir)/UI/GTK2/metase-gtk2.gladep $(DESTDIR)$(datadir)/pinot/metase-gtk2.gladep
+	$(INSTALL_DATA) $(srcdir)/UI/GTK2/src/pinot-dbus-daemon.xml $(DESTDIR)$(datadir)/pinot/pinot-dbus-daemon.xml
+	$(INSTALL_DATA) $(builddir)/UI/GTK2/src/de.berlios.Pinot.service $(DESTDIR)$(datadir)/dbus-1/services/de.berlios.Pinot.service
 	@mkdir -p $(DESTDIR)$(datadir)/pinot/engines
-	$(INSTALL_DATA) $(top_srcdir)/Search/Plugins/*.src $(DESTDIR)$(datadir)/pinot/engines/
+	$(INSTALL_DATA) $(srcdir)/Search/Plugins/*.src $(DESTDIR)$(datadir)/pinot/engines/
 	@mv $(DESTDIR)$(datadir)/pinot/engines/AmazonAPI.src $(DESTDIR)$(datadir)/pinot/
-	$(INSTALL_DATA) $(top_srcdir)/Search/Plugins/*.xml $(DESTDIR)$(datadir)/pinot/engines/
+	$(INSTALL_DATA) $(srcdir)/Search/Plugins/*.xml $(DESTDIR)$(datadir)/pinot/engines/
 	@mkdir -p $(DESTDIR)$(libdir)/pinot/filters
 	@rm $(DESTDIR)$(libdir)/lib*filter.a $(DESTDIR)$(libdir)/lib*filter.la
 	@mv $(DESTDIR)$(libdir)/lib*filter* $(DESTDIR)$(libdir)/pinot/filters/
 	@mkdir -p $(DESTDIR)$(datadir)/icons/hicolor/48x48/apps/
-	$(INSTALL_DATA) $(top_srcdir)/UI/icons/48x48/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/48x48/apps/pinot.png
+	$(INSTALL_DATA) $(srcdir)/UI/icons/48x48/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/48x48/apps/pinot.png
 	@mkdir -p $(DESTDIR)$(datadir)/icons/hicolor/32x32/apps/
-	$(INSTALL_DATA) $(top_srcdir)/UI/icons/32x32/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/32x32/apps/pinot.png
+	$(INSTALL_DATA) $(srcdir)/UI/icons/32x32/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/32x32/apps/pinot.png
 	@mkdir -p $(DESTDIR)$(datadir)/icons/hicolor/24x24/apps/
-	$(INSTALL_DATA) $(top_srcdir)/UI/icons/24x24/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/24x24/apps/pinot.png
+	$(INSTALL_DATA) $(srcdir)/UI/icons/24x24/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/24x24/apps/pinot.png
 	@mkdir -p $(DESTDIR)$(datadir)/icons/hicolor/22x22/apps/
-	$(INSTALL_DATA) $(top_srcdir)/UI/icons/22x22/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/22x22/apps/pinot.png
+	$(INSTALL_DATA) $(srcdir)/UI/icons/22x22/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/22x22/apps/pinot.png
 	@mkdir -p $(DESTDIR)$(datadir)/icons/hicolor/16x16/apps/
-	$(INSTALL_DATA) $(top_srcdir)/UI/icons/16x16/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/16x16/apps/pinot.png
+	$(INSTALL_DATA) $(srcdir)/UI/icons/16x16/pinot.png $(DESTDIR)$(datadir)/icons/hicolor/16x16/apps/pinot.png
 	@mkdir -p $(DESTDIR)$(datadir)/applications
-	@desktop-file-install --vendor="" --dir=$(DESTDIR)$(datadir)/applications $(top_srcdir)/pinot.desktop
+	@desktop-file-install --vendor="" --dir=$(DESTDIR)$(datadir)/applications $(srcdir)/pinot.desktop
 	@mkdir -p $(DESTDIR)${sysconfdir}/xdg/autostart
-	@desktop-file-install --vendor="" --dir=$(DESTDIR)${sysconfdir}/xdg/autostart $(top_srcdir)/pinot-dbus-daemon.desktop
+	@desktop-file-install --vendor="" --dir=$(DESTDIR)${sysconfdir}/xdg/autostart $(srcdir)/pinot-dbus-daemon.desktop
 	@mkdir -p $(DESTDIR)$(libdir)/deskbar-applet/handlers/
-	$(INSTALL_DATA) $(top_srcdir)/scripts/python/pinot-live.py $(DESTDIR)$(libdir)/deskbar-applet/handlers/
+	$(INSTALL_DATA) $(srcdir)/scripts/python/pinot-live.py $(DESTDIR)$(libdir)/deskbar-applet/handlers/
 	@mkdir -p $(DESTDIR)$(libdir)/deskbar-applet/modules-2.20-compatible/
-	$(INSTALL_DATA) $(top_srcdir)/scripts/python/pinot-module.py $(DESTDIR)$(libdir)/deskbar-applet/modules-2.20-compatible/
+	$(INSTALL_DATA) $(srcdir)/scripts/python/pinot-module.py $(DESTDIR)$(libdir)/deskbar-applet/modules-2.20-compatible/
 
 uninstall-local:
 	@rm -rf $(DESTDIR)$(sysconfdir)/pinot



From fabricecolin at mail.berlios.de  Thu Nov 22 12:36:48 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 22 Nov 2007 12:36:48 +0100
Subject: [Pinot-svn] r1120 - trunk/UI/GTK2/src
Message-ID: <200711221136.lAMBamKS031538@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-22 12:36:47 +0100 (Thu, 22 Nov 2007)
New Revision: 1120

Modified:
   trunk/UI/GTK2/src/pinot-dbus-daemon.xml
Log:
Advertise that org.freedesktop.DBus.Introspectable.Introspect is supported.


Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.xml
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.xml	2007-11-22 11:35:50 UTC (rev 1119)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.xml	2007-11-22 11:36:47 UTC (rev 1120)
@@ -1,5 +1,10 @@
 <?xml version="1.0" encoding="UTF-8" ?>
-<node name="/de/berlios/Pinot">
+<node>
+  <interface name="org.freedesktop.DBus.Introspectable">
+    <method name="Introspect">
+      <arg type="s" name="data" direction="out"/>
+    </method>
+  </interface>
   <!--
 	This interface WILL change before 1.0 is released !
 	-->



From fabricecolin at mail.berlios.de  Fri Nov 23 14:42:51 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Fri, 23 Nov 2007 14:42:51 +0100
Subject: [Pinot-svn] r1121 - trunk/UI/GTK2/src
Message-ID: <200711231342.lANDgpfI020461@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-23 14:42:51 +0100 (Fri, 23 Nov 2007)
New Revision: 1121

Modified:
   trunk/UI/GTK2/src/DaemonState.cpp
Log:
If sysctlbyname() is used, restart crawling when on AC.


Modified: trunk/UI/GTK2/src/DaemonState.cpp
===================================================================
--- trunk/UI/GTK2/src/DaemonState.cpp	2007-11-22 11:36:47 UTC (rev 1120)
+++ trunk/UI/GTK2/src/DaemonState.cpp	2007-11-23 13:42:51 UTC (rev 1121)
@@ -222,11 +222,16 @@
 				// We are now on battery
 				set_flag(DaemonState::ON_BATTERY);
 				stop_crawling();
+
+				cout << "System is now on battery" << endl;
 			}
 			else
 			{
 				// Back on-line
 				reset_flag(DaemonState::ON_BATTERY);
+				start_crawling();
+
+				cout << "System is now on AC" << endl;
 			}
 		}
 	}



From fabricecolin at mail.berlios.de  Fri Nov 23 14:43:29 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Fri, 23 Nov 2007 14:43:29 +0100
Subject: [Pinot-svn] r1122 - trunk
Message-ID: <200711231343.lANDhTqD020530@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-23 14:43:29 +0100 (Fri, 23 Nov 2007)
New Revision: 1122

Modified:
   trunk/TODO
Log:
Current TODO list.


Modified: trunk/TODO
===================================================================
--- trunk/TODO	2007-11-23 13:42:51 UTC (rev 1121)
+++ trunk/TODO	2007-11-23 13:43:29 UTC (rev 1122)
@@ -70,7 +70,6 @@
 - After indexing or updating a document, a call to getDocumentInfo() shouldn't be necessary
 - Labels and the rest of DocumentInfo are handled separately, they shouldn't be
 - Indexes have no knowledge of indexId's
-- Allow disabling spelling
 
 Mail
 - Find out what kind of locking scheme Mozilla uses (POSIX lock ?) and use that
@@ -92,6 +91,7 @@
 - Follow updates to Xesam specs
 - Suspend indexing on battery use (/proc/acpi/ac_adapter/AC/state, AC0/state,
  ADp1/state or ACAD/state)
+- Preserve user set metadata on reindexing
 
 UI
 - Show which threads are running, what they are doing, and allow to stop them



From fabricecolin at mail.berlios.de  Fri Nov 23 16:39:37 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Fri, 23 Nov 2007 16:39:37 +0100
Subject: [Pinot-svn] r1124 - trunk/Search/Plugins
Message-ID: <200711231539.lANFdbeo027402@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-23 16:39:37 +0100 (Fri, 23 Nov 2007)
New Revision: 1124

Modified:
   trunk/Search/Plugins/Freshmeat.src
Log:
Corrected extraction. It still doesn't cope well when there's just one match.


Modified: trunk/Search/Plugins/Freshmeat.src
===================================================================
--- trunk/Search/Plugins/Freshmeat.src	2007-11-23 15:36:49 UTC (rev 1123)
+++ trunk/Search/Plugins/Freshmeat.src	2007-11-23 15:39:37 UTC (rev 1124)
@@ -20,9 +20,9 @@
 <interpret 
     browserResultType="result" 
     baseUrl="http://freshmeat.net"
-    resultListStart=""
+    resultListStart="<hr"
     resultListEnd=""
-    resultItemStart='<td valign="top">    <b>'
-    resultItemEnd='</small></b></td>    </tr>'
+    resultItemStart='<td valign="top">'
+    resultItemEnd='</table>'
 >
 </search>



From fabricecolin at mail.berlios.de  Fri Nov 23 16:37:13 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Fri, 23 Nov 2007 16:37:13 +0100
Subject: [Pinot-svn] r1123 - in trunk: . Index Search UI/GTK2/src po
Message-ID: <200711231537.lANFbDPc027303@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-23 16:36:49 +0100 (Fri, 23 Nov 2007)
New Revision: 1123

Modified:
   trunk/Index/pinot-index.1
   trunk/Index/pinot-label.1
   trunk/NEWS
   trunk/Search/pinot-search.1
   trunk/UI/GTK2/src/pinot-dbus-daemon.1
   trunk/UI/GTK2/src/pinot.1
   trunk/configure.in
   trunk/po/de.po
   trunk/po/es.po
   trunk/po/fr.po
   trunk/po/it.po
   trunk/po/nl.po
   trunk/po/pt.po
   trunk/po/pt_BR.po
   trunk/po/ru.po
   trunk/po/sv.po
   trunk/po/zh_TW.po
Log:
Preparing for 0.81 release.


Modified: trunk/Index/pinot-index.1
===================================================================
--- trunk/Index/pinot-index.1	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/Index/pinot-index.1	2007-11-23 15:36:49 UTC (rev 1123)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-INDEX "1" "November 2007" "pinot-index - pinot 0.80" "User Commands"
+.TH PINOT-INDEX "1" "November 2007" "pinot-index - pinot 0.81" "User Commands"
 .SH NAME
 pinot-index \- Index documents from the command-line
 .SH SYNOPSIS

Modified: trunk/Index/pinot-label.1
===================================================================
--- trunk/Index/pinot-label.1	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/Index/pinot-label.1	2007-11-23 15:36:49 UTC (rev 1123)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-LABEL "1" "November 2007" "pinot-label - pinot 0.80" "User Commands"
+.TH PINOT-LABEL "1" "November 2007" "pinot-label - pinot 0.81" "User Commands"
 .SH NAME
 pinot-label \- Label files from the command-line
 .SH SYNOPSIS

Modified: trunk/NEWS
===================================================================
--- trunk/NEWS	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/NEWS	2007-11-23 15:36:49 UTC (rev 1123)
@@ -1,3 +1,30 @@
+2007/11/24 version_0_8_1
+Build :
+ - Misc fixes
+General :
+ - updated FAQ and README
+ - fixed Icon field in desktop files
+Index :
+ - workaround for broken shared-mime-info rules that identify HTML files as
+  Mozilla bookmarks
+ - files whose name includes a question mark were not indexed correctly
+ - pinot-label would loop forever if the supplied file name wasn't in the index
+ - don't build the spelling table if the env var PINOT_SPELLING_DB is set to NO
+Deskbar :
+ - new plugin compatible with Deskbar 2.20
+Daemon :
+ - stop crawling and indexing if the partition on which the index resides is
+  getting full. By default, that means less than 50 Mb. This can be overriden
+  with the env var PINOT_MINIMUM_DISK_SPACE, eg PINOT_MINIMUM_DISK_SPACE=100
+  for 100 Mb
+ - stop crawling when the system goes on battery and restart when on AC. This
+  requires support for the freedesktop.org's Power Management spec, or pre-spec
+  gnome-power-manager.
+UI :
+ - fixed build against libsigc++ 2.1
+ - updated Portuguese translation by Tiago Silva
+ - updated Swedish translation by Daniel Nylander
+
 2007/11/01 version_0_8_0
 Build :
  - SMP builds, thanks to Gabriel C

Modified: trunk/Search/pinot-search.1
===================================================================
--- trunk/Search/pinot-search.1	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/Search/pinot-search.1	2007-11-23 15:36:49 UTC (rev 1123)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-SEARCH "1" "November 2007" "pinot-search - pinot 0.80" "User Commands"
+.TH PINOT-SEARCH "1" "November 2007" "pinot-search - pinot 0.81" "User Commands"
 .SH NAME
 pinot-search \- Query search engines from the command-line
 .SH SYNOPSIS

Modified: trunk/UI/GTK2/src/pinot-dbus-daemon.1
===================================================================
--- trunk/UI/GTK2/src/pinot-dbus-daemon.1	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/UI/GTK2/src/pinot-dbus-daemon.1	2007-11-23 15:36:49 UTC (rev 1123)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT-DBUS-DAEMON "1" "November 2007" "pinot-dbus-daemon - pinot 0.80" "User Commands"
+.TH PINOT-DBUS-DAEMON "1" "November 2007" "pinot-dbus-daemon - pinot 0.81" "User Commands"
 .SH NAME
 pinot-dbus-daemon \- D-Bus search and index daemon
 .SH SYNOPSIS

Modified: trunk/UI/GTK2/src/pinot.1
===================================================================
--- trunk/UI/GTK2/src/pinot.1	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/UI/GTK2/src/pinot.1	2007-11-23 15:36:49 UTC (rev 1123)
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
-.TH PINOT "1" "November 2007" "pinot - pinot 0.80" "User Commands"
+.TH PINOT "1" "November 2007" "pinot - pinot 0.81" "User Commands"
 .SH NAME
 pinot \- A metasearch tool for the Free Desktop
 .SH SYNOPSIS

Modified: trunk/configure.in
===================================================================
--- trunk/configure.in	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/configure.in	2007-11-23 15:36:49 UTC (rev 1123)
@@ -2,7 +2,7 @@
 # using glademm V2.6.0
 
 AC_PREREQ(2.50)
-AC_INIT(pinot, 0.80,[fabricecolin at users.berlios.de])
+AC_INIT(pinot, 0.81,[fabricecolin at users.berlios.de])
 AM_INIT_AUTOMAKE
 AC_CONFIG_HEADERS(config.h)
 

Modified: trunk/po/de.po
===================================================================
--- trunk/po/de.po	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/po/de.po	2007-11-23 15:36:49 UTC (rev 1123)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.80\n"
+"Project-Id-Version: pinot 0.81\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-28 22:51+0800\n"
+"POT-Creation-Date: 2007-11-22 19:39+0800\n"
 "PO-Revision-Date: 2007-09-10 12:48+0000\n"
 "Last-Translator: Christian Dywan <christian at twotoasts.de>\n"
 "Language-Team: German <de at li.org>\n"
@@ -16,33 +16,33 @@
 "X-Launchpad-Export-Date: 2007-09-23 13:58+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68
+#: UI/GTK2/src/EnginesTree.cpp:67
 msgid "Search Engines"
 msgstr "Suchmaschinen"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:325
 msgid "Current User"
 msgstr "Aktueller Benutzer"
 
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:795
-#: UI/GTK2/src/mainWindow.cc:1017 UI/GTK2/src/mainWindow.cc:1354
-#: UI/GTK2/src/mainWindow.cc:1509 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
-#: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
-#: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:738
+#: UI/GTK2/src/mainWindow.cc:959 UI/GTK2/src/mainWindow.cc:1296
+#: UI/GTK2/src/mainWindow.cc:1451 UI/GTK2/src/mainWindow.cc:1493
+#: UI/GTK2/src/mainWindow.cc:1515 UI/GTK2/src/mainWindow.cc:2119
+#: UI/GTK2/src/mainWindow.cc:2229 UI/GTK2/src/PinotSettings.cpp:320
+#: UI/GTK2/src/PinotSettings.cpp:1430 UI/GTK2/src/PinotSettings.cpp:1486
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:982
 msgid "My Web Pages"
 msgstr "Meine Webseiten"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:798
-#: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
-#: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
-#: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:741
+#: UI/GTK2/src/mainWindow.cc:953 UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:2233 UI/GTK2/src/PinotSettings.cpp:321
+#: UI/GTK2/src/PinotSettings.cpp:1431 UI/GTK2/src/PinotSettings.cpp:1487
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:992
 msgid "My Documents"
 msgstr "Meine Dokumente"
 
@@ -58,69 +58,69 @@
 msgid "Index location"
 msgstr ""
 
-#: UI/GTK2/src/indexDialog_glade.cc:65 UI/GTK2/src/queryDialog_glade.cc:68
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
 msgstr "Name"
 
-#: UI/GTK2/src/indexDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:66
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
 msgid "Type:"
 msgstr "Typ:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:66
 msgid "Location:"
 msgstr "Ort:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:72 UI/GTK2/src/prefsDialog_glade.cc:86
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
 msgid "Port:"
 msgstr "Port"
 
-#: UI/GTK2/src/indexDialog_glade.cc:79 UI/GTK2/src/prefsDialog_glade.cc:82
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
 msgstr "Adresse"
 
-#: UI/GTK2/src/indexDialog_glade.cc:183
+#: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
 msgstr "Externer Index"
 
 #. Labels
-#: UI/GTK2/src/importDialog.cc:87 UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/importDialog.cc:86 UI/GTK2/src/queryDialog.cc:123
 msgid "None"
 msgstr "Keine"
 
-#: UI/GTK2/src/importDialog_glade.cc:68
-#: UI/GTK2/src/propertiesDialog_glade.cc:64
+#: UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
 msgid "Title:"
 msgstr "Titel"
 
-#: UI/GTK2/src/importDialog_glade.cc:71
+#: UI/GTK2/src/importDialog_glade.cc:70
 msgid "Apply label:"
 msgstr ""
 
-#: UI/GTK2/src/importDialog_glade.cc:77
+#: UI/GTK2/src/importDialog_glade.cc:76
 msgid "Import"
 msgstr "Importieren"
 
-#: UI/GTK2/src/importDialog_glade.cc:148 UI/GTK2/src/mainWindow_glade.cc:216
+#: UI/GTK2/src/importDialog_glade.cc:147 UI/GTK2/src/mainWindow_glade.cc:215
 msgid "Import URL"
 msgstr "URL importieren"
 
-#: UI/GTK2/src/IndexPage.cpp:51
+#: UI/GTK2/src/IndexPage.cpp:50
 msgid "Show Previous"
 msgstr "Voherige anzeigen"
 
-#: UI/GTK2/src/IndexPage.cpp:57
+#: UI/GTK2/src/IndexPage.cpp:56
 msgid "Show Next"
 msgstr "N?chste anzeigen"
 
-#: UI/GTK2/src/IndexPage.cpp:189
+#: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
 msgstr "Alles"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:64
+#: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
@@ -128,430 +128,429 @@
 "F?r diesen Dokumententyp ist keine Anwendung definiert.\n"
 "Bitte geben Sie den Befehl ein, mit dem das Dokument ge?ffnet werden soll."
 
-#: UI/GTK2/src/launcherDialog_glade.cc:67
+#: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
 msgstr "Verwende diesen Befehl f?r weitere Dokumente des selben Typs."
 
-#: UI/GTK2/src/launcherDialog_glade.cc:99
+#: UI/GTK2/src/launcherDialog_glade.cc:98
 #, fuzzy
 msgid "Helper application"
 msgstr "Hilfsprogramm"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:166
 msgid "Query Name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:217
+#: UI/GTK2/src/mainWindow.cc:171
 msgid "Last Run"
 msgstr "Zuletzt ausgef?hrt"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Summary"
 msgstr "?bersicht"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:206
 msgid "Show all search engines"
 msgstr "Alle Suchmaschinen anzeigen"
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:207
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:254
+#: UI/GTK2/src/mainWindow.cc:208
 #, fuzzy
 msgid "Add an index"
 msgstr "Index hinzuf?gen"
 
-#: UI/GTK2/src/mainWindow.cc:255
+#: UI/GTK2/src/mainWindow.cc:209
 #, fuzzy
 msgid "Remove an index"
 msgstr "Index entfernen"
 
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:210
 msgid "Add a query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:257
+#: UI/GTK2/src/mainWindow.cc:211
 #, fuzzy
 msgid "Remove a query"
 msgstr "Index entfernen"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:212
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:213
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:289
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Ready"
 msgstr "Bereit"
 
-#: UI/GTK2/src/mainWindow.cc:349
+#: UI/GTK2/src/mainWindow.cc:292
 msgid "N/A"
 msgstr "N/V"
 
-#: UI/GTK2/src/mainWindow.cc:364
+#: UI/GTK2/src/mainWindow.cc:307
 msgid "Undefined"
 msgstr "Unbestimmt"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:587 UI/GTK2/src/mainWindow.cc:2675
+#: UI/GTK2/src/mainWindow.cc:530 UI/GTK2/src/mainWindow.cc:2617
 msgid "Live query"
 msgstr ""
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:727
+#: UI/GTK2/src/mainWindow.cc:670
 msgid "Result location is"
 msgstr ""
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:809
+#: UI/GTK2/src/mainWindow.cc:752
 msgid "Document location is"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:993 UI/GTK2/src/mainWindow.cc:2109
+#: UI/GTK2/src/mainWindow.cc:936 UI/GTK2/src/mainWindow.cc:2051
 msgid "Couldn't find query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1008
+#: UI/GTK2/src/mainWindow.cc:950
 #, fuzzy
 msgid "In Results"
 msgstr "Ergebnisse"
 
-#: UI/GTK2/src/mainWindow.cc:1191
+#: UI/GTK2/src/mainWindow.cc:1133
 #, fuzzy
 msgid "Showing"
 msgstr "Zeigen"
 
-#: UI/GTK2/src/mainWindow.cc:1196
+#: UI/GTK2/src/mainWindow.cc:1138
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1201
+#: UI/GTK2/src/mainWindow.cc:1143
 msgid "documents, starting at"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1235
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "Query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1239 UI/GTK2/src/mainWindow.cc:3268
+#: UI/GTK2/src/mainWindow.cc:1181 UI/GTK2/src/mainWindow.cc:3210
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1243
+#: UI/GTK2/src/mainWindow.cc:1185
 msgid "ended"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1304
+#: UI/GTK2/src/mainWindow.cc:1246
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1393
+#: UI/GTK2/src/mainWindow.cc:1335
 msgid "More Like"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1435
+#: UI/GTK2/src/mainWindow.cc:1377
 msgid "Updated label(s)"
 msgstr ""
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1519 UI/GTK2/src/mainWindow.cc:1613
+#: UI/GTK2/src/mainWindow.cc:1461 UI/GTK2/src/mainWindow.cc:1555
 msgid "Updated document"
 msgstr "Dokument aktualisiert"
 
-#: UI/GTK2/src/mainWindow.cc:1532
+#: UI/GTK2/src/mainWindow.cc:1474
 msgid "Indexed"
 msgstr "Indiziert"
 
-#: UI/GTK2/src/mainWindow.cc:1574
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "Unindexed document(s)"
 msgstr "Nicht indizierte(s) Dokument(e)"
 
-#: UI/GTK2/src/mainWindow.cc:1671
+#: UI/GTK2/src/mainWindow.cc:1613
 msgid "Couldn't rename index, name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1675 UI/GTK2/src/mainWindow.cc:2501
-#: UI/GTK2/src/mainWindow.cc:3072
+#: UI/GTK2/src/mainWindow.cc:1617 UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:3014
 #, fuzzy
 msgid "is already in use"
 msgstr "wird bereits benutzt"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1630
 msgid "Couldn't rename index"
 msgstr "Index konnte nicht umbenannt werden"
 
-#: UI/GTK2/src/mainWindow.cc:1701
+#: UI/GTK2/src/mainWindow.cc:1643
 msgid "Edited index"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2029
+#: UI/GTK2/src/mainWindow.cc:1971
 #, fuzzy
 msgid "Export Results"
 msgstr "Ergebnisse exportieren"
 
-#: UI/GTK2/src/mainWindow.cc:2304
+#: UI/GTK2/src/mainWindow.cc:2246
 msgid "Index"
 msgstr "Index"
 
-#: UI/GTK2/src/mainWindow.cc:2308
+#: UI/GTK2/src/mainWindow.cc:2250
 msgid "doesn't exist"
 msgstr "existiert nicht"
 
-#: UI/GTK2/src/mainWindow.cc:2386
+#: UI/GTK2/src/mainWindow.cc:2328
 msgid "Remove this document from the index ?"
 msgstr "Soll dieses Dokument aus dem Index entfernt werden?"
 
-#: UI/GTK2/src/mainWindow.cc:2405
+#: UI/GTK2/src/mainWindow.cc:2347
 msgid "Remove these documents from the index ?"
 msgstr "Sollen diese Dokumente aus dem Index entfernt werden?"
 
-#: UI/GTK2/src/mainWindow.cc:2451
+#: UI/GTK2/src/mainWindow.cc:2393
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Ein Werkzeug zur Metasuche f?r den kostenfreien Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2452
+#: UI/GTK2/src/mainWindow.cc:2394
 msgid "Search the Web and your documents !"
 msgstr "Durchsuchen Sie das Internet und Ihre Dokumente !"
 
-#: UI/GTK2/src/mainWindow.cc:2497
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index name"
 msgstr "Indexbezeichnung"
 
-#: UI/GTK2/src/mainWindow.cc:2512
+#: UI/GTK2/src/mainWindow.cc:2454
 msgid "Couldn't add index"
 msgstr "Konnte Index nicht hinzuf?gen"
 
-#: UI/GTK2/src/mainWindow.cc:2528
+#: UI/GTK2/src/mainWindow.cc:2470
 msgid "Added new index"
 msgstr "Neuer Index hinzugef?gt"
 
-#: UI/GTK2/src/mainWindow.cc:2563
+#: UI/GTK2/src/mainWindow.cc:2505
 msgid "Couldn't remove index"
 msgstr "Konnte Index nicht entfernen"
 
-#: UI/GTK2/src/mainWindow.cc:2768
+#: UI/GTK2/src/mainWindow.cc:2710
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2826
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr ""
 "Mindestens ein Vorgang wurde noch nicht abgeschlossen. Jetzt trotzdem "
 "beenden?"
 
-#: UI/GTK2/src/mainWindow.cc:3068
+#: UI/GTK2/src/mainWindow.cc:3010
 msgid "Query name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3037
 msgid "Couldn't update query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3103
+#: UI/GTK2/src/mainWindow.cc:3045
 msgid "Edited query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3110
+#: UI/GTK2/src/mainWindow.cc:3052
 msgid "Couldn't add query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3118
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "Added new query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3099
 msgid "Query is not set"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3110
 msgid "No search engine selected"
 msgstr "Keine Suchmaschine ausgew?hlt"
 
-#: UI/GTK2/src/mainWindow.cc:3255
+#: UI/GTK2/src/mainWindow.cc:3197
 msgid "Please set the Google API key first"
 msgstr "Bitte geben Sie zuerst den Google API-Schl?ssel ein"
 
-#: UI/GTK2/src/mainWindow.cc:3264
+#: UI/GTK2/src/mainWindow.cc:3206
 msgid "Running query"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:3473
+#: UI/GTK2/src/mainWindow.cc:3415
 msgid "No default application defined for type"
 msgstr "Keine Standardanwendung f?r Typ angegeben"
 
-#: UI/GTK2/src/mainWindow_glade.cc:127
+#: UI/GTK2/src/mainWindow_glade.cc:126
 msgid "Query:"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:138 UI/GTK2/src/statisticsDialog.cc:88
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:87
 #, fuzzy
 msgid "History"
 msgstr "Historie"
 
-#: UI/GTK2/src/mainWindow_glade.cc:143
+#: UI/GTK2/src/mainWindow_glade.cc:142
 msgid "Stored queries"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:156 UI/GTK2/src/statisticsDialog.cc:51
-#: UI/GTK2/src/statisticsDialog_glade.cc:87
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr "Status"
 
-#: UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow_glade.cc:176
 msgid "Search Engine"
 msgstr "Suchmaschine"
 
-#: UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow_glade.cc:179
 msgid "Host Name"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:183
+#: UI/GTK2/src/mainWindow_glade.cc:182
 msgid "Show Extract"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:186
+#: UI/GTK2/src/mainWindow_glade.cc:185
 msgid "Group By"
 msgstr "Gruppieren nach"
 
-#: UI/GTK2/src/mainWindow_glade.cc:192
+#: UI/GTK2/src/mainWindow_glade.cc:191
 msgid "Clear List"
 msgstr "Liste l?schen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:198
+#: UI/GTK2/src/mainWindow_glade.cc:197
 msgid "Vie_w"
 msgstr "_Anzeigen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:201
+#: UI/GTK2/src/mainWindow_glade.cc:200
 msgid "View Cache"
 msgstr "Zwischenspeicher ansehen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:204
+#: UI/GTK2/src/mainWindow_glade.cc:203
 msgid "More Like This"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:207
+#: UI/GTK2/src/mainWindow_glade.cc:206
 #, fuzzy
 msgid "Search This For"
 msgstr "Suchmaschinen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:210 UI/GTK2/src/mainWindow_glade.cc:246
+#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
 msgid "_Index"
 msgstr "_Index"
 
-#: UI/GTK2/src/mainWindow_glade.cc:213
+#: UI/GTK2/src/mainWindow_glade.cc:212
 msgid "List Contents Of"
 msgstr "Liste Inhalte von"
 
-#: UI/GTK2/src/mainWindow_glade.cc:222
+#: UI/GTK2/src/mainWindow_glade.cc:221
 msgid "View"
 msgstr "Ansicht"
 
-#: UI/GTK2/src/mainWindow_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Aktualisieren"
 
-#: UI/GTK2/src/mainWindow_glade.cc:228
+#: UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:231
-#: UI/GTK2/src/propertiesDialog_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:230
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
 msgid "Properties"
 msgstr "Eigenschaften"
 
-#: UI/GTK2/src/mainWindow_glade.cc:234
+#: UI/GTK2/src/mainWindow_glade.cc:233
 msgid "_About"
 msgstr "_?ber"
 
-#: UI/GTK2/src/mainWindow_glade.cc:237
+#: UI/GTK2/src/mainWindow_glade.cc:236
 msgid "_Session"
 msgstr "_Sitzung"
 
-#: UI/GTK2/src/mainWindow_glade.cc:240
+#: UI/GTK2/src/mainWindow_glade.cc:239
 msgid "_Edit"
 msgstr "_Bearbeiten"
 
-#: UI/GTK2/src/mainWindow_glade.cc:243
+#: UI/GTK2/src/mainWindow_glade.cc:242
 msgid "_Results"
 msgstr "_Ergebnisse"
 
-#: UI/GTK2/src/mainWindow_glade.cc:249
+#: UI/GTK2/src/mainWindow_glade.cc:248
 msgid "_Help"
 msgstr "_Hilfe"
 
-#: UI/GTK2/src/mainWindow_glade.cc:378
+#: UI/GTK2/src/mainWindow_glade.cc:377
 msgid "Pinot"
 msgstr ""
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:312
-#: UI/GTK2/src/propertiesDialog.cc:97
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:404
 msgid "Unknown"
 msgstr "Unbekannt"
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:405
 msgid "Danish"
 msgstr "D?nisch"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:406
 msgid "Dutch"
 msgstr "Niederl?nisch"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:407
 msgid "English"
 msgstr "Englisch"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:408
 msgid "Finnish"
 msgstr "Finnisch"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:409
 msgid "French"
 msgstr "Franz?sisch"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:410
 msgid "German"
 msgstr "Deutsch"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:411
 msgid "Hungarian"
 msgstr "Ungarisch"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:412
 msgid "Italian"
 msgstr "Italienisch"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:413
 msgid "Norwegian"
 msgstr "Norwegisch"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:414
 msgid "Portuguese"
 msgstr "Portugiesisch"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:415
 msgid "Romanian"
 msgstr "Rum?nisch"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:416
 msgid "Russian"
 msgstr "Russisch"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:417
 msgid "Spanish"
 msgstr "Spanisch"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:418
 msgid "Swedish"
 msgstr "Schwedisch"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:419
 msgid "Turkish"
 msgstr "T?rkisch"
 
@@ -569,23 +568,23 @@
 msgstr ""
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:317
+#: UI/GTK2/src/PinotSettings.cpp:326
 msgid "Important"
 msgstr "Wichtig"
 
-#: UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/PinotSettings.cpp:327
 msgid "New"
 msgstr "Neu"
 
-#: UI/GTK2/src/PinotSettings.cpp:319
+#: UI/GTK2/src/PinotSettings.cpp:328
 msgid "Personal"
 msgstr "Pers?nlich"
 
-#: UI/GTK2/src/PinotSettings.cpp:358
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1233
+#: UI/GTK2/src/PinotSettings.cpp:1242
 msgid "Unclassified"
 msgstr ""
 
@@ -621,107 +620,107 @@
 msgid "Directory to index"
 msgstr "Zu indizierendes Verzeichnis"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:66
+#: UI/GTK2/src/prefsDialog_glade.cc:65
 msgid "Google API key:"
 msgstr "Google API-Schl?ssel:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
+#: UI/GTK2/src/prefsDialog_glade.cc:68
 msgid "New results:"
 msgstr "Neue Ergebnisse:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
+#: UI/GTK2/src/prefsDialog_glade.cc:69
 msgid "Queries:"
 msgstr "Abfragen:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:71
+#: UI/GTK2/src/prefsDialog_glade.cc:70
 msgid "Enable search terms suggestion"
 msgstr "Aktiviere Suchwortvorschl?ge"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
+#: UI/GTK2/src/prefsDialog_glade.cc:72
 msgid "Ignore robots.txt and Robots META tag"
 msgstr "robots.txt und Robots META-Tag ignorieren"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:74
+#: UI/GTK2/src/prefsDialog_glade.cc:73
 msgid "HTTP crawling:"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:77
+#: UI/GTK2/src/prefsDialog_glade.cc:76
 msgid "General"
 msgstr "Allgemein"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:80
+#: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
+#: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:94
+#: UI/GTK2/src/prefsDialog_glade.cc:93
 msgid "Labels are used to classify indexed documents:"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:99 UI/GTK2/src/prefsDialog_glade.cc:119
-#: UI/GTK2/src/prefsDialog_glade.cc:135
+#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
+#: UI/GTK2/src/prefsDialog_glade.cc:134
 msgid "Add"
 msgstr "Hinzuf?gen"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:105
+#: UI/GTK2/src/prefsDialog_glade.cc:104
 msgid "Remove"
 msgstr "Entfernen"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113 UI/GTK2/src/propertiesDialog.cc:56
+#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
 msgid "Labels"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:114
+#: UI/GTK2/src/prefsDialog_glade.cc:113
 msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Diese Verzeichnisse werden indiziert und optional auf ?nderungen ?berwacht:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:127
+#: UI/GTK2/src/prefsDialog_glade.cc:126
 #, fuzzy
 msgid "File patterns:"
 msgstr "Dateiendung"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
+#: UI/GTK2/src/prefsDialog_glade.cc:143
 msgid "Indexing"
 msgstr "Indizieren"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:507
+#: UI/GTK2/src/prefsDialog_glade.cc:506
 msgid "Preferences"
 msgstr "Einstellungen"
 
-#: UI/GTK2/src/propertiesDialog.cc:110
+#: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Pro Dokument"
 
-#: UI/GTK2/src/propertiesDialog.cc:368
+#: UI/GTK2/src/propertiesDialog.cc:365
 #, fuzzy
 msgid "Export Terms"
 msgstr "Ergebnisse exportieren"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:65
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
 msgstr "Sprache:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
 msgid "MIME type:"
 msgstr "MIME-Typ:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
 msgid "Size:"
 msgstr "Gr??e"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:68
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
 msgstr ""
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:78
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
 msgstr ""
 
@@ -738,12 +737,12 @@
 msgstr "Dateiendung"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:133
+#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr ""
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:143
+#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
@@ -764,7 +763,7 @@
 msgstr ""
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:151
+#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Datum"
 
@@ -788,166 +787,170 @@
 msgid "By date"
 msgstr "Aktualisieren"
 
-#: UI/GTK2/src/queryDialog_glade.cc:72
+#: UI/GTK2/src/queryDialog_glade.cc:71
 msgid "New filter or range:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:81
+#: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:83
+#: UI/GTK2/src/queryDialog_glade.cc:82
 msgid "Index results with label"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:86
+#: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
 msgstr "Anzahl der Ergebnisse:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:90
+#: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:192
+#: UI/GTK2/src/queryDialog_glade.cc:191
 msgid "Query parameters"
 msgstr ""
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:122
+#: UI/GTK2/src/ResultsTree.cpp:121
 #, fuzzy
 msgid "Score"
 msgstr "Relevanz"
 
-#: UI/GTK2/src/ResultsTree.cpp:180
+#: UI/GTK2/src/ResultsTree.cpp:179
 msgid "Extract"
 msgstr "Auslesen"
 
-#: UI/GTK2/src/statisticsDialog.cc:73
+#: UI/GTK2/src/statisticsDialog.cc:72
 #, fuzzy
 msgid "Indexes"
 msgstr "Indizes"
 
-#: UI/GTK2/src/statisticsDialog.cc:93
+#: UI/GTK2/src/statisticsDialog.cc:92
 msgid "Daemon"
 msgstr "D?mon"
 
-#: UI/GTK2/src/statisticsDialog.cc:128 UI/GTK2/src/statisticsDialog.cc:144
+#: UI/GTK2/src/statisticsDialog.cc:127 UI/GTK2/src/statisticsDialog.cc:143
 msgid "documents"
 msgstr "Dokumente"
 
-#: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:128
+#: UI/GTK2/src/statisticsDialog.cc:133 UI/GTK2/src/statisticsDialog.cc:149
+#: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Unbekannter Fehler"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 #, fuzzy
 msgid "Viewed"
 msgstr "Angesehen"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "results"
 msgstr "Ergebnisse"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:174
+#: UI/GTK2/src/statisticsDialog.cc:173
 msgid "Running under PID"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:178
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Currently not running"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "files"
 msgstr "Dateien"
 
-#: UI/GTK2/src/statisticsDialog.cc:206
+#: UI/GTK2/src/statisticsDialog.cc:205
 msgid "Errors"
 msgstr "Fehler"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:91
 #, fuzzy
 msgid "Index error"
 msgstr "Indiziert"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:93
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "Dokument konnte nicht aktualisiert werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Couldn't update document"
 msgstr "Dokument konnte nicht aktualisiert werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't unindex document(s)"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't run query on search engine"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:101
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "Konnte Verlaufsdatenbank nicht anlegen"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:103
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "Dokument konnte nicht aktualisiert werden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "Konnte Index nicht ?ffnen"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:109
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "existiert nicht"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't create search engine"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Cannot index document type"
 msgstr "Kann Dokumenttyp nicht indizieren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "No downloader for this protocol"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META-Tag verbietet das Indizieren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:123
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:393
+#: UI/GTK2/src/WorkerThreads.cpp:391
+msgid "Indexing was stopped"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:404
 msgid "Can't index mail here"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
+#: UI/GTK2/src/WorkerThreads.cpp:425 UI/GTK2/src/WorkerThreads.cpp:676
 msgid "is already being indexed"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:424
+#: UI/GTK2/src/WorkerThreads.cpp:435
 msgid "is blacklisted"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:937
+#: UI/GTK2/src/WorkerThreads.cpp:945
 msgid "No title"
 msgstr "Kein Titel"

Modified: trunk/po/es.po
===================================================================
--- trunk/po/es.po	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/po/es.po	2007-11-23 15:36:49 UTC (rev 1123)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.80\n"
+"Project-Id-Version: pinot 0.81\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-28 22:51+0800\n"
+"POT-Creation-Date: 2007-11-22 19:39+0800\n"
 "PO-Revision-Date: 2007-09-20 21:14+0000\n"
 "Last-Translator: Gar Bage <garbage at openfutura.com>\n"
 "Language-Team: es <fabricecolin at users.berlios.de>\n"
@@ -17,33 +17,33 @@
 "X-Launchpad-Export-Date: 2007-09-23 13:58+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68
+#: UI/GTK2/src/EnginesTree.cpp:67
 msgid "Search Engines"
 msgstr "Motores de b?squeda"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:325
 msgid "Current User"
 msgstr "Usuario"
 
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:795
-#: UI/GTK2/src/mainWindow.cc:1017 UI/GTK2/src/mainWindow.cc:1354
-#: UI/GTK2/src/mainWindow.cc:1509 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
-#: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
-#: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:738
+#: UI/GTK2/src/mainWindow.cc:959 UI/GTK2/src/mainWindow.cc:1296
+#: UI/GTK2/src/mainWindow.cc:1451 UI/GTK2/src/mainWindow.cc:1493
+#: UI/GTK2/src/mainWindow.cc:1515 UI/GTK2/src/mainWindow.cc:2119
+#: UI/GTK2/src/mainWindow.cc:2229 UI/GTK2/src/PinotSettings.cpp:320
+#: UI/GTK2/src/PinotSettings.cpp:1430 UI/GTK2/src/PinotSettings.cpp:1486
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:982
 msgid "My Web Pages"
 msgstr "Mis Paginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:798
-#: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
-#: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
-#: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:741
+#: UI/GTK2/src/mainWindow.cc:953 UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:2233 UI/GTK2/src/PinotSettings.cpp:321
+#: UI/GTK2/src/PinotSettings.cpp:1431 UI/GTK2/src/PinotSettings.cpp:1487
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:992
 msgid "My Documents"
 msgstr "Mis documentos"
 
@@ -59,69 +59,69 @@
 msgid "Index location"
 msgstr "Localizaci?n del ?ndice"
 
-#: UI/GTK2/src/indexDialog_glade.cc:65 UI/GTK2/src/queryDialog_glade.cc:68
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
 msgstr "Nombre:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:66
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
 msgid "Type:"
 msgstr "Tipo:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:66
 msgid "Location:"
 msgstr "Localizaci?n:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:72 UI/GTK2/src/prefsDialog_glade.cc:86
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
 msgid "Port:"
 msgstr "Puerto:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:79 UI/GTK2/src/prefsDialog_glade.cc:82
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
 msgstr "Direcci?n"
 
-#: UI/GTK2/src/indexDialog_glade.cc:183
+#: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
 msgstr "?ndice externo"
 
 #. Labels
-#: UI/GTK2/src/importDialog.cc:87 UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/importDialog.cc:86 UI/GTK2/src/queryDialog.cc:123
 msgid "None"
 msgstr "Ninguno"
 
-#: UI/GTK2/src/importDialog_glade.cc:68
-#: UI/GTK2/src/propertiesDialog_glade.cc:64
+#: UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
 msgid "Title:"
 msgstr "T?tulo:"
 
-#: UI/GTK2/src/importDialog_glade.cc:71
+#: UI/GTK2/src/importDialog_glade.cc:70
 msgid "Apply label:"
 msgstr "Etiqueta aplicada:"
 
-#: UI/GTK2/src/importDialog_glade.cc:77
+#: UI/GTK2/src/importDialog_glade.cc:76
 msgid "Import"
 msgstr "Importar"
 
-#: UI/GTK2/src/importDialog_glade.cc:148 UI/GTK2/src/mainWindow_glade.cc:216
+#: UI/GTK2/src/importDialog_glade.cc:147 UI/GTK2/src/mainWindow_glade.cc:215
 msgid "Import URL"
 msgstr "Importar una URL"
 
-#: UI/GTK2/src/IndexPage.cpp:51
+#: UI/GTK2/src/IndexPage.cpp:50
 msgid "Show Previous"
 msgstr "Mostrar previos"
 
-#: UI/GTK2/src/IndexPage.cpp:57
+#: UI/GTK2/src/IndexPage.cpp:56
 msgid "Show Next"
 msgstr "Mostrar siguientes"
 
-#: UI/GTK2/src/IndexPage.cpp:189
+#: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
 msgstr "Todos"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:64
+#: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
@@ -129,424 +129,423 @@
 "No hay aplicaci?n de ayuda definida para este tipo de documento.\n"
 "Por favor, introduzca la orden para abrir este documento"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:67
+#: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
 msgstr "Use esta orden para otros documentos del mismo tipo"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:99
+#: UI/GTK2/src/launcherDialog_glade.cc:98
 msgid "Helper application"
 msgstr "Aplicaci?n de ayuda"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:166
 msgid "Query Name"
 msgstr "Nombre de la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:217
+#: UI/GTK2/src/mainWindow.cc:171
 msgid "Last Run"
 msgstr "?ltima ejecuci?n"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Summary"
 msgstr "Sumario"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:206
 msgid "Show all search engines"
 msgstr "Mostrar todos los motores de b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:207
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:254
+#: UI/GTK2/src/mainWindow.cc:208
 #, fuzzy
 msgid "Add an index"
 msgstr "A?adir ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:255
+#: UI/GTK2/src/mainWindow.cc:209
 #, fuzzy
 msgid "Remove an index"
 msgstr "Borrar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:210
 #, fuzzy
 msgid "Add a query"
 msgstr "A?adida una nueva b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:257
+#: UI/GTK2/src/mainWindow.cc:211
 #, fuzzy
 msgid "Remove a query"
 msgstr "B?squeda activa"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:212
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:213
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:289
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Ready"
 msgstr "Preparado"
 
-#: UI/GTK2/src/mainWindow.cc:349
+#: UI/GTK2/src/mainWindow.cc:292
 msgid "N/A"
 msgstr "Desconocido"
 
-#: UI/GTK2/src/mainWindow.cc:364
+#: UI/GTK2/src/mainWindow.cc:307
 msgid "Undefined"
 msgstr "Indefinido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:587 UI/GTK2/src/mainWindow.cc:2675
+#: UI/GTK2/src/mainWindow.cc:530 UI/GTK2/src/mainWindow.cc:2617
 msgid "Live query"
 msgstr "B?squeda activa"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:727
+#: UI/GTK2/src/mainWindow.cc:670
 msgid "Result location is"
 msgstr "La localizaci?n del resultado es"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:809
+#: UI/GTK2/src/mainWindow.cc:752
 msgid "Document location is"
 msgstr "La localizaci?n del documento es"
 
-#: UI/GTK2/src/mainWindow.cc:993 UI/GTK2/src/mainWindow.cc:2109
+#: UI/GTK2/src/mainWindow.cc:936 UI/GTK2/src/mainWindow.cc:2051
 msgid "Couldn't find query"
 msgstr "No se pudo a?adir la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:1008
+#: UI/GTK2/src/mainWindow.cc:950
 #, fuzzy
 msgid "In Results"
 msgstr "resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1191
+#: UI/GTK2/src/mainWindow.cc:1133
 msgid "Showing"
 msgstr "Mostrando"
 
-#: UI/GTK2/src/mainWindow.cc:1196
+#: UI/GTK2/src/mainWindow.cc:1138
 msgid "of"
 msgstr "documentos"
 
-#: UI/GTK2/src/mainWindow.cc:1201
+#: UI/GTK2/src/mainWindow.cc:1143
 msgid "documents, starting at"
 msgstr "documentos comenzando en"
 
-#: UI/GTK2/src/mainWindow.cc:1235
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "Query"
 msgstr "B?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:1239 UI/GTK2/src/mainWindow.cc:3268
+#: UI/GTK2/src/mainWindow.cc:1181 UI/GTK2/src/mainWindow.cc:3210
 msgid "on"
 msgstr "en"
 
-#: UI/GTK2/src/mainWindow.cc:1243
+#: UI/GTK2/src/mainWindow.cc:1185
 msgid "ended"
 msgstr "finalizado"
 
-#: UI/GTK2/src/mainWindow.cc:1304
+#: UI/GTK2/src/mainWindow.cc:1246
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1393
+#: UI/GTK2/src/mainWindow.cc:1335
 msgid "More Like"
 msgstr "M?s como"
 
-#: UI/GTK2/src/mainWindow.cc:1435
+#: UI/GTK2/src/mainWindow.cc:1377
 msgid "Updated label(s)"
 msgstr "Etiqueta(s) actualizada(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1519 UI/GTK2/src/mainWindow.cc:1613
+#: UI/GTK2/src/mainWindow.cc:1461 UI/GTK2/src/mainWindow.cc:1555
 msgid "Updated document"
 msgstr "Documento actualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1532
+#: UI/GTK2/src/mainWindow.cc:1474
 msgid "Indexed"
 msgstr "Indizado"
 
-#: UI/GTK2/src/mainWindow.cc:1574
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "Unindexed document(s)"
 msgstr "Documento(s) no indizado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1671
+#: UI/GTK2/src/mainWindow.cc:1613
 msgid "Couldn't rename index, name"
 msgstr "No se pudo renombrar ?ndice, nombre"
 
-#: UI/GTK2/src/mainWindow.cc:1675 UI/GTK2/src/mainWindow.cc:2501
-#: UI/GTK2/src/mainWindow.cc:3072
+#: UI/GTK2/src/mainWindow.cc:1617 UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:3014
 msgid "is already in use"
 msgstr "ya est? en uso"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1630
 msgid "Couldn't rename index"
 msgstr "No se pudo renombrar el ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1701
+#: UI/GTK2/src/mainWindow.cc:1643
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2029
+#: UI/GTK2/src/mainWindow.cc:1971
 msgid "Export Results"
 msgstr "Exportar resultados"
 
-#: UI/GTK2/src/mainWindow.cc:2304
+#: UI/GTK2/src/mainWindow.cc:2246
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2308
+#: UI/GTK2/src/mainWindow.cc:2250
 msgid "doesn't exist"
 msgstr "no existe"
 
-#: UI/GTK2/src/mainWindow.cc:2386
+#: UI/GTK2/src/mainWindow.cc:2328
 msgid "Remove this document from the index ?"
 msgstr "?Borrar este documento del ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2405
+#: UI/GTK2/src/mainWindow.cc:2347
 msgid "Remove these documents from the index ?"
 msgstr "?Borrar este documento del ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2451
+#: UI/GTK2/src/mainWindow.cc:2393
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Una herramienta metabuscador para el escritorio libre"
 
-#: UI/GTK2/src/mainWindow.cc:2452
+#: UI/GTK2/src/mainWindow.cc:2394
 msgid "Search the Web and your documents !"
 msgstr "Busca en el web y en sus documentos"
 
-#: UI/GTK2/src/mainWindow.cc:2497
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index name"
 msgstr "Nombre del ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2512
+#: UI/GTK2/src/mainWindow.cc:2454
 msgid "Couldn't add index"
 msgstr "No se pudo a?adir el ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2528
+#: UI/GTK2/src/mainWindow.cc:2470
 msgid "Added new index"
 msgstr "A?adido un nuevo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2563
+#: UI/GTK2/src/mainWindow.cc:2505
 msgid "Couldn't remove index"
 msgstr "No se pudo borrar el ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2768
+#: UI/GTK2/src/mainWindow.cc:2710
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2826
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Al menos una tarea no ha finalizado. ?Parar ahora?"
 
-#: UI/GTK2/src/mainWindow.cc:3068
+#: UI/GTK2/src/mainWindow.cc:3010
 msgid "Query name"
 msgstr "Nombre la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3037
 msgid "Couldn't update query"
 msgstr "No se pudo actualizar la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3103
+#: UI/GTK2/src/mainWindow.cc:3045
 msgid "Edited query"
 msgstr "B?squeda editada"
 
-#: UI/GTK2/src/mainWindow.cc:3110
+#: UI/GTK2/src/mainWindow.cc:3052
 msgid "Couldn't add query"
 msgstr "No se pudo a?adir la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3118
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "Added new query"
 msgstr "A?adida una nueva b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3099
 msgid "Query is not set"
 msgstr "B?squeda no definida"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3110
 msgid "No search engine selected"
 msgstr "Motor de b?squeda no seleccionado"
 
-#: UI/GTK2/src/mainWindow.cc:3255
+#: UI/GTK2/src/mainWindow.cc:3197
 msgid "Please set the Google API key first"
 msgstr "Por favor, primero configure el API de Google"
 
-#: UI/GTK2/src/mainWindow.cc:3264
+#: UI/GTK2/src/mainWindow.cc:3206
 msgid "Running query"
 msgstr "Ejecutando la b?squeda"
 
-#: UI/GTK2/src/mainWindow.cc:3473
+#: UI/GTK2/src/mainWindow.cc:3415
 msgid "No default application defined for type"
 msgstr "No hay aplicaci?n predefinida para el tipo"
 
-#: UI/GTK2/src/mainWindow_glade.cc:127
+#: UI/GTK2/src/mainWindow_glade.cc:126
 msgid "Query:"
 msgstr "B?squeda:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:138 UI/GTK2/src/statisticsDialog.cc:88
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:87
 msgid "History"
 msgstr "Hist?rico de b?squeda"
 
-#: UI/GTK2/src/mainWindow_glade.cc:143
+#: UI/GTK2/src/mainWindow_glade.cc:142
 msgid "Stored queries"
 msgstr "B?squedas guardadas"
 
-#: UI/GTK2/src/mainWindow_glade.cc:156 UI/GTK2/src/statisticsDialog.cc:51
-#: UI/GTK2/src/statisticsDialog_glade.cc:87
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr "Estatus"
 
-#: UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow_glade.cc:176
 msgid "Search Engine"
 msgstr "Motor de b?squeda"
 
-#: UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow_glade.cc:179
 msgid "Host Name"
 msgstr "Nombre del servidor"
 
-#: UI/GTK2/src/mainWindow_glade.cc:183
+#: UI/GTK2/src/mainWindow_glade.cc:182
 msgid "Show Extract"
 msgstr "Mostrar extra?dos"
 
-#: UI/GTK2/src/mainWindow_glade.cc:186
+#: UI/GTK2/src/mainWindow_glade.cc:185
 msgid "Group By"
 msgstr "Agrupar por"
 
-#: UI/GTK2/src/mainWindow_glade.cc:192
+#: UI/GTK2/src/mainWindow_glade.cc:191
 msgid "Clear List"
 msgstr "Limpiar la lista"
 
-#: UI/GTK2/src/mainWindow_glade.cc:198
+#: UI/GTK2/src/mainWindow_glade.cc:197
 msgid "Vie_w"
 msgstr "Ver"
 
-#: UI/GTK2/src/mainWindow_glade.cc:201
+#: UI/GTK2/src/mainWindow_glade.cc:200
 msgid "View Cache"
 msgstr "Ver la cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:204
+#: UI/GTK2/src/mainWindow_glade.cc:203
 msgid "More Like This"
 msgstr "Documentos similares"
 
-#: UI/GTK2/src/mainWindow_glade.cc:207
+#: UI/GTK2/src/mainWindow_glade.cc:206
 #, fuzzy
 msgid "Search This For"
 msgstr "Motores de b?squeda"
 
-#: UI/GTK2/src/mainWindow_glade.cc:210 UI/GTK2/src/mainWindow_glade.cc:246
+#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
 msgid "_Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow_glade.cc:213
+#: UI/GTK2/src/mainWindow_glade.cc:212
 msgid "List Contents Of"
 msgstr "Listar el contenido de"
 
-#: UI/GTK2/src/mainWindow_glade.cc:222
+#: UI/GTK2/src/mainWindow_glade.cc:221
 msgid "View"
 msgstr "Ver"
 
-#: UI/GTK2/src/mainWindow_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Actualizar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:228
+#: UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Des-indizar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:231
-#: UI/GTK2/src/propertiesDialog_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:230
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
 msgid "Properties"
 msgstr "Propiedades"
 
-#: UI/GTK2/src/mainWindow_glade.cc:234
+#: UI/GTK2/src/mainWindow_glade.cc:233
 msgid "_About"
 msgstr "Sobre"
 
-#: UI/GTK2/src/mainWindow_glade.cc:237
+#: UI/GTK2/src/mainWindow_glade.cc:236
 msgid "_Session"
 msgstr "Sesi?n"
 
-#: UI/GTK2/src/mainWindow_glade.cc:240
+#: UI/GTK2/src/mainWindow_glade.cc:239
 msgid "_Edit"
 msgstr "Editar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:243
+#: UI/GTK2/src/mainWindow_glade.cc:242
 msgid "_Results"
 msgstr "Resultados"
 
-#: UI/GTK2/src/mainWindow_glade.cc:249
+#: UI/GTK2/src/mainWindow_glade.cc:248
 msgid "_Help"
 msgstr "Ayuda"
 
-#: UI/GTK2/src/mainWindow_glade.cc:378
+#: UI/GTK2/src/mainWindow_glade.cc:377
 msgid "Pinot"
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:312
-#: UI/GTK2/src/propertiesDialog.cc:97
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:404
 msgid "Unknown"
 msgstr "Desconocido"
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:405
 msgid "Danish"
 msgstr "Dan?s"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:406
 msgid "Dutch"
 msgstr "Holand?s"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:407
 msgid "English"
 msgstr "Ingl?s"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:408
 msgid "Finnish"
 msgstr "Finland?s"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:409
 msgid "French"
 msgstr "Franc?s"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:410
 msgid "German"
 msgstr "Alem?n"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:411
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:412
 msgid "Italian"
 msgstr "Italiano"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:413
 msgid "Norwegian"
 msgstr "Noruego"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:414
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:415
 msgid "Romanian"
 msgstr "Rumano"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:416
 msgid "Russian"
 msgstr "Ruso"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:417
 msgid "Spanish"
 msgstr "Espa?ol"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:418
 msgid "Swedish"
 msgstr "Sueco"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:419
 msgid "Turkish"
 msgstr "Turco"
 
@@ -564,23 +563,23 @@
 msgstr "Se recomienda actualizar todos los documentos en Mis P?ginas Web"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:317
+#: UI/GTK2/src/PinotSettings.cpp:326
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/PinotSettings.cpp:327
 msgid "New"
 msgstr "Nuevo"
 
-#: UI/GTK2/src/PinotSettings.cpp:319
+#: UI/GTK2/src/PinotSettings.cpp:328
 msgid "Personal"
 msgstr "Personal"
 
-#: UI/GTK2/src/PinotSettings.cpp:358
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1233
+#: UI/GTK2/src/PinotSettings.cpp:1242
 msgid "Unclassified"
 msgstr "No clasificado"
 
@@ -616,106 +615,106 @@
 msgid "Directory to index"
 msgstr "Carpeta a indexar"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:66
+#: UI/GTK2/src/prefsDialog_glade.cc:65
 msgid "Google API key:"
 msgstr "Clave del API de Google"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
+#: UI/GTK2/src/prefsDialog_glade.cc:68
 msgid "New results:"
 msgstr "Nuevos resultados:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
+#: UI/GTK2/src/prefsDialog_glade.cc:69
 msgid "Queries:"
 msgstr "B?squedas:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:71
+#: UI/GTK2/src/prefsDialog_glade.cc:70
 msgid "Enable search terms suggestion"
 msgstr "Activar sugerencia de t?rminos de b?squeda"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
+#: UI/GTK2/src/prefsDialog_glade.cc:72
 msgid "Ignore robots.txt and Robots META tag"
 msgstr "Ignorar robots.txt y la etiqueta META Robots"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:74
+#: UI/GTK2/src/prefsDialog_glade.cc:73
 msgid "HTTP crawling:"
 msgstr "Agente HTTP:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:77
+#: UI/GTK2/src/prefsDialog_glade.cc:76
 msgid "General"
 msgstr "General"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
 msgstr "Conexi?n directa a Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:80
+#: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
 msgstr "Configuraci?n manual del proxy:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
+#: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
 msgstr "Red"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:94
+#: UI/GTK2/src/prefsDialog_glade.cc:93
 msgid "Labels are used to classify indexed documents:"
 msgstr "Las etiquetas se usan para clasificar los documentos indizados:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:99 UI/GTK2/src/prefsDialog_glade.cc:119
-#: UI/GTK2/src/prefsDialog_glade.cc:135
+#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
+#: UI/GTK2/src/prefsDialog_glade.cc:134
 msgid "Add"
 msgstr "A?adir"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:105
+#: UI/GTK2/src/prefsDialog_glade.cc:104
 msgid "Remove"
 msgstr "Borrar"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113 UI/GTK2/src/propertiesDialog.cc:56
+#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
 msgid "Labels"
 msgstr "Etiquetas"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:114
+#: UI/GTK2/src/prefsDialog_glade.cc:113
 msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr "Estas carpetas van a estar indexar autom?ticamente"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:127
+#: UI/GTK2/src/prefsDialog_glade.cc:126
 #, fuzzy
 msgid "File patterns:"
 msgstr "Extensi?n del archivo"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
+#: UI/GTK2/src/prefsDialog_glade.cc:143
 msgid "Indexing"
 msgstr "?ndices"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:507
+#: UI/GTK2/src/prefsDialog_glade.cc:506
 msgid "Preferences"
 msgstr "Preferencias"
 
-#: UI/GTK2/src/propertiesDialog.cc:110
+#: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Documento"
 
-#: UI/GTK2/src/propertiesDialog.cc:368
+#: UI/GTK2/src/propertiesDialog.cc:365
 #, fuzzy
 msgid "Export Terms"
 msgstr "Exportar resultados"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:65
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
 msgstr "Idioma:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
 msgid "MIME type:"
 msgstr "Tipo MIME:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
 msgid "Size:"
 msgstr "Tama?o:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:68
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
 msgstr "T?rminos:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:78
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
 msgstr ""
 
@@ -732,12 +731,12 @@
 msgstr "Extensi?n del archivo"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:133
+#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "T?tulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:143
+#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
@@ -758,7 +757,7 @@
 msgstr "Etiqueta"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:151
+#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Date"
 
@@ -782,165 +781,169 @@
 msgid "By date"
 msgstr "Actualizar"
 
-#: UI/GTK2/src/queryDialog_glade.cc:72
+#: UI/GTK2/src/queryDialog_glade.cc:71
 #, fuzzy
 msgid "New filter or range:"
 msgstr "Nuevo filtro:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:81
+#: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
 msgstr "B?squeda"
 
-#: UI/GTK2/src/queryDialog_glade.cc:83
+#: UI/GTK2/src/queryDialog_glade.cc:82
 msgid "Index results with label"
 msgstr "Indizar todos los resultados con la etiqueta"
 
-#: UI/GTK2/src/queryDialog_glade.cc:86
+#: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
 msgstr "N?mero de resultados:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:90
+#: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:192
+#: UI/GTK2/src/queryDialog_glade.cc:191
 msgid "Query parameters"
 msgstr "Par?metros de b?squeda"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:122
+#: UI/GTK2/src/ResultsTree.cpp:121
 msgid "Score"
 msgstr "Cuenta"
 
-#: UI/GTK2/src/ResultsTree.cpp:180
+#: UI/GTK2/src/ResultsTree.cpp:179
 msgid "Extract"
 msgstr "Extra?dos"
 
-#: UI/GTK2/src/statisticsDialog.cc:73
+#: UI/GTK2/src/statisticsDialog.cc:72
 msgid "Indexes"
 msgstr "?ndices"
 
-#: UI/GTK2/src/statisticsDialog.cc:93
+#: UI/GTK2/src/statisticsDialog.cc:92
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:128 UI/GTK2/src/statisticsDialog.cc:144
+#: UI/GTK2/src/statisticsDialog.cc:127 UI/GTK2/src/statisticsDialog.cc:143
 msgid "documents"
 msgstr "documentos"
 
-#: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:128
+#: UI/GTK2/src/statisticsDialog.cc:133 UI/GTK2/src/statisticsDialog.cc:149
+#: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Error desconocido"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "Viewed"
 msgstr "Ver"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "results"
 msgstr "resultados"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:174
+#: UI/GTK2/src/statisticsDialog.cc:173
 msgid "Running under PID"
 msgstr "Ejecut?ndose bajo PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:178
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Currently not running"
 msgstr "No se ejecuta actualmente"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "Crawled"
 msgstr "Capturado"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "files"
 msgstr "archivos"
 
-#: UI/GTK2/src/statisticsDialog.cc:206
+#: UI/GTK2/src/statisticsDialog.cc:205
 msgid "Errors"
 msgstr "Errores"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:91
 #, fuzzy
 msgid "Index error"
 msgstr "Error en el ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:93
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "No se pudo des-indizar lo(s) documento(s)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Couldn't update document"
 msgstr "No se pudo actualizar el documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't unindex document(s)"
 msgstr "No se pudo des-indizar lo(s) documento(s)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't run query on search engine"
 msgstr "No se pudo ejecutar la b?squeda contra el motor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:101
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "No se pudo ejecutar la b?squeda contra el motor"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:103
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "No se pudo actualizar el documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "No se pudo abrir el ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:109
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "no existe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't create search engine"
 msgstr "No se pudo crear el motor de b?squeda"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Cannot index document type"
 msgstr "No se pudo indizar el tipo de documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:115
 #, fuzzy
 msgid "No downloader for this protocol"
 msgstr "No se pudo usar un recuperador para el protocolo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Robots META tag forbids indexing"
 msgstr "La etiqueta META Robots proh?be la indizaci?n"
 
-#: UI/GTK2/src/WorkerThreads.cpp:123
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:393
+#: UI/GTK2/src/WorkerThreads.cpp:391
+msgid "Indexing was stopped"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:404
 msgid "Can't index mail here"
 msgstr "No se pudo indizar el buzon de correo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
+#: UI/GTK2/src/WorkerThreads.cpp:425 UI/GTK2/src/WorkerThreads.cpp:676
 msgid "is already being indexed"
 msgstr "ya est? indizado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:424
+#: UI/GTK2/src/WorkerThreads.cpp:435
 msgid "is blacklisted"
 msgstr "ya excluido"
 
-#: UI/GTK2/src/WorkerThreads.cpp:937
+#: UI/GTK2/src/WorkerThreads.cpp:945
 msgid "No title"
 msgstr "Sin t?tulo"

Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/po/fr.po	2007-11-23 15:36:49 UTC (rev 1123)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.80\n"
+"Project-Id-Version: pinot 0.81\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-28 22:51+0800\n"
+"POT-Creation-Date: 2007-11-22 19:39+0800\n"
 "PO-Revision-Date: 2007-10-19 22:30+0000\n"
 "Last-Translator: Fabrice Colin <fabricecolin at users.berlios.de>\n"
 "Language-Team: fr <fabricecolin at users.berlios.de>\n"
@@ -17,33 +17,33 @@
 "X-Launchpad-Export-Date: 2007-09-23 13:58+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68
+#: UI/GTK2/src/EnginesTree.cpp:67
 msgid "Search Engines"
 msgstr "Moteurs"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:325
 msgid "Current User"
 msgstr "Utilisateur"
 
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:795
-#: UI/GTK2/src/mainWindow.cc:1017 UI/GTK2/src/mainWindow.cc:1354
-#: UI/GTK2/src/mainWindow.cc:1509 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
-#: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
-#: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:738
+#: UI/GTK2/src/mainWindow.cc:959 UI/GTK2/src/mainWindow.cc:1296
+#: UI/GTK2/src/mainWindow.cc:1451 UI/GTK2/src/mainWindow.cc:1493
+#: UI/GTK2/src/mainWindow.cc:1515 UI/GTK2/src/mainWindow.cc:2119
+#: UI/GTK2/src/mainWindow.cc:2229 UI/GTK2/src/PinotSettings.cpp:320
+#: UI/GTK2/src/PinotSettings.cpp:1430 UI/GTK2/src/PinotSettings.cpp:1486
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:982
 msgid "My Web Pages"
 msgstr "Mes Pages Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:798
-#: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
-#: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
-#: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:741
+#: UI/GTK2/src/mainWindow.cc:953 UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:2233 UI/GTK2/src/PinotSettings.cpp:321
+#: UI/GTK2/src/PinotSettings.cpp:1431 UI/GTK2/src/PinotSettings.cpp:1487
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:992
 msgid "My Documents"
 msgstr "Mes Documents"
 
@@ -59,69 +59,69 @@
 msgid "Index location"
 msgstr "Chemin de l'index"
 
-#: UI/GTK2/src/indexDialog_glade.cc:65 UI/GTK2/src/queryDialog_glade.cc:68
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
 msgstr "Nom:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:66
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
 msgid "Type:"
 msgstr "Type:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:66
 msgid "Location:"
 msgstr "Chemin:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:72 UI/GTK2/src/prefsDialog_glade.cc:86
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
 msgid "Port:"
 msgstr "Port:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:79 UI/GTK2/src/prefsDialog_glade.cc:82
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
 msgstr "Addresse:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:183
+#: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
 msgstr "Index externe"
 
 #. Labels
-#: UI/GTK2/src/importDialog.cc:87 UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/importDialog.cc:86 UI/GTK2/src/queryDialog.cc:123
 msgid "None"
 msgstr "Aucune"
 
-#: UI/GTK2/src/importDialog_glade.cc:68
-#: UI/GTK2/src/propertiesDialog_glade.cc:64
+#: UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
 msgid "Title:"
 msgstr "Titre:"
 
-#: UI/GTK2/src/importDialog_glade.cc:71
+#: UI/GTK2/src/importDialog_glade.cc:70
 msgid "Apply label:"
 msgstr "Appliquer l'etiquette:"
 
-#: UI/GTK2/src/importDialog_glade.cc:77
+#: UI/GTK2/src/importDialog_glade.cc:76
 msgid "Import"
 msgstr "Importer"
 
-#: UI/GTK2/src/importDialog_glade.cc:148 UI/GTK2/src/mainWindow_glade.cc:216
+#: UI/GTK2/src/importDialog_glade.cc:147 UI/GTK2/src/mainWindow_glade.cc:215
 msgid "Import URL"
 msgstr "Importer une URL"
 
-#: UI/GTK2/src/IndexPage.cpp:51
+#: UI/GTK2/src/IndexPage.cpp:50
 msgid "Show Previous"
 msgstr "Precedents"
 
-#: UI/GTK2/src/IndexPage.cpp:57
+#: UI/GTK2/src/IndexPage.cpp:56
 msgid "Show Next"
 msgstr "Suivants"
 
-#: UI/GTK2/src/IndexPage.cpp:189
+#: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
 msgstr "Tout"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:64
+#: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
@@ -129,418 +129,417 @@
 "Il n'y a pas d'application definie pour les documents de ce type.\n"
 "Veuillez entrer la commande a utiliser pour ouvrir ce document."
 
-#: UI/GTK2/src/launcherDialog_glade.cc:67
+#: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
 msgstr "Utiliser cette commande pour tout autre document de ce type."
 
-#: UI/GTK2/src/launcherDialog_glade.cc:99
+#: UI/GTK2/src/launcherDialog_glade.cc:98
 msgid "Helper application"
 msgstr "Application"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:166
 msgid "Query Name"
 msgstr "Nom de la Recherche"
 
-#: UI/GTK2/src/mainWindow.cc:217
+#: UI/GTK2/src/mainWindow.cc:171
 msgid "Last Run"
 msgstr "Derniere Utilisation"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Summary"
 msgstr "Sommaire"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:206
 msgid "Show all search engines"
 msgstr "Montrer tous les moteurs"
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:207
 msgid "Find documents that match the query string"
-msgstr ""
+msgstr "Chercher les documents qui ont ce texte"
 
-#: UI/GTK2/src/mainWindow.cc:254
+#: UI/GTK2/src/mainWindow.cc:208
 msgid "Add an index"
 msgstr "Ajouter un index"
 
-#: UI/GTK2/src/mainWindow.cc:255
+#: UI/GTK2/src/mainWindow.cc:209
 msgid "Remove an index"
 msgstr "Enlever un index"
 
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:210
 msgid "Add a query"
 msgstr "Ajouter une recherche"
 
-#: UI/GTK2/src/mainWindow.cc:257
+#: UI/GTK2/src/mainWindow.cc:211
 msgid "Remove a query"
 msgstr "Effacer une recherche"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:212
 msgid "Show the query's previous results"
-msgstr ""
+msgstr "Montrer les resultats precedents"
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:213
 msgid "Find documents that match the query"
-msgstr ""
+msgstr "Chercher les documents"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:289
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Ready"
 msgstr "Pret"
 
-#: UI/GTK2/src/mainWindow.cc:349
+#: UI/GTK2/src/mainWindow.cc:292
 msgid "N/A"
 msgstr "Inconnue"
 
-#: UI/GTK2/src/mainWindow.cc:364
+#: UI/GTK2/src/mainWindow.cc:307
 msgid "Undefined"
 msgstr "Indefini"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:587 UI/GTK2/src/mainWindow.cc:2675
+#: UI/GTK2/src/mainWindow.cc:530 UI/GTK2/src/mainWindow.cc:2617
 msgid "Live query"
 msgstr "Recherche"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:727
+#: UI/GTK2/src/mainWindow.cc:670
 msgid "Result location is"
 msgstr "Le chemin du resultat est"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:809
+#: UI/GTK2/src/mainWindow.cc:752
 msgid "Document location is"
 msgstr "Le chemin du document is"
 
-#: UI/GTK2/src/mainWindow.cc:993 UI/GTK2/src/mainWindow.cc:2109
+#: UI/GTK2/src/mainWindow.cc:936 UI/GTK2/src/mainWindow.cc:2051
 msgid "Couldn't find query"
 msgstr "N'a pas pu trouver"
 
-#: UI/GTK2/src/mainWindow.cc:1008
+#: UI/GTK2/src/mainWindow.cc:950
 msgid "In Results"
 msgstr "Dans Les Resultats"
 
-#: UI/GTK2/src/mainWindow.cc:1191
+#: UI/GTK2/src/mainWindow.cc:1133
 msgid "Showing"
 msgstr "Montrant"
 
-#: UI/GTK2/src/mainWindow.cc:1196
+#: UI/GTK2/src/mainWindow.cc:1138
 msgid "of"
 msgstr "documents,"
 
-#: UI/GTK2/src/mainWindow.cc:1201
+#: UI/GTK2/src/mainWindow.cc:1143
 msgid "documents, starting at"
 msgstr "au total, a partir de"
 
-#: UI/GTK2/src/mainWindow.cc:1235
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "Query"
 msgstr "La recherche"
 
-#: UI/GTK2/src/mainWindow.cc:1239 UI/GTK2/src/mainWindow.cc:3268
+#: UI/GTK2/src/mainWindow.cc:1181 UI/GTK2/src/mainWindow.cc:3210
 msgid "on"
 msgstr "sur"
 
-#: UI/GTK2/src/mainWindow.cc:1243
+#: UI/GTK2/src/mainWindow.cc:1185
 msgid "ended"
 msgstr "est terminee"
 
-#: UI/GTK2/src/mainWindow.cc:1304
+#: UI/GTK2/src/mainWindow.cc:1246
 msgid "Corrected"
 msgstr "Corrige"
 
-#: UI/GTK2/src/mainWindow.cc:1393
+#: UI/GTK2/src/mainWindow.cc:1335
 msgid "More Like"
 msgstr "Similaire a"
 
-#: UI/GTK2/src/mainWindow.cc:1435
+#: UI/GTK2/src/mainWindow.cc:1377
 msgid "Updated label(s)"
 msgstr "Mis a jour l(es) etiquette(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1519 UI/GTK2/src/mainWindow.cc:1613
+#: UI/GTK2/src/mainWindow.cc:1461 UI/GTK2/src/mainWindow.cc:1555
 msgid "Updated document"
 msgstr "Mis a jour le document"
 
-#: UI/GTK2/src/mainWindow.cc:1532
+#: UI/GTK2/src/mainWindow.cc:1474
 msgid "Indexed"
 msgstr "Indexe"
 
-#: UI/GTK2/src/mainWindow.cc:1574
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "Unindexed document(s)"
 msgstr "Desindexe le(s) document(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1671
+#: UI/GTK2/src/mainWindow.cc:1613
 msgid "Couldn't rename index, name"
 msgstr "N'a pas pu renommer l'index, le nom"
 
-#: UI/GTK2/src/mainWindow.cc:1675 UI/GTK2/src/mainWindow.cc:2501
-#: UI/GTK2/src/mainWindow.cc:3072
+#: UI/GTK2/src/mainWindow.cc:1617 UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:3014
 msgid "is already in use"
 msgstr "est deja utilise"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1630
 msgid "Couldn't rename index"
 msgstr "N'a pas pu renommer l'index"
 
-#: UI/GTK2/src/mainWindow.cc:1701
+#: UI/GTK2/src/mainWindow.cc:1643
 msgid "Edited index"
 msgstr "Edite l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2029
+#: UI/GTK2/src/mainWindow.cc:1971
 msgid "Export Results"
 msgstr "Exporter Les Resultats"
 
-#: UI/GTK2/src/mainWindow.cc:2304
+#: UI/GTK2/src/mainWindow.cc:2246
 msgid "Index"
 msgstr "L'index"
 
-#: UI/GTK2/src/mainWindow.cc:2308
+#: UI/GTK2/src/mainWindow.cc:2250
 msgid "doesn't exist"
 msgstr "n'existe pas"
 
-#: UI/GTK2/src/mainWindow.cc:2386
+#: UI/GTK2/src/mainWindow.cc:2328
 msgid "Remove this document from the index ?"
 msgstr "Enlever ce document de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2405
+#: UI/GTK2/src/mainWindow.cc:2347
 msgid "Remove these documents from the index ?"
 msgstr "Enlever ces documents de l'index ?"
 
-#: UI/GTK2/src/mainWindow.cc:2451
+#: UI/GTK2/src/mainWindow.cc:2393
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Un outil de recherche pour le Bureau Libre"
 
-#: UI/GTK2/src/mainWindow.cc:2452
+#: UI/GTK2/src/mainWindow.cc:2394
 msgid "Search the Web and your documents !"
 msgstr "Cherche le Web et vos documents"
 
-#: UI/GTK2/src/mainWindow.cc:2497
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index name"
 msgstr "Nom de l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2512
+#: UI/GTK2/src/mainWindow.cc:2454
 msgid "Couldn't add index"
 msgstr "N'a pas pu ajouter l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2528
+#: UI/GTK2/src/mainWindow.cc:2470
 msgid "Added new index"
 msgstr "Ajoute un nouvel index"
 
-#: UI/GTK2/src/mainWindow.cc:2563
+#: UI/GTK2/src/mainWindow.cc:2505
 msgid "Couldn't remove index"
 msgstr "N'a pas pu enlever l'index"
 
-#: UI/GTK2/src/mainWindow.cc:2768
+#: UI/GTK2/src/mainWindow.cc:2710
 msgid "No history for"
-msgstr ""
+msgstr "Pas d'historique pour"
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2826
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Au moins une tache n'est pas terminee. Quitter maintenant ?"
 
-#: UI/GTK2/src/mainWindow.cc:3068
+#: UI/GTK2/src/mainWindow.cc:3010
 msgid "Query name"
 msgstr "Nom de la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3037
 msgid "Couldn't update query"
 msgstr "N'a pas pu mettre a jour la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3103
+#: UI/GTK2/src/mainWindow.cc:3045
 msgid "Edited query"
 msgstr "Edite la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3110
+#: UI/GTK2/src/mainWindow.cc:3052
 msgid "Couldn't add query"
 msgstr "N'a pas pu ajouter la recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3118
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "Added new query"
 msgstr "Ajoute une nouvelle recherche"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3099
 msgid "Query is not set"
 msgstr "Recherche indefinie"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3110
 msgid "No search engine selected"
 msgstr "Pas de moteur selectionne"
 
-#: UI/GTK2/src/mainWindow.cc:3255
+#: UI/GTK2/src/mainWindow.cc:3197
 msgid "Please set the Google API key first"
 msgstr "Configurez la clef de l'API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3264
+#: UI/GTK2/src/mainWindow.cc:3206
 msgid "Running query"
 msgstr "Recherche en cours"
 
-#: UI/GTK2/src/mainWindow.cc:3473
+#: UI/GTK2/src/mainWindow.cc:3415
 msgid "No default application defined for type"
 msgstr "Pas d'application definie pour le type"
 
-#: UI/GTK2/src/mainWindow_glade.cc:127
+#: UI/GTK2/src/mainWindow_glade.cc:126
 msgid "Query:"
 msgstr "Recherche:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:138 UI/GTK2/src/statisticsDialog.cc:88
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:87
 msgid "History"
 msgstr "Historique"
 
-#: UI/GTK2/src/mainWindow_glade.cc:143
+#: UI/GTK2/src/mainWindow_glade.cc:142
 msgid "Stored queries"
 msgstr "Recherches sauvegardees"
 
-#: UI/GTK2/src/mainWindow_glade.cc:156 UI/GTK2/src/statisticsDialog.cc:51
-#: UI/GTK2/src/statisticsDialog_glade.cc:87
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr "Statistiques"
 
-#: UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow_glade.cc:176
 msgid "Search Engine"
 msgstr "Moteur"
 
-#: UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow_glade.cc:179
 msgid "Host Name"
 msgstr "Nom de Machine"
 
-#: UI/GTK2/src/mainWindow_glade.cc:183
+#: UI/GTK2/src/mainWindow_glade.cc:182
 msgid "Show Extract"
 msgstr "Montrer l'Extrait"
 
-#: UI/GTK2/src/mainWindow_glade.cc:186
+#: UI/GTK2/src/mainWindow_glade.cc:185
 msgid "Group By"
 msgstr "Grouper Par"
 
-#: UI/GTK2/src/mainWindow_glade.cc:192
+#: UI/GTK2/src/mainWindow_glade.cc:191
 msgid "Clear List"
 msgstr "Nettoyer la Liste"
 
-#: UI/GTK2/src/mainWindow_glade.cc:198
+#: UI/GTK2/src/mainWindow_glade.cc:197
 msgid "Vie_w"
 msgstr "Voir"
 
-#: UI/GTK2/src/mainWindow_glade.cc:201
+#: UI/GTK2/src/mainWindow_glade.cc:200
 msgid "View Cache"
 msgstr "Voir le Cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:204
+#: UI/GTK2/src/mainWindow_glade.cc:203
 msgid "More Like This"
 msgstr "Documents similaires"
 
-#: UI/GTK2/src/mainWindow_glade.cc:207
+#: UI/GTK2/src/mainWindow_glade.cc:206
 msgid "Search This For"
 msgstr "Chercher Cela Pour"
 
-#: UI/GTK2/src/mainWindow_glade.cc:210 UI/GTK2/src/mainWindow_glade.cc:246
+#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
 msgid "_Index"
 msgstr "Index"
 
-#: UI/GTK2/src/mainWindow_glade.cc:213
+#: UI/GTK2/src/mainWindow_glade.cc:212
 msgid "List Contents Of"
 msgstr "Lister le Contenu de"
 
-#: UI/GTK2/src/mainWindow_glade.cc:222
+#: UI/GTK2/src/mainWindow_glade.cc:221
 msgid "View"
 msgstr "Voir"
 
-#: UI/GTK2/src/mainWindow_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Mettre a Jour"
 
-#: UI/GTK2/src/mainWindow_glade.cc:228
+#: UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Desindexer"
 
-#: UI/GTK2/src/mainWindow_glade.cc:231
-#: UI/GTK2/src/propertiesDialog_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:230
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
 msgid "Properties"
 msgstr "Proprietes"
 
-#: UI/GTK2/src/mainWindow_glade.cc:234
+#: UI/GTK2/src/mainWindow_glade.cc:233
 msgid "_About"
 msgstr "A Propos"
 
-#: UI/GTK2/src/mainWindow_glade.cc:237
+#: UI/GTK2/src/mainWindow_glade.cc:236
 msgid "_Session"
 msgstr "Session"
 
-#: UI/GTK2/src/mainWindow_glade.cc:240
+#: UI/GTK2/src/mainWindow_glade.cc:239
 msgid "_Edit"
 msgstr "Editer"
 
-#: UI/GTK2/src/mainWindow_glade.cc:243
+#: UI/GTK2/src/mainWindow_glade.cc:242
 msgid "_Results"
 msgstr "Resultats"
 
-#: UI/GTK2/src/mainWindow_glade.cc:249
+#: UI/GTK2/src/mainWindow_glade.cc:248
 msgid "_Help"
 msgstr "Aide"
 
-#: UI/GTK2/src/mainWindow_glade.cc:378
+#: UI/GTK2/src/mainWindow_glade.cc:377
 msgid "Pinot"
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:312
-#: UI/GTK2/src/propertiesDialog.cc:97
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:404
 msgid "Unknown"
 msgstr "Inconnu"
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:405
 msgid "Danish"
 msgstr "Danois"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:406
 msgid "Dutch"
 msgstr "Hollandais"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:407
 msgid "English"
 msgstr "Anglais"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:408
 msgid "Finnish"
 msgstr "Finlandais"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:409
 msgid "French"
 msgstr "Francais"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:410
 msgid "German"
 msgstr "Allemand"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:411
 msgid "Hungarian"
 msgstr "Hongrois"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:412
 msgid "Italian"
 msgstr "Italien"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:413
 msgid "Norwegian"
 msgstr "Norvegien"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:414
 msgid "Portuguese"
 msgstr "Portugais"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:415
 msgid "Romanian"
 msgstr "Roumain"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:416
 msgid "Russian"
 msgstr "Russe"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:417
 msgid "Spanish"
 msgstr "Espagnol"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:418
 msgid "Swedish"
 msgstr "Suedois"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:419
 msgid "Turkish"
 msgstr "Turc"
 
@@ -558,23 +557,23 @@
 msgstr "Il est recommende de mettre a jour tous les documents de Mes Pages Web"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:317
+#: UI/GTK2/src/PinotSettings.cpp:326
 msgid "Important"
 msgstr "Important"
 
-#: UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/PinotSettings.cpp:327
 msgid "New"
 msgstr "Nouveau"
 
-#: UI/GTK2/src/PinotSettings.cpp:319
+#: UI/GTK2/src/PinotSettings.cpp:328
 msgid "Personal"
 msgstr "Personnel"
 
-#: UI/GTK2/src/PinotSettings.cpp:358
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Me"
-msgstr ""
+msgstr "Moi"
 
-#: UI/GTK2/src/PinotSettings.cpp:1233
+#: UI/GTK2/src/PinotSettings.cpp:1242
 msgid "Unclassified"
 msgstr "Sans classification"
 
@@ -610,106 +609,106 @@
 msgid "Directory to index"
 msgstr "Repertoire a indexer"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:66
+#: UI/GTK2/src/prefsDialog_glade.cc:65
 msgid "Google API key:"
 msgstr "Clef de l'API Google"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
+#: UI/GTK2/src/prefsDialog_glade.cc:68
 msgid "New results:"
 msgstr "Nouveaux resultats:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
+#: UI/GTK2/src/prefsDialog_glade.cc:69
 msgid "Queries:"
 msgstr "Recherches:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:71
+#: UI/GTK2/src/prefsDialog_glade.cc:70
 msgid "Enable search terms suggestion"
 msgstr "Suggerer des termes"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
+#: UI/GTK2/src/prefsDialog_glade.cc:72
 msgid "Ignore robots.txt and Robots META tag"
 msgstr "Ignorer robots.txt et le META tag Robots"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:74
+#: UI/GTK2/src/prefsDialog_glade.cc:73
 msgid "HTTP crawling:"
 msgstr "Agent HTTP:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:77
+#: UI/GTK2/src/prefsDialog_glade.cc:76
 msgid "General"
 msgstr "General"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
 msgstr "Connection directe a l'Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:80
+#: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
 msgstr "Configuration proxy manuelle"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
+#: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
 msgstr "Reseau"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:94
+#: UI/GTK2/src/prefsDialog_glade.cc:93
 msgid "Labels are used to classify indexed documents:"
 msgstr "Les etiquettes servent a classer les documents:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:99 UI/GTK2/src/prefsDialog_glade.cc:119
-#: UI/GTK2/src/prefsDialog_glade.cc:135
+#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
+#: UI/GTK2/src/prefsDialog_glade.cc:134
 msgid "Add"
 msgstr "Ajouter"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:105
+#: UI/GTK2/src/prefsDialog_glade.cc:104
 msgid "Remove"
 msgstr "Enlever"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113 UI/GTK2/src/propertiesDialog.cc:56
+#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
 msgid "Labels"
 msgstr "Etiquettes"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:114
+#: UI/GTK2/src/prefsDialog_glade.cc:113
 msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr "Ces repertoires seront indexes automatiquement:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:127
+#: UI/GTK2/src/prefsDialog_glade.cc:126
 msgid "File patterns:"
 msgstr "Motifs de fichier:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
+#: UI/GTK2/src/prefsDialog_glade.cc:143
 msgid "Indexing"
-msgstr "Indexes"
+msgstr "Indexation"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:507
+#: UI/GTK2/src/prefsDialog_glade.cc:506
 msgid "Preferences"
 msgstr "Preferences"
 
-#: UI/GTK2/src/propertiesDialog.cc:110
+#: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Par document"
 
-#: UI/GTK2/src/propertiesDialog.cc:368
+#: UI/GTK2/src/propertiesDialog.cc:365
 msgid "Export Terms"
 msgstr "Exporter Les Termes"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:65
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
 msgstr "Langue:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
 msgid "MIME type:"
 msgstr "Type MIME:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
 msgid "Size:"
 msgstr "Taille:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:68
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
 msgstr "Termes:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:78
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
-msgstr ""
+msgstr "octets"
 
 #: UI/GTK2/src/queryDialog.cc:94
 msgid "Host name"
@@ -724,12 +723,12 @@
 msgstr "Extension de fichier"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:133
+#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "Titre"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:143
+#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
@@ -750,7 +749,7 @@
 msgstr "Etiquette"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:151
+#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Date"
 
@@ -772,157 +771,161 @@
 msgid "By date"
 msgstr "Par date"
 
-#: UI/GTK2/src/queryDialog_glade.cc:72
+#: UI/GTK2/src/queryDialog_glade.cc:71
 msgid "New filter or range:"
 msgstr "Nouveau filtre ou gamme num?rique:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:81
+#: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
 msgstr "Recherche"
 
-#: UI/GTK2/src/queryDialog_glade.cc:83
+#: UI/GTK2/src/queryDialog_glade.cc:82
 msgid "Index results with label"
 msgstr "Indexer tous les resultats avec l'etiquette"
 
-#: UI/GTK2/src/queryDialog_glade.cc:86
+#: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
 msgstr "Nombre de resultats:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:90
+#: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
-msgstr ""
+msgstr "Ordre de classement:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:192
+#: UI/GTK2/src/queryDialog_glade.cc:191
 msgid "Query parameters"
 msgstr "Parametres de la recherche"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:122
+#: UI/GTK2/src/ResultsTree.cpp:121
 msgid "Score"
 msgstr "Score"
 
-#: UI/GTK2/src/ResultsTree.cpp:180
+#: UI/GTK2/src/ResultsTree.cpp:179
 msgid "Extract"
 msgstr "Extrait"
 
-#: UI/GTK2/src/statisticsDialog.cc:73
+#: UI/GTK2/src/statisticsDialog.cc:72
 msgid "Indexes"
 msgstr "Indexes"
 
-#: UI/GTK2/src/statisticsDialog.cc:93
+#: UI/GTK2/src/statisticsDialog.cc:92
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:128 UI/GTK2/src/statisticsDialog.cc:144
+#: UI/GTK2/src/statisticsDialog.cc:127 UI/GTK2/src/statisticsDialog.cc:143
 msgid "documents"
 msgstr "documents"
 
-#: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:128
+#: UI/GTK2/src/statisticsDialog.cc:133 UI/GTK2/src/statisticsDialog.cc:149
+#: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Erreur inconnue"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "Viewed"
 msgstr "Visualise"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "results"
 msgstr "resultats"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:174
+#: UI/GTK2/src/statisticsDialog.cc:173
 msgid "Running under PID"
 msgstr "PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:178
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Currently not running"
 msgstr "Arrete"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "Crawled"
 msgstr "Parcouru"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "files"
 msgstr "fichiers"
 
-#: UI/GTK2/src/statisticsDialog.cc:206
+#: UI/GTK2/src/statisticsDialog.cc:205
 msgid "Errors"
 msgstr "Erreurs"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:91
 msgid "Index error"
 msgstr "Erreur sur l'index"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:93
 msgid "Couldn't index document"
 msgstr "N'a pas pu indexer le document"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Couldn't update document"
 msgstr "N'a pas pu mettre a jour le document"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't unindex document(s)"
 msgstr "N'a pas pu desindexer le(s) document(s)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't run query on search engine"
 msgstr "N'a pas pu lancer la recherche sur le moteur"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't get history for search engine"
 msgstr "N'a pas pu obtenir l'historique de la recherche"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't retrieve document"
 msgstr "N'a pas pu telecharger le document"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't initialize file monitor"
 msgstr "N'a pas pu initialiser le moniteur de fichiers"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:107
 msgid "Couldn't open directory"
 msgstr "N'a pas pu ouvrir le repertoire"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Index doesn't exist"
 msgstr "L'index n'existe pas"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't create search engine"
 msgstr "N'a pas pu creer le moteur"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Cannot index document type"
 msgstr "Impossible d'indexer ce type de documents"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "No downloader for this protocol"
 msgstr "Pas de brouteur pour ce protocole"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Robots META tag forbids indexing"
 msgstr "Le META tag Robots interdit d'indexer"
 
-#: UI/GTK2/src/WorkerThreads.cpp:123
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No monitoring handler"
 msgstr "Pas de moniteur de fichiers disponible"
 
-#: UI/GTK2/src/WorkerThreads.cpp:393
+#: UI/GTK2/src/WorkerThreads.cpp:391
+msgid "Indexing was stopped"
+msgstr "Indexation a ete arretee"
+
+#: UI/GTK2/src/WorkerThreads.cpp:404
 msgid "Can't index mail here"
 msgstr "Ne peut pas indexer le courrier ici"
 
-#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
+#: UI/GTK2/src/WorkerThreads.cpp:425 UI/GTK2/src/WorkerThreads.cpp:676
 msgid "is already being indexed"
 msgstr "est deja indexe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:424
+#: UI/GTK2/src/WorkerThreads.cpp:435
 msgid "is blacklisted"
 msgstr "est exclus"
 
-#: UI/GTK2/src/WorkerThreads.cpp:937
+#: UI/GTK2/src/WorkerThreads.cpp:945
 msgid "No title"
 msgstr "Pas de titre"

Modified: trunk/po/it.po
===================================================================
--- trunk/po/it.po	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/po/it.po	2007-11-23 15:36:49 UTC (rev 1123)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.80\n"
+"Project-Id-Version: pinot 0.81\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-28 22:51+0800\n"
+"POT-Creation-Date: 2007-11-22 19:39+0800\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: Marco Bazzani <visitors at libero.it>\n"
 "Language-Team: Italian <it at li.org>\n"
@@ -16,33 +16,33 @@
 "X-Launchpad-Export-Date: 2007-09-23 13:58+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68
+#: UI/GTK2/src/EnginesTree.cpp:67
 msgid "Search Engines"
 msgstr "Motori di ricerca"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:325
 msgid "Current User"
 msgstr "Utente attual"
 
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:795
-#: UI/GTK2/src/mainWindow.cc:1017 UI/GTK2/src/mainWindow.cc:1354
-#: UI/GTK2/src/mainWindow.cc:1509 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
-#: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
-#: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:738
+#: UI/GTK2/src/mainWindow.cc:959 UI/GTK2/src/mainWindow.cc:1296
+#: UI/GTK2/src/mainWindow.cc:1451 UI/GTK2/src/mainWindow.cc:1493
+#: UI/GTK2/src/mainWindow.cc:1515 UI/GTK2/src/mainWindow.cc:2119
+#: UI/GTK2/src/mainWindow.cc:2229 UI/GTK2/src/PinotSettings.cpp:320
+#: UI/GTK2/src/PinotSettings.cpp:1430 UI/GTK2/src/PinotSettings.cpp:1486
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:982
 msgid "My Web Pages"
 msgstr "Pagine web personali"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:798
-#: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
-#: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
-#: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:741
+#: UI/GTK2/src/mainWindow.cc:953 UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:2233 UI/GTK2/src/PinotSettings.cpp:321
+#: UI/GTK2/src/PinotSettings.cpp:1431 UI/GTK2/src/PinotSettings.cpp:1487
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:992
 msgid "My Documents"
 msgstr "Documenti personali"
 
@@ -58,69 +58,69 @@
 msgid "Index location"
 msgstr "Indice di posizione"
 
-#: UI/GTK2/src/indexDialog_glade.cc:65 UI/GTK2/src/queryDialog_glade.cc:68
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
 msgstr "Nome:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:66
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
 msgid "Type:"
 msgstr "Tipo:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:66
 msgid "Location:"
 msgstr "Posizione:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:72 UI/GTK2/src/prefsDialog_glade.cc:86
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
 msgid "Port:"
 msgstr "Porta:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:79 UI/GTK2/src/prefsDialog_glade.cc:82
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
 msgstr "Indirizzo:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:183
+#: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
 msgstr "Indice esterno"
 
 #. Labels
-#: UI/GTK2/src/importDialog.cc:87 UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/importDialog.cc:86 UI/GTK2/src/queryDialog.cc:123
 msgid "None"
 msgstr "Nessuno"
 
-#: UI/GTK2/src/importDialog_glade.cc:68
-#: UI/GTK2/src/propertiesDialog_glade.cc:64
+#: UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
 msgid "Title:"
 msgstr "Titolo:"
 
-#: UI/GTK2/src/importDialog_glade.cc:71
+#: UI/GTK2/src/importDialog_glade.cc:70
 msgid "Apply label:"
 msgstr "Applica descrizione"
 
-#: UI/GTK2/src/importDialog_glade.cc:77
+#: UI/GTK2/src/importDialog_glade.cc:76
 msgid "Import"
 msgstr "Importare"
 
-#: UI/GTK2/src/importDialog_glade.cc:148 UI/GTK2/src/mainWindow_glade.cc:216
+#: UI/GTK2/src/importDialog_glade.cc:147 UI/GTK2/src/mainWindow_glade.cc:215
 msgid "Import URL"
 msgstr "Importa URL"
 
-#: UI/GTK2/src/IndexPage.cpp:51
+#: UI/GTK2/src/IndexPage.cpp:50
 msgid "Show Previous"
 msgstr "Dimostrazione Precedente"
 
-#: UI/GTK2/src/IndexPage.cpp:57
+#: UI/GTK2/src/IndexPage.cpp:56
 msgid "Show Next"
 msgstr "Mostra Seguente"
 
-#: UI/GTK2/src/IndexPage.cpp:189
+#: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
 msgstr ""
 
-#: UI/GTK2/src/launcherDialog_glade.cc:64
+#: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
@@ -128,425 +128,424 @@
 "Non esiste un'applicazione configurata per aprire questo tipo di documento\n"
 "Prego immettere il comando per aprire questo documento."
 
-#: UI/GTK2/src/launcherDialog_glade.cc:67
+#: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
 msgstr "Usa questo comando per aprire altri documenti dello stesso tipo"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:99
+#: UI/GTK2/src/launcherDialog_glade.cc:98
 msgid "Helper application"
 msgstr "Applicazione associata"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:166
 msgid "Query Name"
 msgstr "Nome da interrogare"
 
-#: UI/GTK2/src/mainWindow.cc:217
+#: UI/GTK2/src/mainWindow.cc:171
 msgid "Last Run"
 msgstr "Ultimo Eseguito"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Summary"
 msgstr "Sommario"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:206
 msgid "Show all search engines"
 msgstr "Mostrare tutti i motori di ricerca"
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:207
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:254
+#: UI/GTK2/src/mainWindow.cc:208
 #, fuzzy
 msgid "Add an index"
 msgstr "Aggiungi Indice"
 
-#: UI/GTK2/src/mainWindow.cc:255
+#: UI/GTK2/src/mainWindow.cc:209
 #, fuzzy
 msgid "Remove an index"
 msgstr "Rimuovi indice"
 
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:210
 #, fuzzy
 msgid "Add a query"
 msgstr "Nuova query aggiunto"
 
-#: UI/GTK2/src/mainWindow.cc:257
+#: UI/GTK2/src/mainWindow.cc:211
 #, fuzzy
 msgid "Remove a query"
 msgstr "Live Query"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:212
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:213
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:289
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:349
+#: UI/GTK2/src/mainWindow.cc:292
 msgid "N/A"
 msgstr "N/D"
 
-#: UI/GTK2/src/mainWindow.cc:364
+#: UI/GTK2/src/mainWindow.cc:307
 msgid "Undefined"
 msgstr "Non Definito"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:587 UI/GTK2/src/mainWindow.cc:2675
+#: UI/GTK2/src/mainWindow.cc:530 UI/GTK2/src/mainWindow.cc:2617
 msgid "Live query"
 msgstr "Live Query"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:727
+#: UI/GTK2/src/mainWindow.cc:670
 msgid "Result location is"
 msgstr "la posizione del risultato ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:809
+#: UI/GTK2/src/mainWindow.cc:752
 msgid "Document location is"
 msgstr "La posizione Documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:993 UI/GTK2/src/mainWindow.cc:2109
+#: UI/GTK2/src/mainWindow.cc:936 UI/GTK2/src/mainWindow.cc:2051
 msgid "Couldn't find query"
 msgstr "Impossibile trovare la query"
 
-#: UI/GTK2/src/mainWindow.cc:1008
+#: UI/GTK2/src/mainWindow.cc:950
 #, fuzzy
 msgid "In Results"
 msgstr "risultati"
 
-#: UI/GTK2/src/mainWindow.cc:1191
+#: UI/GTK2/src/mainWindow.cc:1133
 msgid "Showing"
 msgstr "Mostrando"
 
-#: UI/GTK2/src/mainWindow.cc:1196
+#: UI/GTK2/src/mainWindow.cc:1138
 msgid "of"
 msgstr "dei"
 
-#: UI/GTK2/src/mainWindow.cc:1201
+#: UI/GTK2/src/mainWindow.cc:1143
 msgid "documents, starting at"
 msgstr "documenti, inizio a"
 
-#: UI/GTK2/src/mainWindow.cc:1235
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "Query"
 msgstr "Richiesta"
 
-#: UI/GTK2/src/mainWindow.cc:1239 UI/GTK2/src/mainWindow.cc:3268
+#: UI/GTK2/src/mainWindow.cc:1181 UI/GTK2/src/mainWindow.cc:3210
 msgid "on"
 msgstr "sulla"
 
-#: UI/GTK2/src/mainWindow.cc:1243
+#: UI/GTK2/src/mainWindow.cc:1185
 msgid "ended"
 msgstr "conclusione"
 
-#: UI/GTK2/src/mainWindow.cc:1304
+#: UI/GTK2/src/mainWindow.cc:1246
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1393
+#: UI/GTK2/src/mainWindow.cc:1335
 msgid "More Like"
 msgstr "Molti gradiscono"
 
-#: UI/GTK2/src/mainWindow.cc:1435
+#: UI/GTK2/src/mainWindow.cc:1377
 msgid "Updated label(s)"
 msgstr "Descrizione(i) aggiornata"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1519 UI/GTK2/src/mainWindow.cc:1613
+#: UI/GTK2/src/mainWindow.cc:1461 UI/GTK2/src/mainWindow.cc:1555
 msgid "Updated document"
 msgstr "Documento aggiornato"
 
-#: UI/GTK2/src/mainWindow.cc:1532
+#: UI/GTK2/src/mainWindow.cc:1474
 msgid "Indexed"
 msgstr "Indicizzato"
 
-#: UI/GTK2/src/mainWindow.cc:1574
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "Unindexed document(s)"
 msgstr "Documento/i non Indicizzato/i"
 
-#: UI/GTK2/src/mainWindow.cc:1671
+#: UI/GTK2/src/mainWindow.cc:1613
 msgid "Couldn't rename index, name"
 msgstr "Impossibile rinominare l'indice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1675 UI/GTK2/src/mainWindow.cc:2501
-#: UI/GTK2/src/mainWindow.cc:3072
+#: UI/GTK2/src/mainWindow.cc:1617 UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:3014
 msgid "is already in use"
 msgstr "? gi? in uso"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1630
 msgid "Couldn't rename index"
 msgstr "Impossibile rinominare l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:1701
+#: UI/GTK2/src/mainWindow.cc:1643
 msgid "Edited index"
 msgstr "Indice modificato"
 
-#: UI/GTK2/src/mainWindow.cc:2029
+#: UI/GTK2/src/mainWindow.cc:1971
 #, fuzzy
 msgid "Export Results"
 msgstr "risultati"
 
-#: UI/GTK2/src/mainWindow.cc:2304
+#: UI/GTK2/src/mainWindow.cc:2246
 msgid "Index"
 msgstr "Indice"
 
-#: UI/GTK2/src/mainWindow.cc:2308
+#: UI/GTK2/src/mainWindow.cc:2250
 msgid "doesn't exist"
 msgstr "non esiste"
 
-#: UI/GTK2/src/mainWindow.cc:2386
+#: UI/GTK2/src/mainWindow.cc:2328
 msgid "Remove this document from the index ?"
 msgstr "Rimuovere questo documento dall'indice?"
 
-#: UI/GTK2/src/mainWindow.cc:2405
+#: UI/GTK2/src/mainWindow.cc:2347
 msgid "Remove these documents from the index ?"
 msgstr "Rimuovere questi documenti dall'indice?"
 
-#: UI/GTK2/src/mainWindow.cc:2451
+#: UI/GTK2/src/mainWindow.cc:2393
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Un tool di ricerca per il Desktop Libero"
 
-#: UI/GTK2/src/mainWindow.cc:2452
+#: UI/GTK2/src/mainWindow.cc:2394
 msgid "Search the Web and your documents !"
 msgstr "Cerca nel Web e nei documenti !"
 
-#: UI/GTK2/src/mainWindow.cc:2497
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index name"
 msgstr "Nome indice"
 
-#: UI/GTK2/src/mainWindow.cc:2512
+#: UI/GTK2/src/mainWindow.cc:2454
 msgid "Couldn't add index"
 msgstr "Impossibile aggiungere l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2528
+#: UI/GTK2/src/mainWindow.cc:2470
 msgid "Added new index"
 msgstr "Nuovo indice aggiunto"
 
-#: UI/GTK2/src/mainWindow.cc:2563
+#: UI/GTK2/src/mainWindow.cc:2505
 msgid "Couldn't remove index"
 msgstr "Impossibile rimuovere l'indice"
 
-#: UI/GTK2/src/mainWindow.cc:2768
+#: UI/GTK2/src/mainWindow.cc:2710
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2826
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Nessuna operazione completata. Uscire comunque ?"
 
-#: UI/GTK2/src/mainWindow.cc:3068
+#: UI/GTK2/src/mainWindow.cc:3010
 msgid "Query name"
 msgstr "Nome Query"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3037
 msgid "Couldn't update query"
 msgstr "Impossibile aggiornare la query"
 
-#: UI/GTK2/src/mainWindow.cc:3103
+#: UI/GTK2/src/mainWindow.cc:3045
 msgid "Edited query"
 msgstr "Query modificata"
 
-#: UI/GTK2/src/mainWindow.cc:3110
+#: UI/GTK2/src/mainWindow.cc:3052
 msgid "Couldn't add query"
 msgstr "Impossibile aggiungere la query"
 
-#: UI/GTK2/src/mainWindow.cc:3118
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "Added new query"
 msgstr "Nuova query aggiunto"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3099
 msgid "Query is not set"
 msgstr "Query non configurata"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3110
 msgid "No search engine selected"
 msgstr "Nessun motore di ricerca selezionato"
 
-#: UI/GTK2/src/mainWindow.cc:3255
+#: UI/GTK2/src/mainWindow.cc:3197
 msgid "Please set the Google API key first"
 msgstr "Prima inserisci la tua Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3264
+#: UI/GTK2/src/mainWindow.cc:3206
 msgid "Running query"
 msgstr "Query in esecuzione"
 
-#: UI/GTK2/src/mainWindow.cc:3473
+#: UI/GTK2/src/mainWindow.cc:3415
 msgid "No default application defined for type"
 msgstr "Nessuna applicazione di default ? stata definita per tipo"
 
-#: UI/GTK2/src/mainWindow_glade.cc:127
+#: UI/GTK2/src/mainWindow_glade.cc:126
 msgid "Query:"
 msgstr "Query:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:138 UI/GTK2/src/statisticsDialog.cc:88
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:87
 msgid "History"
 msgstr "Cronologia"
 
-#: UI/GTK2/src/mainWindow_glade.cc:143
+#: UI/GTK2/src/mainWindow_glade.cc:142
 msgid "Stored queries"
 msgstr "Queries conservati"
 
-#: UI/GTK2/src/mainWindow_glade.cc:156 UI/GTK2/src/statisticsDialog.cc:51
-#: UI/GTK2/src/statisticsDialog_glade.cc:87
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr "Stato"
 
-#: UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow_glade.cc:176
 msgid "Search Engine"
 msgstr "Motore di ricerca"
 
-#: UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow_glade.cc:179
 msgid "Host Name"
 msgstr "Nome Host"
 
-#: UI/GTK2/src/mainWindow_glade.cc:183
+#: UI/GTK2/src/mainWindow_glade.cc:182
 msgid "Show Extract"
 msgstr "Mostrare un estratto"
 
-#: UI/GTK2/src/mainWindow_glade.cc:186
+#: UI/GTK2/src/mainWindow_glade.cc:185
 msgid "Group By"
 msgstr "Raggruppa Per"
 
-#: UI/GTK2/src/mainWindow_glade.cc:192
+#: UI/GTK2/src/mainWindow_glade.cc:191
 msgid "Clear List"
 msgstr "Pulisci llista"
 
-#: UI/GTK2/src/mainWindow_glade.cc:198
+#: UI/GTK2/src/mainWindow_glade.cc:197
 msgid "Vie_w"
 msgstr "Visualizza"
 
-#: UI/GTK2/src/mainWindow_glade.cc:201
+#: UI/GTK2/src/mainWindow_glade.cc:200
 msgid "View Cache"
 msgstr "Guarda Cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:204
+#: UI/GTK2/src/mainWindow_glade.cc:203
 msgid "More Like This"
 msgstr "Altri risultati"
 
-#: UI/GTK2/src/mainWindow_glade.cc:207
+#: UI/GTK2/src/mainWindow_glade.cc:206
 #, fuzzy
 msgid "Search This For"
 msgstr "Motori di ricerca"
 
-#: UI/GTK2/src/mainWindow_glade.cc:210 UI/GTK2/src/mainWindow_glade.cc:246
+#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
 msgid "_Index"
 msgstr "_Indice"
 
-#: UI/GTK2/src/mainWindow_glade.cc:213
+#: UI/GTK2/src/mainWindow_glade.cc:212
 msgid "List Contents Of"
 msgstr "Lista contenuti di"
 
-#: UI/GTK2/src/mainWindow_glade.cc:222
+#: UI/GTK2/src/mainWindow_glade.cc:221
 msgid "View"
 msgstr "Vedi"
 
-#: UI/GTK2/src/mainWindow_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Aggiorna"
 
-#: UI/GTK2/src/mainWindow_glade.cc:228
+#: UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Rimuovi dall'indice"
 
-#: UI/GTK2/src/mainWindow_glade.cc:231
-#: UI/GTK2/src/propertiesDialog_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:230
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
 msgid "Properties"
 msgstr "Propriet?"
 
-#: UI/GTK2/src/mainWindow_glade.cc:234
+#: UI/GTK2/src/mainWindow_glade.cc:233
 msgid "_About"
 msgstr "_About"
 
-#: UI/GTK2/src/mainWindow_glade.cc:237
+#: UI/GTK2/src/mainWindow_glade.cc:236
 msgid "_Session"
 msgstr "_Sessione"
 
-#: UI/GTK2/src/mainWindow_glade.cc:240
+#: UI/GTK2/src/mainWindow_glade.cc:239
 msgid "_Edit"
 msgstr "_Modifica"
 
-#: UI/GTK2/src/mainWindow_glade.cc:243
+#: UI/GTK2/src/mainWindow_glade.cc:242
 msgid "_Results"
 msgstr "_Risultati"
 
-#: UI/GTK2/src/mainWindow_glade.cc:249
+#: UI/GTK2/src/mainWindow_glade.cc:248
 msgid "_Help"
 msgstr "_Aiuto"
 
-#: UI/GTK2/src/mainWindow_glade.cc:378
+#: UI/GTK2/src/mainWindow_glade.cc:377
 msgid "Pinot"
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:312
-#: UI/GTK2/src/propertiesDialog.cc:97
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:404
 msgid "Unknown"
 msgstr "Sconosciuto"
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:405
 msgid "Danish"
 msgstr "Danese"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:406
 msgid "Dutch"
 msgstr "Olandese"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:407
 msgid "English"
 msgstr "Inglese"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:408
 msgid "Finnish"
 msgstr "Finlandese"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:409
 msgid "French"
 msgstr "Francese"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:410
 msgid "German"
 msgstr "Tedesco"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:411
 msgid "Hungarian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:412
 msgid "Italian"
 msgstr "Italiano"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:413
 msgid "Norwegian"
 msgstr "Norvegese"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:414
 msgid "Portuguese"
 msgstr "Portoghese"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:415
 msgid "Romanian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:416
 msgid "Russian"
 msgstr "Russo"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:417
 msgid "Spanish"
 msgstr "Spagnolo"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:418
 msgid "Swedish"
 msgstr "Svedese"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:419
 msgid "Turkish"
 msgstr ""
 
@@ -564,23 +563,23 @@
 msgstr "E' consigliato aggiornare tutti le pagine web personali"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:317
+#: UI/GTK2/src/PinotSettings.cpp:326
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/PinotSettings.cpp:327
 msgid "New"
 msgstr "Nuovo"
 
-#: UI/GTK2/src/PinotSettings.cpp:319
+#: UI/GTK2/src/PinotSettings.cpp:328
 msgid "Personal"
 msgstr "Personale"
 
-#: UI/GTK2/src/PinotSettings.cpp:358
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1233
+#: UI/GTK2/src/PinotSettings.cpp:1242
 msgid "Unclassified"
 msgstr "Non classificato"
 
@@ -616,108 +615,108 @@
 msgid "Directory to index"
 msgstr "Directory da indicizzare"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:66
+#: UI/GTK2/src/prefsDialog_glade.cc:65
 msgid "Google API key:"
 msgstr "Chiave Google API:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
+#: UI/GTK2/src/prefsDialog_glade.cc:68
 msgid "New results:"
 msgstr "Nuovi risultati:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
+#: UI/GTK2/src/prefsDialog_glade.cc:69
 msgid "Queries:"
 msgstr "Richieste:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:71
+#: UI/GTK2/src/prefsDialog_glade.cc:70
 msgid "Enable search terms suggestion"
 msgstr "Abilita suggerimenti per ricerca"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
+#: UI/GTK2/src/prefsDialog_glade.cc:72
 msgid "Ignore robots.txt and Robots META tag"
 msgstr "Ignora robots.txt e Robots META tag"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:74
+#: UI/GTK2/src/prefsDialog_glade.cc:73
 msgid "HTTP crawling:"
 msgstr "HTTP crawling:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:77
+#: UI/GTK2/src/prefsDialog_glade.cc:76
 msgid "General"
 msgstr "Generale"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
 msgstr "Connesso direttamente a Internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:80
+#: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
 msgstr "Configurazione manuale del proxy:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
+#: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
 msgstr "Rete"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:94
+#: UI/GTK2/src/prefsDialog_glade.cc:93
 msgid "Labels are used to classify indexed documents:"
 msgstr "Le descrizioni sono usate per classificare l'indice dei documenti:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:99 UI/GTK2/src/prefsDialog_glade.cc:119
-#: UI/GTK2/src/prefsDialog_glade.cc:135
+#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
+#: UI/GTK2/src/prefsDialog_glade.cc:134
 msgid "Add"
 msgstr "aggiungi"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:105
+#: UI/GTK2/src/prefsDialog_glade.cc:104
 msgid "Remove"
 msgstr "Rimuovi"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113 UI/GTK2/src/propertiesDialog.cc:56
+#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
 msgid "Labels"
 msgstr "Descrizioni"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:114
+#: UI/GTK2/src/prefsDialog_glade.cc:113
 msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Queste directory devono essere indicizzate e opzionalmente monitorate per "
 "cambiamenti:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:127
+#: UI/GTK2/src/prefsDialog_glade.cc:126
 #, fuzzy
 msgid "File patterns:"
 msgstr "Estensione file"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
+#: UI/GTK2/src/prefsDialog_glade.cc:143
 msgid "Indexing"
 msgstr "Indicizzando"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:507
+#: UI/GTK2/src/prefsDialog_glade.cc:506
 msgid "Preferences"
 msgstr "Preferenze"
 
-#: UI/GTK2/src/propertiesDialog.cc:110
+#: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Per documento"
 
-#: UI/GTK2/src/propertiesDialog.cc:368
+#: UI/GTK2/src/propertiesDialog.cc:365
 #, fuzzy
 msgid "Export Terms"
 msgstr "risultati"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:65
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
 msgstr "Lingua:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
 msgid "MIME type:"
 msgstr "Tipo MIME:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
 msgid "Size:"
 msgstr "Dimesione"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:68
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
 msgstr "Termini:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:78
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
 msgstr ""
 
@@ -734,12 +733,12 @@
 msgstr "Estensione file"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:133
+#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "Titolo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:143
+#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
@@ -760,7 +759,7 @@
 msgstr "Descrizione"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:151
+#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Data"
 
@@ -784,165 +783,169 @@
 msgid "By date"
 msgstr "Aggiorna"
 
-#: UI/GTK2/src/queryDialog_glade.cc:72
+#: UI/GTK2/src/queryDialog_glade.cc:71
 #, fuzzy
 msgid "New filter or range:"
 msgstr "Nuovo filtro:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:81
+#: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
 msgstr "Testo Query"
 
-#: UI/GTK2/src/queryDialog_glade.cc:83
+#: UI/GTK2/src/queryDialog_glade.cc:82
 msgid "Index results with label"
 msgstr "Indice risultati con descrizione"
 
-#: UI/GTK2/src/queryDialog_glade.cc:86
+#: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
 msgstr "Numero di risultati:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:90
+#: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:192
+#: UI/GTK2/src/queryDialog_glade.cc:191
 msgid "Query parameters"
 msgstr "Parametri di Ricerca"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:122
+#: UI/GTK2/src/ResultsTree.cpp:121
 msgid "Score"
 msgstr "Punteggio"
 
-#: UI/GTK2/src/ResultsTree.cpp:180
+#: UI/GTK2/src/ResultsTree.cpp:179
 msgid "Extract"
 msgstr "Estrai"
 
-#: UI/GTK2/src/statisticsDialog.cc:73
+#: UI/GTK2/src/statisticsDialog.cc:72
 msgid "Indexes"
 msgstr "Indici"
 
-#: UI/GTK2/src/statisticsDialog.cc:93
+#: UI/GTK2/src/statisticsDialog.cc:92
 msgid "Daemon"
 msgstr "Demone"
 
-#: UI/GTK2/src/statisticsDialog.cc:128 UI/GTK2/src/statisticsDialog.cc:144
+#: UI/GTK2/src/statisticsDialog.cc:127 UI/GTK2/src/statisticsDialog.cc:143
 msgid "documents"
 msgstr "documenti"
 
-#: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:128
+#: UI/GTK2/src/statisticsDialog.cc:133 UI/GTK2/src/statisticsDialog.cc:149
+#: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "errore Sconosciuto"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "Viewed"
 msgstr "Visti"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "results"
 msgstr "risultati"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:174
+#: UI/GTK2/src/statisticsDialog.cc:173
 msgid "Running under PID"
 msgstr "Avviato con PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:178
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Currently not running"
 msgstr "Attualmente non in esecuzione"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "Crawled"
 msgstr "Analizzati"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "files"
 msgstr "files"
 
-#: UI/GTK2/src/statisticsDialog.cc:206
+#: UI/GTK2/src/statisticsDialog.cc:205
 msgid "Errors"
 msgstr "Errori"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:91
 #, fuzzy
 msgid "Index error"
 msgstr "Errori indice su"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:93
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "Impossiible rimuovere i(l) documento/i dall'indice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Couldn't update document"
 msgstr "Impossibile aggiornare il documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't unindex document(s)"
 msgstr "Impossiible rimuovere i(l) documento/i dall'indice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't run query on search engine"
 msgstr "Impossibile avviare un query sul motore di ricerca"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:101
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "Impossibile avviare un query sul motore di ricerca"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:103
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "Impossibile aggiornare il documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "Impossibile aprire l'indice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:109
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "non esiste"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't create search engine"
 msgstr "Impossibile creare un motore di ricerca"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Cannot index document type"
 msgstr "Impossibile indicizzare tipo di documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:115
 #, fuzzy
 msgid "No downloader for this protocol"
 msgstr "Impossibile ottenere un downloader per il protocollo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Robots META tag forbids indexing"
 msgstr "il Robots META tag vieta l'indicizzazione"
 
-#: UI/GTK2/src/WorkerThreads.cpp:123
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:393
+#: UI/GTK2/src/WorkerThreads.cpp:391
+msgid "Indexing was stopped"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:404
 msgid "Can't index mail here"
 msgstr "Impossibile indicizzare la mail qui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
+#: UI/GTK2/src/WorkerThreads.cpp:425 UI/GTK2/src/WorkerThreads.cpp:676
 msgid "is already being indexed"
 msgstr "? gia' stato indicizzato"
 
-#: UI/GTK2/src/WorkerThreads.cpp:424
+#: UI/GTK2/src/WorkerThreads.cpp:435
 msgid "is blacklisted"
 msgstr "e' blacklistato"
 
-#: UI/GTK2/src/WorkerThreads.cpp:937
+#: UI/GTK2/src/WorkerThreads.cpp:945
 msgid "No title"
 msgstr "Nessun titolo"

Modified: trunk/po/nl.po
===================================================================
--- trunk/po/nl.po	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/po/nl.po	2007-11-23 15:36:49 UTC (rev 1123)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.80\n"
+"Project-Id-Version: pinot 0.81\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-28 22:51+0800\n"
+"POT-Creation-Date: 2007-11-22 19:39+0800\n"
 "PO-Revision-Date: 2007-10-21 13:24+0000\n"
 "Last-Translator: JW <jw00000 at gmail.com>\n"
 "Language-Team: Dutch <nl at li.org>\n"
@@ -16,33 +16,33 @@
 "X-Launchpad-Export-Date: 2007-10-25 17:19+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68
+#: UI/GTK2/src/EnginesTree.cpp:67
 msgid "Search Engines"
 msgstr "Zoekmachines"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:325
 msgid "Current User"
 msgstr "Huidige gebruiker"
 
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:795
-#: UI/GTK2/src/mainWindow.cc:1017 UI/GTK2/src/mainWindow.cc:1354
-#: UI/GTK2/src/mainWindow.cc:1509 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
-#: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
-#: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:738
+#: UI/GTK2/src/mainWindow.cc:959 UI/GTK2/src/mainWindow.cc:1296
+#: UI/GTK2/src/mainWindow.cc:1451 UI/GTK2/src/mainWindow.cc:1493
+#: UI/GTK2/src/mainWindow.cc:1515 UI/GTK2/src/mainWindow.cc:2119
+#: UI/GTK2/src/mainWindow.cc:2229 UI/GTK2/src/PinotSettings.cpp:320
+#: UI/GTK2/src/PinotSettings.cpp:1430 UI/GTK2/src/PinotSettings.cpp:1486
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:982
 msgid "My Web Pages"
 msgstr "Mijn webpagina's"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:798
-#: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
-#: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
-#: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:741
+#: UI/GTK2/src/mainWindow.cc:953 UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:2233 UI/GTK2/src/PinotSettings.cpp:321
+#: UI/GTK2/src/PinotSettings.cpp:1431 UI/GTK2/src/PinotSettings.cpp:1487
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:992
 msgid "My Documents"
 msgstr "Mijn documenten"
 
@@ -58,69 +58,69 @@
 msgid "Index location"
 msgstr "Index locatie"
 
-#: UI/GTK2/src/indexDialog_glade.cc:65 UI/GTK2/src/queryDialog_glade.cc:68
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
 msgstr "Naam:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:66
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
 msgid "Type:"
 msgstr "Type:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:66
 msgid "Location:"
 msgstr "Locatie"
 
-#: UI/GTK2/src/indexDialog_glade.cc:72 UI/GTK2/src/prefsDialog_glade.cc:86
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
 msgid "Port:"
 msgstr "Poort:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:79 UI/GTK2/src/prefsDialog_glade.cc:82
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
 msgstr "Adres:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:183
+#: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
 msgstr "Externe index"
 
 #. Labels
-#: UI/GTK2/src/importDialog.cc:87 UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/importDialog.cc:86 UI/GTK2/src/queryDialog.cc:123
 msgid "None"
 msgstr "Geen"
 
-#: UI/GTK2/src/importDialog_glade.cc:68
-#: UI/GTK2/src/propertiesDialog_glade.cc:64
+#: UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
 msgid "Title:"
 msgstr "Titel"
 
-#: UI/GTK2/src/importDialog_glade.cc:71
+#: UI/GTK2/src/importDialog_glade.cc:70
 msgid "Apply label:"
 msgstr "Naam toepassen"
 
-#: UI/GTK2/src/importDialog_glade.cc:77
+#: UI/GTK2/src/importDialog_glade.cc:76
 msgid "Import"
 msgstr "Importeren"
 
-#: UI/GTK2/src/importDialog_glade.cc:148 UI/GTK2/src/mainWindow_glade.cc:216
+#: UI/GTK2/src/importDialog_glade.cc:147 UI/GTK2/src/mainWindow_glade.cc:215
 msgid "Import URL"
 msgstr "Importeren URL"
 
-#: UI/GTK2/src/IndexPage.cpp:51
+#: UI/GTK2/src/IndexPage.cpp:50
 msgid "Show Previous"
 msgstr "Toon vorige"
 
-#: UI/GTK2/src/IndexPage.cpp:57
+#: UI/GTK2/src/IndexPage.cpp:56
 msgid "Show Next"
 msgstr "Toon volgende"
 
-#: UI/GTK2/src/IndexPage.cpp:189
+#: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
 msgstr "Alle"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:64
+#: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
@@ -128,418 +128,417 @@
 "Er is geen hulptoepassing gedefinieerd voor dit documenttype.\n"
 "Geef het commando op om dit document te openen."
 
-#: UI/GTK2/src/launcherDialog_glade.cc:67
+#: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
 msgstr "Gebruik dit commando voor andere documenten van hetzelfde type."
 
-#: UI/GTK2/src/launcherDialog_glade.cc:99
+#: UI/GTK2/src/launcherDialog_glade.cc:98
 msgid "Helper application"
 msgstr "Hulptoepassing"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:166
 msgid "Query Name"
 msgstr "Querynaam"
 
-#: UI/GTK2/src/mainWindow.cc:217
+#: UI/GTK2/src/mainWindow.cc:171
 msgid "Last Run"
 msgstr "Laatst geopend"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Summary"
 msgstr "Samenvatting"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:206
 msgid "Show all search engines"
 msgstr "Toon alle zoekmachines"
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:207
 msgid "Find documents that match the query string"
 msgstr "Zoeken naar documenten die aan de zoekopdracht voldoen"
 
-#: UI/GTK2/src/mainWindow.cc:254
+#: UI/GTK2/src/mainWindow.cc:208
 msgid "Add an index"
 msgstr "Een index toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:255
+#: UI/GTK2/src/mainWindow.cc:209
 msgid "Remove an index"
 msgstr "Een index verwijderen"
 
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:210
 msgid "Add a query"
 msgstr "Zoekopdracht toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:257
+#: UI/GTK2/src/mainWindow.cc:211
 msgid "Remove a query"
 msgstr "Een zoekopdracht verwijderen"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:212
 msgid "Show the query's previous results"
 msgstr "De vorige resultaten van de zoekopdracht weergeven"
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:213
 msgid "Find documents that match the query"
 msgstr "Zoeken naar documenten die aan de zoekopdracht voldoen"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:289
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Ready"
 msgstr "Gereed"
 
-#: UI/GTK2/src/mainWindow.cc:349
+#: UI/GTK2/src/mainWindow.cc:292
 msgid "N/A"
 msgstr "NVT"
 
-#: UI/GTK2/src/mainWindow.cc:364
+#: UI/GTK2/src/mainWindow.cc:307
 msgid "Undefined"
 msgstr "Niet gedefinieerd"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:587 UI/GTK2/src/mainWindow.cc:2675
+#: UI/GTK2/src/mainWindow.cc:530 UI/GTK2/src/mainWindow.cc:2617
 msgid "Live query"
 msgstr "Rechtstreekse query"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:727
+#: UI/GTK2/src/mainWindow.cc:670
 msgid "Result location is"
 msgstr "Uitvoerlocatie is"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:809
+#: UI/GTK2/src/mainWindow.cc:752
 msgid "Document location is"
 msgstr "Documentlocatie is"
 
-#: UI/GTK2/src/mainWindow.cc:993 UI/GTK2/src/mainWindow.cc:2109
+#: UI/GTK2/src/mainWindow.cc:936 UI/GTK2/src/mainWindow.cc:2051
 msgid "Couldn't find query"
 msgstr "Kon query niet vinden"
 
-#: UI/GTK2/src/mainWindow.cc:1008
+#: UI/GTK2/src/mainWindow.cc:950
 msgid "In Results"
 msgstr "In de resultaten"
 
-#: UI/GTK2/src/mainWindow.cc:1191
+#: UI/GTK2/src/mainWindow.cc:1133
 msgid "Showing"
 msgstr "Aan het tonen"
 
-#: UI/GTK2/src/mainWindow.cc:1196
+#: UI/GTK2/src/mainWindow.cc:1138
 msgid "of"
 msgstr "van"
 
-#: UI/GTK2/src/mainWindow.cc:1201
+#: UI/GTK2/src/mainWindow.cc:1143
 msgid "documents, starting at"
 msgstr "documenten, beginnend bij"
 
-#: UI/GTK2/src/mainWindow.cc:1235
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "Query"
 msgstr "Query"
 
-#: UI/GTK2/src/mainWindow.cc:1239 UI/GTK2/src/mainWindow.cc:3268
+#: UI/GTK2/src/mainWindow.cc:1181 UI/GTK2/src/mainWindow.cc:3210
 msgid "on"
 msgstr "op"
 
-#: UI/GTK2/src/mainWindow.cc:1243
+#: UI/GTK2/src/mainWindow.cc:1185
 msgid "ended"
 msgstr "Beeindigd"
 
-#: UI/GTK2/src/mainWindow.cc:1304
+#: UI/GTK2/src/mainWindow.cc:1246
 msgid "Corrected"
 msgstr "Gecorrigeerd"
 
-#: UI/GTK2/src/mainWindow.cc:1393
+#: UI/GTK2/src/mainWindow.cc:1335
 msgid "More Like"
 msgstr "Meer zoals"
 
-#: UI/GTK2/src/mainWindow.cc:1435
+#: UI/GTK2/src/mainWindow.cc:1377
 msgid "Updated label(s)"
 msgstr "Vernieuwde na(a)m(en)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1519 UI/GTK2/src/mainWindow.cc:1613
+#: UI/GTK2/src/mainWindow.cc:1461 UI/GTK2/src/mainWindow.cc:1555
 msgid "Updated document"
 msgstr "Vernieuwd document"
 
-#: UI/GTK2/src/mainWindow.cc:1532
+#: UI/GTK2/src/mainWindow.cc:1474
 msgid "Indexed"
 msgstr "Geindexeerd"
 
-#: UI/GTK2/src/mainWindow.cc:1574
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "Unindexed document(s)"
 msgstr "Niet geindexeerd(e) document(en)"
 
-#: UI/GTK2/src/mainWindow.cc:1671
+#: UI/GTK2/src/mainWindow.cc:1613
 msgid "Couldn't rename index, name"
 msgstr "Kon index niet hernoemen, naam"
 
-#: UI/GTK2/src/mainWindow.cc:1675 UI/GTK2/src/mainWindow.cc:2501
-#: UI/GTK2/src/mainWindow.cc:3072
+#: UI/GTK2/src/mainWindow.cc:1617 UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:3014
 msgid "is already in use"
 msgstr "is reeds in gebruik"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1630
 msgid "Couldn't rename index"
 msgstr "Kon index niet hernoemen"
 
-#: UI/GTK2/src/mainWindow.cc:1701
+#: UI/GTK2/src/mainWindow.cc:1643
 msgid "Edited index"
 msgstr "Bewerkte index"
 
-#: UI/GTK2/src/mainWindow.cc:2029
+#: UI/GTK2/src/mainWindow.cc:1971
 msgid "Export Results"
 msgstr "Resultaten exporteren"
 
-#: UI/GTK2/src/mainWindow.cc:2304
+#: UI/GTK2/src/mainWindow.cc:2246
 msgid "Index"
 msgstr "Inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2308
+#: UI/GTK2/src/mainWindow.cc:2250
 msgid "doesn't exist"
 msgstr "bestaat niet"
 
-#: UI/GTK2/src/mainWindow.cc:2386
+#: UI/GTK2/src/mainWindow.cc:2328
 msgid "Remove this document from the index ?"
 msgstr "Verwijder dit document uit de inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2405
+#: UI/GTK2/src/mainWindow.cc:2347
 msgid "Remove these documents from the index ?"
 msgstr "Verwijder deze documenten uit de inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2451
+#: UI/GTK2/src/mainWindow.cc:2393
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Een metazoek tool voor de Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2452
+#: UI/GTK2/src/mainWindow.cc:2394
 msgid "Search the Web and your documents !"
 msgstr "Zoek het web en uw documenten!"
 
-#: UI/GTK2/src/mainWindow.cc:2497
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index name"
 msgstr "Naam inhoudsopgave"
 
-#: UI/GTK2/src/mainWindow.cc:2512
+#: UI/GTK2/src/mainWindow.cc:2454
 msgid "Couldn't add index"
 msgstr "Kon inhoudsopgave niet toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:2528
+#: UI/GTK2/src/mainWindow.cc:2470
 msgid "Added new index"
 msgstr "Nieuwe inhoudsopgave toegevoegd"
 
-#: UI/GTK2/src/mainWindow.cc:2563
+#: UI/GTK2/src/mainWindow.cc:2505
 msgid "Couldn't remove index"
 msgstr "Kon inhoudsopgave niet verwijderen"
 
-#: UI/GTK2/src/mainWindow.cc:2768
+#: UI/GTK2/src/mainWindow.cc:2710
 msgid "No history for"
 msgstr "Geen geschiedenis voor"
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2826
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Tenminste een taak is nog niet gereed. Nu stoppen?"
 
-#: UI/GTK2/src/mainWindow.cc:3068
+#: UI/GTK2/src/mainWindow.cc:3010
 msgid "Query name"
 msgstr "Naam query"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3037
 msgid "Couldn't update query"
 msgstr "Kon query niet actualiseren"
 
-#: UI/GTK2/src/mainWindow.cc:3103
+#: UI/GTK2/src/mainWindow.cc:3045
 msgid "Edited query"
 msgstr "Bewerkte query"
 
-#: UI/GTK2/src/mainWindow.cc:3110
+#: UI/GTK2/src/mainWindow.cc:3052
 msgid "Couldn't add query"
 msgstr "Kon query niet toevoegen"
 
-#: UI/GTK2/src/mainWindow.cc:3118
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "Added new query"
 msgstr "Nieuwe query toegevoegd"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3099
 msgid "Query is not set"
 msgstr "Query niet vastgelegd"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3110
 msgid "No search engine selected"
 msgstr "Geen zoekmachine geselecteerd"
 
-#: UI/GTK2/src/mainWindow.cc:3255
+#: UI/GTK2/src/mainWindow.cc:3197
 msgid "Please set the Google API key first"
 msgstr "Geef eerst de Google API sleutel in"
 
-#: UI/GTK2/src/mainWindow.cc:3264
+#: UI/GTK2/src/mainWindow.cc:3206
 msgid "Running query"
 msgstr "Lopende query"
 
-#: UI/GTK2/src/mainWindow.cc:3473
+#: UI/GTK2/src/mainWindow.cc:3415
 msgid "No default application defined for type"
 msgstr "Geen standaard toepassing gedefinieerd voor het type"
 
-#: UI/GTK2/src/mainWindow_glade.cc:127
+#: UI/GTK2/src/mainWindow_glade.cc:126
 msgid "Query:"
 msgstr "Query:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:138 UI/GTK2/src/statisticsDialog.cc:88
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:87
 msgid "History"
 msgstr "Geschiedenis"
 
-#: UI/GTK2/src/mainWindow_glade.cc:143
+#: UI/GTK2/src/mainWindow_glade.cc:142
 msgid "Stored queries"
 msgstr "Opgeslagen queries"
 
-#: UI/GTK2/src/mainWindow_glade.cc:156 UI/GTK2/src/statisticsDialog.cc:51
-#: UI/GTK2/src/statisticsDialog_glade.cc:87
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr "Status"
 
-#: UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow_glade.cc:176
 msgid "Search Engine"
 msgstr "Zoekmachine"
 
-#: UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow_glade.cc:179
 msgid "Host Name"
 msgstr "Naam host"
 
-#: UI/GTK2/src/mainWindow_glade.cc:183
+#: UI/GTK2/src/mainWindow_glade.cc:182
 msgid "Show Extract"
 msgstr "Toon uittreksel"
 
-#: UI/GTK2/src/mainWindow_glade.cc:186
+#: UI/GTK2/src/mainWindow_glade.cc:185
 msgid "Group By"
 msgstr "Groeperen op"
 
-#: UI/GTK2/src/mainWindow_glade.cc:192
+#: UI/GTK2/src/mainWindow_glade.cc:191
 msgid "Clear List"
 msgstr "Lijst opschonen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:198
+#: UI/GTK2/src/mainWindow_glade.cc:197
 msgid "Vie_w"
 msgstr "_Toon"
 
-#: UI/GTK2/src/mainWindow_glade.cc:201
+#: UI/GTK2/src/mainWindow_glade.cc:200
 msgid "View Cache"
 msgstr "Toon cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:204
+#: UI/GTK2/src/mainWindow_glade.cc:203
 msgid "More Like This"
 msgstr "Meer zoals deze"
 
-#: UI/GTK2/src/mainWindow_glade.cc:207
+#: UI/GTK2/src/mainWindow_glade.cc:206
 msgid "Search This For"
 msgstr "Doorzoek dit voor"
 
-#: UI/GTK2/src/mainWindow_glade.cc:210 UI/GTK2/src/mainWindow_glade.cc:246
+#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
 msgid "_Index"
 msgstr "_Index"
 
-#: UI/GTK2/src/mainWindow_glade.cc:213
+#: UI/GTK2/src/mainWindow_glade.cc:212
 msgid "List Contents Of"
 msgstr "Lijstinhoud van"
 
-#: UI/GTK2/src/mainWindow_glade.cc:222
+#: UI/GTK2/src/mainWindow_glade.cc:221
 msgid "View"
 msgstr "Toon"
 
-#: UI/GTK2/src/mainWindow_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Verversen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:228
+#: UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "De-indexeren"
 
-#: UI/GTK2/src/mainWindow_glade.cc:231
-#: UI/GTK2/src/propertiesDialog_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:230
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
 msgid "Properties"
 msgstr "Eigenschappen"
 
-#: UI/GTK2/src/mainWindow_glade.cc:234
+#: UI/GTK2/src/mainWindow_glade.cc:233
 msgid "_About"
 msgstr "_Over"
 
-#: UI/GTK2/src/mainWindow_glade.cc:237
+#: UI/GTK2/src/mainWindow_glade.cc:236
 msgid "_Session"
 msgstr "_Sessie"
 
-#: UI/GTK2/src/mainWindow_glade.cc:240
+#: UI/GTK2/src/mainWindow_glade.cc:239
 msgid "_Edit"
 msgstr "_Bewerken"
 
-#: UI/GTK2/src/mainWindow_glade.cc:243
+#: UI/GTK2/src/mainWindow_glade.cc:242
 msgid "_Results"
 msgstr "_Resultaten"
 
-#: UI/GTK2/src/mainWindow_glade.cc:249
+#: UI/GTK2/src/mainWindow_glade.cc:248
 msgid "_Help"
 msgstr "_Help"
 
-#: UI/GTK2/src/mainWindow_glade.cc:378
+#: UI/GTK2/src/mainWindow_glade.cc:377
 msgid "Pinot"
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:312
-#: UI/GTK2/src/propertiesDialog.cc:97
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:404
 msgid "Unknown"
 msgstr "Niet bekend"
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:405
 msgid "Danish"
 msgstr "Deens"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:406
 msgid "Dutch"
 msgstr "Nederlands"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:407
 msgid "English"
 msgstr "Engels"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:408
 msgid "Finnish"
 msgstr "Fins"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:409
 msgid "French"
 msgstr "Frans"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:410
 msgid "German"
 msgstr "Duits"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:411
 msgid "Hungarian"
 msgstr "Hongaars"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:412
 msgid "Italian"
 msgstr "Italiaans"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:413
 msgid "Norwegian"
 msgstr "Noors"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:414
 msgid "Portuguese"
 msgstr "Portugees"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:415
 msgid "Romanian"
 msgstr "Roemeens"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:416
 msgid "Russian"
 msgstr "Russisch"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:417
 msgid "Spanish"
 msgstr "Spaans"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:418
 msgid "Swedish"
 msgstr "Zweeds"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:419
 msgid "Turkish"
 msgstr "Turks"
 
@@ -558,23 +557,23 @@
 "Het is aangeraden alle documenten in \"Mijn webpagina's\" te vernieuwen"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:317
+#: UI/GTK2/src/PinotSettings.cpp:326
 msgid "Important"
 msgstr "Belangrijk"
 
-#: UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/PinotSettings.cpp:327
 msgid "New"
 msgstr "Nieuw"
 
-#: UI/GTK2/src/PinotSettings.cpp:319
+#: UI/GTK2/src/PinotSettings.cpp:328
 msgid "Personal"
 msgstr "Persoonlijk"
 
-#: UI/GTK2/src/PinotSettings.cpp:358
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1233
+#: UI/GTK2/src/PinotSettings.cpp:1242
 msgid "Unclassified"
 msgstr "Niet geclassificeerd"
 
@@ -610,107 +609,107 @@
 msgid "Directory to index"
 msgstr "Directory naar inhoudsopgave"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:66
+#: UI/GTK2/src/prefsDialog_glade.cc:65
 msgid "Google API key:"
 msgstr "Google API sleutel:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
+#: UI/GTK2/src/prefsDialog_glade.cc:68
 msgid "New results:"
 msgstr "Nieuwe resultaten:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
+#: UI/GTK2/src/prefsDialog_glade.cc:69
 msgid "Queries:"
 msgstr "Queries:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:71
+#: UI/GTK2/src/prefsDialog_glade.cc:70
 msgid "Enable search terms suggestion"
 msgstr "Zoektermsuggestie aanzetten"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
+#: UI/GTK2/src/prefsDialog_glade.cc:72
 msgid "Ignore robots.txt and Robots META tag"
 msgstr "Negeer robots.txt en Robots META tag"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:74
+#: UI/GTK2/src/prefsDialog_glade.cc:73
 msgid "HTTP crawling:"
 msgstr "HTTP crawling:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:77
+#: UI/GTK2/src/prefsDialog_glade.cc:76
 msgid "General"
 msgstr "Algemeen"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
 msgstr "Directe verbinding met het internet"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:80
+#: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
 msgstr "Manuele proxy-configuratie:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
+#: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
 msgstr "Netwerk"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:94
+#: UI/GTK2/src/prefsDialog_glade.cc:93
 msgid "Labels are used to classify indexed documents:"
 msgstr ""
 "Bijschriften worden gebruikt om geindexeerde documenten te klassificeren:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:99 UI/GTK2/src/prefsDialog_glade.cc:119
-#: UI/GTK2/src/prefsDialog_glade.cc:135
+#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
+#: UI/GTK2/src/prefsDialog_glade.cc:134
 msgid "Add"
 msgstr "Toevoegen"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:105
+#: UI/GTK2/src/prefsDialog_glade.cc:104
 msgid "Remove"
 msgstr "Verwijderen"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113 UI/GTK2/src/propertiesDialog.cc:56
+#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
 msgid "Labels"
 msgstr "Bijschriften"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:114
+#: UI/GTK2/src/prefsDialog_glade.cc:113
 msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Deze directories zullen geindexeerd worden en optioneel bijgewerkt worden "
 "bij veranderingen:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:127
+#: UI/GTK2/src/prefsDialog_glade.cc:126
 msgid "File patterns:"
 msgstr "Bestandspatronen:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
+#: UI/GTK2/src/prefsDialog_glade.cc:143
 msgid "Indexing"
 msgstr "Aan het indexeren"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:507
+#: UI/GTK2/src/prefsDialog_glade.cc:506
 msgid "Preferences"
 msgstr "Voorkeuren"
 
-#: UI/GTK2/src/propertiesDialog.cc:110
+#: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Per document"
 
-#: UI/GTK2/src/propertiesDialog.cc:368
+#: UI/GTK2/src/propertiesDialog.cc:365
 msgid "Export Terms"
 msgstr "Termen exporteren"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:65
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
 msgstr "Taal:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
 msgid "MIME type:"
 msgstr "MIME type:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
 msgid "Size:"
 msgstr "Grootte:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:68
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
 msgstr "Termen:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:78
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
 msgstr ""
 
@@ -727,12 +726,12 @@
 msgstr "Bestandsextensie"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:133
+#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "Titel"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:143
+#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
@@ -753,7 +752,7 @@
 msgstr "Bijschrift"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:151
+#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "Datum"
 
@@ -774,157 +773,161 @@
 msgid "By date"
 msgstr "Volgens datum"
 
-#: UI/GTK2/src/queryDialog_glade.cc:72
+#: UI/GTK2/src/queryDialog_glade.cc:71
 msgid "New filter or range:"
 msgstr "Nieuwe filter of bereik:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:81
+#: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
 msgstr "Query tekst"
 
-#: UI/GTK2/src/queryDialog_glade.cc:83
+#: UI/GTK2/src/queryDialog_glade.cc:82
 msgid "Index results with label"
 msgstr "Indexeer alle resultaten met label"
 
-#: UI/GTK2/src/queryDialog_glade.cc:86
+#: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
 msgstr "Aantal resultaten:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:90
+#: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
 msgstr "Sorteervolgorde:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:192
+#: UI/GTK2/src/queryDialog_glade.cc:191
 msgid "Query parameters"
 msgstr "Queryparameters"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:122
+#: UI/GTK2/src/ResultsTree.cpp:121
 msgid "Score"
 msgstr "Score"
 
-#: UI/GTK2/src/ResultsTree.cpp:180
+#: UI/GTK2/src/ResultsTree.cpp:179
 msgid "Extract"
 msgstr "Uitpakken"
 
-#: UI/GTK2/src/statisticsDialog.cc:73
+#: UI/GTK2/src/statisticsDialog.cc:72
 msgid "Indexes"
 msgstr "Indexen"
 
-#: UI/GTK2/src/statisticsDialog.cc:93
+#: UI/GTK2/src/statisticsDialog.cc:92
 msgid "Daemon"
 msgstr "Daemon"
 
-#: UI/GTK2/src/statisticsDialog.cc:128 UI/GTK2/src/statisticsDialog.cc:144
+#: UI/GTK2/src/statisticsDialog.cc:127 UI/GTK2/src/statisticsDialog.cc:143
 msgid "documents"
 msgstr "documenten"
 
-#: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:128
+#: UI/GTK2/src/statisticsDialog.cc:133 UI/GTK2/src/statisticsDialog.cc:149
+#: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "Onbekende fout."
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "Viewed"
 msgstr "Weergegeven"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "results"
 msgstr "resultaten"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:174
+#: UI/GTK2/src/statisticsDialog.cc:173
 msgid "Running under PID"
 msgstr "Wordt uitgevoerd on het PID"
 
-#: UI/GTK2/src/statisticsDialog.cc:178
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Currently not running"
 msgstr "Wordt momenteel niet uitgevoerd"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "Crawled"
 msgstr "Gecrawld"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "files"
 msgstr "bestanden"
 
-#: UI/GTK2/src/statisticsDialog.cc:206
+#: UI/GTK2/src/statisticsDialog.cc:205
 msgid "Errors"
 msgstr "Fouten"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:91
 msgid "Index error"
 msgstr "Indexfout"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:93
 msgid "Couldn't index document"
 msgstr "Het document kon niet ge?ndexeerd worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Couldn't update document"
 msgstr "Kan document niet actualiseren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't unindex document(s)"
 msgstr "Kan indexering van bestand(en) niet ongedaan maken"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't run query on search engine"
 msgstr "Kon query niet uitvoeren op zoekmachine"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:101
 msgid "Couldn't get history for search engine"
 msgstr "De geschiedenis voor de zoekmachine kon niet verkregen worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:103
 msgid "Couldn't retrieve document"
 msgstr "Het document kon niet verkregen worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't initialize file monitor"
 msgstr "Kan bestandsmonitor niet initialiseren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:107
 msgid "Couldn't open directory"
 msgstr "De map kon niet geopend worden"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:109
 msgid "Index doesn't exist"
 msgstr "De index bestaat niet"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't create search engine"
 msgstr "Kon zoekmachine niet maken"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Cannot index document type"
 msgstr "Kan documenttype niet indexeren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "No downloader for this protocol"
 msgstr "Er is geen downloader voor dit protocol"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META taf verbiedt indexeren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:123
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No monitoring handler"
 msgstr "Geen monitoring handler"
 
-#: UI/GTK2/src/WorkerThreads.cpp:393
+#: UI/GTK2/src/WorkerThreads.cpp:391
+msgid "Indexing was stopped"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:404
 msgid "Can't index mail here"
 msgstr "Kan mail hier niet indexeren"
 
-#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
+#: UI/GTK2/src/WorkerThreads.cpp:425 UI/GTK2/src/WorkerThreads.cpp:676
 msgid "is already being indexed"
 msgstr "wordt al geindexeerd"
 
-#: UI/GTK2/src/WorkerThreads.cpp:424
+#: UI/GTK2/src/WorkerThreads.cpp:435
 msgid "is blacklisted"
 msgstr "staat op blacklist"
 
-#: UI/GTK2/src/WorkerThreads.cpp:937
+#: UI/GTK2/src/WorkerThreads.cpp:945
 msgid "No title"
 msgstr "Geen titel"

Modified: trunk/po/pt.po
===================================================================
--- trunk/po/pt.po	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/po/pt.po	2007-11-23 15:36:49 UTC (rev 1123)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.75\n"
+"Project-Id-Version: pinot 0.81\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-11-06 22:04+0800\n"
+"POT-Creation-Date: 2007-11-22 19:39+0800\n"
 "PO-Revision-Date: 2007-10-31 10:01+0000\n"
 "Last-Translator: _PN_boy <pedro_nuno_pn at iol.pt>\n"
 "Language-Team: Portuguese <pt at li.org>\n"
@@ -28,22 +28,22 @@
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:794
-#: UI/GTK2/src/mainWindow.cc:1015 UI/GTK2/src/mainWindow.cc:1352
-#: UI/GTK2/src/mainWindow.cc:1507 UI/GTK2/src/mainWindow.cc:1549
-#: UI/GTK2/src/mainWindow.cc:1571 UI/GTK2/src/mainWindow.cc:2175
-#: UI/GTK2/src/mainWindow.cc:2285 UI/GTK2/src/PinotSettings.cpp:311
-#: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:976
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:738
+#: UI/GTK2/src/mainWindow.cc:959 UI/GTK2/src/mainWindow.cc:1296
+#: UI/GTK2/src/mainWindow.cc:1451 UI/GTK2/src/mainWindow.cc:1493
+#: UI/GTK2/src/mainWindow.cc:1515 UI/GTK2/src/mainWindow.cc:2119
+#: UI/GTK2/src/mainWindow.cc:2229 UI/GTK2/src/PinotSettings.cpp:320
+#: UI/GTK2/src/PinotSettings.cpp:1430 UI/GTK2/src/PinotSettings.cpp:1486
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:982
 msgid "My Web Pages"
 msgstr "As minhas p?ginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:797
-#: UI/GTK2/src/mainWindow.cc:1009 UI/GTK2/src/mainWindow.cc:1359
-#: UI/GTK2/src/mainWindow.cc:2289 UI/GTK2/src/PinotSettings.cpp:312
-#: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:986
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:741
+#: UI/GTK2/src/mainWindow.cc:953 UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:2233 UI/GTK2/src/PinotSettings.cpp:321
+#: UI/GTK2/src/PinotSettings.cpp:1431 UI/GTK2/src/PinotSettings.cpp:1487
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:992
 msgid "My Documents"
 msgstr "Os Meus Documentos"
 
@@ -137,248 +137,248 @@
 msgid "Helper application"
 msgstr "Aplica??o"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:166
 msgid "Query Name"
 msgstr "Nome da Consulta"
 
-#: UI/GTK2/src/mainWindow.cc:216
+#: UI/GTK2/src/mainWindow.cc:171
 msgid "Last Run"
 msgstr "?ltima execu??o"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Summary"
 msgstr "Resumo"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:251
+#: UI/GTK2/src/mainWindow.cc:206
 msgid "Show all search engines"
 msgstr "Mostrar todos os motores de pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:207
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:208
 #, fuzzy
 msgid "Add an index"
 msgstr "Adicionar index"
 
-#: UI/GTK2/src/mainWindow.cc:254
+#: UI/GTK2/src/mainWindow.cc:209
 #, fuzzy
 msgid "Remove an index"
 msgstr "Remover index"
 
-#: UI/GTK2/src/mainWindow.cc:255
+#: UI/GTK2/src/mainWindow.cc:210
 #, fuzzy
 msgid "Add a query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:211
 #, fuzzy
 msgid "Remove a query"
 msgstr "Consulta activa"
 
-#: UI/GTK2/src/mainWindow.cc:257
+#: UI/GTK2/src/mainWindow.cc:212
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:213
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:288
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:348
+#: UI/GTK2/src/mainWindow.cc:292
 msgid "N/A"
 msgstr "N/D"
 
-#: UI/GTK2/src/mainWindow.cc:363
+#: UI/GTK2/src/mainWindow.cc:307
 msgid "Undefined"
 msgstr "Indefinido"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:586 UI/GTK2/src/mainWindow.cc:2673
+#: UI/GTK2/src/mainWindow.cc:530 UI/GTK2/src/mainWindow.cc:2617
 msgid "Live query"
 msgstr "Consulta activa"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:726
+#: UI/GTK2/src/mainWindow.cc:670
 msgid "Result location is"
 msgstr "A localiza??o do resultado ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:808
+#: UI/GTK2/src/mainWindow.cc:752
 msgid "Document location is"
 msgstr "A localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:2107
+#: UI/GTK2/src/mainWindow.cc:936 UI/GTK2/src/mainWindow.cc:2051
 msgid "Couldn't find query"
 msgstr "N?o foi poss?vel encontrar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:1006
+#: UI/GTK2/src/mainWindow.cc:950
 #, fuzzy
 msgid "In Results"
 msgstr "resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1189
+#: UI/GTK2/src/mainWindow.cc:1133
 msgid "Showing"
 msgstr "Visualizando"
 
-#: UI/GTK2/src/mainWindow.cc:1194
+#: UI/GTK2/src/mainWindow.cc:1138
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1199
+#: UI/GTK2/src/mainWindow.cc:1143
 msgid "documents, starting at"
 msgstr "documentos, come?ando em"
 
-#: UI/GTK2/src/mainWindow.cc:1233
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "Query"
 msgstr "Pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:1237 UI/GTK2/src/mainWindow.cc:3266
+#: UI/GTK2/src/mainWindow.cc:1181 UI/GTK2/src/mainWindow.cc:3210
 msgid "on"
 msgstr "activar"
 
-#: UI/GTK2/src/mainWindow.cc:1241
+#: UI/GTK2/src/mainWindow.cc:1185
 msgid "ended"
 msgstr "terminado"
 
-#: UI/GTK2/src/mainWindow.cc:1302
+#: UI/GTK2/src/mainWindow.cc:1246
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1335
 msgid "More Like"
 msgstr "Mais identico"
 
-#: UI/GTK2/src/mainWindow.cc:1433
+#: UI/GTK2/src/mainWindow.cc:1377
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1517 UI/GTK2/src/mainWindow.cc:1611
+#: UI/GTK2/src/mainWindow.cc:1461 UI/GTK2/src/mainWindow.cc:1555
 msgid "Updated document"
 msgstr "Documento actualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1530
+#: UI/GTK2/src/mainWindow.cc:1474
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1572
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1669
+#: UI/GTK2/src/mainWindow.cc:1613
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear o ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1673 UI/GTK2/src/mainWindow.cc:2499
-#: UI/GTK2/src/mainWindow.cc:3070
+#: UI/GTK2/src/mainWindow.cc:1617 UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:3014
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1686
+#: UI/GTK2/src/mainWindow.cc:1630
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:1643
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2027
+#: UI/GTK2/src/mainWindow.cc:1971
 #, fuzzy
 msgid "Export Results"
 msgstr "resultados"
 
-#: UI/GTK2/src/mainWindow.cc:2302
+#: UI/GTK2/src/mainWindow.cc:2246
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2306
+#: UI/GTK2/src/mainWindow.cc:2250
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2384
+#: UI/GTK2/src/mainWindow.cc:2328
 msgid "Remove this document from the index ?"
 msgstr "Remover este documento do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2403
+#: UI/GTK2/src/mainWindow.cc:2347
 msgid "Remove these documents from the index ?"
 msgstr "Remover estes documentos do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2449
+#: UI/GTK2/src/mainWindow.cc:2393
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca para o Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2450
+#: UI/GTK2/src/mainWindow.cc:2394
 msgid "Search the Web and your documents !"
 msgstr "Pesquise a Web e os seus documentos"
 
-#: UI/GTK2/src/mainWindow.cc:2495
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2510
+#: UI/GTK2/src/mainWindow.cc:2454
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2526
+#: UI/GTK2/src/mainWindow.cc:2470
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2561
+#: UI/GTK2/src/mainWindow.cc:2505
 msgid "Couldn't remove index"
 msgstr "N?o foi possivel remover o ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2766
+#: UI/GTK2/src/mainWindow.cc:2710
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2882
+#: UI/GTK2/src/mainWindow.cc:2826
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa ainda n?o foi concluida. Sair agora?"
 
-#: UI/GTK2/src/mainWindow.cc:3066
+#: UI/GTK2/src/mainWindow.cc:3010
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3093
+#: UI/GTK2/src/mainWindow.cc:3037
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel actualizar a consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3101
+#: UI/GTK2/src/mainWindow.cc:3045
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3108
+#: UI/GTK2/src/mainWindow.cc:3052
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3116
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3155
+#: UI/GTK2/src/mainWindow.cc:3099
 msgid "Query is not set"
 msgstr "Consulta n?o foi actualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3166
+#: UI/GTK2/src/mainWindow.cc:3110
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa seleccionado"
 
-#: UI/GTK2/src/mainWindow.cc:3253
+#: UI/GTK2/src/mainWindow.cc:3197
 msgid "Please set the Google API key first"
 msgstr "Primeiro escolha a tecla para a API Google"
 
-#: UI/GTK2/src/mainWindow.cc:3262
+#: UI/GTK2/src/mainWindow.cc:3206
 msgid "Running query"
 msgstr "A executar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3471
+#: UI/GTK2/src/mainWindow.cc:3415
 msgid "No default application defined for type"
 msgstr "Nenhuma aplica??o associada ao tipo"
 
@@ -486,67 +486,67 @@
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:404
 msgid "Unknown"
 msgstr "Desconhecido"
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:405
 msgid "Danish"
 msgstr "Dinamarqu?s"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:406
 msgid "Dutch"
 msgstr "Holand?s"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:407
 msgid "English"
 msgstr "Ingl?s"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:408
 msgid "Finnish"
 msgstr "Finl?ndes"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:409
 msgid "French"
 msgstr "Franc?s"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:410
 msgid "German"
 msgstr "Alem?o"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:411
 msgid "Hungarian"
 msgstr "H?ngaro"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:412
 msgid "Italian"
 msgstr "Italiano"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:413
 msgid "Norwegian"
 msgstr "Noruegu?s"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:414
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:415
 msgid "Romanian"
 msgstr "Romeno"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:416
 msgid "Russian"
 msgstr "Russo"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:417
 msgid "Spanish"
 msgstr "Espanhol"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:418
 msgid "Swedish"
 msgstr "Sueco"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:328
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:419
 msgid "Turkish"
 msgstr "Turco"
 
@@ -564,23 +564,23 @@
 msgstr "A actualizar todos os documentos nas Minhas P?ginas Web ? recomendado"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:317
+#: UI/GTK2/src/PinotSettings.cpp:326
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/PinotSettings.cpp:327
 msgid "New"
 msgstr "Novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:319
+#: UI/GTK2/src/PinotSettings.cpp:328
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:358
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1233
+#: UI/GTK2/src/PinotSettings.cpp:1242
 msgid "Unclassified"
 msgstr "N?o classificado"
 
@@ -930,22 +930,22 @@
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:385
+#: UI/GTK2/src/WorkerThreads.cpp:391
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:398
+#: UI/GTK2/src/WorkerThreads.cpp:404
 msgid "Can't index mail here"
 msgstr "N?o foi poss?vel indexar o mail aqui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:419 UI/GTK2/src/WorkerThreads.cpp:670
+#: UI/GTK2/src/WorkerThreads.cpp:425 UI/GTK2/src/WorkerThreads.cpp:676
 msgid "is already being indexed"
 msgstr "j? est? a ser indexado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:435
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:939
+#: UI/GTK2/src/WorkerThreads.cpp:945
 msgid "No title"
 msgstr "Sem t?tulo"

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/po/pt_BR.po	2007-11-23 15:36:49 UTC (rev 1123)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.80\n"
+"Project-Id-Version: pinot 0.81\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-28 22:51+0800\n"
+"POT-Creation-Date: 2007-11-22 19:39+0800\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: Leonardo Melo <leonardovazmelo at gmail.com>\n"
 "Language-Team: Portuguese (Brazil) <pt_BR at li.org>\n"
@@ -16,33 +16,33 @@
 "X-Launchpad-Export-Date: 2007-10-27 12:48+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68
+#: UI/GTK2/src/EnginesTree.cpp:67
 msgid "Search Engines"
 msgstr "Mecanismos de Pesquisa"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:325
 msgid "Current User"
 msgstr "Usu?rio atual"
 
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:795
-#: UI/GTK2/src/mainWindow.cc:1017 UI/GTK2/src/mainWindow.cc:1354
-#: UI/GTK2/src/mainWindow.cc:1509 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
-#: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
-#: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:738
+#: UI/GTK2/src/mainWindow.cc:959 UI/GTK2/src/mainWindow.cc:1296
+#: UI/GTK2/src/mainWindow.cc:1451 UI/GTK2/src/mainWindow.cc:1493
+#: UI/GTK2/src/mainWindow.cc:1515 UI/GTK2/src/mainWindow.cc:2119
+#: UI/GTK2/src/mainWindow.cc:2229 UI/GTK2/src/PinotSettings.cpp:320
+#: UI/GTK2/src/PinotSettings.cpp:1430 UI/GTK2/src/PinotSettings.cpp:1486
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:982
 msgid "My Web Pages"
 msgstr "Minhas P?ginas Web"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:798
-#: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
-#: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
-#: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:741
+#: UI/GTK2/src/mainWindow.cc:953 UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:2233 UI/GTK2/src/PinotSettings.cpp:321
+#: UI/GTK2/src/PinotSettings.cpp:1431 UI/GTK2/src/PinotSettings.cpp:1487
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:992
 msgid "My Documents"
 msgstr "Meus Documentos"
 
@@ -59,495 +59,494 @@
 msgid "Index location"
 msgstr "Localiza??o do ?ndice"
 
-#: UI/GTK2/src/indexDialog_glade.cc:65 UI/GTK2/src/queryDialog_glade.cc:68
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
 msgstr "Nome:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:66
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
 msgid "Type:"
 msgstr "Tipo:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:66
 msgid "Location:"
 msgstr "Localiza??o:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:72 UI/GTK2/src/prefsDialog_glade.cc:86
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
 msgid "Port:"
 msgstr "Porta:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:79 UI/GTK2/src/prefsDialog_glade.cc:82
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
 msgstr ""
 
-#: UI/GTK2/src/indexDialog_glade.cc:183
+#: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
 msgstr "?ndice externo"
 
 #. Labels
-#: UI/GTK2/src/importDialog.cc:87 UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/importDialog.cc:86 UI/GTK2/src/queryDialog.cc:123
 msgid "None"
 msgstr "Nenhum"
 
-#: UI/GTK2/src/importDialog_glade.cc:68
-#: UI/GTK2/src/propertiesDialog_glade.cc:64
+#: UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
 msgid "Title:"
 msgstr "T?tulo:"
 
-#: UI/GTK2/src/importDialog_glade.cc:71
+#: UI/GTK2/src/importDialog_glade.cc:70
 msgid "Apply label:"
 msgstr "Aplicar t?tulo:"
 
-#: UI/GTK2/src/importDialog_glade.cc:77
+#: UI/GTK2/src/importDialog_glade.cc:76
 msgid "Import"
 msgstr "Importar"
 
-#: UI/GTK2/src/importDialog_glade.cc:148 UI/GTK2/src/mainWindow_glade.cc:216
+#: UI/GTK2/src/importDialog_glade.cc:147 UI/GTK2/src/mainWindow_glade.cc:215
 msgid "Import URL"
 msgstr "Importar URL"
 
-#: UI/GTK2/src/IndexPage.cpp:51
+#: UI/GTK2/src/IndexPage.cpp:50
 msgid "Show Previous"
 msgstr "Mostrar anterior"
 
-#: UI/GTK2/src/IndexPage.cpp:57
+#: UI/GTK2/src/IndexPage.cpp:56
 msgid "Show Next"
 msgstr "Mostrar pr?ximo"
 
-#: UI/GTK2/src/IndexPage.cpp:189
+#: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
 msgstr ""
 
-#: UI/GTK2/src/launcherDialog_glade.cc:64
+#: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
 msgstr ""
 
-#: UI/GTK2/src/launcherDialog_glade.cc:67
+#: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
 msgstr ""
 
-#: UI/GTK2/src/launcherDialog_glade.cc:99
+#: UI/GTK2/src/launcherDialog_glade.cc:98
 msgid "Helper application"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:166
 msgid "Query Name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:217
+#: UI/GTK2/src/mainWindow.cc:171
 msgid "Last Run"
 msgstr "?ltimo executado"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Summary"
 msgstr "Resumo"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:206
 msgid "Show all search engines"
 msgstr "Mostrar todos mecanimos de pesquisa"
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:207
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:254
+#: UI/GTK2/src/mainWindow.cc:208
 #, fuzzy
 msgid "Add an index"
 msgstr "Adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:255
+#: UI/GTK2/src/mainWindow.cc:209
 #, fuzzy
 msgid "Remove an index"
 msgstr "Remover ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:210
 #, fuzzy
 msgid "Add a query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:257
+#: UI/GTK2/src/mainWindow.cc:211
 #, fuzzy
 msgid "Remove a query"
 msgstr "Query ativa"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:212
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:213
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:289
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Ready"
 msgstr "Pronto"
 
-#: UI/GTK2/src/mainWindow.cc:349
+#: UI/GTK2/src/mainWindow.cc:292
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:364
+#: UI/GTK2/src/mainWindow.cc:307
 #, fuzzy
 msgid "Undefined"
 msgstr "<indefinido>"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:587 UI/GTK2/src/mainWindow.cc:2675
+#: UI/GTK2/src/mainWindow.cc:530 UI/GTK2/src/mainWindow.cc:2617
 msgid "Live query"
 msgstr "Query ativa"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:727
+#: UI/GTK2/src/mainWindow.cc:670
 msgid "Result location is"
 msgstr "Local resultante ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:809
+#: UI/GTK2/src/mainWindow.cc:752
 msgid "Document location is"
 msgstr "Localiza??o do documento ?"
 
-#: UI/GTK2/src/mainWindow.cc:993 UI/GTK2/src/mainWindow.cc:2109
+#: UI/GTK2/src/mainWindow.cc:936 UI/GTK2/src/mainWindow.cc:2051
 msgid "Couldn't find query"
 msgstr "N?o foi poss?vel encontrar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:1008
+#: UI/GTK2/src/mainWindow.cc:950
 #, fuzzy
 msgid "In Results"
 msgstr "_Resultados"
 
-#: UI/GTK2/src/mainWindow.cc:1191
+#: UI/GTK2/src/mainWindow.cc:1133
 msgid "Showing"
 msgstr "Exibindo"
 
-#: UI/GTK2/src/mainWindow.cc:1196
+#: UI/GTK2/src/mainWindow.cc:1138
 msgid "of"
 msgstr "de"
 
-#: UI/GTK2/src/mainWindow.cc:1201
+#: UI/GTK2/src/mainWindow.cc:1143
 msgid "documents, starting at"
 msgstr "documentos, come?am no"
 
-#: UI/GTK2/src/mainWindow.cc:1235
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "Query"
 msgstr "Consulta"
 
-#: UI/GTK2/src/mainWindow.cc:1239 UI/GTK2/src/mainWindow.cc:3268
+#: UI/GTK2/src/mainWindow.cc:1181 UI/GTK2/src/mainWindow.cc:3210
 msgid "on"
 msgstr "no"
 
-#: UI/GTK2/src/mainWindow.cc:1243
+#: UI/GTK2/src/mainWindow.cc:1185
 msgid "ended"
 msgstr "finalizada"
 
-#: UI/GTK2/src/mainWindow.cc:1304
+#: UI/GTK2/src/mainWindow.cc:1246
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1393
+#: UI/GTK2/src/mainWindow.cc:1335
 msgid "More Like"
 msgstr "Mais pr?xima"
 
-#: UI/GTK2/src/mainWindow.cc:1435
+#: UI/GTK2/src/mainWindow.cc:1377
 msgid "Updated label(s)"
 msgstr "T?tulo(s) atualizado(s)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1519 UI/GTK2/src/mainWindow.cc:1613
+#: UI/GTK2/src/mainWindow.cc:1461 UI/GTK2/src/mainWindow.cc:1555
 msgid "Updated document"
 msgstr "Documento atualizado"
 
-#: UI/GTK2/src/mainWindow.cc:1532
+#: UI/GTK2/src/mainWindow.cc:1474
 msgid "Indexed"
 msgstr "Indexado"
 
-#: UI/GTK2/src/mainWindow.cc:1574
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "Unindexed document(s)"
 msgstr "Documento(s) n?o indexidado(s)"
 
-#: UI/GTK2/src/mainWindow.cc:1671
+#: UI/GTK2/src/mainWindow.cc:1613
 msgid "Couldn't rename index, name"
 msgstr "N?o foi poss?vel renomear ?ndice, nome"
 
-#: UI/GTK2/src/mainWindow.cc:1675 UI/GTK2/src/mainWindow.cc:2501
-#: UI/GTK2/src/mainWindow.cc:3072
+#: UI/GTK2/src/mainWindow.cc:1617 UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:3014
 msgid "is already in use"
 msgstr "j? est? em uso"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1630
 msgid "Couldn't rename index"
 msgstr "N?o foi poss?vel renomear ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:1701
+#: UI/GTK2/src/mainWindow.cc:1643
 msgid "Edited index"
 msgstr "?ndice editado"
 
-#: UI/GTK2/src/mainWindow.cc:2029
+#: UI/GTK2/src/mainWindow.cc:1971
 #, fuzzy
 msgid "Export Results"
 msgstr "_Resultados"
 
-#: UI/GTK2/src/mainWindow.cc:2304
+#: UI/GTK2/src/mainWindow.cc:2246
 msgid "Index"
 msgstr "?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2308
+#: UI/GTK2/src/mainWindow.cc:2250
 msgid "doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/mainWindow.cc:2386
+#: UI/GTK2/src/mainWindow.cc:2328
 msgid "Remove this document from the index ?"
 msgstr "Remover documento do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2405
+#: UI/GTK2/src/mainWindow.cc:2347
 msgid "Remove these documents from the index ?"
 msgstr "Remover documentos do ?ndice?"
 
-#: UI/GTK2/src/mainWindow.cc:2451
+#: UI/GTK2/src/mainWindow.cc:2393
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Um mecanismo de metabusca gr?tis para Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2452
+#: UI/GTK2/src/mainWindow.cc:2394
 msgid "Search the Web and your documents !"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2497
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index name"
 msgstr "Nome do ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2512
+#: UI/GTK2/src/mainWindow.cc:2454
 msgid "Couldn't add index"
 msgstr "N?o foi poss?vel adicionar ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2528
+#: UI/GTK2/src/mainWindow.cc:2470
 msgid "Added new index"
 msgstr "Adicionar novo ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2563
+#: UI/GTK2/src/mainWindow.cc:2505
 msgid "Couldn't remove index"
 msgstr "N?o foi poss?vel remover ?ndice"
 
-#: UI/GTK2/src/mainWindow.cc:2768
+#: UI/GTK2/src/mainWindow.cc:2710
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2826
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "Pelo menos uma tarefa n?o terminou ainda. Sair assim mesmo?"
 
-#: UI/GTK2/src/mainWindow.cc:3068
+#: UI/GTK2/src/mainWindow.cc:3010
 msgid "Query name"
 msgstr "Nome da consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3037
 msgid "Couldn't update query"
 msgstr "N?o foi poss?vel atualizar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3103
+#: UI/GTK2/src/mainWindow.cc:3045
 msgid "Edited query"
 msgstr "Consulta editada"
 
-#: UI/GTK2/src/mainWindow.cc:3110
+#: UI/GTK2/src/mainWindow.cc:3052
 msgid "Couldn't add query"
 msgstr "N?o foi poss?vel adicionar consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3118
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "Added new query"
 msgstr "Adicionar nova consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3099
 msgid "Query is not set"
 msgstr "Consulta n?o foi atualizada"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3110
 msgid "No search engine selected"
 msgstr "Nenhum mecanismo de pesquisa selecionado"
 
-#: UI/GTK2/src/mainWindow.cc:3255
+#: UI/GTK2/src/mainWindow.cc:3197
 msgid "Please set the Google API key first"
 msgstr "Primeiro informe a tecla para Google API"
 
-#: UI/GTK2/src/mainWindow.cc:3264
+#: UI/GTK2/src/mainWindow.cc:3206
 msgid "Running query"
 msgstr "Executando consulta"
 
-#: UI/GTK2/src/mainWindow.cc:3473
+#: UI/GTK2/src/mainWindow.cc:3415
 msgid "No default application defined for type"
 msgstr "Aplica??o associada ao tipo n?o definida"
 
-#: UI/GTK2/src/mainWindow_glade.cc:127
+#: UI/GTK2/src/mainWindow_glade.cc:126
 msgid "Query:"
 msgstr "Consulta:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:138 UI/GTK2/src/statisticsDialog.cc:88
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:87
 #, fuzzy
 msgid "History"
 msgstr "Diret?rio"
 
-#: UI/GTK2/src/mainWindow_glade.cc:143
+#: UI/GTK2/src/mainWindow_glade.cc:142
 msgid "Stored queries"
 msgstr "Consultas armazenadas"
 
-#: UI/GTK2/src/mainWindow_glade.cc:156 UI/GTK2/src/statisticsDialog.cc:51
-#: UI/GTK2/src/statisticsDialog_glade.cc:87
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow_glade.cc:176
 msgid "Search Engine"
 msgstr "Mecanismo de pesquisa"
 
-#: UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow_glade.cc:179
 msgid "Host Name"
 msgstr "Nome do host"
 
-#: UI/GTK2/src/mainWindow_glade.cc:183
+#: UI/GTK2/src/mainWindow_glade.cc:182
 msgid "Show Extract"
 msgstr "Mostrar extrato"
 
-#: UI/GTK2/src/mainWindow_glade.cc:186
+#: UI/GTK2/src/mainWindow_glade.cc:185
 msgid "Group By"
 msgstr "Agrupar por"
 
-#: UI/GTK2/src/mainWindow_glade.cc:192
+#: UI/GTK2/src/mainWindow_glade.cc:191
 msgid "Clear List"
 msgstr "Limpar lista"
 
-#: UI/GTK2/src/mainWindow_glade.cc:198
+#: UI/GTK2/src/mainWindow_glade.cc:197
 msgid "Vie_w"
 msgstr "Exibir"
 
-#: UI/GTK2/src/mainWindow_glade.cc:201
+#: UI/GTK2/src/mainWindow_glade.cc:200
 msgid "View Cache"
 msgstr "Exibir cache"
 
-#: UI/GTK2/src/mainWindow_glade.cc:204
+#: UI/GTK2/src/mainWindow_glade.cc:203
 msgid "More Like This"
 msgstr "Mais como este"
 
-#: UI/GTK2/src/mainWindow_glade.cc:207
+#: UI/GTK2/src/mainWindow_glade.cc:206
 #, fuzzy
 msgid "Search This For"
 msgstr "Mecanismos de Pesquisa"
 
-#: UI/GTK2/src/mainWindow_glade.cc:210 UI/GTK2/src/mainWindow_glade.cc:246
+#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
 msgid "_Index"
 msgstr "_?ndice"
 
-#: UI/GTK2/src/mainWindow_glade.cc:213
+#: UI/GTK2/src/mainWindow_glade.cc:212
 msgid "List Contents Of"
 msgstr "Mostrar conte?do de"
 
-#: UI/GTK2/src/mainWindow_glade.cc:222
+#: UI/GTK2/src/mainWindow_glade.cc:221
 msgid "View"
 msgstr "Visualizar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "Atualizar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:228
+#: UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "Retirar do ?ndice"
 
-#: UI/GTK2/src/mainWindow_glade.cc:231
-#: UI/GTK2/src/propertiesDialog_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:230
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
 msgid "Properties"
 msgstr "Propriedades"
 
-#: UI/GTK2/src/mainWindow_glade.cc:234
+#: UI/GTK2/src/mainWindow_glade.cc:233
 msgid "_About"
 msgstr "_Sobre"
 
-#: UI/GTK2/src/mainWindow_glade.cc:237
+#: UI/GTK2/src/mainWindow_glade.cc:236
 msgid "_Session"
 msgstr "_Sess?o"
 
-#: UI/GTK2/src/mainWindow_glade.cc:240
+#: UI/GTK2/src/mainWindow_glade.cc:239
 msgid "_Edit"
 msgstr "_Editar"
 
-#: UI/GTK2/src/mainWindow_glade.cc:243
+#: UI/GTK2/src/mainWindow_glade.cc:242
 msgid "_Results"
 msgstr "_Resultados"
 
-#: UI/GTK2/src/mainWindow_glade.cc:249
+#: UI/GTK2/src/mainWindow_glade.cc:248
 msgid "_Help"
 msgstr "_Ajuda"
 
-#: UI/GTK2/src/mainWindow_glade.cc:378
+#: UI/GTK2/src/mainWindow_glade.cc:377
 msgid "Pinot"
 msgstr "Pino"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:312
-#: UI/GTK2/src/propertiesDialog.cc:97
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:404
 msgid "Unknown"
 msgstr "Desconhecido"
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:405
 msgid "Danish"
 msgstr "Danish"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:406
 msgid "Dutch"
 msgstr "Dutch"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:407
 msgid "English"
 msgstr "English"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:408
 msgid "Finnish"
 msgstr "Terminar"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:409
 msgid "French"
 msgstr "French"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:410
 msgid "German"
 msgstr "German"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:411
 msgid "Hungarian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:412
 msgid "Italian"
 msgstr "Italian"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:413
 msgid "Norwegian"
 msgstr "Norwegian"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:414
 msgid "Portuguese"
 msgstr "Portugu?s"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:415
 msgid "Romanian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:416
 msgid "Russian"
 msgstr "Russian"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:417
 msgid "Spanish"
 msgstr "Spanish"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:418
 msgid "Swedish"
 msgstr "Swedish"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:419
 msgid "Turkish"
 msgstr ""
 
@@ -565,23 +564,23 @@
 msgstr ""
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:317
+#: UI/GTK2/src/PinotSettings.cpp:326
 msgid "Important"
 msgstr "Importante"
 
-#: UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/PinotSettings.cpp:327
 msgid "New"
 msgstr "Novo"
 
-#: UI/GTK2/src/PinotSettings.cpp:319
+#: UI/GTK2/src/PinotSettings.cpp:328
 msgid "Personal"
 msgstr "Pessoal"
 
-#: UI/GTK2/src/PinotSettings.cpp:358
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1233
+#: UI/GTK2/src/PinotSettings.cpp:1242
 msgid "Unclassified"
 msgstr "N?o classificado"
 
@@ -617,111 +616,111 @@
 msgid "Directory to index"
 msgstr "Diret?rio do ?ndice"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:66
+#: UI/GTK2/src/prefsDialog_glade.cc:65
 msgid "Google API key:"
 msgstr "Tecla para Google API:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
+#: UI/GTK2/src/prefsDialog_glade.cc:68
 msgid "New results:"
 msgstr "Novos resultados:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
+#: UI/GTK2/src/prefsDialog_glade.cc:69
 msgid "Queries:"
 msgstr "Consultas:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:71
+#: UI/GTK2/src/prefsDialog_glade.cc:70
 msgid "Enable search terms suggestion"
 msgstr "Habilitar sugest?o de termos"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
+#: UI/GTK2/src/prefsDialog_glade.cc:72
 msgid "Ignore robots.txt and Robots META tag"
 msgstr "Ignorar robots.txt e Robots META tag"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:74
+#: UI/GTK2/src/prefsDialog_glade.cc:73
 #, fuzzy
 msgid "HTTP crawling:"
 msgstr "HTTP crawling:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:77
+#: UI/GTK2/src/prefsDialog_glade.cc:76
 msgid "General"
 msgstr "Geral"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:80
+#: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
+#: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:94
+#: UI/GTK2/src/prefsDialog_glade.cc:93
 #, fuzzy
 msgid "Labels are used to classify indexed documents:"
 msgstr "T?tulos utilizados para classificar documentos indexados:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:99 UI/GTK2/src/prefsDialog_glade.cc:119
-#: UI/GTK2/src/prefsDialog_glade.cc:135
+#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
+#: UI/GTK2/src/prefsDialog_glade.cc:134
 msgid "Add"
 msgstr "Adicionar"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:105
+#: UI/GTK2/src/prefsDialog_glade.cc:104
 msgid "Remove"
 msgstr "Remover"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113 UI/GTK2/src/propertiesDialog.cc:56
+#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
 msgid "Labels"
 msgstr "T?tulos"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:114
+#: UI/GTK2/src/prefsDialog_glade.cc:113
 #, fuzzy
 msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "Diret?rios que ser?o indexados e opcionalmente ter?o monitoradas suas "
 "altera??es:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:127
+#: UI/GTK2/src/prefsDialog_glade.cc:126
 #, fuzzy
 msgid "File patterns:"
 msgstr "Extens?o do arquivo"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
+#: UI/GTK2/src/prefsDialog_glade.cc:143
 msgid "Indexing"
 msgstr "Indexando"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:507
+#: UI/GTK2/src/prefsDialog_glade.cc:506
 msgid "Preferences"
 msgstr "Prefer?ncias"
 
-#: UI/GTK2/src/propertiesDialog.cc:110
+#: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "Por documento"
 
-#: UI/GTK2/src/propertiesDialog.cc:368
+#: UI/GTK2/src/propertiesDialog.cc:365
 #, fuzzy
 msgid "Export Terms"
 msgstr "_Resultados"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:65
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
 msgstr "L?ngua:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
 msgid "MIME type:"
 msgstr "Tipo MIME:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
 msgid "Size:"
 msgstr ""
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:68
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
 msgstr ""
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:78
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
 msgstr ""
 
@@ -738,12 +737,12 @@
 msgstr "Extens?o do arquivo"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:133
+#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "T?tulo"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:143
+#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
@@ -764,7 +763,7 @@
 msgstr "T?tulo"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:151
+#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:150
 #, fuzzy
 msgid "Date"
 msgstr "no"
@@ -788,170 +787,174 @@
 msgid "By date"
 msgstr "Atualizar"
 
-#: UI/GTK2/src/queryDialog_glade.cc:72
+#: UI/GTK2/src/queryDialog_glade.cc:71
 #, fuzzy
 msgid "New filter or range:"
 msgstr "Novo filtro:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:81
+#: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
 msgstr "Texto da consulta"
 
-#: UI/GTK2/src/queryDialog_glade.cc:83
+#: UI/GTK2/src/queryDialog_glade.cc:82
 #, fuzzy
 msgid "Index results with label"
 msgstr "Indexar todos resultados com t?tulo"
 
-#: UI/GTK2/src/queryDialog_glade.cc:86
+#: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
 msgstr "N?mero de resultados:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:90
+#: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:192
+#: UI/GTK2/src/queryDialog_glade.cc:191
 msgid "Query parameters"
 msgstr "Par?metros da consulta"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:122
+#: UI/GTK2/src/ResultsTree.cpp:121
 msgid "Score"
 msgstr "Pontua??o"
 
-#: UI/GTK2/src/ResultsTree.cpp:180
+#: UI/GTK2/src/ResultsTree.cpp:179
 msgid "Extract"
 msgstr "Extrair"
 
-#: UI/GTK2/src/statisticsDialog.cc:73
+#: UI/GTK2/src/statisticsDialog.cc:72
 #, fuzzy
 msgid "Indexes"
 msgstr "Indexado"
 
-#: UI/GTK2/src/statisticsDialog.cc:93
+#: UI/GTK2/src/statisticsDialog.cc:92
 msgid "Daemon"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:128 UI/GTK2/src/statisticsDialog.cc:144
+#: UI/GTK2/src/statisticsDialog.cc:127 UI/GTK2/src/statisticsDialog.cc:143
 #, fuzzy
 msgid "documents"
 msgstr "Meus Documentos"
 
-#: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:128
+#: UI/GTK2/src/statisticsDialog.cc:133 UI/GTK2/src/statisticsDialog.cc:149
+#: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 #, fuzzy
 msgid "Viewed"
 msgstr "Visualizar"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 #, fuzzy
 msgid "results"
 msgstr "_Resultados"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:174
+#: UI/GTK2/src/statisticsDialog.cc:173
 #, fuzzy
 msgid "Running under PID"
 msgstr "Executando consulta"
 
-#: UI/GTK2/src/statisticsDialog.cc:178
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Currently not running"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "files"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:206
+#: UI/GTK2/src/statisticsDialog.cc:205
 msgid "Errors"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:91
 #, fuzzy
 msgid "Index error"
 msgstr "Erro no ?ndice no"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:93
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Couldn't update document"
 msgstr "N?o foi poss?vel atualizar documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't unindex document(s)"
 msgstr "N?o foi poss?vel remover documento(s) do ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't run query on search engine"
 msgstr "N?o foi poss?vel executar consulta no mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:101
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "N?o foi poss?vel executar consulta no mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:103
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "N?o foi poss?vel atualizar documento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't initialize file monitor"
 msgstr "N?o foi poss?vel inicializar monitor de arquivos"
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:107
 msgid "Couldn't open directory"
 msgstr "N?o foi poss?vel abrir diret?rio"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:109
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "n?o existe"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't create search engine"
 msgstr "N?o foi poss?vel criar mecanismo de pesquisa"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Cannot index document type"
 msgstr "Imposs?vel indexar tipo de arquivo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:115
 #, fuzzy
 msgid "No downloader for this protocol"
 msgstr "N?o foi poss?vel obter fonte de download para o protocolo"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Robots META tag forbids indexing"
 msgstr "Robots META tag n?o s?o permitidos no ?ndice"
 
-#: UI/GTK2/src/WorkerThreads.cpp:123
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No monitoring handler"
 msgstr "Nenhum manipulador de monitoramento"
 
-#: UI/GTK2/src/WorkerThreads.cpp:393
+#: UI/GTK2/src/WorkerThreads.cpp:391
+msgid "Indexing was stopped"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:404
 msgid "Can't index mail here"
 msgstr "N?o foi poss?vel indexar mail aqui"
 
-#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
+#: UI/GTK2/src/WorkerThreads.cpp:425 UI/GTK2/src/WorkerThreads.cpp:676
 msgid "is already being indexed"
 msgstr "j? est? sendo indexado"
 
-#: UI/GTK2/src/WorkerThreads.cpp:424
+#: UI/GTK2/src/WorkerThreads.cpp:435
 msgid "is blacklisted"
 msgstr "est? na lista negra"
 
-#: UI/GTK2/src/WorkerThreads.cpp:937
+#: UI/GTK2/src/WorkerThreads.cpp:945
 msgid "No title"
 msgstr "Sem t?tulo"

Modified: trunk/po/ru.po
===================================================================
--- trunk/po/ru.po	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/po/ru.po	2007-11-23 15:36:49 UTC (rev 1123)
@@ -4,9 +4,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.80\n"
+"Project-Id-Version: pinot 0.81\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-28 22:51+0800\n"
+"POT-Creation-Date: 2007-11-22 19:39+0800\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: Sergey Vostrikov <s.vostrikov at gmail.com>\n"
 "Language-Team: Russian <ru at li.org>\n"
@@ -16,33 +16,33 @@
 "X-Launchpad-Export-Date: 2007-09-23 13:58+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68
+#: UI/GTK2/src/EnginesTree.cpp:67
 msgid "Search Engines"
 msgstr "????????? ??????"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:325
 msgid "Current User"
 msgstr "??????? ????????????"
 
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:795
-#: UI/GTK2/src/mainWindow.cc:1017 UI/GTK2/src/mainWindow.cc:1354
-#: UI/GTK2/src/mainWindow.cc:1509 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
-#: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
-#: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:738
+#: UI/GTK2/src/mainWindow.cc:959 UI/GTK2/src/mainWindow.cc:1296
+#: UI/GTK2/src/mainWindow.cc:1451 UI/GTK2/src/mainWindow.cc:1493
+#: UI/GTK2/src/mainWindow.cc:1515 UI/GTK2/src/mainWindow.cc:2119
+#: UI/GTK2/src/mainWindow.cc:2229 UI/GTK2/src/PinotSettings.cpp:320
+#: UI/GTK2/src/PinotSettings.cpp:1430 UI/GTK2/src/PinotSettings.cpp:1486
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:982
 msgid "My Web Pages"
 msgstr "??? web-????????"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:798
-#: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
-#: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
-#: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:741
+#: UI/GTK2/src/mainWindow.cc:953 UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:2233 UI/GTK2/src/PinotSettings.cpp:321
+#: UI/GTK2/src/PinotSettings.cpp:1431 UI/GTK2/src/PinotSettings.cpp:1487
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:992
 msgid "My Documents"
 msgstr "??? ?????????"
 
@@ -59,495 +59,494 @@
 msgid "Index location"
 msgstr "????????? ??????????????"
 
-#: UI/GTK2/src/indexDialog_glade.cc:65 UI/GTK2/src/queryDialog_glade.cc:68
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
 msgstr "???:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:66
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
 msgid "Type:"
 msgstr "???:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:66
 msgid "Location:"
 msgstr "??????????:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:72 UI/GTK2/src/prefsDialog_glade.cc:86
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
 msgid "Port:"
 msgstr "????:"
 
-#: UI/GTK2/src/indexDialog_glade.cc:79 UI/GTK2/src/prefsDialog_glade.cc:82
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
 msgstr ""
 
-#: UI/GTK2/src/indexDialog_glade.cc:183
+#: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
 msgstr "??????? ??????"
 
 #. Labels
-#: UI/GTK2/src/importDialog.cc:87 UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/importDialog.cc:86 UI/GTK2/src/queryDialog.cc:123
 msgid "None"
 msgstr "???"
 
-#: UI/GTK2/src/importDialog_glade.cc:68
-#: UI/GTK2/src/propertiesDialog_glade.cc:64
+#: UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
 msgid "Title:"
 msgstr "????????:"
 
-#: UI/GTK2/src/importDialog_glade.cc:71
+#: UI/GTK2/src/importDialog_glade.cc:70
 msgid "Apply label:"
 msgstr "????????? ?????:"
 
-#: UI/GTK2/src/importDialog_glade.cc:77
+#: UI/GTK2/src/importDialog_glade.cc:76
 msgid "Import"
 msgstr "??????"
 
-#: UI/GTK2/src/importDialog_glade.cc:148 UI/GTK2/src/mainWindow_glade.cc:216
+#: UI/GTK2/src/importDialog_glade.cc:147 UI/GTK2/src/mainWindow_glade.cc:215
 msgid "Import URL"
 msgstr "?????? URL"
 
-#: UI/GTK2/src/IndexPage.cpp:51
+#: UI/GTK2/src/IndexPage.cpp:50
 msgid "Show Previous"
 msgstr "???????? ??????????"
 
-#: UI/GTK2/src/IndexPage.cpp:57
+#: UI/GTK2/src/IndexPage.cpp:56
 msgid "Show Next"
 msgstr "???????? ?????????"
 
-#: UI/GTK2/src/IndexPage.cpp:189
+#: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
 msgstr ""
 
-#: UI/GTK2/src/launcherDialog_glade.cc:64
+#: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
 msgstr ""
 
-#: UI/GTK2/src/launcherDialog_glade.cc:67
+#: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
 msgstr ""
 
-#: UI/GTK2/src/launcherDialog_glade.cc:99
+#: UI/GTK2/src/launcherDialog_glade.cc:98
 msgid "Helper application"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:166
 msgid "Query Name"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:217
+#: UI/GTK2/src/mainWindow.cc:171
 msgid "Last Run"
 msgstr "????????? ?????????"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Summary"
 msgstr "??????"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:206
 msgid "Show all search engines"
 msgstr "??? ????????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:207
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:254
+#: UI/GTK2/src/mainWindow.cc:208
 #, fuzzy
 msgid "Add an index"
 msgstr "???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:255
+#: UI/GTK2/src/mainWindow.cc:209
 #, fuzzy
 msgid "Remove an index"
 msgstr "??????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:210
 #, fuzzy
 msgid "Add a query"
 msgstr "???????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:257
+#: UI/GTK2/src/mainWindow.cc:211
 #, fuzzy
 msgid "Remove a query"
 msgstr "???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:212
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:213
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:289
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Ready"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:349
+#: UI/GTK2/src/mainWindow.cc:292
 msgid "N/A"
 msgstr "N/A"
 
-#: UI/GTK2/src/mainWindow.cc:364
+#: UI/GTK2/src/mainWindow.cc:307
 #, fuzzy
 msgid "Undefined"
 msgstr "<??????????????>"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:587 UI/GTK2/src/mainWindow.cc:2675
+#: UI/GTK2/src/mainWindow.cc:530 UI/GTK2/src/mainWindow.cc:2617
 msgid "Live query"
 msgstr "???????? ??????"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:727
+#: UI/GTK2/src/mainWindow.cc:670
 msgid "Result location is"
 msgstr "??????? ?"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:809
+#: UI/GTK2/src/mainWindow.cc:752
 msgid "Document location is"
 msgstr "???????????? ?????????"
 
-#: UI/GTK2/src/mainWindow.cc:993 UI/GTK2/src/mainWindow.cc:2109
+#: UI/GTK2/src/mainWindow.cc:936 UI/GTK2/src/mainWindow.cc:2051
 msgid "Couldn't find query"
 msgstr "?????????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1008
+#: UI/GTK2/src/mainWindow.cc:950
 #, fuzzy
 msgid "In Results"
 msgstr "_?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1191
+#: UI/GTK2/src/mainWindow.cc:1133
 msgid "Showing"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:1196
+#: UI/GTK2/src/mainWindow.cc:1138
 msgid "of"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1201
+#: UI/GTK2/src/mainWindow.cc:1143
 msgid "documents, starting at"
 msgstr "??????????, ??????? ?"
 
-#: UI/GTK2/src/mainWindow.cc:1235
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "Query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1239 UI/GTK2/src/mainWindow.cc:3268
+#: UI/GTK2/src/mainWindow.cc:1181 UI/GTK2/src/mainWindow.cc:3210
 msgid "on"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1243
+#: UI/GTK2/src/mainWindow.cc:1185
 msgid "ended"
 msgstr "?????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1304
+#: UI/GTK2/src/mainWindow.cc:1246
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1393
+#: UI/GTK2/src/mainWindow.cc:1335
 msgid "More Like"
 msgstr "????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1435
+#: UI/GTK2/src/mainWindow.cc:1377
 msgid "Updated label(s)"
 msgstr "????????? ????? (??)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1519 UI/GTK2/src/mainWindow.cc:1613
+#: UI/GTK2/src/mainWindow.cc:1461 UI/GTK2/src/mainWindow.cc:1555
 msgid "Updated document"
 msgstr "??????????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1532
+#: UI/GTK2/src/mainWindow.cc:1474
 msgid "Indexed"
 msgstr "?????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1574
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "Unindexed document(s)"
 msgstr "?? ????????????? ??????????"
 
-#: UI/GTK2/src/mainWindow.cc:1671
+#: UI/GTK2/src/mainWindow.cc:1613
 msgid "Couldn't rename index, name"
 msgstr "?????????? ????????????? ??????, ????????"
 
-#: UI/GTK2/src/mainWindow.cc:1675 UI/GTK2/src/mainWindow.cc:2501
-#: UI/GTK2/src/mainWindow.cc:3072
+#: UI/GTK2/src/mainWindow.cc:1617 UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:3014
 msgid "is already in use"
 msgstr "??? ????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1630
 msgid "Couldn't rename index"
 msgstr "?????????? ????????????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:1701
+#: UI/GTK2/src/mainWindow.cc:1643
 msgid "Edited index"
 msgstr "?????????????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2029
+#: UI/GTK2/src/mainWindow.cc:1971
 #, fuzzy
 msgid "Export Results"
 msgstr "_?????????"
 
-#: UI/GTK2/src/mainWindow.cc:2304
+#: UI/GTK2/src/mainWindow.cc:2246
 msgid "Index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2308
+#: UI/GTK2/src/mainWindow.cc:2250
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2386
+#: UI/GTK2/src/mainWindow.cc:2328
 msgid "Remove this document from the index ?"
 msgstr "??????? ???????? ?? ??????? ?"
 
-#: UI/GTK2/src/mainWindow.cc:2405
+#: UI/GTK2/src/mainWindow.cc:2347
 msgid "Remove these documents from the index ?"
 msgstr "??????? ??? ????????? ?? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:2451
+#: UI/GTK2/src/mainWindow.cc:2393
 msgid "A metasearch tool for the Free Desktop"
 msgstr "?????????? ?????????? ??? ?????????? ????????"
 
-#: UI/GTK2/src/mainWindow.cc:2452
+#: UI/GTK2/src/mainWindow.cc:2394
 msgid "Search the Web and your documents !"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2497
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index name"
 msgstr "???????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:2512
+#: UI/GTK2/src/mainWindow.cc:2454
 msgid "Couldn't add index"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2528
+#: UI/GTK2/src/mainWindow.cc:2470
 msgid "Added new index"
 msgstr "???????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2563
+#: UI/GTK2/src/mainWindow.cc:2505
 msgid "Couldn't remove index"
 msgstr "?????????? ??????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2768
+#: UI/GTK2/src/mainWindow.cc:2710
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2826
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?? ??????? ???? ???? ?????? ??? ?? ?????????. ????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3068
+#: UI/GTK2/src/mainWindow.cc:3010
 msgid "Query name"
 msgstr "???????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3037
 msgid "Couldn't update query"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3103
+#: UI/GTK2/src/mainWindow.cc:3045
 msgid "Edited query"
 msgstr "?????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3110
+#: UI/GTK2/src/mainWindow.cc:3052
 msgid "Couldn't add query"
 msgstr "?????????? ???????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3118
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "Added new query"
 msgstr "???????? ????? ??????"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3099
 msgid "Query is not set"
 msgstr "?????? ?? ??????????"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3110
 msgid "No search engine selected"
 msgstr "?? ???? ????????? ??????? ?? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3255
+#: UI/GTK2/src/mainWindow.cc:3197
 msgid "Please set the Google API key first"
 msgstr "??????????, ??????? ????????????? ???? Google API"
 
-#: UI/GTK2/src/mainWindow.cc:3264
+#: UI/GTK2/src/mainWindow.cc:3206
 msgid "Running query"
 msgstr "?????? ???????"
 
-#: UI/GTK2/src/mainWindow.cc:3473
+#: UI/GTK2/src/mainWindow.cc:3415
 msgid "No default application defined for type"
 msgstr "?? ???? ?????????? ?? ????????? ?? ?????????? ??? ???? ??????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:127
+#: UI/GTK2/src/mainWindow_glade.cc:126
 msgid "Query:"
 msgstr "??????:"
 
-#: UI/GTK2/src/mainWindow_glade.cc:138 UI/GTK2/src/statisticsDialog.cc:88
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:87
 #, fuzzy
 msgid "History"
 msgstr "???????? ??????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:143
+#: UI/GTK2/src/mainWindow_glade.cc:142
 msgid "Stored queries"
 msgstr "??????????? ???????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:156 UI/GTK2/src/statisticsDialog.cc:51
-#: UI/GTK2/src/statisticsDialog_glade.cc:87
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow_glade.cc:176
 msgid "Search Engine"
 msgstr "????????? ??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow_glade.cc:179
 msgid "Host Name"
 msgstr "??? ?????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:183
+#: UI/GTK2/src/mainWindow_glade.cc:182
 msgid "Show Extract"
 msgstr "???????? ????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:186
+#: UI/GTK2/src/mainWindow_glade.cc:185
 msgid "Group By"
 msgstr "???????????? ??"
 
-#: UI/GTK2/src/mainWindow_glade.cc:192
+#: UI/GTK2/src/mainWindow_glade.cc:191
 msgid "Clear List"
 msgstr "???????? ??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:198
+#: UI/GTK2/src/mainWindow_glade.cc:197
 msgid "Vie_w"
 msgstr "_???"
 
-#: UI/GTK2/src/mainWindow_glade.cc:201
+#: UI/GTK2/src/mainWindow_glade.cc:200
 msgid "View Cache"
 msgstr "???????? ????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:204
+#: UI/GTK2/src/mainWindow_glade.cc:203
 msgid "More Like This"
 msgstr "????????? ?? ????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:207
+#: UI/GTK2/src/mainWindow_glade.cc:206
 #, fuzzy
 msgid "Search This For"
 msgstr "????????? ??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:210 UI/GTK2/src/mainWindow_glade.cc:246
+#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
 msgid "_Index"
 msgstr "_??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:213
+#: UI/GTK2/src/mainWindow_glade.cc:212
 msgid "List Contents Of"
 msgstr "?????? ???????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:222
+#: UI/GTK2/src/mainWindow_glade.cc:221
 msgid "View"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:228
+#: UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "????? ??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:231
-#: UI/GTK2/src/propertiesDialog_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:230
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
 msgid "Properties"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:234
+#: UI/GTK2/src/mainWindow_glade.cc:233
 msgid "_About"
 msgstr "? ?????????..."
 
-#: UI/GTK2/src/mainWindow_glade.cc:237
+#: UI/GTK2/src/mainWindow_glade.cc:236
 msgid "_Session"
 msgstr "_??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:240
+#: UI/GTK2/src/mainWindow_glade.cc:239
 msgid "_Edit"
 msgstr "_??????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:243
+#: UI/GTK2/src/mainWindow_glade.cc:242
 msgid "_Results"
 msgstr "_?????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:249
+#: UI/GTK2/src/mainWindow_glade.cc:248
 msgid "_Help"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:378
+#: UI/GTK2/src/mainWindow_glade.cc:377
 msgid "Pinot"
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:312
-#: UI/GTK2/src/propertiesDialog.cc:97
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:404
 msgid "Unknown"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:405
 msgid "Danish"
 msgstr "???????"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:406
 msgid "Dutch"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:407
 msgid "English"
 msgstr "??????????"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:408
 msgid "Finnish"
 msgstr "???????"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:409
 msgid "French"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:410
 msgid "German"
 msgstr "????????"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:411
 msgid "Hungarian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:412
 msgid "Italian"
 msgstr "???????????"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:413
 msgid "Norwegian"
 msgstr "??????????"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:414
 msgid "Portuguese"
 msgstr "?????????????"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:415
 msgid "Romanian"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:416
 msgid "Russian"
 msgstr "???????"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:417
 msgid "Spanish"
 msgstr "?????????"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:418
 msgid "Swedish"
 msgstr "????????"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:419
 msgid "Turkish"
 msgstr ""
 
@@ -565,23 +564,23 @@
 msgstr ""
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:317
+#: UI/GTK2/src/PinotSettings.cpp:326
 msgid "Important"
 msgstr "?????"
 
-#: UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/PinotSettings.cpp:327
 msgid "New"
 msgstr "???????"
 
-#: UI/GTK2/src/PinotSettings.cpp:319
+#: UI/GTK2/src/PinotSettings.cpp:328
 msgid "Personal"
 msgstr "??????"
 
-#: UI/GTK2/src/PinotSettings.cpp:358
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1233
+#: UI/GTK2/src/PinotSettings.cpp:1242
 msgid "Unclassified"
 msgstr "??????????????"
 
@@ -617,107 +616,107 @@
 msgid "Directory to index"
 msgstr "????? ??? ??????????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:66
+#: UI/GTK2/src/prefsDialog_glade.cc:65
 msgid "Google API key:"
 msgstr "???? Google API:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
+#: UI/GTK2/src/prefsDialog_glade.cc:68
 msgid "New results:"
 msgstr "????? ??????????:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
+#: UI/GTK2/src/prefsDialog_glade.cc:69
 msgid "Queries:"
 msgstr "???????:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:71
+#: UI/GTK2/src/prefsDialog_glade.cc:70
 msgid "Enable search terms suggestion"
 msgstr "????????? ?????? ???????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
+#: UI/GTK2/src/prefsDialog_glade.cc:72
 msgid "Ignore robots.txt and Robots META tag"
 msgstr "???????????? robots.txt ? Robots META ???"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:74
+#: UI/GTK2/src/prefsDialog_glade.cc:73
 msgid "HTTP crawling:"
 msgstr "HTTP ????????????:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:77
+#: UI/GTK2/src/prefsDialog_glade.cc:76
 msgid "General"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:80
+#: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
+#: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:94
+#: UI/GTK2/src/prefsDialog_glade.cc:93
 msgid "Labels are used to classify indexed documents:"
 msgstr "?????, ???????????? ??? ????????????? ??????????, ????????????? :"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:99 UI/GTK2/src/prefsDialog_glade.cc:119
-#: UI/GTK2/src/prefsDialog_glade.cc:135
+#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
+#: UI/GTK2/src/prefsDialog_glade.cc:134
 msgid "Add"
 msgstr "????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:105
+#: UI/GTK2/src/prefsDialog_glade.cc:104
 msgid "Remove"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113 UI/GTK2/src/propertiesDialog.cc:56
+#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
 msgid "Labels"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:114
+#: UI/GTK2/src/prefsDialog_glade.cc:113
 msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr ""
 "??? ???????? ????? ??????????????? ? ????????????? ??? ???????? ?????????:"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:127
+#: UI/GTK2/src/prefsDialog_glade.cc:126
 #, fuzzy
 msgid "File patterns:"
 msgstr "?????????? ?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
+#: UI/GTK2/src/prefsDialog_glade.cc:143
 msgid "Indexing"
 msgstr "??????????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:507
+#: UI/GTK2/src/prefsDialog_glade.cc:506
 msgid "Preferences"
 msgstr "?????????"
 
-#: UI/GTK2/src/propertiesDialog.cc:110
+#: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "??? ?????????? ?????????"
 
-#: UI/GTK2/src/propertiesDialog.cc:368
+#: UI/GTK2/src/propertiesDialog.cc:365
 #, fuzzy
 msgid "Export Terms"
 msgstr "_?????????"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:65
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
 msgstr "????:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
 msgid "MIME type:"
 msgstr "??? MIME:"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
 msgid "Size:"
 msgstr ""
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:68
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
 msgstr ""
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:78
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
 msgstr ""
 
@@ -734,12 +733,12 @@
 msgstr "?????????? ?????"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:133
+#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "????????"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:143
+#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "URL"
 
@@ -760,7 +759,7 @@
 msgstr "?????"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:151
+#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:150
 #, fuzzy
 msgid "Date"
 msgstr "?"
@@ -784,171 +783,175 @@
 msgid "By date"
 msgstr "????????"
 
-#: UI/GTK2/src/queryDialog_glade.cc:72
+#: UI/GTK2/src/queryDialog_glade.cc:71
 #, fuzzy
 msgid "New filter or range:"
 msgstr "????? ??????:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:81
+#: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
 msgstr "????? ???????"
 
-#: UI/GTK2/src/queryDialog_glade.cc:83
+#: UI/GTK2/src/queryDialog_glade.cc:82
 #, fuzzy
 msgid "Index results with label"
 msgstr "????????????? ??? ?????????? ? ??????"
 
-#: UI/GTK2/src/queryDialog_glade.cc:86
+#: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
 msgstr "?????????? ???????????:"
 
-#: UI/GTK2/src/queryDialog_glade.cc:90
+#: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:192
+#: UI/GTK2/src/queryDialog_glade.cc:191
 msgid "Query parameters"
 msgstr "????????? ???????"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:122
+#: UI/GTK2/src/ResultsTree.cpp:121
 msgid "Score"
 msgstr "????"
 
-#: UI/GTK2/src/ResultsTree.cpp:180
+#: UI/GTK2/src/ResultsTree.cpp:179
 msgid "Extract"
 msgstr "??????????"
 
-#: UI/GTK2/src/statisticsDialog.cc:73
+#: UI/GTK2/src/statisticsDialog.cc:72
 #, fuzzy
 msgid "Indexes"
 msgstr "?????????????"
 
-#: UI/GTK2/src/statisticsDialog.cc:93
+#: UI/GTK2/src/statisticsDialog.cc:92
 msgid "Daemon"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:128 UI/GTK2/src/statisticsDialog.cc:144
+#: UI/GTK2/src/statisticsDialog.cc:127 UI/GTK2/src/statisticsDialog.cc:143
 #, fuzzy
 msgid "documents"
 msgstr "??? ?????????"
 
-#: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:128
+#: UI/GTK2/src/statisticsDialog.cc:133 UI/GTK2/src/statisticsDialog.cc:149
+#: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 #, fuzzy
 msgid "Viewed"
 msgstr "???"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 #, fuzzy
 msgid "results"
 msgstr "_?????????"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:174
+#: UI/GTK2/src/statisticsDialog.cc:173
 #, fuzzy
 msgid "Running under PID"
 msgstr "?????? ???????"
 
-#: UI/GTK2/src/statisticsDialog.cc:178
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Currently not running"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "Crawled"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "files"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:206
+#: UI/GTK2/src/statisticsDialog.cc:205
 msgid "Errors"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:91
 #, fuzzy
 msgid "Index error"
 msgstr "?????? ??????? ??"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:93
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "?????????? ??????????????? ????????(?)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Couldn't update document"
 msgstr "?????????? ???????? ????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't unindex document(s)"
 msgstr "?????????? ??????????????? ????????(?)"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't run query on search engine"
 msgstr "?? ??????? ????????? ?????? ? ????????? ???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:101
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "?? ??????? ????????? ?????? ? ????????? ???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:103
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "?????????? ???????? ????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "?????????? ??????? ??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:109
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't create search engine"
 msgstr "?? ??????? ??????? ????????? ???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Cannot index document type"
 msgstr "?????????? ????????????? ?????? ??? ??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:115
 #, fuzzy
 msgid "No downloader for this protocol"
 msgstr "?? ??????? ???????? ????????? ??? ?????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Robots META tag forbids indexing"
 msgstr "META-???? ??????? ????????? ??????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:123
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:393
+#: UI/GTK2/src/WorkerThreads.cpp:391
+msgid "Indexing was stopped"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:404
 msgid "Can't index mail here"
 msgstr "?????? ????????????? ????? ?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
+#: UI/GTK2/src/WorkerThreads.cpp:425 UI/GTK2/src/WorkerThreads.cpp:676
 msgid "is already being indexed"
 msgstr "??? ??????????????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:424
+#: UI/GTK2/src/WorkerThreads.cpp:435
 msgid "is blacklisted"
 msgstr "??????????? ? ?????? ??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:937
+#: UI/GTK2/src/WorkerThreads.cpp:945
 msgid "No title"
 msgstr "??? ????????"

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/po/sv.po	2007-11-23 15:36:49 UTC (rev 1123)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot\n"
+"Project-Id-Version: pinot 0.81\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-11-06 22:04+0800\n"
+"POT-Creation-Date: 2007-11-22 19:39+0800\n"
 "PO-Revision-Date: 2007-10-27 14:02+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
@@ -28,22 +28,22 @@
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:794
-#: UI/GTK2/src/mainWindow.cc:1015 UI/GTK2/src/mainWindow.cc:1352
-#: UI/GTK2/src/mainWindow.cc:1507 UI/GTK2/src/mainWindow.cc:1549
-#: UI/GTK2/src/mainWindow.cc:1571 UI/GTK2/src/mainWindow.cc:2175
-#: UI/GTK2/src/mainWindow.cc:2285 UI/GTK2/src/PinotSettings.cpp:311
-#: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:976
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:738
+#: UI/GTK2/src/mainWindow.cc:959 UI/GTK2/src/mainWindow.cc:1296
+#: UI/GTK2/src/mainWindow.cc:1451 UI/GTK2/src/mainWindow.cc:1493
+#: UI/GTK2/src/mainWindow.cc:1515 UI/GTK2/src/mainWindow.cc:2119
+#: UI/GTK2/src/mainWindow.cc:2229 UI/GTK2/src/PinotSettings.cpp:320
+#: UI/GTK2/src/PinotSettings.cpp:1430 UI/GTK2/src/PinotSettings.cpp:1486
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:982
 msgid "My Web Pages"
 msgstr "Mina webbsidor"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:797
-#: UI/GTK2/src/mainWindow.cc:1009 UI/GTK2/src/mainWindow.cc:1359
-#: UI/GTK2/src/mainWindow.cc:2289 UI/GTK2/src/PinotSettings.cpp:312
-#: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:986
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:741
+#: UI/GTK2/src/mainWindow.cc:953 UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:2233 UI/GTK2/src/PinotSettings.cpp:321
+#: UI/GTK2/src/PinotSettings.cpp:1431 UI/GTK2/src/PinotSettings.cpp:1487
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:992
 msgid "My Documents"
 msgstr "Mina dokument"
 
@@ -137,242 +137,242 @@
 msgid "Helper application"
 msgstr "Hj?lpprogram"
 
-#: UI/GTK2/src/mainWindow.cc:211
+#: UI/GTK2/src/mainWindow.cc:166
 msgid "Query Name"
 msgstr "Fr?genamn"
 
-#: UI/GTK2/src/mainWindow.cc:216
+#: UI/GTK2/src/mainWindow.cc:171
 msgid "Last Run"
 msgstr "Senaste k?rning"
 
-#: UI/GTK2/src/mainWindow.cc:221
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Summary"
 msgstr "Sammandrag"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:251
+#: UI/GTK2/src/mainWindow.cc:206
 msgid "Show all search engines"
 msgstr "Visa alla s?kmotorer"
 
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:207
 msgid "Find documents that match the query string"
 msgstr "S?k dokument som matchar fr?gestr?ngen"
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:208
 msgid "Add an index"
 msgstr "L?gg till ett index"
 
-#: UI/GTK2/src/mainWindow.cc:254
+#: UI/GTK2/src/mainWindow.cc:209
 msgid "Remove an index"
 msgstr "Ta bort ett index"
 
-#: UI/GTK2/src/mainWindow.cc:255
+#: UI/GTK2/src/mainWindow.cc:210
 msgid "Add a query"
 msgstr "L?gg till en ny fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:211
 msgid "Remove a query"
 msgstr "Ta bort en fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:257
+#: UI/GTK2/src/mainWindow.cc:212
 msgid "Show the query's previous results"
 msgstr "Visa fr?gans tidigare resultat"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:213
 msgid "Find documents that match the query"
 msgstr "S?k dokument som matchar fr?gan"
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:288
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Ready"
 msgstr "Redo"
 
-#: UI/GTK2/src/mainWindow.cc:348
+#: UI/GTK2/src/mainWindow.cc:292
 msgid "N/A"
 msgstr "-"
 
-#: UI/GTK2/src/mainWindow.cc:363
+#: UI/GTK2/src/mainWindow.cc:307
 msgid "Undefined"
 msgstr "Odefinierad"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:586 UI/GTK2/src/mainWindow.cc:2673
+#: UI/GTK2/src/mainWindow.cc:530 UI/GTK2/src/mainWindow.cc:2617
 msgid "Live query"
 msgstr "Levande fr?ga"
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:726
+#: UI/GTK2/src/mainWindow.cc:670
 msgid "Result location is"
 msgstr "Resultatplatsen ?r"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:808
+#: UI/GTK2/src/mainWindow.cc:752
 msgid "Document location is"
 msgstr "Dokumentplatsen ?r"
 
-#: UI/GTK2/src/mainWindow.cc:992 UI/GTK2/src/mainWindow.cc:2107
+#: UI/GTK2/src/mainWindow.cc:936 UI/GTK2/src/mainWindow.cc:2051
 msgid "Couldn't find query"
 msgstr "Kunde inte hitta fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:1006
+#: UI/GTK2/src/mainWindow.cc:950
 msgid "In Results"
 msgstr "I resultat"
 
-#: UI/GTK2/src/mainWindow.cc:1189
+#: UI/GTK2/src/mainWindow.cc:1133
 msgid "Showing"
 msgstr "Visar"
 
-#: UI/GTK2/src/mainWindow.cc:1194
+#: UI/GTK2/src/mainWindow.cc:1138
 msgid "of"
 msgstr "av"
 
-#: UI/GTK2/src/mainWindow.cc:1199
+#: UI/GTK2/src/mainWindow.cc:1143
 msgid "documents, starting at"
 msgstr "dokument, b?rjar med"
 
-#: UI/GTK2/src/mainWindow.cc:1233
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "Query"
 msgstr "Fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:1237 UI/GTK2/src/mainWindow.cc:3266
+#: UI/GTK2/src/mainWindow.cc:1181 UI/GTK2/src/mainWindow.cc:3210
 msgid "on"
 msgstr "p?"
 
-#: UI/GTK2/src/mainWindow.cc:1241
+#: UI/GTK2/src/mainWindow.cc:1185
 msgid "ended"
 msgstr "slutade"
 
-#: UI/GTK2/src/mainWindow.cc:1302
+#: UI/GTK2/src/mainWindow.cc:1246
 msgid "Corrected"
 msgstr "R?ttad"
 
-#: UI/GTK2/src/mainWindow.cc:1391
+#: UI/GTK2/src/mainWindow.cc:1335
 msgid "More Like"
 msgstr "Kanske mer som"
 
-#: UI/GTK2/src/mainWindow.cc:1433
+#: UI/GTK2/src/mainWindow.cc:1377
 msgid "Updated label(s)"
 msgstr "Uppdaterade etikett(er)"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1517 UI/GTK2/src/mainWindow.cc:1611
+#: UI/GTK2/src/mainWindow.cc:1461 UI/GTK2/src/mainWindow.cc:1555
 msgid "Updated document"
 msgstr "Uppdaterade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1530
+#: UI/GTK2/src/mainWindow.cc:1474
 msgid "Indexed"
 msgstr "Indexerade"
 
-#: UI/GTK2/src/mainWindow.cc:1572
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "Unindexed document(s)"
 msgstr "Ej indexerade dokument"
 
-#: UI/GTK2/src/mainWindow.cc:1669
+#: UI/GTK2/src/mainWindow.cc:1613
 msgid "Couldn't rename index, name"
 msgstr "Kunde inte byta namn p? index, namn"
 
-#: UI/GTK2/src/mainWindow.cc:1673 UI/GTK2/src/mainWindow.cc:2499
-#: UI/GTK2/src/mainWindow.cc:3070
+#: UI/GTK2/src/mainWindow.cc:1617 UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:3014
 msgid "is already in use"
 msgstr "anv?nds redan"
 
-#: UI/GTK2/src/mainWindow.cc:1686
+#: UI/GTK2/src/mainWindow.cc:1630
 msgid "Couldn't rename index"
 msgstr "Kunde inte byta namn p? index"
 
-#: UI/GTK2/src/mainWindow.cc:1699
+#: UI/GTK2/src/mainWindow.cc:1643
 msgid "Edited index"
 msgstr "Redigerade index"
 
-#: UI/GTK2/src/mainWindow.cc:2027
+#: UI/GTK2/src/mainWindow.cc:1971
 msgid "Export Results"
 msgstr "Exportresultat"
 
-#: UI/GTK2/src/mainWindow.cc:2302
+#: UI/GTK2/src/mainWindow.cc:2246
 msgid "Index"
 msgstr "Index"
 
-#: UI/GTK2/src/mainWindow.cc:2306
+#: UI/GTK2/src/mainWindow.cc:2250
 msgid "doesn't exist"
 msgstr "finns inte"
 
-#: UI/GTK2/src/mainWindow.cc:2384
+#: UI/GTK2/src/mainWindow.cc:2328
 msgid "Remove this document from the index ?"
 msgstr "Ta bort detta dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2403
+#: UI/GTK2/src/mainWindow.cc:2347
 msgid "Remove these documents from the index ?"
 msgstr "Ta bort dessa dokument fr?n indexet?"
 
-#: UI/GTK2/src/mainWindow.cc:2449
+#: UI/GTK2/src/mainWindow.cc:2393
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Ett metas?kningsverktyg f?r Free Desktop"
 
-#: UI/GTK2/src/mainWindow.cc:2450
+#: UI/GTK2/src/mainWindow.cc:2394
 msgid "Search the Web and your documents !"
 msgstr "S?k p? webben och i dina dokument!"
 
-#: UI/GTK2/src/mainWindow.cc:2495
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index name"
 msgstr "Indexnamn"
 
-#: UI/GTK2/src/mainWindow.cc:2510
+#: UI/GTK2/src/mainWindow.cc:2454
 msgid "Couldn't add index"
 msgstr "Kunde inte l?gga till index"
 
-#: UI/GTK2/src/mainWindow.cc:2526
+#: UI/GTK2/src/mainWindow.cc:2470
 msgid "Added new index"
 msgstr "Lade till nytt index"
 
-#: UI/GTK2/src/mainWindow.cc:2561
+#: UI/GTK2/src/mainWindow.cc:2505
 msgid "Couldn't remove index"
 msgstr "Kunde inte ta bort index"
 
-#: UI/GTK2/src/mainWindow.cc:2766
+#: UI/GTK2/src/mainWindow.cc:2710
 msgid "No history for"
 msgstr "Ingen historik f?r"
 
-#: UI/GTK2/src/mainWindow.cc:2882
+#: UI/GTK2/src/mainWindow.cc:2826
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "?tminstone en uppgift har inte f?rdigst?llts ?n. Avsluta nu?"
 
-#: UI/GTK2/src/mainWindow.cc:3066
+#: UI/GTK2/src/mainWindow.cc:3010
 msgid "Query name"
 msgstr "Fr?genamn"
 
-#: UI/GTK2/src/mainWindow.cc:3093
+#: UI/GTK2/src/mainWindow.cc:3037
 msgid "Couldn't update query"
 msgstr "Kunde inte uppdatera fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3101
+#: UI/GTK2/src/mainWindow.cc:3045
 msgid "Edited query"
 msgstr "Redigerade fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3108
+#: UI/GTK2/src/mainWindow.cc:3052
 msgid "Couldn't add query"
 msgstr "Kunde inte l?gga till fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3116
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "Added new query"
 msgstr "Lade till ny fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3155
+#: UI/GTK2/src/mainWindow.cc:3099
 msgid "Query is not set"
 msgstr "Fr?gan ?r inte inst?lld"
 
-#: UI/GTK2/src/mainWindow.cc:3166
+#: UI/GTK2/src/mainWindow.cc:3110
 msgid "No search engine selected"
 msgstr "Ingen s?kmotor vald"
 
-#: UI/GTK2/src/mainWindow.cc:3253
+#: UI/GTK2/src/mainWindow.cc:3197
 msgid "Please set the Google API key first"
 msgstr "St?ll in Google API-nyckeln f?rst"
 
-#: UI/GTK2/src/mainWindow.cc:3262
+#: UI/GTK2/src/mainWindow.cc:3206
 msgid "Running query"
 msgstr "K?r fr?ga"
 
-#: UI/GTK2/src/mainWindow.cc:3471
+#: UI/GTK2/src/mainWindow.cc:3415
 msgid "No default application defined for type"
 msgstr "Inget standardprogram definierat f?r typen"
 
@@ -479,67 +479,67 @@
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:404
 msgid "Unknown"
 msgstr "Ok?nd"
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:405
 msgid "Danish"
 msgstr "Danska"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:406
 msgid "Dutch"
 msgstr "Nederl?ndska"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:407
 msgid "English"
 msgstr "Engelska"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:408
 msgid "Finnish"
 msgstr "Finska"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:409
 msgid "French"
 msgstr "Franska"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:410
 msgid "German"
 msgstr "Tyska"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:411
 msgid "Hungarian"
 msgstr "Ungerska"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:412
 msgid "Italian"
 msgstr "Italienska"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:413
 msgid "Norwegian"
 msgstr "Norska"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:414
 msgid "Portuguese"
 msgstr "Portugisiska"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:415
 msgid "Romanian"
 msgstr "Rum?nska"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:416
 msgid "Russian"
 msgstr "Ryska"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:417
 msgid "Spanish"
 msgstr "Spanska"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:418
 msgid "Swedish"
 msgstr "Svenska"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:328
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:419
 msgid "Turkish"
 msgstr "Turkiska"
 
@@ -557,23 +557,23 @@
 msgstr "Uppdatering av alla dokument i Mina webbsidor rekommenderas"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:317
+#: UI/GTK2/src/PinotSettings.cpp:326
 msgid "Important"
 msgstr "Viktigt"
 
-#: UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/PinotSettings.cpp:327
 msgid "New"
 msgstr "Ny"
 
-#: UI/GTK2/src/PinotSettings.cpp:319
+#: UI/GTK2/src/PinotSettings.cpp:328
 msgid "Personal"
 msgstr "Personlig"
 
-#: UI/GTK2/src/PinotSettings.cpp:358
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Me"
 msgstr "Jag"
 
-#: UI/GTK2/src/PinotSettings.cpp:1233
+#: UI/GTK2/src/PinotSettings.cpp:1242
 msgid "Unclassified"
 msgstr "Oklassificerad"
 
@@ -911,22 +911,22 @@
 msgid "No monitoring handler"
 msgstr "Ingen ?vervakningshanterare"
 
-#: UI/GTK2/src/WorkerThreads.cpp:385
+#: UI/GTK2/src/WorkerThreads.cpp:391
 msgid "Indexing was stopped"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:398
+#: UI/GTK2/src/WorkerThreads.cpp:404
 msgid "Can't index mail here"
 msgstr "Kan inte indexera post h?r"
 
-#: UI/GTK2/src/WorkerThreads.cpp:419 UI/GTK2/src/WorkerThreads.cpp:670
+#: UI/GTK2/src/WorkerThreads.cpp:425 UI/GTK2/src/WorkerThreads.cpp:676
 msgid "is already being indexed"
 msgstr "h?ller redan p? att bli indexerad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:429
+#: UI/GTK2/src/WorkerThreads.cpp:435
 msgid "is blacklisted"
 msgstr "?r svartlistad"
 
-#: UI/GTK2/src/WorkerThreads.cpp:939
+#: UI/GTK2/src/WorkerThreads.cpp:945
 msgid "No title"
 msgstr "Ingen titel"

Modified: trunk/po/zh_TW.po
===================================================================
--- trunk/po/zh_TW.po	2007-11-23 13:43:29 UTC (rev 1122)
+++ trunk/po/zh_TW.po	2007-11-23 15:36:49 UTC (rev 1123)
@@ -5,9 +5,9 @@
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: pinot 0.80\n"
+"Project-Id-Version: pinot 0.81\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-10-28 22:51+0800\n"
+"POT-Creation-Date: 2007-11-22 19:39+0800\n"
 "PO-Revision-Date: 2007-08-17 15:54+0000\n"
 "Last-Translator: Yung-chung Lin <henearkrxern at gmail.com>\n"
 "Language-Team: Traditional Chinese <zh_TW at li.org>\n"
@@ -17,33 +17,33 @@
 "X-Launchpad-Export-Date: 2007-09-23 13:58+0000\n"
 "X-Generator: Launchpad (build Unknown)\n"
 
-#: UI/GTK2/src/EnginesTree.cpp:68
+#: UI/GTK2/src/EnginesTree.cpp:67
 msgid "Search Engines"
 msgstr "????"
 
-#: UI/GTK2/src/EnginesTree.cpp:326
+#: UI/GTK2/src/EnginesTree.cpp:325
 msgid "Current User"
 msgstr "??????"
 
 #. Enable these menu items unless it is not the documents index
 #. Allow this only for internal indexes
 #. Internal indices
-#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:795
-#: UI/GTK2/src/mainWindow.cc:1017 UI/GTK2/src/mainWindow.cc:1354
-#: UI/GTK2/src/mainWindow.cc:1509 UI/GTK2/src/mainWindow.cc:1551
-#: UI/GTK2/src/mainWindow.cc:1573 UI/GTK2/src/mainWindow.cc:2177
-#: UI/GTK2/src/mainWindow.cc:2287 UI/GTK2/src/PinotSettings.cpp:311
-#: UI/GTK2/src/PinotSettings.cpp:1421 UI/GTK2/src/PinotSettings.cpp:1477
-#: UI/GTK2/src/statisticsDialog.cc:78 UI/GTK2/src/WorkerThreads.cpp:974
+#: UI/GTK2/src/EnginesTree.cpp:336 UI/GTK2/src/mainWindow.cc:738
+#: UI/GTK2/src/mainWindow.cc:959 UI/GTK2/src/mainWindow.cc:1296
+#: UI/GTK2/src/mainWindow.cc:1451 UI/GTK2/src/mainWindow.cc:1493
+#: UI/GTK2/src/mainWindow.cc:1515 UI/GTK2/src/mainWindow.cc:2119
+#: UI/GTK2/src/mainWindow.cc:2229 UI/GTK2/src/PinotSettings.cpp:320
+#: UI/GTK2/src/PinotSettings.cpp:1430 UI/GTK2/src/PinotSettings.cpp:1486
+#: UI/GTK2/src/statisticsDialog.cc:77 UI/GTK2/src/WorkerThreads.cpp:982
 msgid "My Web Pages"
 msgstr "????"
 
 #. Spawn new threads
-#: UI/GTK2/src/EnginesTree.cpp:338 UI/GTK2/src/mainWindow.cc:798
-#: UI/GTK2/src/mainWindow.cc:1011 UI/GTK2/src/mainWindow.cc:1361
-#: UI/GTK2/src/mainWindow.cc:2291 UI/GTK2/src/PinotSettings.cpp:312
-#: UI/GTK2/src/PinotSettings.cpp:1422 UI/GTK2/src/PinotSettings.cpp:1478
-#: UI/GTK2/src/statisticsDialog.cc:83 UI/GTK2/src/WorkerThreads.cpp:984
+#: UI/GTK2/src/EnginesTree.cpp:337 UI/GTK2/src/mainWindow.cc:741
+#: UI/GTK2/src/mainWindow.cc:953 UI/GTK2/src/mainWindow.cc:1303
+#: UI/GTK2/src/mainWindow.cc:2233 UI/GTK2/src/PinotSettings.cpp:321
+#: UI/GTK2/src/PinotSettings.cpp:1431 UI/GTK2/src/PinotSettings.cpp:1487
+#: UI/GTK2/src/statisticsDialog.cc:82 UI/GTK2/src/WorkerThreads.cpp:992
 msgid "My Documents"
 msgstr "????"
 
@@ -59,493 +59,492 @@
 msgid "Index location"
 msgstr "????"
 
-#: UI/GTK2/src/indexDialog_glade.cc:65 UI/GTK2/src/queryDialog_glade.cc:68
+#: UI/GTK2/src/indexDialog_glade.cc:64 UI/GTK2/src/queryDialog_glade.cc:67
 msgid "Name:"
 msgstr "??"
 
-#: UI/GTK2/src/indexDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:66
 msgid "..."
 msgstr "..."
 
-#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/prefsDialog_glade.cc:85
+#: UI/GTK2/src/indexDialog_glade.cc:69 UI/GTK2/src/prefsDialog_glade.cc:84
 msgid "Type:"
 msgstr "???"
 
-#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/indexDialog_glade.cc:70 UI/GTK2/src/importDialog_glade.cc:66
 msgid "Location:"
 msgstr "???"
 
-#: UI/GTK2/src/indexDialog_glade.cc:72 UI/GTK2/src/prefsDialog_glade.cc:86
+#: UI/GTK2/src/indexDialog_glade.cc:71 UI/GTK2/src/prefsDialog_glade.cc:85
 msgid "Port:"
 msgstr "????"
 
-#: UI/GTK2/src/indexDialog_glade.cc:79 UI/GTK2/src/prefsDialog_glade.cc:82
+#: UI/GTK2/src/indexDialog_glade.cc:78 UI/GTK2/src/prefsDialog_glade.cc:81
 msgid "Address:"
 msgstr "???"
 
-#: UI/GTK2/src/indexDialog_glade.cc:183
+#: UI/GTK2/src/indexDialog_glade.cc:182
 msgid "External index"
 msgstr "????"
 
 #. Labels
-#: UI/GTK2/src/importDialog.cc:87 UI/GTK2/src/queryDialog.cc:123
+#: UI/GTK2/src/importDialog.cc:86 UI/GTK2/src/queryDialog.cc:123
 msgid "None"
 msgstr "?"
 
-#: UI/GTK2/src/importDialog_glade.cc:68
-#: UI/GTK2/src/propertiesDialog_glade.cc:64
+#: UI/GTK2/src/importDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:63
 msgid "Title:"
 msgstr "?? :"
 
-#: UI/GTK2/src/importDialog_glade.cc:71
+#: UI/GTK2/src/importDialog_glade.cc:70
 msgid "Apply label:"
 msgstr "????"
 
-#: UI/GTK2/src/importDialog_glade.cc:77
+#: UI/GTK2/src/importDialog_glade.cc:76
 msgid "Import"
 msgstr "??"
 
-#: UI/GTK2/src/importDialog_glade.cc:148 UI/GTK2/src/mainWindow_glade.cc:216
+#: UI/GTK2/src/importDialog_glade.cc:147 UI/GTK2/src/mainWindow_glade.cc:215
 msgid "Import URL"
 msgstr "??URL"
 
-#: UI/GTK2/src/IndexPage.cpp:51
+#: UI/GTK2/src/IndexPage.cpp:50
 msgid "Show Previous"
 msgstr "???????"
 
-#: UI/GTK2/src/IndexPage.cpp:57
+#: UI/GTK2/src/IndexPage.cpp:56
 msgid "Show Next"
 msgstr "???????"
 
-#: UI/GTK2/src/IndexPage.cpp:189
+#: UI/GTK2/src/IndexPage.cpp:188
 msgid "All"
 msgstr "???"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:64
+#: UI/GTK2/src/launcherDialog_glade.cc:63
 msgid ""
 "There is no helper application defined for this document's type.\n"
 "Please enter the command to open this document."
 msgstr "???????????????????????????"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:67
+#: UI/GTK2/src/launcherDialog_glade.cc:66
 msgid "Use this command for other documents of the same type."
 msgstr "????????????????"
 
-#: UI/GTK2/src/launcherDialog_glade.cc:99
+#: UI/GTK2/src/launcherDialog_glade.cc:98
 msgid "Helper application"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:212
+#: UI/GTK2/src/mainWindow.cc:166
 msgid "Query Name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:217
+#: UI/GTK2/src/mainWindow.cc:171
 msgid "Last Run"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:222
+#: UI/GTK2/src/mainWindow.cc:176
 msgid "Summary"
 msgstr "??"
 
 #. Set tooltips
-#: UI/GTK2/src/mainWindow.cc:252
+#: UI/GTK2/src/mainWindow.cc:206
 msgid "Show all search engines"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:253
+#: UI/GTK2/src/mainWindow.cc:207
 msgid "Find documents that match the query string"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:254
+#: UI/GTK2/src/mainWindow.cc:208
 #, fuzzy
 msgid "Add an index"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:255
+#: UI/GTK2/src/mainWindow.cc:209
 #, fuzzy
 msgid "Remove an index"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:256
+#: UI/GTK2/src/mainWindow.cc:210
 #, fuzzy
 msgid "Add a query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:257
+#: UI/GTK2/src/mainWindow.cc:211
 #, fuzzy
 msgid "Remove a query"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:258
+#: UI/GTK2/src/mainWindow.cc:212
 msgid "Show the query's previous results"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:259
+#: UI/GTK2/src/mainWindow.cc:213
 msgid "Find documents that match the query"
 msgstr ""
 
 #. Now we are ready
-#: UI/GTK2/src/mainWindow.cc:289
+#: UI/GTK2/src/mainWindow.cc:232
 msgid "Ready"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:349
+#: UI/GTK2/src/mainWindow.cc:292
 msgid "N/A"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:364
+#: UI/GTK2/src/mainWindow.cc:307
 msgid "Undefined"
 msgstr "???"
 
 #. Find this query
-#: UI/GTK2/src/mainWindow.cc:587 UI/GTK2/src/mainWindow.cc:2675
+#: UI/GTK2/src/mainWindow.cc:530 UI/GTK2/src/mainWindow.cc:2617
 msgid "Live query"
 msgstr ""
 
 #. Show the URL of the first result in the status bar
-#: UI/GTK2/src/mainWindow.cc:727
+#: UI/GTK2/src/mainWindow.cc:670
 msgid "Result location is"
 msgstr "??????"
 
 #. Show the URL in the status bar
-#: UI/GTK2/src/mainWindow.cc:809
+#: UI/GTK2/src/mainWindow.cc:752
 msgid "Document location is"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:993 UI/GTK2/src/mainWindow.cc:2109
+#: UI/GTK2/src/mainWindow.cc:936 UI/GTK2/src/mainWindow.cc:2051
 msgid "Couldn't find query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:1008
+#: UI/GTK2/src/mainWindow.cc:950
 #, fuzzy
 msgid "In Results"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1191
+#: UI/GTK2/src/mainWindow.cc:1133
 msgid "Showing"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1196
+#: UI/GTK2/src/mainWindow.cc:1138
 msgid "of"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1201
+#: UI/GTK2/src/mainWindow.cc:1143
 msgid "documents, starting at"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1235
+#: UI/GTK2/src/mainWindow.cc:1177
 msgid "Query"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1239 UI/GTK2/src/mainWindow.cc:3268
+#: UI/GTK2/src/mainWindow.cc:1181 UI/GTK2/src/mainWindow.cc:3210
 msgid "on"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1243
+#: UI/GTK2/src/mainWindow.cc:1185
 msgid "ended"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:1304
+#: UI/GTK2/src/mainWindow.cc:1246
 msgid "Corrected"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:1393
+#: UI/GTK2/src/mainWindow.cc:1335
 msgid "More Like"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:1435
+#: UI/GTK2/src/mainWindow.cc:1377
 msgid "Updated label(s)"
 msgstr "?????"
 
 #. Yes, it did
-#: UI/GTK2/src/mainWindow.cc:1519 UI/GTK2/src/mainWindow.cc:1613
+#: UI/GTK2/src/mainWindow.cc:1461 UI/GTK2/src/mainWindow.cc:1555
 msgid "Updated document"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:1532
+#: UI/GTK2/src/mainWindow.cc:1474
 msgid "Indexed"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:1574
+#: UI/GTK2/src/mainWindow.cc:1516
 msgid "Unindexed document(s)"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1671
+#: UI/GTK2/src/mainWindow.cc:1613
 msgid "Couldn't rename index, name"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:1675 UI/GTK2/src/mainWindow.cc:2501
-#: UI/GTK2/src/mainWindow.cc:3072
+#: UI/GTK2/src/mainWindow.cc:1617 UI/GTK2/src/mainWindow.cc:2443
+#: UI/GTK2/src/mainWindow.cc:3014
 msgid "is already in use"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:1688
+#: UI/GTK2/src/mainWindow.cc:1630
 msgid "Couldn't rename index"
 msgstr "?????????"
 
-#: UI/GTK2/src/mainWindow.cc:1701
+#: UI/GTK2/src/mainWindow.cc:1643
 msgid "Edited index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2029
+#: UI/GTK2/src/mainWindow.cc:1971
 #, fuzzy
 msgid "Export Results"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2304
+#: UI/GTK2/src/mainWindow.cc:2246
 msgid "Index"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow.cc:2308
+#: UI/GTK2/src/mainWindow.cc:2250
 msgid "doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow.cc:2386
+#: UI/GTK2/src/mainWindow.cc:2328
 msgid "Remove this document from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2405
+#: UI/GTK2/src/mainWindow.cc:2347
 msgid "Remove these documents from the index ?"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2451
+#: UI/GTK2/src/mainWindow.cc:2393
 msgid "A metasearch tool for the Free Desktop"
 msgstr "Free Desktop ??????"
 
-#: UI/GTK2/src/mainWindow.cc:2452
+#: UI/GTK2/src/mainWindow.cc:2394
 msgid "Search the Web and your documents !"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow.cc:2497
+#: UI/GTK2/src/mainWindow.cc:2439
 msgid "Index name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:2512
+#: UI/GTK2/src/mainWindow.cc:2454
 msgid "Couldn't add index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2528
+#: UI/GTK2/src/mainWindow.cc:2470
 msgid "Added new index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2563
+#: UI/GTK2/src/mainWindow.cc:2505
 msgid "Couldn't remove index"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:2768
+#: UI/GTK2/src/mainWindow.cc:2710
 msgid "No history for"
 msgstr ""
 
-#: UI/GTK2/src/mainWindow.cc:2884
+#: UI/GTK2/src/mainWindow.cc:2826
 msgid "At least one task hasn't completed yet. Quit now ?"
 msgstr "??????????????????"
 
-#: UI/GTK2/src/mainWindow.cc:3068
+#: UI/GTK2/src/mainWindow.cc:3010
 msgid "Query name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow.cc:3095
+#: UI/GTK2/src/mainWindow.cc:3037
 msgid "Couldn't update query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3103
+#: UI/GTK2/src/mainWindow.cc:3045
 msgid "Edited query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3110
+#: UI/GTK2/src/mainWindow.cc:3052
 msgid "Couldn't add query"
 msgstr "??????"
 
-#: UI/GTK2/src/mainWindow.cc:3118
+#: UI/GTK2/src/mainWindow.cc:3060
 msgid "Added new query"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow.cc:3157
+#: UI/GTK2/src/mainWindow.cc:3099
 msgid "Query is not set"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3168
+#: UI/GTK2/src/mainWindow.cc:3110
 msgid "No search engine selected"
 msgstr "????????"
 
-#: UI/GTK2/src/mainWindow.cc:3255
+#: UI/GTK2/src/mainWindow.cc:3197
 msgid "Please set the Google API key first"
 msgstr "????Google API key"
 
-#: UI/GTK2/src/mainWindow.cc:3264
+#: UI/GTK2/src/mainWindow.cc:3206
 msgid "Running query"
 msgstr "???????"
 
-#: UI/GTK2/src/mainWindow.cc:3473
+#: UI/GTK2/src/mainWindow.cc:3415
 msgid "No default application defined for type"
 msgstr "????????????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:127
+#: UI/GTK2/src/mainWindow_glade.cc:126
 msgid "Query:"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow_glade.cc:138 UI/GTK2/src/statisticsDialog.cc:88
+#: UI/GTK2/src/mainWindow_glade.cc:137 UI/GTK2/src/statisticsDialog.cc:87
 msgid "History"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:143
+#: UI/GTK2/src/mainWindow_glade.cc:142
 msgid "Stored queries"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:156 UI/GTK2/src/statisticsDialog.cc:51
-#: UI/GTK2/src/statisticsDialog_glade.cc:87
+#: UI/GTK2/src/mainWindow_glade.cc:155 UI/GTK2/src/statisticsDialog.cc:50
+#: UI/GTK2/src/statisticsDialog_glade.cc:86
 msgid "Status"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow_glade.cc:177
+#: UI/GTK2/src/mainWindow_glade.cc:176
 msgid "Search Engine"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:180
+#: UI/GTK2/src/mainWindow_glade.cc:179
 msgid "Host Name"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:183
+#: UI/GTK2/src/mainWindow_glade.cc:182
 msgid "Show Extract"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:186
+#: UI/GTK2/src/mainWindow_glade.cc:185
 msgid "Group By"
 msgstr "???"
 
-#: UI/GTK2/src/mainWindow_glade.cc:192
+#: UI/GTK2/src/mainWindow_glade.cc:191
 msgid "Clear List"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:198
+#: UI/GTK2/src/mainWindow_glade.cc:197
 msgid "Vie_w"
 msgstr "??(_w)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:201
+#: UI/GTK2/src/mainWindow_glade.cc:200
 msgid "View Cache"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:204
+#: UI/GTK2/src/mainWindow_glade.cc:203
 msgid "More Like This"
 msgstr "?????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:207
+#: UI/GTK2/src/mainWindow_glade.cc:206
 #, fuzzy
 msgid "Search This For"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:210 UI/GTK2/src/mainWindow_glade.cc:246
+#: UI/GTK2/src/mainWindow_glade.cc:209 UI/GTK2/src/mainWindow_glade.cc:245
 msgid "_Index"
 msgstr "??(_I)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:213
+#: UI/GTK2/src/mainWindow_glade.cc:212
 msgid "List Contents Of"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:222
+#: UI/GTK2/src/mainWindow_glade.cc:221
 msgid "View"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:224
 msgid "Update"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow_glade.cc:228
+#: UI/GTK2/src/mainWindow_glade.cc:227
 msgid "Unindex"
 msgstr "????"
 
-#: UI/GTK2/src/mainWindow_glade.cc:231
-#: UI/GTK2/src/propertiesDialog_glade.cc:225
+#: UI/GTK2/src/mainWindow_glade.cc:230
+#: UI/GTK2/src/propertiesDialog_glade.cc:224
 msgid "Properties"
 msgstr "??"
 
-#: UI/GTK2/src/mainWindow_glade.cc:234
+#: UI/GTK2/src/mainWindow_glade.cc:233
 msgid "_About"
 msgstr "??(_A)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:237
+#: UI/GTK2/src/mainWindow_glade.cc:236
 msgid "_Session"
 msgstr "????(_S)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:240
+#: UI/GTK2/src/mainWindow_glade.cc:239
 msgid "_Edit"
 msgstr "??(_E)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:243
+#: UI/GTK2/src/mainWindow_glade.cc:242
 msgid "_Results"
 msgstr "??(_R)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:249
+#: UI/GTK2/src/mainWindow_glade.cc:248
 msgid "_Help"
 msgstr "??(_H)"
 
-#: UI/GTK2/src/mainWindow_glade.cc:378
+#: UI/GTK2/src/mainWindow_glade.cc:377
 msgid "Pinot"
 msgstr "Pinot"
 
 #. Localize language names
-#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:312
-#: UI/GTK2/src/propertiesDialog.cc:97
+#: UI/GTK2/src/pinot.cc:233 UI/GTK2/src/pinot-dbus-daemon.cc:404
 msgid "Unknown"
 msgstr ""
 
-#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:313
+#: UI/GTK2/src/pinot.cc:234 UI/GTK2/src/pinot-dbus-daemon.cc:405
 msgid "Danish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:314
+#: UI/GTK2/src/pinot.cc:235 UI/GTK2/src/pinot-dbus-daemon.cc:406
 msgid "Dutch"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:315
+#: UI/GTK2/src/pinot.cc:236 UI/GTK2/src/pinot-dbus-daemon.cc:407
 msgid "English"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:316
+#: UI/GTK2/src/pinot.cc:237 UI/GTK2/src/pinot-dbus-daemon.cc:408
 msgid "Finnish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:317
+#: UI/GTK2/src/pinot.cc:238 UI/GTK2/src/pinot-dbus-daemon.cc:409
 msgid "French"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:318
+#: UI/GTK2/src/pinot.cc:239 UI/GTK2/src/pinot-dbus-daemon.cc:410
 msgid "German"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:319
+#: UI/GTK2/src/pinot.cc:240 UI/GTK2/src/pinot-dbus-daemon.cc:411
 msgid "Hungarian"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:320
+#: UI/GTK2/src/pinot.cc:241 UI/GTK2/src/pinot-dbus-daemon.cc:412
 msgid "Italian"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:321
+#: UI/GTK2/src/pinot.cc:242 UI/GTK2/src/pinot-dbus-daemon.cc:413
 msgid "Norwegian"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:322
+#: UI/GTK2/src/pinot.cc:243 UI/GTK2/src/pinot-dbus-daemon.cc:414
 msgid "Portuguese"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:323
+#: UI/GTK2/src/pinot.cc:244 UI/GTK2/src/pinot-dbus-daemon.cc:415
 msgid "Romanian"
 msgstr "?????"
 
-#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:324
+#: UI/GTK2/src/pinot.cc:245 UI/GTK2/src/pinot-dbus-daemon.cc:416
 msgid "Russian"
 msgstr "??"
 
-#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:325
+#: UI/GTK2/src/pinot.cc:246 UI/GTK2/src/pinot-dbus-daemon.cc:417
 msgid "Spanish"
 msgstr "????"
 
-#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:326
+#: UI/GTK2/src/pinot.cc:247 UI/GTK2/src/pinot-dbus-daemon.cc:418
 msgid "Swedish"
 msgstr "???"
 
-#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:327
+#: UI/GTK2/src/pinot.cc:248 UI/GTK2/src/pinot-dbus-daemon.cc:419
 msgid "Turkish"
 msgstr "????"
 
@@ -563,23 +562,23 @@
 msgstr "???????????????"
 
 #. Add default labels
-#: UI/GTK2/src/PinotSettings.cpp:317
+#: UI/GTK2/src/PinotSettings.cpp:326
 msgid "Important"
 msgstr "???"
 
-#: UI/GTK2/src/PinotSettings.cpp:318
+#: UI/GTK2/src/PinotSettings.cpp:327
 msgid "New"
 msgstr "??"
 
-#: UI/GTK2/src/PinotSettings.cpp:319
+#: UI/GTK2/src/PinotSettings.cpp:328
 msgid "Personal"
 msgstr "????"
 
-#: UI/GTK2/src/PinotSettings.cpp:358
+#: UI/GTK2/src/PinotSettings.cpp:367
 msgid "Me"
 msgstr ""
 
-#: UI/GTK2/src/PinotSettings.cpp:1233
+#: UI/GTK2/src/PinotSettings.cpp:1242
 msgid "Unclassified"
 msgstr "????"
 
@@ -615,106 +614,106 @@
 msgid "Directory to index"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:66
+#: UI/GTK2/src/prefsDialog_glade.cc:65
 msgid "Google API key:"
 msgstr ""
 
-#: UI/GTK2/src/prefsDialog_glade.cc:69
+#: UI/GTK2/src/prefsDialog_glade.cc:68
 msgid "New results:"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:70
+#: UI/GTK2/src/prefsDialog_glade.cc:69
 msgid "Queries:"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:71
+#: UI/GTK2/src/prefsDialog_glade.cc:70
 msgid "Enable search terms suggestion"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:73
+#: UI/GTK2/src/prefsDialog_glade.cc:72
 msgid "Ignore robots.txt and Robots META tag"
 msgstr "??robot.txt?meta??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:74
+#: UI/GTK2/src/prefsDialog_glade.cc:73
 msgid "HTTP crawling:"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:77
+#: UI/GTK2/src/prefsDialog_glade.cc:76
 msgid "General"
 msgstr "???"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:79
+#: UI/GTK2/src/prefsDialog_glade.cc:78
 msgid "Direct connection to the Internet"
 msgstr "???????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:80
+#: UI/GTK2/src/prefsDialog_glade.cc:79
 msgid "Manual proxy configuration:"
 msgstr "????proxy"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:93
+#: UI/GTK2/src/prefsDialog_glade.cc:92
 msgid "Network"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:94
+#: UI/GTK2/src/prefsDialog_glade.cc:93
 msgid "Labels are used to classify indexed documents:"
 msgstr "??????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:99 UI/GTK2/src/prefsDialog_glade.cc:119
-#: UI/GTK2/src/prefsDialog_glade.cc:135
+#: UI/GTK2/src/prefsDialog_glade.cc:98 UI/GTK2/src/prefsDialog_glade.cc:118
+#: UI/GTK2/src/prefsDialog_glade.cc:134
 msgid "Add"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:105
+#: UI/GTK2/src/prefsDialog_glade.cc:104
 msgid "Remove"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:113 UI/GTK2/src/propertiesDialog.cc:56
+#: UI/GTK2/src/prefsDialog_glade.cc:112 UI/GTK2/src/propertiesDialog.cc:56
 msgid "Labels"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:114
+#: UI/GTK2/src/prefsDialog_glade.cc:113
 msgid "These directories will be indexed and optionally monitored for changes:"
 msgstr "??????????????????????????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:127
+#: UI/GTK2/src/prefsDialog_glade.cc:126
 #, fuzzy
 msgid "File patterns:"
 msgstr "?????"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:144
+#: UI/GTK2/src/prefsDialog_glade.cc:143
 msgid "Indexing"
 msgstr "??"
 
-#: UI/GTK2/src/prefsDialog_glade.cc:507
+#: UI/GTK2/src/prefsDialog_glade.cc:506
 msgid "Preferences"
 msgstr "????"
 
-#: UI/GTK2/src/propertiesDialog.cc:110
+#: UI/GTK2/src/propertiesDialog.cc:105
 msgid "Per document"
 msgstr "????"
 
-#: UI/GTK2/src/propertiesDialog.cc:368
+#: UI/GTK2/src/propertiesDialog.cc:365
 #, fuzzy
 msgid "Export Terms"
 msgstr "????"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:65
+#: UI/GTK2/src/propertiesDialog_glade.cc:64
 msgid "Language:"
 msgstr "?? :"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:66
+#: UI/GTK2/src/propertiesDialog_glade.cc:65
 msgid "MIME type:"
 msgstr "MIME ???"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:67
+#: UI/GTK2/src/propertiesDialog_glade.cc:66
 msgid "Size:"
 msgstr "???"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:68
+#: UI/GTK2/src/propertiesDialog_glade.cc:67
 msgid "Terms:"
 msgstr "??"
 
-#: UI/GTK2/src/propertiesDialog_glade.cc:78
+#: UI/GTK2/src/propertiesDialog_glade.cc:77
 msgid "bytes"
 msgstr ""
 
@@ -731,12 +730,12 @@
 msgstr "???"
 
 #. This is the title column
-#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:133
+#: UI/GTK2/src/queryDialog.cc:97 UI/GTK2/src/ResultsTree.cpp:132
 msgid "Title"
 msgstr "??"
 
 #. URL
-#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:143
+#: UI/GTK2/src/queryDialog.cc:98 UI/GTK2/src/ResultsTree.cpp:142
 msgid "URL"
 msgstr "??"
 
@@ -757,7 +756,7 @@
 msgstr "??"
 
 #. The last column is for the timestamp
-#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:151
+#: UI/GTK2/src/queryDialog.cc:105 UI/GTK2/src/ResultsTree.cpp:150
 msgid "Date"
 msgstr "??"
 
@@ -781,164 +780,168 @@
 msgid "By date"
 msgstr "??"
 
-#: UI/GTK2/src/queryDialog_glade.cc:72
+#: UI/GTK2/src/queryDialog_glade.cc:71
 #, fuzzy
 msgid "New filter or range:"
 msgstr "????????"
 
-#: UI/GTK2/src/queryDialog_glade.cc:81
+#: UI/GTK2/src/queryDialog_glade.cc:80
 msgid "Query Text"
 msgstr "????"
 
-#: UI/GTK2/src/queryDialog_glade.cc:83
+#: UI/GTK2/src/queryDialog_glade.cc:82
 msgid "Index results with label"
 msgstr "??????????"
 
-#: UI/GTK2/src/queryDialog_glade.cc:86
+#: UI/GTK2/src/queryDialog_glade.cc:85
 msgid "Number of results:"
 msgstr "????"
 
-#: UI/GTK2/src/queryDialog_glade.cc:90
+#: UI/GTK2/src/queryDialog_glade.cc:89
 msgid "Sort order:"
 msgstr ""
 
-#: UI/GTK2/src/queryDialog_glade.cc:192
+#: UI/GTK2/src/queryDialog_glade.cc:191
 msgid "Query parameters"
 msgstr "?????"
 
 #. This is the score column
-#: UI/GTK2/src/ResultsTree.cpp:122
+#: UI/GTK2/src/ResultsTree.cpp:121
 msgid "Score"
 msgstr "??"
 
-#: UI/GTK2/src/ResultsTree.cpp:180
+#: UI/GTK2/src/ResultsTree.cpp:179
 msgid "Extract"
 msgstr ""
 
-#: UI/GTK2/src/statisticsDialog.cc:73
+#: UI/GTK2/src/statisticsDialog.cc:72
 msgid "Indexes"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:93
+#: UI/GTK2/src/statisticsDialog.cc:92
 msgid "Daemon"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:128 UI/GTK2/src/statisticsDialog.cc:144
+#: UI/GTK2/src/statisticsDialog.cc:127 UI/GTK2/src/statisticsDialog.cc:143
 msgid "documents"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:134 UI/GTK2/src/statisticsDialog.cc:150
-#: UI/GTK2/src/WorkerThreads.cpp:128
+#: UI/GTK2/src/statisticsDialog.cc:133 UI/GTK2/src/statisticsDialog.cc:149
+#: UI/GTK2/src/WorkerThreads.cpp:124
 msgid "Unknown error"
 msgstr "???????"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "Viewed"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:157
+#: UI/GTK2/src/statisticsDialog.cc:156
 msgid "results"
 msgstr "??"
 
 #. FIXME: check whether it's actually running !
-#: UI/GTK2/src/statisticsDialog.cc:174
+#: UI/GTK2/src/statisticsDialog.cc:173
 msgid "Running under PID"
 msgstr "?????????"
 
-#: UI/GTK2/src/statisticsDialog.cc:178
+#: UI/GTK2/src/statisticsDialog.cc:177
 msgid "Currently not running"
 msgstr "???????"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "Crawled"
 msgstr "????"
 
-#: UI/GTK2/src/statisticsDialog.cc:185
+#: UI/GTK2/src/statisticsDialog.cc:184
 msgid "files"
 msgstr "??"
 
-#: UI/GTK2/src/statisticsDialog.cc:206
+#: UI/GTK2/src/statisticsDialog.cc:205
 msgid "Errors"
 msgstr "??"
 
-#: UI/GTK2/src/WorkerThreads.cpp:95
+#: UI/GTK2/src/WorkerThreads.cpp:91
 #, fuzzy
 msgid "Index error"
 msgstr "?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:97
+#: UI/GTK2/src/WorkerThreads.cpp:93
 #, fuzzy
 msgid "Couldn't index document"
 msgstr "?????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:99
+#: UI/GTK2/src/WorkerThreads.cpp:95
 msgid "Couldn't update document"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:101
+#: UI/GTK2/src/WorkerThreads.cpp:97
 msgid "Couldn't unindex document(s)"
 msgstr "?????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:103
+#: UI/GTK2/src/WorkerThreads.cpp:99
 msgid "Couldn't run query on search engine"
 msgstr "??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:105
+#: UI/GTK2/src/WorkerThreads.cpp:101
 #, fuzzy
 msgid "Couldn't get history for search engine"
 msgstr "??????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:107
+#: UI/GTK2/src/WorkerThreads.cpp:103
 #, fuzzy
 msgid "Couldn't retrieve document"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:109
+#: UI/GTK2/src/WorkerThreads.cpp:105
 msgid "Couldn't initialize file monitor"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:111
+#: UI/GTK2/src/WorkerThreads.cpp:107
 #, fuzzy
 msgid "Couldn't open directory"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:113
+#: UI/GTK2/src/WorkerThreads.cpp:109
 #, fuzzy
 msgid "Index doesn't exist"
 msgstr "???"
 
-#: UI/GTK2/src/WorkerThreads.cpp:115
+#: UI/GTK2/src/WorkerThreads.cpp:111
 msgid "Couldn't create search engine"
 msgstr "????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:117
+#: UI/GTK2/src/WorkerThreads.cpp:113
 msgid "Cannot index document type"
 msgstr "????????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:119
+#: UI/GTK2/src/WorkerThreads.cpp:115
 msgid "No downloader for this protocol"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:121
+#: UI/GTK2/src/WorkerThreads.cpp:117
 msgid "Robots META tag forbids indexing"
 msgstr "Robots?meta???????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:123
+#: UI/GTK2/src/WorkerThreads.cpp:119
 msgid "No monitoring handler"
 msgstr ""
 
-#: UI/GTK2/src/WorkerThreads.cpp:393
+#: UI/GTK2/src/WorkerThreads.cpp:391
+msgid "Indexing was stopped"
+msgstr ""
+
+#: UI/GTK2/src/WorkerThreads.cpp:404
 msgid "Can't index mail here"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:414 UI/GTK2/src/WorkerThreads.cpp:668
+#: UI/GTK2/src/WorkerThreads.cpp:425 UI/GTK2/src/WorkerThreads.cpp:676
 msgid "is already being indexed"
 msgstr "??????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:424
+#: UI/GTK2/src/WorkerThreads.cpp:435
 msgid "is blacklisted"
 msgstr "?????"
 
-#: UI/GTK2/src/WorkerThreads.cpp:937
+#: UI/GTK2/src/WorkerThreads.cpp:945
 msgid "No title"
 msgstr "???"



From fabricecolin at mail.berlios.de  Sat Nov 24 16:23:42 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 24 Nov 2007 16:23:42 +0100
Subject: [Pinot-svn] r1125 - trunk
Message-ID: <200711241523.lAOFNgKr012078@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-24 16:23:42 +0100 (Sat, 24 Nov 2007)
New Revision: 1125

Removed:
   trunk/mkinstalldirs
Log:
Removed symbolic link.


Deleted: trunk/mkinstalldirs
===================================================================
--- trunk/mkinstalldirs	2007-11-23 15:39:37 UTC (rev 1124)
+++ trunk/mkinstalldirs	2007-11-24 15:23:42 UTC (rev 1125)
@@ -1 +0,0 @@
-link /usr/share/gettext/mkinstalldirs
\ No newline at end of file



From fabricecolin at mail.berlios.de  Sat Nov 24 16:24:23 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 24 Nov 2007 16:24:23 +0100
Subject: [Pinot-svn] r1126 - trunk
Message-ID: <200711241524.lAOFONKk012145@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-24 16:24:23 +0100 (Sat, 24 Nov 2007)
New Revision: 1126

Added:
   trunk/mkinstalldirs
Log:
Replaced symlink with actual file.


Added: trunk/mkinstalldirs
===================================================================
--- trunk/mkinstalldirs	2007-11-24 15:23:42 UTC (rev 1125)
+++ trunk/mkinstalldirs	2007-11-24 15:24:23 UTC (rev 1126)
@@ -0,0 +1,111 @@
+#! /bin/sh
+# mkinstalldirs --- make directory hierarchy
+# Author: Noah Friedman <friedman at prep.ai.mit.edu>
+# Created: 1993-05-16
+# Public domain
+
+errstatus=0
+dirmode=""
+
+usage="\
+Usage: mkinstalldirs [-h] [--help] [-m mode] dir ..."
+
+# process command line arguments
+while test $# -gt 0 ; do
+  case $1 in
+    -h | --help | --h*)         # -h for help
+      echo "$usage" 1>&2
+      exit 0
+      ;;
+    -m)                         # -m PERM arg
+      shift
+      test $# -eq 0 && { echo "$usage" 1>&2; exit 1; }
+      dirmode=$1
+      shift
+      ;;
+    --)                         # stop option processing
+      shift
+      break
+      ;;
+    -*)                         # unknown option
+      echo "$usage" 1>&2
+      exit 1
+      ;;
+    *)                          # first non-opt arg
+      break
+      ;;
+  esac
+done
+
+for file
+do
+  if test -d "$file"; then
+    shift
+  else
+    break
+  fi
+done
+
+case $# in
+  0) exit 0 ;;
+esac
+
+case $dirmode in
+  '')
+    if mkdir -p -- . 2>/dev/null; then
+      echo "mkdir -p -- $*"
+      exec mkdir -p -- "$@"
+    fi
+    ;;
+  *)
+    if mkdir -m "$dirmode" -p -- . 2>/dev/null; then
+      echo "mkdir -m $dirmode -p -- $*"
+      exec mkdir -m "$dirmode" -p -- "$@"
+    fi
+    ;;
+esac
+
+for file
+do
+  set fnord `echo ":$file" | sed -ne 's/^:\//#/;s/^://;s/\// /g;s/^#/\//;p'`
+  shift
+
+  pathcomp=
+  for d
+  do
+    pathcomp="$pathcomp$d"
+    case $pathcomp in
+      -*) pathcomp=./$pathcomp ;;
+    esac
+
+    if test ! -d "$pathcomp"; then
+      echo "mkdir $pathcomp"
+
+      mkdir "$pathcomp" || lasterr=$?
+
+      if test ! -d "$pathcomp"; then
+  	errstatus=$lasterr
+      else
+  	if test ! -z "$dirmode"; then
+	  echo "chmod $dirmode $pathcomp"
+    	  lasterr=""
+  	  chmod "$dirmode" "$pathcomp" || lasterr=$?
+
+  	  if test ! -z "$lasterr"; then
+  	    errstatus=$lasterr
+  	  fi
+  	fi
+      fi
+    fi
+
+    pathcomp="$pathcomp/"
+  done
+done
+
+exit $errstatus
+
+# Local Variables:
+# mode: shell-script
+# sh-indentation: 2
+# End:
+# mkinstalldirs ends here


Property changes on: trunk/mkinstalldirs
___________________________________________________________________
Name: svn:executable
   + *



From fabricecolin at mail.berlios.de  Sat Nov 24 16:28:25 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Sat, 24 Nov 2007 16:28:25 +0100
Subject: [Pinot-svn] r1127 - tags
Message-ID: <200711241528.lAOFSPsi012500@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-24 16:28:25 +0100 (Sat, 24 Nov 2007)
New Revision: 1127

Added:
   tags/version_0_8_1/
Log:
Releasing 0.81.


Copied: tags/version_0_8_1 (from rev 1126, trunk)



From fabricecolin at mail.berlios.de  Thu Nov 29 13:53:58 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 29 Nov 2007 13:53:58 +0100
Subject: [Pinot-svn] r1128 - trunk/Search
Message-ID: <200711291253.lATCrwbr026997@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-29 13:53:58 +0100 (Thu, 29 Nov 2007)
New Revision: 1128

Modified:
   trunk/Search/XapianEngine.cpp
Log:
Add ValueRangeProcessor's early so that it benefits XapianQueryBuilder.


Modified: trunk/Search/XapianEngine.cpp
===================================================================
--- trunk/Search/XapianEngine.cpp	2007-11-24 15:28:25 UTC (rev 1127)
+++ trunk/Search/XapianEngine.cpp	2007-11-29 12:53:58 UTC (rev 1128)
@@ -236,6 +236,24 @@
 #endif
 	}
 
+	// Date range
+	Xapian::DateValueRangeProcessor dateProcessor(0);
+	parser.add_valuerangeprocessor(&dateProcessor);
+
+	// Size with a "b" suffix, ie 1024..10240b
+#if XAPIAN_NUM_VERSION >= 1001000
+	Xapian::NumberValueRangeProcessor sizeProcessor(2, "b", false);
+	parser.add_valuerangeprocessor(&sizeProcessor);
+#elif XAPIAN_NUM_VERSION >= 1000002
+	// Xapian 1.02 is the bare minimum
+	Xapian::v102::NumberValueRangeProcessor sizeProcessor(2, "b", false);
+	parser.add_valuerangeprocessor(&sizeProcessor);
+#endif
+
+	// Time range
+	TimeValueRangeProcessor timeProcessor(3);
+	parser.add_valuerangeprocessor(&timeProcessor);
+
 	// What type of query is this ?
 	QueryProperties::QueryType type = queryProps.getType();
 	if (type != QueryProperties::XAPIAN_QP)
@@ -329,24 +347,6 @@
 		escapedFilterStart = freeQuery.find(":\"", escapedFilterEnd);
 	}
 
-	// Date range
-	Xapian::DateValueRangeProcessor dateProcessor(0);
-	parser.add_valuerangeprocessor(&dateProcessor);
-
-	// Size with a "b" suffix, ie 1024..10240b
-#if XAPIAN_NUM_VERSION >= 1001000
-	Xapian::NumberValueRangeProcessor sizeProcessor(2, "b", false);
-	parser.add_valuerangeprocessor(&sizeProcessor);
-#elif XAPIAN_NUM_VERSION >= 1000002
-	// Xapian 1.02 is the bare minimum
-	Xapian::v102::NumberValueRangeProcessor sizeProcessor(2, "b", false);
-	parser.add_valuerangeprocessor(&sizeProcessor);
-#endif
-
-	// Time range
-	TimeValueRangeProcessor timeProcessor(3);
-	parser.add_valuerangeprocessor(&timeProcessor);
-
 	// Parse the query string with all necessary options
 	unsigned int flags = Xapian::QueryParser::FLAG_BOOLEAN|Xapian::QueryParser::FLAG_PHRASE|
 		Xapian::QueryParser::FLAG_LOVEHATE|Xapian::QueryParser::FLAG_BOOLEAN_ANY_CASE|



From fabricecolin at mail.berlios.de  Thu Nov 29 14:16:43 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Thu, 29 Nov 2007 14:16:43 +0100
Subject: [Pinot-svn] r1129 - in trunk/UI/GTK2: . src
Message-ID: <200711291316.lATDGhOj029557@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-29 14:16:41 +0100 (Thu, 29 Nov 2007)
New Revision: 1129

Modified:
   trunk/UI/GTK2/metase-gtk2.glade
   trunk/UI/GTK2/src/importDialog.cc
   trunk/UI/GTK2/src/importDialog.hh
   trunk/UI/GTK2/src/importDialog_glade.cc
   trunk/UI/GTK2/src/importDialog_glade.hh
   trunk/UI/GTK2/src/mainWindow.cc
Log:
Defer importing to the main window.
When viewing any document, add it to the list of recently used files. This
requires gtkmm >= 2.10.


Modified: trunk/UI/GTK2/metase-gtk2.glade
===================================================================
--- trunk/UI/GTK2/metase-gtk2.glade	2007-11-29 12:53:58 UTC (rev 1128)
+++ trunk/UI/GTK2/metase-gtk2.glade	2007-11-29 13:16:41 UTC (rev 1129)
@@ -3537,7 +3537,6 @@
   <property name="focus_on_map">True</property>
   <property name="urgency_hint">False</property>
   <property name="has_separator">True</property>
-  <signal name="response" handler="on_importDialog_response" last_modification_time="Tue, 10 Jan 2006 05:41:42 GMT"/>
 
   <child internal-child="vbox">
     <widget class="GtkVBox" id="dialog-vbox7">
@@ -3551,15 +3550,30 @@
 	  <property name="layout_style">GTK_BUTTONBOX_END</property>
 
 	  <child>
-	    <widget class="GtkButton" id="closeButton">
+	    <widget class="GtkButton" id="cancelButton">
 	      <property name="visible">True</property>
 	      <property name="can_default">True</property>
 	      <property name="can_focus">True</property>
-	      <property name="label">gtk-close</property>
+	      <property name="label">gtk-cancel</property>
 	      <property name="use_stock">True</property>
 	      <property name="relief">GTK_RELIEF_NORMAL</property>
 	      <property name="focus_on_click">True</property>
+	      <property name="response_id">-6</property>
+	    </widget>
+	  </child>
+
+	  <child>
+	    <widget class="GtkButton" id="importButton">
+	      <property agent="glademm" name="cxx_visibility">protected</property>
+	      <property name="visible">True</property>
+	      <property name="can_default">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="label">gtk-ok</property>
+	      <property name="use_stock">True</property>
+	      <property name="relief">GTK_RELIEF_NORMAL</property>
+	      <property name="focus_on_click">True</property>
 	      <property name="response_id">-5</property>
+	      <signal name="clicked" handler="on_importButton_clicked" last_modification_time="Thu, 29 Nov 2007 13:07:20 GMT"/>
 	    </widget>
 	  </child>
 	</widget>
@@ -3572,287 +3586,164 @@
       </child>
 
       <child>
-	<widget class="GtkVBox" id="importVbox">
+	<widget class="GtkTable" id="docTable">
+	  <property agent="glademm" name="cxx_visibility">protected</property>
 	  <property name="visible">True</property>
+	  <property name="n_rows">3</property>
+	  <property name="n_columns">2</property>
 	  <property name="homogeneous">False</property>
-	  <property name="spacing">0</property>
+	  <property name="row_spacing">0</property>
+	  <property name="column_spacing">0</property>
 
 	  <child>
-	    <widget class="GtkTable" id="docTable">
+	    <widget class="GtkEntry" id="titleEntry">
 	      <property agent="glademm" name="cxx_visibility">protected</property>
 	      <property name="visible">True</property>
-	      <property name="n_rows">3</property>
-	      <property name="n_columns">2</property>
-	      <property name="homogeneous">False</property>
-	      <property name="row_spacing">0</property>
-	      <property name="column_spacing">0</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_padding">4</property>
+	      <property name="y_padding">4</property>
+	      <property name="y_options">fill</property>
+	    </packing>
+	  </child>
 
-	      <child>
-		<widget class="GtkEntry" id="titleEntry">
-		  <property agent="glademm" name="cxx_visibility">protected</property>
-		  <property name="visible">True</property>
-		  <property name="can_focus">True</property>
-		  <property name="editable">True</property>
-		  <property name="visibility">True</property>
-		  <property name="max_length">0</property>
-		  <property name="text" translatable="yes"></property>
-		  <property name="has_frame">True</property>
-		  <property name="invisible_char">*</property>
-		  <property name="activates_default">False</property>
-		</widget>
-		<packing>
-		  <property name="left_attach">1</property>
-		  <property name="right_attach">2</property>
-		  <property name="top_attach">0</property>
-		  <property name="bottom_attach">1</property>
-		  <property name="x_padding">4</property>
-		  <property name="y_padding">4</property>
-		  <property name="y_options">fill</property>
-		</packing>
-	      </child>
+	  <child>
+	    <widget class="GtkLabel" id="locationLabel">
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">Location:</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">False</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">4</property>
+	      <property name="ypad">4</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options">fill</property>
+	    </packing>
+	  </child>
 
-	      <child>
-		<widget class="GtkLabel" id="locationLabel">
-		  <property name="visible">True</property>
-		  <property name="label" translatable="yes">Location:</property>
-		  <property name="use_underline">False</property>
-		  <property name="use_markup">False</property>
-		  <property name="justify">GTK_JUSTIFY_LEFT</property>
-		  <property name="wrap">False</property>
-		  <property name="selectable">False</property>
-		  <property name="xalign">0</property>
-		  <property name="yalign">0.5</property>
-		  <property name="xpad">4</property>
-		  <property name="ypad">4</property>
-		  <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-		  <property name="width_chars">-1</property>
-		  <property name="single_line_mode">False</property>
-		  <property name="angle">0</property>
-		</widget>
-		<packing>
-		  <property name="left_attach">0</property>
-		  <property name="right_attach">1</property>
-		  <property name="top_attach">1</property>
-		  <property name="bottom_attach">2</property>
-		  <property name="x_options">fill</property>
-		  <property name="y_options">fill</property>
-		</packing>
-	      </child>
+	  <child>
+	    <widget class="GtkLabel" id="titleLabel">
+	      <property agent="glademm" name="cxx_visibility">protected</property>
+	      <property name="visible">True</property>
+	      <property name="label" translatable="yes">Title:</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">False</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">4</property>
+	      <property name="ypad">4</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">0</property>
+	      <property name="bottom_attach">1</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options">fill</property>
+	    </packing>
+	  </child>
 
-	      <child>
-		<widget class="GtkLabel" id="titleLabel">
-		  <property agent="glademm" name="cxx_visibility">protected</property>
-		  <property name="visible">True</property>
-		  <property name="label" translatable="yes">Title:</property>
-		  <property name="use_underline">False</property>
-		  <property name="use_markup">False</property>
-		  <property name="justify">GTK_JUSTIFY_LEFT</property>
-		  <property name="wrap">False</property>
-		  <property name="selectable">False</property>
-		  <property name="xalign">0</property>
-		  <property name="yalign">0.5</property>
-		  <property name="xpad">4</property>
-		  <property name="ypad">4</property>
-		  <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-		  <property name="width_chars">-1</property>
-		  <property name="single_line_mode">False</property>
-		  <property name="angle">0</property>
-		</widget>
-		<packing>
-		  <property name="left_attach">0</property>
-		  <property name="right_attach">1</property>
-		  <property name="top_attach">0</property>
-		  <property name="bottom_attach">1</property>
-		  <property name="x_options">fill</property>
-		  <property name="y_options">fill</property>
-		</packing>
-	      </child>
-
-	      <child>
-		<widget class="GtkComboBox" id="labelNameCombobox">
-		  <property agent="glademm" name="cxx_visibility">protected</property>
-		  <property name="visible">True</property>
-		  <property name="add_tearoffs">False</property>
-		  <property name="focus_on_click">True</property>
-		</widget>
-		<packing>
-		  <property name="left_attach">1</property>
-		  <property name="right_attach">2</property>
-		  <property name="top_attach">2</property>
-		  <property name="bottom_attach">3</property>
-		  <property name="x_padding">4</property>
-		  <property name="y_padding">4</property>
-		  <property name="y_options">fill</property>
-		</packing>
-	      </child>
-
-	      <child>
-		<widget class="GtkLabel" id="labelNameLabel">
-		  <property name="visible">True</property>
-		  <property name="label" translatable="yes">Apply label:</property>
-		  <property name="use_underline">False</property>
-		  <property name="use_markup">False</property>
-		  <property name="justify">GTK_JUSTIFY_LEFT</property>
-		  <property name="wrap">False</property>
-		  <property name="selectable">False</property>
-		  <property name="xalign">0</property>
-		  <property name="yalign">0.5</property>
-		  <property name="xpad">4</property>
-		  <property name="ypad">4</property>
-		  <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-		  <property name="width_chars">-1</property>
-		  <property name="single_line_mode">False</property>
-		  <property name="angle">0</property>
-		</widget>
-		<packing>
-		  <property name="left_attach">0</property>
-		  <property name="right_attach">1</property>
-		  <property name="top_attach">2</property>
-		  <property name="bottom_attach">3</property>
-		  <property name="x_options">fill</property>
-		  <property name="y_options"></property>
-		</packing>
-	      </child>
-
-	      <child>
-		<widget class="GtkEntry" id="locationEntry">
-		  <property agent="glademm" name="cxx_visibility">protected</property>
-		  <property name="visible">True</property>
-		  <property name="can_focus">True</property>
-		  <property name="editable">True</property>
-		  <property name="visibility">True</property>
-		  <property name="max_length">0</property>
-		  <property name="text" translatable="yes"></property>
-		  <property name="has_frame">True</property>
-		  <property name="invisible_char">*</property>
-		  <property name="activates_default">False</property>
-		  <signal name="changed" handler="on_locationEntry_changed" last_modification_time="Sun, 18 Sep 2005 03:55:37 GMT"/>
-		</widget>
-		<packing>
-		  <property name="left_attach">1</property>
-		  <property name="right_attach">2</property>
-		  <property name="top_attach">1</property>
-		  <property name="bottom_attach">2</property>
-		  <property name="x_padding">4</property>
-		  <property name="y_padding">4</property>
-		  <property name="y_options">fill</property>
-		</packing>
-	      </child>
+	  <child>
+	    <widget class="GtkComboBox" id="labelNameCombobox">
+	      <property agent="glademm" name="cxx_visibility">protected</property>
+	      <property name="visible">True</property>
+	      <property name="add_tearoffs">False</property>
+	      <property name="focus_on_click">True</property>
 	    </widget>
 	    <packing>
-	      <property name="padding">0</property>
-	      <property name="expand">False</property>
-	      <property name="fill">True</property>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_padding">4</property>
+	      <property name="y_padding">4</property>
+	      <property name="y_options">fill</property>
 	    </packing>
 	  </child>
 
 	  <child>
-	    <widget class="GtkHBox" id="importHbox">
+	    <widget class="GtkLabel" id="labelNameLabel">
 	      <property name="visible">True</property>
-	      <property name="homogeneous">False</property>
-	      <property name="spacing">4</property>
+	      <property name="label" translatable="yes">Apply label:</property>
+	      <property name="use_underline">False</property>
+	      <property name="use_markup">False</property>
+	      <property name="justify">GTK_JUSTIFY_LEFT</property>
+	      <property name="wrap">False</property>
+	      <property name="selectable">False</property>
+	      <property name="xalign">0</property>
+	      <property name="yalign">0.5</property>
+	      <property name="xpad">4</property>
+	      <property name="ypad">4</property>
+	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
+	      <property name="width_chars">-1</property>
+	      <property name="single_line_mode">False</property>
+	      <property name="angle">0</property>
+	    </widget>
+	    <packing>
+	      <property name="left_attach">0</property>
+	      <property name="right_attach">1</property>
+	      <property name="top_attach">2</property>
+	      <property name="bottom_attach">3</property>
+	      <property name="x_options">fill</property>
+	      <property name="y_options"></property>
+	    </packing>
+	  </child>
 
-	      <child>
-		<widget class="GtkProgressBar" id="importProgressbar">
-		  <property agent="glademm" name="cxx_visibility">protected</property>
-		  <property name="visible">True</property>
-		  <property name="orientation">GTK_PROGRESS_LEFT_TO_RIGHT</property>
-		  <property name="fraction">0</property>
-		  <property name="pulse_step">0.10000000149</property>
-		  <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
-		</widget>
-		<packing>
-		  <property name="padding">0</property>
-		  <property name="expand">True</property>
-		  <property name="fill">True</property>
-		</packing>
-	      </child>
-
-	      <child>
-		<widget class="GtkButton" id="importButton">
-		  <property agent="glademm" name="cxx_visibility">protected</property>
-		  <property name="visible">True</property>
-		  <property name="can_default">True</property>
-		  <property name="can_focus">True</property>
-		  <property name="relief">GTK_RELIEF_NORMAL</property>
-		  <property name="focus_on_click">True</property>
-		  <signal name="clicked" handler="on_importButton_clicked" last_modification_time="Wed, 04 Jan 2006 23:11:30 GMT"/>
-
-		  <child>
-		    <widget class="GtkAlignment" id="alignment34">
-		      <property name="visible">True</property>
-		      <property name="xalign">0.5</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xscale">0</property>
-		      <property name="yscale">0</property>
-		      <property name="top_padding">0</property>
-		      <property name="bottom_padding">0</property>
-		      <property name="left_padding">0</property>
-		      <property name="right_padding">0</property>
-
-		      <child>
-			<widget class="GtkHBox" id="hbox52">
-			  <property name="visible">True</property>
-			  <property name="homogeneous">False</property>
-			  <property name="spacing">2</property>
-
-			  <child>
-			    <widget class="GtkImage" id="image575">
-			      <property name="visible">True</property>
-			      <property name="stock">gtk-open</property>
-			      <property name="icon_size">4</property>
-			      <property name="xalign">0.5</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			    </widget>
-			    <packing>
-			      <property name="padding">0</property>
-			      <property name="expand">False</property>
-			      <property name="fill">False</property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="label55">
-			      <property name="visible">True</property>
-			      <property name="label">Import</property>
-			      <property name="use_underline">True</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0.5</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="padding">0</property>
-			      <property name="expand">False</property>
-			      <property name="fill">False</property>
-			    </packing>
-			  </child>
-			</widget>
-		      </child>
-		    </widget>
-		  </child>
-		</widget>
-		<packing>
-		  <property name="padding">0</property>
-		  <property name="expand">False</property>
-		  <property name="fill">True</property>
-		</packing>
-	      </child>
+	  <child>
+	    <widget class="GtkEntry" id="locationEntry">
+	      <property agent="glademm" name="cxx_visibility">protected</property>
+	      <property name="visible">True</property>
+	      <property name="can_focus">True</property>
+	      <property name="editable">True</property>
+	      <property name="visibility">True</property>
+	      <property name="max_length">0</property>
+	      <property name="text" translatable="yes"></property>
+	      <property name="has_frame">True</property>
+	      <property name="invisible_char">*</property>
+	      <property name="activates_default">False</property>
+	      <signal name="changed" handler="on_locationEntry_changed" last_modification_time="Sun, 18 Sep 2005 03:55:37 GMT"/>
 	    </widget>
 	    <packing>
-	      <property name="padding">4</property>
-	      <property name="expand">False</property>
-	      <property name="fill">True</property>
+	      <property name="left_attach">1</property>
+	      <property name="right_attach">2</property>
+	      <property name="top_attach">1</property>
+	      <property name="bottom_attach">2</property>
+	      <property name="x_padding">4</property>
+	      <property name="y_padding">4</property>
+	      <property name="y_options">fill</property>
 	    </packing>
 	  </child>
 	</widget>

Modified: trunk/UI/GTK2/src/importDialog.cc
===================================================================
--- trunk/UI/GTK2/src/importDialog.cc	2007-11-29 12:53:58 UTC (rev 1128)
+++ trunk/UI/GTK2/src/importDialog.cc	2007-11-29 13:16:41 UTC (rev 1129)
@@ -38,22 +38,9 @@
 using namespace Glib;
 using namespace Gtk;
 
-importDialog::InternalState::InternalState(unsigned int maxIndexThreads, importDialog *pWindow) :
-	ThreadsManager(PinotSettings::getInstance().m_docsIndexLocation, maxIndexThreads),
-	m_locationLength(0),
-	m_importing(false)
-{
-	m_onThreadEndSignal.connect(sigc::mem_fun(*pWindow, &importDialog::on_thread_end));
-}
-
-importDialog::InternalState::~InternalState()
-{
-}
-
 importDialog::importDialog() :
 	importDialog_glade(),
-	m_docsCount(0),
-	m_state(10, this)
+	m_locationLength(0)
 {
 	// Enable completion on the location field
 	m_refLocationList = ListStore::create(m_locationColumns);
@@ -67,20 +54,20 @@
 	// Populate
 	populate_comboboxes();
 
-	// Connect to threads' finished signal
-	m_state.connect();
-
 	// Disable this button as long the location entry field is empty
 	// The title field may remain empty
 	importButton->set_sensitive(false);
-	importProgressbar->set_pulse_step(0.10);
 }
 
 importDialog::~importDialog()
 {
-	m_state.disconnect();
 }
 
+const DocumentInfo &importDialog::getDocumentInfo(void) const
+{
+	return m_docInfo;
+}
+
 void importDialog::populate_comboboxes(void)
 {
 	labelNameCombobox->append_text(_("None"));
@@ -95,18 +82,21 @@
 	}
 }
 
-bool importDialog::on_activity_timeout(void)
+void importDialog::on_importButton_clicked()
 {
-	importProgressbar->pulse();
+	string title(from_utf8(titleEntry->get_text()));
+	string location(from_utf8(locationEntry->get_text()));
+	string labelName;
 
-	return true;
-}
+	// Label
+	int chosenLabel = labelNameCombobox->get_active_row_number();
+	if (chosenLabel > 0)
+	{
+		labelName = from_utf8(labelNameCombobox->get_active_text());
+	}
 
-void importDialog::import_url(const string &title, const string &location,
-	const string &labelName)
-{
 	Url urlObj(location);
-	DocumentInfo docInfo(from_utf8(title), location, MIMEScanner::scanUrl(urlObj), "");
+	m_docInfo = DocumentInfo(title, location, MIMEScanner::scanUrl(urlObj), "");
 
 	// Any label ?
 	if (labelName.empty() == false)
@@ -114,91 +104,10 @@
 		set<string> labels;
 
 		labels.insert(labelName);
-		docInfo.setLabels(labels);
+		m_docInfo.setLabels(labels);
 	}
-
-	// Was the document queued for indexing ?
-	ustring status = m_state.queue_index(docInfo);
-	if (status.empty() == true)
-	{
-		m_timeoutConnection = Glib::signal_timeout().connect(sigc::mem_fun(*this,
-			&importDialog::on_activity_timeout), 1000);
-	}
-	else
-	{
-		importProgressbar->set_text(status);
-	}
 }
 
-void importDialog::on_thread_end(WorkerThread *pThread)
-{
-	ustring status;
-	bool success = true;
-
-	if (pThread == NULL)
-	{
-		return;
-	}
-
-	// Any thread still running ?
-	if (m_state.has_threads() == false)
-	{
-#ifdef DEBUG
-		cout << "importDialog::on_thread_end: imported all" << endl;
-#endif
-		m_state.m_importing = false;
-	}
-
-	// Did the thread fail ?
-	status = pThread->getStatus();
-	if (status.empty() == false)
-	{
-#ifdef DEBUG
-		cout << "importDialog::on_thread_end: " << status << endl;
-#endif
-		success = false;
-	}
-
-	// What type of thread was it ?
-	string type = pThread->getType();
-	if (type == "IndexingThread")
-	{
-		// Did it succeed ?
-		if (success == true)
-		{
-			// Yes, it did
-			++m_docsCount;
-		}
-	}
-
-	// Delete the thread
-	delete pThread;
-
-	// We might be able to run a queued action
-	m_state.pop_queue();
-
-	if (m_state.m_importing == false)
-	{
-		double fractionFilled = 1.0;
-
-		m_timeoutConnection.block();
-		m_timeoutConnection.disconnect();
-
-		if (success == false)
-		{
-			importProgressbar->set_text(status);
-			fractionFilled = 0.0;
-		}
-		importProgressbar->set_fraction(fractionFilled);
-		importButton->set_sensitive(true);
-	}
-}
-
-unsigned int importDialog::getDocumentsCount(void)
-{
-	return m_docsCount;
-}
-
 void importDialog::on_locationEntry_changed()
 {
 	ustring fileName = from_utf8(locationEntry->get_text());
@@ -220,28 +129,26 @@
 		enableImport = false;
 	}
 
-	// Keep the button disabled as lon as we are importing
-	if (m_state.m_importing == true)
+	unsigned int locationLength = fileName.length();
+	if (locationLength > 0)
 	{
-		enableImport = false;
+		// Enable the import button
+		importButton->set_sensitive(true);
 	}
-	importButton->set_sensitive(enableImport);
 
-	unsigned int locationLength = fileName.length();
-
 	// Reset the list
 	m_refLocationList->clear();
 
 	// If characters are being deleted or if the location is too short, don't
 	// attempt to offer suggestions
-	if ((m_state.m_locationLength > locationLength) ||
+	if ((m_locationLength > locationLength) ||
 		(fileName.empty() == true) ||
 		(m_refLocationCompletion->get_minimum_key_length() > fileName.length()))
 	{
-		m_state.m_locationLength = locationLength;
+		m_locationLength = locationLength;
 		return;
 	}
-	m_state.m_locationLength = locationLength;
+	m_locationLength = locationLength;
 
 	// Get 10 URLs like this one
 	QueryHistory history(PinotSettings::getInstance().getHistoryDatabaseName());
@@ -258,43 +165,3 @@
 	}
 }
 
-void importDialog::on_importButton_clicked()
-{
-	string title(from_utf8(titleEntry->get_text()));
-	string location(from_utf8(locationEntry->get_text()));
-	string labelName;
-
-	// Rudimentary lock
-	if (m_state.m_importing == true)
-	{
-		return;
-	}
-	m_state.m_importing = true;
-
-	importProgressbar->set_text("");
-	importProgressbar->set_fraction(0.0);
-	// Disable the import button
-	importButton->set_sensitive(false);
-
-	// Label
-	int chosenLabel = labelNameCombobox->get_active_row_number();
-	if (chosenLabel > 0)
-	{
-		labelName = from_utf8(labelNameCombobox->get_active_text());
-	}
-
-	import_url(title, location, labelName);
-}
-
-void importDialog::on_importDialog_response(int response_id)
-{
-	if (m_timeoutConnection.connected() == true)
-	{
-		m_timeoutConnection.block();
-		m_timeoutConnection.disconnect();
-	}
-
-	// Closing the window should stop everything
-	m_state.disconnect();
-	m_state.stop_threads();
-}

Modified: trunk/UI/GTK2/src/importDialog.hh
===================================================================
--- trunk/UI/GTK2/src/importDialog.hh	2007-11-29 12:53:58 UTC (rev 1128)
+++ trunk/UI/GTK2/src/importDialog.hh	2007-11-29 13:16:41 UTC (rev 1129)
@@ -26,8 +26,8 @@
 #include <gtkmm/liststore.h>
 #include <glibmm/ustring.h>
 
+#include "DocumentInfo.h"
 #include "ModelColumns.h"
-#include "WorkerThreads.h"
 #include "importDialog_glade.hh"
 
 class importDialog : public importDialog_glade
@@ -36,40 +36,19 @@
 	importDialog();
 	virtual ~importDialog();
 
-	void setHeight(int maxHeight);
+	const DocumentInfo &getDocumentInfo(void) const;
 
-	unsigned int getDocumentsCount(void);
-
 protected:
-	void populate_comboboxes(void);
-
-	bool on_activity_timeout(void);
-	void import_url(const std::string &title, const std::string &location,
-		const std::string &labelName);
-	void on_thread_end(WorkerThread *pThread);
-
-private:
 	ComboModelColumns m_locationColumns;
 	Glib::RefPtr<Gtk::ListStore> m_refLocationList;
 	Glib::RefPtr<Gtk::EntryCompletion> m_refLocationCompletion;
-	unsigned int m_docsCount;
-	// Activity timeout
-	sigc::connection m_timeoutConnection;
-	// Internal state
-	class InternalState : public ThreadsManager
-	{
-		public:
-			InternalState(unsigned int maxIndexThreads, importDialog *pWindow);
-			~InternalState();
+	unsigned int m_locationLength;
+	DocumentInfo m_docInfo;
 
-			unsigned int m_locationLength;
-			bool m_importing;
+	void populate_comboboxes(void);
 
-	} m_state;
-
-	virtual void on_locationEntry_changed();
 	virtual void on_importButton_clicked();
-	virtual void on_importDialog_response(int response_id);
+	virtual void on_locationEntry_changed();
 
 };
 

Modified: trunk/UI/GTK2/src/importDialog_glade.cc
===================================================================
--- trunk/UI/GTK2/src/importDialog_glade.cc	2007-11-29 12:53:58 UTC (rev 1128)
+++ trunk/UI/GTK2/src/importDialog_glade.cc	2007-11-29 13:16:41 UTC (rev 1129)
@@ -1,9 +1,9 @@
-// generated 2006/8/20 15:34:18 SGT by fabrice at amra.dyndns.org.(none)
+// generated 2007/11/29 21:04:06 SGT by fabrice at amra.dyndns.org.(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.8.20 and gtkmm 2.8.8
+// for gtk 2.12.1 and gtkmm 2.12.0
 //
 // Please modify the corresponding derived classes in ./src/importDialog.cc
 
@@ -39,9 +39,7 @@
 #include <gtkmm/button.h>
 #include <gtkmm/buttonbox.h>
 #include <gtkmm/label.h>
-#include <gtkmm/image.h>
 #include <gtkmm/box.h>
-#include <gtkmm/alignment.h>
 #ifndef ENABLE_NLS
 #  define textdomain(String) (String)
 #  define gettext(String) (String)
@@ -60,7 +58,8 @@
    Gtk::Dialog *importDialog = this;
    gmm_data = new GlademmData(get_accel_group());
    
-   Gtk::Button *closeButton = Gtk::manage(new class Gtk::Button(Gtk::StockID("gtk-close")));
+   Gtk::Button *cancelButton = Gtk::manage(new class Gtk::Button(Gtk::StockID("gtk-cancel")));
+   importButton = Gtk::manage(new class Gtk::Button(Gtk::StockID("gtk-ok")));
    titleEntry = Gtk::manage(new class Gtk::Entry());
    
    Gtk::Label *locationLabel = Gtk::manage(new class Gtk::Label(_("Location:")));
@@ -70,19 +69,12 @@
    Gtk::Label *labelNameLabel = Gtk::manage(new class Gtk::Label(_("Apply label:")));
    locationEntry = Gtk::manage(new class Gtk::Entry());
    docTable = Gtk::manage(new class Gtk::Table(2, 2, false));
-   importProgressbar = Gtk::manage(new class Gtk::ProgressBar());
-   
-   Gtk::Image *image575 = Gtk::manage(new class Gtk::Image(Gtk::StockID("gtk-open"), Gtk::IconSize(4)));
-   Gtk::Label *label55 = Gtk::manage(new class Gtk::Label(_("Import")));
-   Gtk::HBox *hbox52 = Gtk::manage(new class Gtk::HBox(false, 2));
-   Gtk::Alignment *alignment34 = Gtk::manage(new class Gtk::Alignment(0.5, 0.5, 0, 0));
-   importButton = Gtk::manage(new class Gtk::Button());
-   
-   Gtk::HBox *importHbox = Gtk::manage(new class Gtk::HBox(false, 4));
-   Gtk::VBox *importVbox = Gtk::manage(new class Gtk::VBox(false, 0));
-   closeButton->set_flags(Gtk::CAN_FOCUS);
-   closeButton->set_flags(Gtk::CAN_DEFAULT);
-   closeButton->set_relief(Gtk::RELIEF_NORMAL);
+   cancelButton->set_flags(Gtk::CAN_FOCUS);
+   cancelButton->set_flags(Gtk::CAN_DEFAULT);
+   cancelButton->set_relief(Gtk::RELIEF_NORMAL);
+   importButton->set_flags(Gtk::CAN_FOCUS);
+   importButton->set_flags(Gtk::CAN_DEFAULT);
+   importButton->set_relief(Gtk::RELIEF_NORMAL);
    importDialog->get_action_area()->property_layout_style().set_value(Gtk::BUTTONBOX_END);
    titleEntry->set_flags(Gtk::CAN_FOCUS);
    titleEntry->set_visibility(true);
@@ -96,18 +88,30 @@
    locationLabel->set_line_wrap(false);
    locationLabel->set_use_markup(false);
    locationLabel->set_selectable(false);
+   locationLabel->set_ellipsize(Pango::ELLIPSIZE_NONE);
+   locationLabel->set_width_chars(-1);
+   locationLabel->set_angle(0);
+   locationLabel->set_single_line_mode(false);
    titleLabel->set_alignment(0,0.5);
    titleLabel->set_padding(4,4);
    titleLabel->set_justify(Gtk::JUSTIFY_LEFT);
    titleLabel->set_line_wrap(false);
    titleLabel->set_use_markup(false);
    titleLabel->set_selectable(false);
+   titleLabel->set_ellipsize(Pango::ELLIPSIZE_NONE);
+   titleLabel->set_width_chars(-1);
+   titleLabel->set_angle(0);
+   titleLabel->set_single_line_mode(false);
    labelNameLabel->set_alignment(0,0.5);
    labelNameLabel->set_padding(4,4);
    labelNameLabel->set_justify(Gtk::JUSTIFY_LEFT);
    labelNameLabel->set_line_wrap(false);
    labelNameLabel->set_use_markup(false);
    labelNameLabel->set_selectable(false);
+   labelNameLabel->set_ellipsize(Pango::ELLIPSIZE_NONE);
+   labelNameLabel->set_width_chars(-1);
+   labelNameLabel->set_angle(0);
+   labelNameLabel->set_single_line_mode(false);
    locationEntry->set_flags(Gtk::CAN_FOCUS);
    locationEntry->set_visibility(true);
    locationEntry->set_editable(true);
@@ -122,36 +126,19 @@
    docTable->attach(*labelNameCombobox, 1, 2, 2, 3, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
    docTable->attach(*labelNameLabel, 0, 1, 2, 3, Gtk::FILL, Gtk::AttachOptions(), 0, 0);
    docTable->attach(*locationEntry, 1, 2, 1, 2, Gtk::EXPAND|Gtk::FILL, Gtk::FILL, 4, 4);
-   image575->set_alignment(0.5,0.5);
-   image575->set_padding(0,0);
-   label55->set_alignment(0.5,0.5);
-   label55->set_padding(0,0);
-   label55->set_justify(Gtk::JUSTIFY_LEFT);
-   label55->set_line_wrap(false);
-   label55->set_use_markup(false);
-   label55->set_selectable(false);
-   hbox52->pack_start(*image575, Gtk::PACK_SHRINK, 0);
-   hbox52->pack_start(*label55, Gtk::PACK_SHRINK, 0);
-   alignment34->add(*hbox52);
-   importButton->set_flags(Gtk::CAN_FOCUS);
-   importButton->set_flags(Gtk::CAN_DEFAULT);
-   importButton->set_relief(Gtk::RELIEF_NORMAL);
-   importButton->add(*alignment34);
-   importHbox->pack_start(*importProgressbar);
-   importHbox->pack_start(*importButton, Gtk::PACK_SHRINK, 0);
-   importVbox->pack_start(*docTable, Gtk::PACK_SHRINK, 0);
-   importVbox->pack_start(*importHbox, Gtk::PACK_SHRINK, 4);
    importDialog->get_vbox()->set_homogeneous(false);
    importDialog->get_vbox()->set_spacing(0);
-   importDialog->get_vbox()->pack_start(*importVbox);
+   importDialog->get_vbox()->pack_start(*docTable);
    importDialog->set_title(_("Import URL"));
    importDialog->set_modal(false);
    importDialog->property_window_position().set_value(Gtk::WIN_POS_NONE);
    importDialog->set_resizable(true);
    importDialog->property_destroy_with_parent().set_value(false);
    importDialog->set_has_separator(true);
-   importDialog->add_action_widget(*closeButton, -5);
-   closeButton->show();
+   importDialog->add_action_widget(*cancelButton, -6);
+   importDialog->add_action_widget(*importButton, -5);
+   cancelButton->show();
+   importButton->show();
    titleEntry->show();
    locationLabel->show();
    titleLabel->show();
@@ -159,17 +146,8 @@
    labelNameLabel->show();
    locationEntry->show();
    docTable->show();
-   importProgressbar->show();
-   image575->show();
-   label55->show();
-   hbox52->show();
-   alignment34->show();
-   importButton->show();
-   importHbox->show();
-   importVbox->show();
-   locationEntry->signal_changed().connect(sigc::mem_fun(*this, &importDialog_glade::on_locationEntry_changed), false);
    importButton->signal_clicked().connect(sigc::mem_fun(*this, &importDialog_glade::on_importButton_clicked), false);
-   importDialog->signal_response().connect(sigc::mem_fun(*this, &importDialog_glade::on_importDialog_response), false);
+   locationEntry->signal_changed().connect(sigc::mem_fun(*this, &importDialog_glade::on_locationEntry_changed), false);
 }
 
 importDialog_glade::~importDialog_glade()

Modified: trunk/UI/GTK2/src/importDialog_glade.hh
===================================================================
--- trunk/UI/GTK2/src/importDialog_glade.hh	2007-11-29 12:53:58 UTC (rev 1128)
+++ trunk/UI/GTK2/src/importDialog_glade.hh	2007-11-29 13:16:41 UTC (rev 1129)
@@ -1,9 +1,9 @@
-// generated 2006/8/20 15:32:26 SGT by fabrice at amra.dyndns.org.(none)
+// generated 2007/11/29 21:04:06 SGT by fabrice at amra.dyndns.org.(none)
 // using glademm V2.12.1
 //
 // DO NOT EDIT THIS FILE ! It was created using
 // glade-- /home/fabrice/Projects/MetaSE/pinot/UI/GTK2/metase-gtk2.glade
-// for gtk 2.8.20 and gtkmm 2.8.8
+// for gtk 2.12.1 and gtkmm 2.12.0
 //
 // Please modify the corresponding derived classes in ./src/importDialog.hh and./src/importDialog.cc
 
@@ -32,32 +32,29 @@
 #endif //GLADEMM_DATA
 
 #include <gtkmm/dialog.h>
+#include <gtkmm/button.h>
 #include <gtkmm/entry.h>
 #include <gtkmm/label.h>
 #include <gtkmm/comboboxtext.h>
 #include <gtkmm/table.h>
-#include <gtkmm/progressbar.h>
-#include <gtkmm/button.h>
 
 class importDialog_glade : public Gtk::Dialog
 {  
         
         GlademmData *gmm_data;
 protected:
+        class Gtk::Button * importButton;
         class Gtk::Entry * titleEntry;
         class Gtk::Label * titleLabel;
         class Gtk::ComboBoxText * labelNameCombobox;
         class Gtk::Entry * locationEntry;
         class Gtk::Table * docTable;
-        class Gtk::ProgressBar * importProgressbar;
-        class Gtk::Button * importButton;
         
         importDialog_glade();
         
         ~importDialog_glade();
 private:
-        virtual void on_locationEntry_changed() = 0;
         virtual void on_importButton_clicked() = 0;
-        virtual void on_importDialog_response(int response_id) = 0;
+        virtual void on_locationEntry_changed() = 0;
 };
 #endif

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2007-11-29 12:53:58 UTC (rev 1128)
+++ trunk/UI/GTK2/src/mainWindow.cc	2007-11-29 13:16:41 UTC (rev 1129)
@@ -32,6 +32,7 @@
 #include <gtkmm/messagedialog.h>
 #include <gtkmm/scrolledwindow.h>
 #include <gtkmm/clipboard.h>
+#include <gtkmm/recentmanager.h>
 #include <gtkmm/main.h>
 
 #include "CommandLine.h"
@@ -2105,25 +2106,19 @@
 //
 void mainWindow::on_import_activate()
 {
-	m_state.disconnect();
+	importDialog importBox;
 
-	importDialog importBox;
 	importBox.show();
 	importBox.run();
 
-	m_state.connect();
-
-	// Was anything imported ?
-	if (importBox.getDocumentsCount() > 0)
+	// Anything to import ?
+	const DocumentInfo &docInfo = importBox.getDocumentInfo();
+	if (docInfo.getLocation().empty() == false)
 	{
-		ustring indexName(_("My Web Pages"));
-
-		// Is the index still being shown ?
-		IndexPage *pIndexPage = dynamic_cast<IndexPage*>(get_page(indexName, NotebookPageBox::INDEX_PAGE));
-		if (pIndexPage != NULL)
+		ustring status = m_state.queue_index(docInfo);
+		if (status.empty() == false)
 		{
-			// Refresh
-			browse_index(indexName, pIndexPage->getQueryName(), 0);
+			set_status(status);
 		}
 	}
 }
@@ -3290,6 +3285,7 @@
 void mainWindow::view_documents(vector<DocumentInfo> &documentsList)
 {
 	ViewHistory viewHistory(m_settings.getHistoryDatabaseName());
+	RefPtr<RecentManager> recentManager = RecentManager::get_default();
 	multimap<string, string> locationsByType;
 
 	for (vector<DocumentInfo>::iterator docIter = documentsList.begin();
@@ -3444,6 +3440,21 @@
 		if (viewHistory.hasItem(url) == false)
 		{
 			viewHistory.insertItem(url);
+
+			// ...as well as in the recently used files list
+			RecentManager::Data itemData;
+			for (vector<DocumentInfo>::iterator docIter = documentsList.begin();
+				docIter != documentsList.end(); ++docIter)
+			{
+				if (docIter->getLocation() == url)
+				{
+					itemData.display_name = docIter->getTitle();
+					break;
+				}
+			}
+			itemData.mime_type = type;
+			itemData.is_private = false;
+			recentManager->add_item(url, itemData);
 		}
 	}
 



From fabricecolin at mail.berlios.de  Fri Nov 30 16:09:35 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Fri, 30 Nov 2007 16:09:35 +0100
Subject: [Pinot-svn] r1130 - trunk/UI/GTK2/src
Message-ID: <200711301509.lAUF9ZPX027143@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-30 16:09:34 +0100 (Fri, 30 Nov 2007)
New Revision: 1130

Modified:
   trunk/UI/GTK2/src/OnDiskHandler.cpp
   trunk/UI/GTK2/src/WorkerThreads.cpp
Log:
If the filter takes DOCUMENT_URI input, that means all non local schemes, not
just http.
Removed unused header.


Modified: trunk/UI/GTK2/src/OnDiskHandler.cpp
===================================================================
--- trunk/UI/GTK2/src/OnDiskHandler.cpp	2007-11-29 13:16:41 UTC (rev 1129)
+++ trunk/UI/GTK2/src/OnDiskHandler.cpp	2007-11-30 15:09:34 UTC (rev 1130)
@@ -29,7 +29,6 @@
 #include "StringManip.h"
 #include "Url.h"
 #include "FilterWrapper.h"
-#include "XapianDatabase.h"
 #include "PinotSettings.h"
 #include "OnDiskHandler.h"
 

Modified: trunk/UI/GTK2/src/WorkerThreads.cpp
===================================================================
--- trunk/UI/GTK2/src/WorkerThreads.cpp	2007-11-29 13:16:41 UTC (rev 1129)
+++ trunk/UI/GTK2/src/WorkerThreads.cpp	2007-11-30 15:09:34 UTC (rev 1130)
@@ -40,7 +40,6 @@
 #include "FilterUtils.h"
 #include "FilterWrapper.h"
 #include "DBusXapianIndex.h"
-#include "XapianDatabase.h"
 #include "ActionQueue.h"
 #include "CrawlHistory.h"
 #include "QueryHistory.h"
@@ -1471,7 +1470,7 @@
 			if (((pFilter->is_data_input_ok(Dijon::Filter::DOCUMENT_FILE_NAME) == true) &&
 				(thisUrl.getProtocol() == "file")) ||
 				((pFilter->is_data_input_ok(Dijon::Filter::DOCUMENT_URI) == true) &&
-				(thisUrl.getProtocol() == "http")))
+				(thisUrl.isLocal() == false)))
 			{
 				doDownload = false;
 			}



From fabricecolin at mail.berlios.de  Fri Nov 30 16:19:29 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Fri, 30 Nov 2007 16:19:29 +0100
Subject: [Pinot-svn] r1131 - trunk/UI/GTK2/src
Message-ID: <200711301519.lAUFJTVN027627@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-30 16:19:28 +0100 (Fri, 30 Nov 2007)
New Revision: 1131

Modified:
   trunk/UI/GTK2/src/PinotSettings.cpp
   trunk/UI/GTK2/src/PinotSettings.h
   trunk/UI/GTK2/src/mainWindow.cc
   trunk/UI/GTK2/src/pinot.cc
Log:
Tell the user that the index needs updating with a MessageDialog and keep
pestering him until he clicks the "Don't warn me again" checkbox.
Be nice and give a title of all MessageDialog's.


Modified: trunk/UI/GTK2/src/PinotSettings.cpp
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.cpp	2007-11-30 15:09:34 UTC (rev 1130)
+++ trunk/UI/GTK2/src/PinotSettings.cpp	2007-11-30 15:19:28 UTC (rev 1131)
@@ -90,6 +90,7 @@
 bool PinotSettings::m_clientMode = false;
 
 PinotSettings::PinotSettings() :
+	m_warnAboutVersion(false),
 	m_minimumDiskSpace(50),
 	m_xPos(0),
 	m_yPos(0),
@@ -263,6 +264,7 @@
 void PinotSettings::clear(void)
 {
 	m_version.clear();
+	m_warnAboutVersion = false;
 	m_googleAPIKey.clear();
 	m_xPos = 0;
 	m_yPos = 0;
@@ -454,6 +456,17 @@
 				{
 					m_version = nodeContent;
 				}
+				else if (nodeName == "warnaboutversion")
+				{
+					if (nodeContent == "YES")
+					{
+						m_warnAboutVersion = true;
+					}
+					else
+					{
+						m_warnAboutVersion = false;
+					}
+				}
 				else if (nodeName == "googleapikey")
 				{
 					m_googleAPIKey = nodeContent;
@@ -1273,6 +1286,7 @@
 		}
 		// ...with text children nodes
 		addChildElement(pRootElem, "version", VERSION);
+		addChildElement(pRootElem, "warnaboutversion", (m_warnAboutVersion ? "YES" : "NO"));
 		addChildElement(pRootElem, "googleapikey", m_googleAPIKey);
 		// User interface position and size
 		pElem = pRootElem->add_child("ui");

Modified: trunk/UI/GTK2/src/PinotSettings.h
===================================================================
--- trunk/UI/GTK2/src/PinotSettings.h	2007-11-30 15:09:34 UTC (rev 1130)
+++ trunk/UI/GTK2/src/PinotSettings.h	2007-11-30 15:19:28 UTC (rev 1131)
@@ -185,6 +185,7 @@
 		};
 
 		Glib::ustring m_version;
+		bool m_warnAboutVersion;
 		Glib::ustring m_googleAPIKey;
 		Glib::ustring m_docsIndexLocation;
 		Glib::ustring m_daemonIndexLocation;

Modified: trunk/UI/GTK2/src/mainWindow.cc
===================================================================
--- trunk/UI/GTK2/src/mainWindow.cc	2007-11-30 15:09:34 UTC (rev 1130)
+++ trunk/UI/GTK2/src/mainWindow.cc	2007-11-30 15:19:28 UTC (rev 1131)
@@ -28,6 +28,7 @@
 #include <glibmm/convert.h>
 #include <glibmm/thread.h>
 #include <gtkmm/aboutdialog.h>
+#include <gtkmm/checkbutton.h>
 #include <gtkmm/stock.h>
 #include <gtkmm/messagedialog.h>
 #include <gtkmm/scrolledwindow.h>
@@ -40,7 +41,6 @@
 #include "TimeConverter.h"
 #include "MIMEScanner.h"
 #include "Url.h"
-#include "XapianDatabase.h"
 #include "MonitorFactory.h"
 #include "QueryHistory.h"
 #include "ViewHistory.h"
@@ -240,6 +240,36 @@
 	{
 		on_configure_activate();
 	}
+	else if	(m_settings.m_warnAboutVersion == true)
+	{
+		ustring boxMsg(_("Updating all documents in My Web Pages is recommended"));
+		MessageDialog msgDialog(boxMsg, false);
+		CheckButton *warnCheckbutton = NULL;
+
+		// The index version is not as expected
+		VBox *pVbox = msgDialog.get_vbox();
+		if (pVbox != NULL)
+		{
+			warnCheckbutton = manage(new CheckButton(_("Don't warn me again")));
+			warnCheckbutton->set_flags(Gtk::CAN_FOCUS);
+			warnCheckbutton->set_relief(Gtk::RELIEF_NORMAL);
+			warnCheckbutton->set_mode(true);
+			warnCheckbutton->set_active(false);
+			pVbox->pack_end(*warnCheckbutton, Gtk::PACK_EXPAND_WIDGET);
+			warnCheckbutton->show();
+		}
+		msgDialog.set_title(_("Update"));
+		msgDialog.set_transient_for(*this);
+		msgDialog.show();
+		msgDialog.run();
+
+		// Silence the warning ?
+		if ((warnCheckbutton != NULL) &&
+			(warnCheckbutton->get_active() == true))
+		{
+			m_settings.m_warnAboutVersion = false;
+		}
+	}
 }
 
 //
@@ -2320,7 +2350,7 @@
 void mainWindow::on_unindex_activate()
 {
 	vector<DocumentInfo> documentsList;
-	ustring boxTitle = _("Remove this document from the index ?");
+	ustring boxMsg(_("Remove this document from the index ?"));
 
 	ResultsTree *pResultsTree = NULL;
 	IndexPage *pIndexPage = dynamic_cast<IndexPage*>(get_current_page());
@@ -2339,11 +2369,12 @@
 
 	if (documentsList.size() > 1)
 	{
-		boxTitle = _("Remove these documents from the index ?");
+		boxMsg = _("Remove these documents from the index ?");
 	}
 
 	// Ask for confirmation
-	MessageDialog msgDialog(boxTitle, false, MESSAGE_QUESTION, BUTTONS_YES_NO);
+	MessageDialog msgDialog(boxMsg, false, MESSAGE_QUESTION, BUTTONS_YES_NO);
+	msgDialog.set_title(_("Unindex"));
 	msgDialog.set_transient_for(*this);
 	msgDialog.show();
 	int result = msgDialog.run();
@@ -2818,8 +2849,9 @@
 	// Any thread still running ?
 	if (m_state.get_threads_count() > 0)
 	{
-		ustring boxTitle = _("At least one task hasn't completed yet. Quit now ?");
-		MessageDialog msgDialog(boxTitle, false, MESSAGE_QUESTION, BUTTONS_YES_NO);
+		ustring boxMsg(_("At least one task hasn't completed yet. Quit now ?"));
+		MessageDialog msgDialog(boxMsg, false, MESSAGE_QUESTION, BUTTONS_YES_NO);
+		msgDialog.set_title(_("Quit"));
 		msgDialog.set_transient_for(*this);
 		msgDialog.show();
 		int result = msgDialog.run();

Modified: trunk/UI/GTK2/src/pinot.cc
===================================================================
--- trunk/UI/GTK2/src/pinot.cc	2007-11-30 15:09:34 UTC (rev 1130)
+++ trunk/UI/GTK2/src/pinot.cc	2007-11-30 15:19:28 UTC (rev 1131)
@@ -112,7 +112,7 @@
 	Glib::ustring errorMsg;
 	struct sigaction newAction;
 	int longOptionIndex = 0;
-	bool warnAboutIndex = false;
+	bool warnAboutVersion = false;
 
 	// Look at the options
 	int optionChar = getopt_long(argc, argv, "hv", g_longOptions, &longOptionIndex);
@@ -276,7 +276,7 @@
 	}
 	else
 	{
-		warnAboutIndex = pFirstDb->wasObsoleteFormat();
+		warnAboutVersion = pFirstDb->wasObsoleteFormat();
 	}
 	// ...and the daemon index in read-only mode
 	// If it can't be open, it just means the daemon has not yet created it
@@ -319,15 +319,15 @@
 	if ((indexVersion < PINOT_INDEX_MIN_VERSION) &&
 		(index.getDocumentsCount() > 0))
 	{
-		warnAboutIndex = true;
+		warnAboutVersion = true;
 	}
+#ifdef DEBUG
+	cout << "My Web Pages was set to version " << indexVersion << endl;
+#endif
 	index.setVersion(VERSION);
-
-	if ((warnAboutIndex == true) &&
-		(errorMsg.empty() == true))
+	if (warnAboutVersion == true)
 	{
-		// Warn the user
-		errorMsg = _("Updating all documents in My Web Pages is recommended");
+		settings.m_warnAboutVersion = warnAboutVersion;
 	}
 
 	try
@@ -339,7 +339,6 @@
 		mainWindow mainBox;
 		if (errorMsg.empty() == false)
 		{
-			// FIXME: use a popup ! 
 			mainBox.set_status(errorMsg);
 		}
 		m.run(mainBox);



From fabricecolin at mail.berlios.de  Fri Nov 30 16:20:19 2007
From: fabricecolin at mail.berlios.de (fabricecolin at BerliOS)
Date: Fri, 30 Nov 2007 16:20:19 +0100
Subject: [Pinot-svn] r1132 - trunk/Utils
Message-ID: <200711301520.lAUFKJZ2027728@sheep.berlios.de>

Author: fabricecolin
Date: 2007-11-30 16:20:18 +0100 (Fri, 30 Nov 2007)
New Revision: 1132

Modified:
   trunk/Utils/Languages.cpp
   trunk/Utils/Languages.h
Log:
Const'ified some variables.


Modified: trunk/Utils/Languages.cpp
===================================================================
--- trunk/Utils/Languages.cpp	2007-11-30 15:19:28 UTC (rev 1131)
+++ trunk/Utils/Languages.cpp	2007-11-30 15:20:18 UTC (rev 1132)
@@ -26,13 +26,13 @@
 using std::pair;
 using std::min;
 
-unsigned int Languages::m_count = 16;
+const unsigned int Languages::m_count = 16;
 
-char *Languages::m_names[] = { "Unknown", "Danish", "Dutch", "English",
+const char *Languages::m_names[] = { "Unknown", "Danish", "Dutch", "English",
 	"Finnish", "French", "German", "Hungarian", "Italian", "Norwegian",
 	"Portuguese", "Romanian", "Russian", "Spanish", "Swedish", "Turkish" };
 
-char *Languages::m_codes[] = { "", "da", "nl", "en", "fi", "fr", "de", "hu", \
+const char *Languages::m_codes[] = { "", "da", "nl", "en", "fi", "fr", "de", "hu", \
 	"it", "nn", "pt", "ro", "ru", "es", "sv", "tr" };
 
 map<unsigned int, string> Languages::m_intlNames;

Modified: trunk/Utils/Languages.h
===================================================================
--- trunk/Utils/Languages.h	2007-11-30 15:19:28 UTC (rev 1131)
+++ trunk/Utils/Languages.h	2007-11-30 15:20:18 UTC (rev 1132)
@@ -43,11 +43,11 @@
 		/// Returns a language code.
 		static std::string toCode(const std::string &language);
 
-		static unsigned int m_count;
-		static char *m_names[];
+		static const unsigned int m_count;
+		static const char *m_names[];
 
 	protected:
-		static char *m_codes[];
+		static const char *m_codes[];
 		static std::map<unsigned int, std::string> m_intlNames;
 
 		Languages();



