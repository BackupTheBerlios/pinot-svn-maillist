<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Pinot-svn] r1252 - trunk
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pinot-svn/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:pinot-svn%40lists.berlios.de?Subject=Re%3A%20%5BPinot-svn%5D%20r1252%20-%20trunk&In-Reply-To=%3C200805110927.m4B9RdZ9019085%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001245.html">
   <LINK REL="Next"  HREF="001247.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Pinot-svn] r1252 - trunk</H1>
    <B>fabricecolin at BerliOS</B> 
    <A HREF="mailto:pinot-svn%40lists.berlios.de?Subject=Re%3A%20%5BPinot-svn%5D%20r1252%20-%20trunk&In-Reply-To=%3C200805110927.m4B9RdZ9019085%40sheep.berlios.de%3E"
       TITLE="[Pinot-svn] r1252 - trunk">fabricecolin at mail.berlios.de
       </A><BR>
    <I>Sun May 11 11:27:39 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001245.html">[Pinot-svn] r1251 - trunk
</A></li>
        <LI>Next message: <A HREF="001247.html">[Pinot-svn] r1253 - tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1246">[ date ]</a>
              <a href="thread.html#1246">[ thread ]</a>
              <a href="subject.html#1246">[ subject ]</a>
              <a href="author.html#1246">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: fabricecolin
Date: 2008-05-11 11:27:37 +0200 (Sun, 11 May 2008)
New Revision: 1252

Modified:
   trunk/ChangeLog
   trunk/ChangeLog-dijon
Log:
Current ChangeLogs.


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2008-05-11 02:17:10 UTC (rev 1251)
+++ trunk/ChangeLog	2008-05-11 09:27:37 UTC (rev 1252)
@@ -1,4 +1,281 @@
 ------------------------------------------------------------------------
+r1251 | fabricecolin | 2008-05-11 10:17:10 +0800 (Sun, 11 May 2008) | 2 lines
+Changed paths:
+   M /trunk/NEWS
+
+List latest changes.
+
+------------------------------------------------------------------------
+r1250 | fabricecolin | 2008-05-11 10:16:14 +0800 (Sun, 11 May 2008) | 2 lines
+Changed paths:
+   M /trunk/po/de.po
+   M /trunk/po/es.po
+   M /trunk/po/fr.po
+   M /trunk/po/it.po
+   M /trunk/po/ja.po
+   M /trunk/po/nl.po
+   M /trunk/po/pt.po
+   M /trunk/po/pt_BR.po
+   M /trunk/po/ru.po
+   M /trunk/po/sv.po
+   M /trunk/po/zh_CN.po
+   M /trunk/po/zh_TW.po
+
+Synced with latest changes.
+
+------------------------------------------------------------------------
+r1249 | fabricecolin | 2008-05-09 21:35:29 +0800 (Fri, 09 May 2008) | 2 lines
+Changed paths:
+   M /trunk/Utils/xdgmime/ChangeLog
+   M /trunk/Utils/xdgmime/xdgmime.c
+   M /trunk/Utils/xdgmime/xdgmime.h
+   M /trunk/Utils/xdgmime/xdgmimealias.h
+   M /trunk/Utils/xdgmime/xdgmimecache.c
+   M /trunk/Utils/xdgmime/xdgmimecache.h
+   M /trunk/Utils/xdgmime/xdgmimemagic.c
+   M /trunk/Utils/xdgmime/xdgmimemagic.h
+   M /trunk/Utils/xdgmime/xdgmimeparent.h
+
+Synced with current gtk+'s xdgmime.
+
+------------------------------------------------------------------------
+r1248 | fabricecolin | 2008-05-09 21:33:05 +0800 (Fri, 09 May 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/AbstractGenerator.cpp
+
+Fix for previous checkin.
+
+------------------------------------------------------------------------
+r1247 | fabricecolin | 2008-05-09 21:32:20 +0800 (Fri, 09 May 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/FilterWrapper.cpp
+
+Only set a default title if the document is not to passed to another filter.
+
+------------------------------------------------------------------------
+r1246 | fabricecolin | 2008-05-09 00:36:04 +0800 (Fri, 09 May 2008) | 5 lines
+Changed paths:
+   M /trunk/IndexSearch/WebEngine.cpp
+   M /trunk/IndexSearch/Xapian/AbstractGenerator.cpp
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+
+A fix for QueryModifier when the query is one CJKV character only.
+AbstractGenerator needs to skip long n-grams early on when populating the
+chosen window.
+Cosmetic changes here and there.
+
+------------------------------------------------------------------------
+r1245 | fabricecolin | 2008-05-08 20:20:55 +0800 (Thu, 08 May 2008) | 6 lines
+Changed paths:
+   M /trunk/IndexSearch/QueryProperties.cpp
+   M /trunk/IndexSearch/WebEngine.cpp
+   M /trunk/IndexSearch/Xapian/AbstractGenerator.cpp
+
+AbstractGenerator and WebEngine's TermHighlighter skip multi-character CJKV
+terms to avoid repetition in extracts.
+QueryProperties' FilterRemover does what the name implies and simply removes
+filters and ranges from a query instead of trying to rebuild it one token at a
+time.
+
+------------------------------------------------------------------------
+r1244 | fabricecolin | 2008-05-06 22:57:51 +0800 (Tue, 06 May 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+
+If the global configuration file couldn't be open, don't assume a first run.
+
+------------------------------------------------------------------------
+r1243 | fabricecolin | 2008-05-06 22:56:48 +0800 (Tue, 06 May 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/FilterWrapper.cpp
+   M /trunk/Tokenize/FilterUtils.cpp
+   M /trunk/Tokenize/TextConverter.cpp
+   M /trunk/Tokenize/TextConverter.h
+
+Overloaded TextConverter::toUTF8(). FilterWrapper uses the new method
+Filter::set_utf8_converter(). Some minor changes.
+
+------------------------------------------------------------------------
+r1242 | fabricecolin | 2008-05-05 20:36:21 +0800 (Mon, 05 May 2008) | 2 lines
+Changed paths:
+   M /trunk/IndexSearch/pinot-index.1
+   M /trunk/IndexSearch/pinot-label.1
+   M /trunk/IndexSearch/pinot-search.1
+   M /trunk/NEWS
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.1
+   M /trunk/UI/GTK2/src/pinot.1
+   M /trunk/configure.in
+   M /trunk/po/de.po
+   M /trunk/po/es.po
+   M /trunk/po/fr.po
+   M /trunk/po/it.po
+   M /trunk/po/ja.po
+   M /trunk/po/nl.po
+   M /trunk/po/pt.po
+   M /trunk/po/pt_BR.po
+   M /trunk/po/ru.po
+   M /trunk/po/sv.po
+   M /trunk/po/zh_CN.po
+   M /trunk/po/zh_TW.po
+
+Bumped version number to 0.85.
+
+------------------------------------------------------------------------
+r1241 | fabricecolin | 2008-05-05 20:07:50 +0800 (Mon, 05 May 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/PinotSettings.cpp
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.xml
+
+Removed JPEG from default blacklist.
+Cosmetic modifications to pinot-dbus-daemon.xml.
+
+------------------------------------------------------------------------
+r1240 | fabricecolin | 2008-05-04 22:09:28 +0800 (Sun, 04 May 2008) | 4 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.h
+
+In MonitorThread::stop(), write to the control pipe after the stop flag is set
+by the call to the parent's method.
+Removed unused method.
+
+------------------------------------------------------------------------
+r1239 | fabricecolin | 2008-05-03 14:25:58 +0800 (Sat, 03 May 2008) | 3 lines
+Changed paths:
+   M /trunk/README
+
+Mention the limitation of mixed queries doesn't apply to 0.85 and newer and give
+an example.
+
+------------------------------------------------------------------------
+r1238 | fabricecolin | 2008-05-03 14:17:10 +0800 (Sat, 03 May 2008) | 3 lines
+Changed paths:
+   M /trunk/AUTHORS
+   M /trunk/README
+   M /trunk/pinot.spec.in
+
+New dependency on libexif.
+Added Mizuki-san to the AUTHORS file.
+
+------------------------------------------------------------------------
+r1237 | fabricecolin | 2008-05-03 14:13:44 +0800 (Sat, 03 May 2008) | 4 lines
+Changed paths:
+   M /trunk/IndexSearch/QueryProperties.cpp
+   M /trunk/IndexSearch/WebEngine.cpp
+   M /trunk/IndexSearch/Xapian/XapianEngine.cpp
+
+Rely on the CJKV TokensHandler interface to remove filters from queries and get
+sets of terms (QueryProperties), highlight terms (WebEngine) and tweak mixed
+CJKV queries (XapianEngine).
+
+------------------------------------------------------------------------
+r1236 | fabricecolin | 2008-05-03 14:10:08 +0800 (Sat, 03 May 2008) | 2 lines
+Changed paths:
+   M /trunk/Makefile.am
+
+David Paleino suggests removing the dependency on the m4 directory.
+
+------------------------------------------------------------------------
+r1235 | fabricecolin | 2008-05-03 14:06:48 +0800 (Sat, 03 May 2008) | 4 lines
+Changed paths:
+   M /trunk/IndexSearch/Makefile.am
+   M /trunk/IndexSearch/Xapian/Makefile.am
+   M /trunk/Tokenize/Makefile.am
+   M /trunk/configure.in
+   A /trunk/po/ja.po
+
+CJKVTokenizer is useful to code outside of the Xapian back-end and should be
+in libTokenize. The new Exif filter is also compiled.
+Adding Mizuki-san's Japanese translation.
+
+------------------------------------------------------------------------
+r1234 | fabricecolin | 2008-04-29 20:57:49 +0800 (Tue, 29 Apr 2008) | 7 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.cpp
+   M /trunk/UI/GTK2/src/WorkerThreads.h
+
+We don't need to keep the Glib::Thread pointer around since all threads detach.
+Therefore entries can be inserted in the threads list before the new thread
+is started, and we get rid of a possible race condition between list insertion
+and thread exit.
+In ThreadsManager::get_thread(), the list should be locked in write mode since
+entries are removed.
+
+------------------------------------------------------------------------
+r1233 | fabricecolin | 2008-04-23 22:42:02 +0800 (Wed, 23 Apr 2008) | 3 lines
+Changed paths:
+   M /trunk/IndexSearch/Xapian/XapianIndex.cpp
+   M /trunk/IndexSearch/Xapian/XapianIndex.h
+
+If a language is already specified, don't use it blindly but see if it has a
+stemmer. If it doesn't, then scan the document.
+
+------------------------------------------------------------------------
+r1232 | fabricecolin | 2008-04-23 22:40:21 +0800 (Wed, 23 Apr 2008) | 5 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/DaemonState.cpp
+   M /trunk/UI/GTK2/src/OnDiskHandler.cpp
+
+In DaemonState, if new directories are queued for crawling, if there's no
+DirectoryScanner thread running, they won't be picked up. Call start_crawling()
+after an addition to the queue, this will start a new crawler if necessary.
+OnDiskHandler wasn't able to get the source label of files.
+
+------------------------------------------------------------------------
+r1231 | fabricecolin | 2008-04-23 22:04:22 +0800 (Wed, 23 Apr 2008) | 3 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+
+If the PID file is still there, open /proc/daemon_pid/cmdline and see whether
+the given process is pinot-dbus-daemon.
+
+------------------------------------------------------------------------
+r1230 | fabricecolin | 2008-04-12 16:36:39 +0800 (Sat, 12 Apr 2008) | 3 lines
+Changed paths:
+   M /trunk/SQL/ActionQueue.cpp
+   M /trunk/SQL/CrawlHistory.cpp
+   M /trunk/SQL/Makefile.am
+   M /trunk/SQL/QueryHistory.cpp
+   A /trunk/SQL/SQLDB.cpp
+   A /trunk/SQL/SQLDB.h
+   M /trunk/SQL/SQLiteBase.cpp
+   M /trunk/SQL/SQLiteBase.h
+   M /trunk/SQL/ViewHistory.cpp
+
+Moved generic code to SQLDB. This should allow implementing support for
+other databases, if there's ever a need to.
+
+------------------------------------------------------------------------
+r1229 | fabricecolin | 2008-04-11 23:40:10 +0800 (Fri, 11 Apr 2008) | 2 lines
+Changed paths:
+   M /trunk/SQL/CrawlHistory.cpp
+   M /trunk/SQL/CrawlHistory.h
+   M /trunk/SQL/QueryHistory.cpp
+   M /trunk/SQL/QueryHistory.h
+   M /trunk/SQL/SQLiteBase.cpp
+   M /trunk/SQL/SQLiteBase.h
+   M /trunk/SQL/ViewHistory.cpp
+   M /trunk/SQL/ViewHistory.h
+
+Mostly namespace related cleanups.
+
+------------------------------------------------------------------------
+r1228 | fabricecolin | 2008-04-03 21:07:15 +0800 (Thu, 03 Apr 2008) | 2 lines
+Changed paths:
+   M /trunk/UI/GTK2/src/pinot-dbus-daemon.cc
+
+Open the PID file, exit if that process is still running.
+
+------------------------------------------------------------------------
+r1226 | fabricecolin | 2008-03-27 16:32:05 +0800 (Thu, 27 Mar 2008) | 2 lines
+Changed paths:
+   M /trunk/ChangeLog
+   M /trunk/ChangeLog-dijon
+
+Current ChangeLogs.
+
+------------------------------------------------------------------------
 r1225 | fabricecolin | 2008-03-27 16:28:56 +0800 (Thu, 27 Mar 2008) | 2 lines
 Changed paths:
    M /trunk/NEWS

Modified: trunk/ChangeLog-dijon
===================================================================
--- trunk/ChangeLog-dijon	2008-05-11 02:17:10 UTC (rev 1251)
+++ trunk/ChangeLog-dijon	2008-05-11 09:27:37 UTC (rev 1252)
@@ -1,4 +1,73 @@
 ------------------------------------------------------------------------
+r99 | fabricecolin | 2008-05-11 17:16:45 +0800 (Sun, 11 May 2008) | 3 lines
+Changed paths:
+   M /trunk/filters/GMimeMboxFilter.cc
+   M /trunk/filters/GMimeMboxFilter.h
+
+Don't use charset filters but remember what the part's charset is and let the
+calling application handle conversion.
+
+------------------------------------------------------------------------
+r98 | fabricecolin | 2008-05-06 22:53:36 +0800 (Tue, 06 May 2008) | 5 lines
+Changed paths:
+   M /trunk/filters/Filter.cc
+   M /trunk/filters/Filter.h
+   M /trunk/filters/HtmlFilter.cc
+   M /trunk/filters/HtmlFilter.h
+
+Filters may need to convert text to UTF-8 before/while processing documents.
+For instance, libxml2 used by the HTML filter doesn't handle gb2312 (at least
+when built without iconv support ?) and yet produces UTF-8 output.
+Fixed confusion about what charset should be set to in the metadata map.
+
+------------------------------------------------------------------------
+r97 | fabricecolin | 2008-05-03 14:00:01 +0800 (Sat, 03 May 2008) | 2 lines
+Changed paths:
+   M /trunk/cjkv/CJKVTokenizer.cc
+
+When a switch from non-CJKV to CJKV is detected, don't consume the first byte.
+
+------------------------------------------------------------------------
+r96 | fabricecolin | 2008-04-29 20:27:41 +0800 (Tue, 29 Apr 2008) | 2 lines
+Changed paths:
+   M /trunk/filters/ExifImageFilter.cc
+
+Grab all tags.
+
+------------------------------------------------------------------------
+r95 | fabricecolin | 2008-04-26 14:51:35 +0800 (Sat, 26 Apr 2008) | 2 lines
+Changed paths:
+   M /trunk/cjkv/CJKVTokenizer.cc
+   M /trunk/cjkv/CJKVTokenizer.h
+
+Allow to break ASCII tokens only on space.
+
+------------------------------------------------------------------------
+r94 | fabricecolin | 2008-04-26 13:05:55 +0800 (Sat, 26 Apr 2008) | 2 lines
+Changed paths:
+   A /trunk/filters/ExifImageFilter.cc
+   A /trunk/filters/ExifImageFilter.h
+
+Experimental EXIF filter.
+
+------------------------------------------------------------------------
+r93 | fabricecolin | 2008-04-20 18:24:11 +0800 (Sun, 20 Apr 2008) | 3 lines
+Changed paths:
+   M /trunk/filters/GMimeMboxFilter.cc
+
+If a part has a charset specified, and it's not UTF-8, install a filter to
+convert to UTF-8.
+
+------------------------------------------------------------------------
+r92 | fabricecolin | 2008-04-11 23:47:33 +0800 (Fri, 11 Apr 2008) | 3 lines
+Changed paths:
+   M /trunk/filters/TagLibMusicFilter.cc
+   M /trunk/filters/TagLibMusicFilter.h
+
+TagLibMusicFilter only supports the input type DOCUMENT_FILE_NAME, contrary to
+what it advertised.
+
+------------------------------------------------------------------------
 r90 | fabricecolin | 2008-03-24 13:11:29 +0800 (Mon, 24 Mar 2008) | 2 lines
 Changed paths:
    M /trunk/filters/ExternalFilter.cc


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001245.html">[Pinot-svn] r1251 - trunk
</A></li>
	<LI>Next message: <A HREF="001247.html">[Pinot-svn] r1253 - tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1246">[ date ]</a>
              <a href="thread.html#1246">[ thread ]</a>
              <a href="subject.html#1246">[ subject ]</a>
              <a href="author.html#1246">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pinot-svn">More information about the Pinot-svn
mailing list</a><br>
</body></html>
